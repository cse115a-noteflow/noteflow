var $N=Object.defineProperty;var zN=(n,e,t)=>e in n?$N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var HN=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Ge=(n,e,t)=>zN(n,typeof e!="symbol"?e+"":e,t);var pW=HN((Po,Lo)=>{function WN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var f1={exports:{}},Zp={},d1={exports:{}},_n={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function GN(){if(iT)return _n;iT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function E(G){return G===null||typeof G!="object"?null:(G=w&&G[w]||G["@@iterator"],typeof G=="function"?G:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,O={};function P(G,ie,he){this.props=G,this.context=ie,this.refs=O,this.updater=he||x}P.prototype.isReactComponent={},P.prototype.setState=function(G,ie){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ie,"setState")},P.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function U(){}U.prototype=P.prototype;function B(G,ie,he){this.props=G,this.context=ie,this.refs=O,this.updater=he||x}var C=B.prototype=new U;C.constructor=B,R(C,P.prototype),C.isPureReactComponent=!0;var F=Array.isArray,z=Object.prototype.hasOwnProperty,J={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function q(G,ie,he){var Ne,Ce={},Pe=null,je=null;if(ie!=null)for(Ne in ie.ref!==void 0&&(je=ie.ref),ie.key!==void 0&&(Pe=""+ie.key),ie)z.call(ie,Ne)&&!D.hasOwnProperty(Ne)&&(Ce[Ne]=ie[Ne]);var Ie=arguments.length-2;if(Ie===1)Ce.children=he;else if(1<Ie){for(var We=Array(Ie),Ye=0;Ye<Ie;Ye++)We[Ye]=arguments[Ye+2];Ce.children=We}if(G&&G.defaultProps)for(Ne in Ie=G.defaultProps,Ie)Ce[Ne]===void 0&&(Ce[Ne]=Ie[Ne]);return{$$typeof:n,type:G,key:Pe,ref:je,props:Ce,_owner:J.current}}function W(G,ie){return{$$typeof:n,type:G.type,key:ie,ref:G.ref,props:G.props,_owner:G._owner}}function I(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function k(G){var ie={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(he){return ie[he]})}var j=/\/+/g;function N(G,ie){return typeof G=="object"&&G!==null&&G.key!=null?k(""+G.key):ie.toString(36)}function oe(G,ie,he,Ne,Ce){var Pe=typeof G;(Pe==="undefined"||Pe==="boolean")&&(G=null);var je=!1;if(G===null)je=!0;else switch(Pe){case"string":case"number":je=!0;break;case"object":switch(G.$$typeof){case n:case e:je=!0}}if(je)return je=G,Ce=Ce(je),G=Ne===""?"."+N(je,0):Ne,F(Ce)?(he="",G!=null&&(he=G.replace(j,"$&/")+"/"),oe(Ce,ie,he,"",function(Ye){return Ye})):Ce!=null&&(I(Ce)&&(Ce=W(Ce,he+(!Ce.key||je&&je.key===Ce.key?"":(""+Ce.key).replace(j,"$&/")+"/")+G)),ie.push(Ce)),1;if(je=0,Ne=Ne===""?".":Ne+":",F(G))for(var Ie=0;Ie<G.length;Ie++){Pe=G[Ie];var We=Ne+N(Pe,Ie);je+=oe(Pe,ie,he,We,Ce)}else if(We=E(G),typeof We=="function")for(G=We.call(G),Ie=0;!(Pe=G.next()).done;)Pe=Pe.value,We=Ne+N(Pe,Ie++),je+=oe(Pe,ie,he,We,Ce);else if(Pe==="object")throw ie=String(G),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return je}function le(G,ie,he){if(G==null)return G;var Ne=[],Ce=0;return oe(G,Ne,"","",function(Pe){return ie.call(he,Pe,Ce++)}),Ne}function re(G){if(G._status===-1){var ie=G._result;ie=ie(),ie.then(function(he){(G._status===0||G._status===-1)&&(G._status=1,G._result=he)},function(he){(G._status===0||G._status===-1)&&(G._status=2,G._result=he)}),G._status===-1&&(G._status=0,G._result=ie)}if(G._status===1)return G._result.default;throw G._result}var de={current:null},se={transition:null},ne={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:se,ReactCurrentOwner:J};function Y(){throw Error("act(...) is not supported in production builds of React.")}return _n.Children={map:le,forEach:function(G,ie,he){le(G,function(){ie.apply(this,arguments)},he)},count:function(G){var ie=0;return le(G,function(){ie++}),ie},toArray:function(G){return le(G,function(ie){return ie})||[]},only:function(G){if(!I(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},_n.Component=P,_n.Fragment=t,_n.Profiler=i,_n.PureComponent=B,_n.StrictMode=r,_n.Suspense=d,_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,_n.act=Y,_n.cloneElement=function(G,ie,he){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Ne=R({},G.props),Ce=G.key,Pe=G.ref,je=G._owner;if(ie!=null){if(ie.ref!==void 0&&(Pe=ie.ref,je=J.current),ie.key!==void 0&&(Ce=""+ie.key),G.type&&G.type.defaultProps)var Ie=G.type.defaultProps;for(We in ie)z.call(ie,We)&&!D.hasOwnProperty(We)&&(Ne[We]=ie[We]===void 0&&Ie!==void 0?Ie[We]:ie[We])}var We=arguments.length-2;if(We===1)Ne.children=he;else if(1<We){Ie=Array(We);for(var Ye=0;Ye<We;Ye++)Ie[Ye]=arguments[Ye+2];Ne.children=Ie}return{$$typeof:n,type:G.type,key:Ce,ref:Pe,props:Ne,_owner:je}},_n.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},_n.createElement=q,_n.createFactory=function(G){var ie=q.bind(null,G);return ie.type=G,ie},_n.createRef=function(){return{current:null}},_n.forwardRef=function(G){return{$$typeof:h,render:G}},_n.isValidElement=I,_n.lazy=function(G){return{$$typeof:_,_payload:{_status:-1,_result:G},_init:re}},_n.memo=function(G,ie){return{$$typeof:g,type:G,compare:ie===void 0?null:ie}},_n.startTransition=function(G){var ie=se.transition;se.transition={};try{G()}finally{se.transition=ie}},_n.unstable_act=Y,_n.useCallback=function(G,ie){return de.current.useCallback(G,ie)},_n.useContext=function(G){return de.current.useContext(G)},_n.useDebugValue=function(){},_n.useDeferredValue=function(G){return de.current.useDeferredValue(G)},_n.useEffect=function(G,ie){return de.current.useEffect(G,ie)},_n.useId=function(){return de.current.useId()},_n.useImperativeHandle=function(G,ie,he){return de.current.useImperativeHandle(G,ie,he)},_n.useInsertionEffect=function(G,ie){return de.current.useInsertionEffect(G,ie)},_n.useLayoutEffect=function(G,ie){return de.current.useLayoutEffect(G,ie)},_n.useMemo=function(G,ie){return de.current.useMemo(G,ie)},_n.useReducer=function(G,ie,he){return de.current.useReducer(G,ie,he)},_n.useRef=function(G){return de.current.useRef(G)},_n.useState=function(G){return de.current.useState(G)},_n.useSyncExternalStore=function(G,ie,he){return de.current.useSyncExternalStore(G,ie,he)},_n.useTransition=function(){return de.current.useTransition()},_n.version="18.3.1",_n}var sT;function lw(){return sT||(sT=1,d1.exports=GN()),d1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function KN(){if(oT)return Zp;oT=1;var n=lw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(h,d,g){var _,w={},E=null,x=null;g!==void 0&&(E=""+g),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(x=d.ref);for(_ in d)r.call(d,_)&&!o.hasOwnProperty(_)&&(w[_]=d[_]);if(h&&h.defaultProps)for(_ in d=h.defaultProps,d)w[_]===void 0&&(w[_]=d[_]);return{$$typeof:e,type:h,key:E,ref:x,props:w,_owner:i.current}}return Zp.Fragment=t,Zp.jsx=u,Zp.jsxs=u,Zp}var aT;function QN(){return aT||(aT=1,f1.exports=KN()),f1.exports}var X=QN(),Qe=lw();const JN=F0(Qe),lT=WN({__proto__:null,default:JN},[Qe]);var my={},p1={exports:{}},fo={},g1={exports:{}},m1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function XN(){return uT||(uT=1,function(n){function e(se,ne){var Y=se.length;se.push(ne);e:for(;0<Y;){var G=Y-1>>>1,ie=se[G];if(0<i(ie,ne))se[G]=ne,se[Y]=ie,Y=G;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ne=se[0],Y=se.pop();if(Y!==ne){se[0]=Y;e:for(var G=0,ie=se.length,he=ie>>>1;G<he;){var Ne=2*(G+1)-1,Ce=se[Ne],Pe=Ne+1,je=se[Pe];if(0>i(Ce,Y))Pe<ie&&0>i(je,Ce)?(se[G]=je,se[Pe]=Y,G=Pe):(se[G]=Ce,se[Ne]=Y,G=Ne);else if(Pe<ie&&0>i(je,Y))se[G]=je,se[Pe]=Y,G=Pe;else break e}}return ne}function i(se,ne){var Y=se.sortIndex-ne.sortIndex;return Y!==0?Y:se.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],g=[],_=1,w=null,E=3,x=!1,R=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(se){for(var ne=t(g);ne!==null;){if(ne.callback===null)r(g);else if(ne.startTime<=se)r(g),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=t(g)}}function F(se){if(O=!1,C(se),!R)if(t(d)!==null)R=!0,re(z);else{var ne=t(g);ne!==null&&de(F,ne.startTime-se)}}function z(se,ne){R=!1,O&&(O=!1,U(q),q=-1),x=!0;var Y=E;try{for(C(ne),w=t(d);w!==null&&(!(w.expirationTime>ne)||se&&!k());){var G=w.callback;if(typeof G=="function"){w.callback=null,E=w.priorityLevel;var ie=G(w.expirationTime<=ne);ne=n.unstable_now(),typeof ie=="function"?w.callback=ie:w===t(d)&&r(d),C(ne)}else r(d);w=t(d)}if(w!==null)var he=!0;else{var Ne=t(g);Ne!==null&&de(F,Ne.startTime-ne),he=!1}return he}finally{w=null,E=Y,x=!1}}var J=!1,D=null,q=-1,W=5,I=-1;function k(){return!(n.unstable_now()-I<W)}function j(){if(D!==null){var se=n.unstable_now();I=se;var ne=!0;try{ne=D(!0,se)}finally{ne?N():(J=!1,D=null)}}else J=!1}var N;if(typeof B=="function")N=function(){B(j)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,le=oe.port2;oe.port1.onmessage=j,N=function(){le.postMessage(null)}}else N=function(){P(j,0)};function re(se){D=se,J||(J=!0,N())}function de(se,ne){q=P(function(){se(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){R||x||(R=!0,re(z))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(se){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var Y=E;E=ne;try{return se()}finally{E=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ne){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Y=E;E=se;try{return ne()}finally{E=Y}},n.unstable_scheduleCallback=function(se,ne,Y){var G=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?G+Y:G):Y=G,se){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Y+ie,se={id:_++,callback:ne,priorityLevel:se,startTime:Y,expirationTime:ie,sortIndex:-1},Y>G?(se.sortIndex=Y,e(g,se),t(d)===null&&se===t(g)&&(O?(U(q),q=-1):O=!0,de(F,Y-G))):(se.sortIndex=ie,e(d,se),R||x||(R=!0,re(z))),se},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(se){var ne=E;return function(){var Y=E;E=ne;try{return se.apply(this,arguments)}finally{E=Y}}}}(m1)),m1}var cT;function YN(){return cT||(cT=1,g1.exports=XN()),g1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function ZN(){if(hT)return fo;hT=1;var n=lw(),e=YN();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function E(s){return d.call(w,s)?!0:d.call(_,s)?!1:g.test(s)?w[s]=!0:(_[s]=!0,!1)}function x(s,a,f,m){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function R(s,a,f,m){if(a===null||typeof a>"u"||x(s,a,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function O(s,a,f,m,v,b,V){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=f,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=V}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new O(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];P[a]=new O(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new O(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new O(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new O(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new O(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new O(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new O(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new O(s,5,!1,s.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(U,B);P[a]=new O(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(U,B);P[a]=new O(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(U,B);P[a]=new O(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new O(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new O(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,a,f,m){var v=P.hasOwnProperty(a)?P[a]:null;(v!==null?v.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,f,v,m)&&(f=null),m||v===null?E(a)&&(f===null?s.removeAttribute(a):s.setAttribute(a,""+f)):v.mustUseProperty?s[v.propertyName]=f===null?v.type===3?!1:"":f:(a=v.attributeName,m=v.attributeNamespace,f===null?s.removeAttribute(a):(v=v.type,f=v===3||v===4&&f===!0?"":""+f,m?s.setAttributeNS(m,a,f):s.setAttribute(a,f))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),J=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),se=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Object.assign,G;function ie(s){if(G===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);G=a&&a[1]||""}return`
`+G+s}var he=!1;function Ne(s,a){if(!s||he)return"";he=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(be){var m=be}Reflect.construct(s,[],a)}else{try{a.call()}catch(be){m=be}s.call(a.prototype)}else{try{throw Error()}catch(be){m=be}s()}}catch(be){if(be&&m&&typeof be.stack=="string"){for(var v=be.stack.split(`
`),b=m.stack.split(`
`),V=v.length-1,Z=b.length-1;1<=V&&0<=Z&&v[V]!==b[Z];)Z--;for(;1<=V&&0<=Z;V--,Z--)if(v[V]!==b[Z]){if(V!==1||Z!==1)do if(V--,Z--,0>Z||v[V]!==b[Z]){var ae=`
`+v[V].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=V&&0<=Z);break}}}finally{he=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?ie(s):""}function Ce(s){switch(s.tag){case 5:return ie(s.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return s=Ne(s.type,!1),s;case 11:return s=Ne(s.type.render,!1),s;case 1:return s=Ne(s.type,!0),s;default:return""}}function Pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case J:return"Portal";case W:return"Profiler";case q:return"StrictMode";case N:return"Suspense";case oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case k:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case j:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case le:return a=s.displayName||null,a!==null?a:Pe(s.type)||"Memo";case re:a=s._payload,s=s._init;try{return Pe(s(a))}catch{}}return null}function je(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(a);case 8:return a===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function We(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ye(s){var a=We(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,b=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(V){m=""+V,b.call(this,V)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Je(s){s._valueTracker||(s._valueTracker=Ye(s))}function pt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return s&&(m=We(s)?s.checked?"true":"false":s.value),s=m,s!==f?(a.setValue(s),!0):!1}function gt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function st(s,a){var f=a.checked;return Y({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function zt(s,a){var f=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;f=Ie(a.value!=null?a.value:f),s._wrapperState={initialChecked:m,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function tr(s,a){a=a.checked,a!=null&&C(s,"checked",a,!1)}function Un(s,a){tr(s,a);var f=Ie(a.value),m=a.type;if(f!=null)m==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Jn(s,a.type,f):a.hasOwnProperty("defaultValue")&&Jn(s,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ur(s,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,f||a===s.value||(s.value=a),s.defaultValue=a}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function Jn(s,a,f){(a!=="number"||gt(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var cn=Array.isArray;function hn(s,a,f,m){if(s=s.options,a){a={};for(var v=0;v<f.length;v++)a["$"+f[v]]=!0;for(f=0;f<s.length;f++)v=a.hasOwnProperty("$"+s[f].value),s[f].selected!==v&&(s[f].selected=v),v&&m&&(s[f].defaultSelected=!0)}else{for(f=""+Ie(f),a=null,v=0;v<s.length;v++){if(s[v].value===f){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function Cn(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function mn(s,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(t(92));if(cn(f)){if(1<f.length)throw Error(t(93));f=f[0]}a=f}a==null&&(a=""),f=a}s._wrapperState={initialValue:Ie(f)}}function Ht(s,a){var f=Ie(a.value),m=Ie(a.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),a.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),m!=null&&(s.defaultValue=""+m)}function xn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Dt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Dt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ut,qn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,m,v){MSApp.execUnsafeLocalFunction(function(){return s(a,f,m,v)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ut.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Qt(s,a){if(a){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=a;return}}s.textContent=a}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rr=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(s){Rr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Hr[a]=Hr[s]})});function ts(s,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||Hr.hasOwnProperty(s)&&Hr[s]?(""+a).trim():a+"px"}function Ei(s,a){s=s.style;for(var f in a)if(a.hasOwnProperty(f)){var m=f.indexOf("--")===0,v=ts(f,a[f],m);f==="float"&&(f="cssFloat"),m?s.setProperty(f,v):s[f]=v}}var Ti=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(s,a){if(a){if(Ti[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Wr(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=null;function or(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var cr=null,In=null,Rn=null;function li(s){if(s=Gi(s)){if(typeof cr!="function")throw Error(t(280));var a=s.stateNode;a&&(a=nf(a),cr(s.stateNode,s.type,a))}}function zn(s){In?Rn?Rn.push(s):Rn=[s]:In=s}function bi(){if(In){var s=In,a=Rn;if(Rn=In=null,li(s),a)for(s=0;s<a.length;s++)li(a[s])}}function Fr(s,a){return s(a)}function Ri(){}var _r=!1;function Vi(s,a,f){if(_r)return s(a,f);_r=!0;try{return Fr(s,a,f)}finally{_r=!1,(In!==null||Rn!==null)&&(Ri(),bi())}}function Gt(s,a){var f=s.stateNode;if(f===null)return null;var m=nf(f);if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(t(231,a,typeof f));return f}var nr=!1;if(h)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{nr=!1}function kr(s,a,f,m,v,b,V,Z,ae){var be=Array.prototype.slice.call(arguments,3);try{a.apply(f,be)}catch(Be){this.onError(Be)}}var vr=!1,ui=null,Jt=!1,qi=null,Ks={onError:function(s){vr=!0,ui=s}};function Gr(s,a,f,m,v,b,V,Z,ae){vr=!1,ui=null,kr.apply(Ks,arguments)}function ci(s,a,f,m,v,b,V,Z,ae){if(Gr.apply(this,arguments),vr){if(vr){var be=ui;vr=!1,ui=null}else throw Error(t(198));Jt||(Jt=!0,qi=be)}}function Ur(s){var a=s,f=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(f=a.return),s=a.return;while(s)}return a.tag===3?f:null}function yn(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Kr(s){if(Ur(s)!==s)throw Error(t(188))}function ki(s){var a=s.alternate;if(!a){if(a=Ur(s),a===null)throw Error(t(188));return a!==s?null:s}for(var f=s,m=a;;){var v=f.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){f=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===f)return Kr(v),s;if(b===m)return Kr(v),a;b=b.sibling}throw Error(t(188))}if(f.return!==m.return)f=v,m=b;else{for(var V=!1,Z=v.child;Z;){if(Z===f){V=!0,f=v,m=b;break}if(Z===m){V=!0,m=v,f=b;break}Z=Z.sibling}if(!V){for(Z=b.child;Z;){if(Z===f){V=!0,f=b,m=v;break}if(Z===m){V=!0,m=b,f=v;break}Z=Z.sibling}if(!V)throw Error(t(189))}}if(f.alternate!==m)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?s:a}function Qr(s){return s=ki(s),s!==null?ns(s):null}function ns(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ns(s);if(a!==null)return a;s=s.sibling}return null}var ge=e.unstable_scheduleCallback,Ee=e.unstable_cancelCallback,qe=e.unstable_shouldYield,nt=e.unstable_requestPaint,rt=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,ce=e.unstable_ImmediatePriority,Te=e.unstable_UserBlockingPriority,Ue=e.unstable_NormalPriority,Xe=e.unstable_LowPriority,_t=e.unstable_IdlePriority,qt=null,Xt=null;function Mt(s){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(qt,s,void 0,(s.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Nr,bn=Math.log,Jr=Math.LN2;function Nr(s){return s>>>=0,s===0?32:31-(bn(s)/Jr|0)|0}var Sr=64,ct=4194304;function Ft(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function pn(s,a){var f=s.pendingLanes;if(f===0)return 0;var m=0,v=s.suspendedLanes,b=s.pingedLanes,V=f&268435455;if(V!==0){var Z=V&~v;Z!==0?m=Ft(Z):(b&=V,b!==0&&(m=Ft(b)))}else V=f&~v,V!==0?m=Ft(V):b!==0&&(m=Ft(b));if(m===0)return 0;if(a!==0&&a!==m&&!(a&v)&&(v=m&-m,b=a&-a,v>=b||v===16&&(b&4194240)!==0))return a;if(m&4&&(m|=f&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)f=31-Yt(a),v=1<<f,m|=s[f],a&=~v;return m}function Ot(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(s,a){for(var f=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes;0<b;){var V=31-Yt(b),Z=1<<V,ae=v[V];ae===-1?(!(Z&f)||Z&m)&&(v[V]=Ot(Z,a)):ae<=a&&(s.expiredLanes|=Z),b&=~Z}}function jn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xt(){var s=Sr;return Sr<<=1,!(Sr&4194240)&&(Sr=64),s}function vn(s){for(var a=[],f=0;31>f;f++)a.push(s);return a}function wn(s,a,f){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Yt(a),s[a]=f}function jt(s,a){var f=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<f;){var v=31-Yt(f),b=1<<v;a[v]=0,m[v]=-1,s[v]=-1,f&=~b}}function rr(s,a){var f=s.entangledLanes|=a;for(s=s.entanglements;f;){var m=31-Yt(f),v=1<<m;v&a|s[m]&a&&(s[m]|=a),f&=~v}}var vt=0;function Bn(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var hr,ys,Xr,Us,_s,rs=!1,Si=[],ir=null,Pn=null,ji=null,vs=new Map,hi=new Map,$i=[],Bo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(s,a){switch(s){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":vs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(a.pointerId)}}function Br(s,a,f,m,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},a!==null&&(a=Gi(a),a!==null&&ys(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function da(s,a,f,m,v){switch(a){case"focusin":return ir=Br(ir,s,a,f,m,v),!0;case"dragenter":return Pn=Br(Pn,s,a,f,m,v),!0;case"mouseover":return ji=Br(ji,s,a,f,m,v),!0;case"pointerover":var b=v.pointerId;return vs.set(b,Br(vs.get(b)||null,s,a,f,m,v)),!0;case"gotpointercapture":return b=v.pointerId,hi.set(b,Br(hi.get(b)||null,s,a,f,m,v)),!0}return!1}function pa(s){var a=zo(s.target);if(a!==null){var f=Ur(a);if(f!==null){if(a=f.tag,a===13){if(a=yn(f),a!==null){s.blockedOn=a,_s(s.priority,function(){Xr(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var f=nn(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);yr=m,f.target.dispatchEvent(m),yr=null}else return a=Gi(f),a!==null&&ys(a),s.blockedOn=f,!1;a.shift()}return!0}function Qs(s,a,f){Yr(s)&&f.delete(a)}function Vo(){rs=!1,ir!==null&&Yr(ir)&&(ir=null),Pn!==null&&Yr(Pn)&&(Pn=null),ji!==null&&Yr(ji)&&(ji=null),vs.forEach(Qs),hi.forEach(Qs)}function sn(s,a){s.blockedOn===a&&(s.blockedOn=null,rs||(rs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vo)))}function tn(s){function a(v){return sn(v,s)}if(0<Si.length){sn(Si[0],s);for(var f=1;f<Si.length;f++){var m=Si[f];m.blockedOn===s&&(m.blockedOn=null)}}for(ir!==null&&sn(ir,s),Pn!==null&&sn(Pn,s),ji!==null&&sn(ji,s),vs.forEach(a),hi.forEach(a),f=0;f<$i.length;f++)m=$i[f],m.blockedOn===s&&(m.blockedOn=null);for(;0<$i.length&&(f=$i[0],f.blockedOn===null);)pa(f),f.blockedOn===null&&$i.shift()}var A=F.ReactCurrentBatchConfig,H=!0;function ee(s,a,f,m){var v=vt,b=A.transition;A.transition=null;try{vt=1,It(s,a,f,m)}finally{vt=v,A.transition=b}}function xe(s,a,f,m){var v=vt,b=A.transition;A.transition=null;try{vt=4,It(s,a,f,m)}finally{vt=v,A.transition=b}}function It(s,a,f,m){if(H){var v=nn(s,a,f,m);if(v===null)np(s,a,m,ut,f),Wa(s,m);else if(da(v,s,a,f,m))m.stopPropagation();else if(Wa(s,m),a&4&&-1<Bo.indexOf(s)){for(;v!==null;){var b=Gi(v);if(b!==null&&hr(b),b=nn(s,a,f,m),b===null&&np(s,a,m,ut,f),b===v)break;v=b}v!==null&&m.stopPropagation()}else np(s,a,m,null,f)}}var ut=null;function nn(s,a,f,m){if(ut=null,s=or(m),s=zo(s),s!==null)if(a=Ur(s),a===null)s=null;else if(f=a.tag,f===13){if(s=yn(a),s!==null)return s;s=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ut=s,null}function on(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case ce:return 1;case Te:return 4;case Ue:case Xe:return 16;case _t:return 536870912;default:return 16}default:return 16}}var St=null,an=null,gn=null;function Vr(){if(gn)return gn;var s,a=an,f=a.length,m,v="value"in St?St.value:St.textContent,b=v.length;for(s=0;s<f&&a[s]===v[s];s++);var V=f-s;for(m=1;m<=V&&a[f-m]===v[b-m];m++);return gn=v.slice(s,1<m?1-m:void 0)}function Xn(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function fn(){return!0}function wr(){return!1}function sr(s){function a(f,m,v,b,V){this._reactName=f,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=V,this.currentTarget=null;for(var Z in s)s.hasOwnProperty(Z)&&(f=s[Z],this[Z]=f?f(b):b[Z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?fn:wr,this.isPropagationStopped=wr,this}return Y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=fn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=fn)},persist:function(){},isPersistent:fn}),a}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=sr(Or),ws=Y({},Or,{view:0,detail:0}),ga=sr(ws),Ar,ma,fi,Dl=Y({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fi&&(fi&&s.type==="mousemove"?(Ar=s.screenX-fi.screenX,ma=s.screenY-fi.screenY):ma=Ar=0,fi=s),Ar)},movementY:function(s){return"movementY"in s?s.movementY:ma}}),Ml=sr(Dl),Js=Y({},Dl,{dataTransfer:0}),Fl=sr(Js),Ga=Y({},ws,{relatedTarget:0}),Wn=sr(Ga),yo=Y({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),_o=sr(yo),qh=Y({},Or,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xu=sr(qh),jh=Y({},Or,{data:0}),Ic=sr(jh),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ya(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ul[s])?!!a[s]:!1}function qo(){return ya}var p=Y({},ws,{key:function(s){if(s.key){var a=Iu[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Xn(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zi[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(s){return s.type==="keypress"?Xn(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xn(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T=sr(p),L=Y({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K=sr(L),ye=Y({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),Se=sr(ye),Ke=Y({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vn=sr(Ke),di=Y({},Dl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),En=sr(di),$n=[9,13,27,32],Pr=h&&"CompositionEvent"in window,Hi=null;h&&"documentMode"in document&&(Hi=document.documentMode);var Es=h&&"TextEvent"in window&&!Hi,Ka=h&&(!Pr||Hi&&8<Hi&&11>=Hi),Ru=" ",pm=!1;function gm(s,a){switch(s){case"keyup":return $n.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ku=!1;function Nu(s,a){switch(s){case"compositionend":return mm(a);case"keypress":return a.which!==32?null:(pm=!0,Ru);case"textInput":return s=a.data,s===Ru&&pm?null:s;default:return null}}function I_(s,a){if(ku)return s==="compositionend"||!Pr&&gm(s,a)?(s=Vr(),gn=an=St=null,ku=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ka&&a.locale!=="ko"?null:a.data;default:return null}}var R_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!R_[s.type]:a==="textarea"}function Yd(s,a,f,m){zn(m),a=Yh(a,"onChange"),0<a.length&&(f=new is("onChange","change",null,f,m),s.push({event:f,listeners:a}))}var Xs=null,Qa=null;function k_(s){bm(s,0)}function zh(s){var a=Zt(s);if(pt(a))return s}function N_(s,a){if(s==="change")return a}var Bl=!1;if(h){var Bs;if(h){var Hh="oninput"in document;if(!Hh){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Hh=typeof ym.oninput=="function"}Bs=Hh}else Bs=!1;Bl=Bs&&(!document.documentMode||9<document.documentMode)}function _m(){Xs&&(Xs.detachEvent("onpropertychange",vm),Qa=Xs=null)}function vm(s){if(s.propertyName==="value"&&zh(Qa)){var a=[];Yd(a,Qa,s,or(s)),Vi(k_,a)}}function O_(s,a,f){s==="focusin"?(_m(),Xs=a,Qa=f,Xs.attachEvent("onpropertychange",vm)):s==="focusout"&&_m()}function P_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zh(Qa)}function Ou(s,a){if(s==="click")return zh(a)}function pe(s,a){if(s==="input"||s==="change")return zh(a)}function Re(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var we=typeof Object.is=="function"?Object.is:Re;function et(s,a){if(we(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var f=Object.keys(s),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var v=f[m];if(!d.call(a,v)||!we(s[v],a[v]))return!1}return!0}function Bt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ln(s,a){var f=Bt(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=a&&m>=a)return{node:f,offset:a-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Bt(f)}}function Zr(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Zr(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Yn(){for(var s=window,a=gt();a instanceof s.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)s=a.contentWindow;else break;a=gt(s.document)}return a}function Rc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function L_(s){var a=Yn(),f=s.focusedElem,m=s.selectionRange;if(a!==f&&f&&f.ownerDocument&&Zr(f.ownerDocument.documentElement,f)){if(m!==null&&Rc(f)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(s,f.value.length);else if(s=(a=f.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=f.textContent.length,b=Math.min(m.start,v);m=m.end===void 0?b:Math.min(m.end,v),!s.extend&&b>m&&(v=m,m=b,b=v),v=Ln(f,b);var V=Ln(f,m);v&&V&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==V.node||s.focusOffset!==V.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),b>m?(s.addRange(a),s.extend(V.node,V.offset)):(a.setEnd(V.node,V.offset),s.addRange(a)))}}for(a=[],s=f;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)s=a[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ys=h&&"documentMode"in document&&11>=document.documentMode,_a=null,Zd=null,jo=null,Pu=!1;function kc(s,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Pu||_a==null||_a!==gt(m)||(m=_a,"selectionStart"in m&&Rc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),jo&&et(jo,m)||(jo=m,m=Yh(Zd,"onSelect"),0<m.length&&(a=new is("onSelect","select",null,a,f),s.push({event:a,listeners:m}),a.target=_a)))}function Dn(s,a){var f={};return f[s.toLowerCase()]=a.toLowerCase(),f["Webkit"+s]="webkit"+a,f["Moz"+s]="moz"+a,f}var Lu={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionend:Dn("Transition","TransitionEnd")},Wh={},Nc={};h&&(Nc=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function Gh(s){if(Wh[s])return Wh[s];if(!Lu[s])return s;var a=Lu[s],f;for(f in a)if(a.hasOwnProperty(f)&&f in Nc)return Wh[s]=a[f];return s}var wm=Gh("animationend"),Em=Gh("animationiteration"),Oc=Gh("animationstart"),va=Gh("transitionend"),Pc=new Map,ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(s,a){Pc.set(s,a),o(a,[s])}for(var Kh=0;Kh<ep.length;Kh++){var Qh=ep[Kh],Jh=Qh.toLowerCase(),Tm=Qh[0].toUpperCase()+Qh.slice(1);vo(Jh,"on"+Tm)}vo(wm,"onAnimationEnd"),vo(Em,"onAnimationIteration"),vo(Oc,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(va,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vl=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Lc(s,a,f){var m=s.type||"unknown-event";s.currentTarget=f,ci(m,a,void 0,s),s.currentTarget=null}function bm(s,a){a=(a&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],v=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var V=m.length-1;0<=V;V--){var Z=m[V],ae=Z.instance,be=Z.currentTarget;if(Z=Z.listener,ae!==b&&v.isPropagationStopped())break e;Lc(v,Z,be),b=ae}else for(V=0;V<m.length;V++){if(Z=m[V],ae=Z.instance,be=Z.currentTarget,Z=Z.listener,ae!==b&&v.isPropagationStopped())break e;Lc(v,Z,be),b=ae}}}if(Jt)throw s=qi,Jt=!1,qi=null,s}function fr(s,a){var f=a[tf];f===void 0&&(f=a[tf]=new Set);var m=s+"__bubble";f.has(m)||(Xh(a,s,2,!1),f.add(m))}function tp(s,a,f){var m=0;a&&(m|=4),Xh(f,s,m,a)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Ja(s){if(!s[ql]){s[ql]=!0,r.forEach(function(f){f!=="selectionchange"&&(Vl.has(f)||tp(f,!1,s),tp(f,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ql]||(a[ql]=!0,tp("selectionchange",!1,a))}}function Xh(s,a,f,m){switch(on(a)){case 1:var v=ee;break;case 4:v=xe;break;default:v=It}f=v.bind(null,a,f,s),v=void 0,!nr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(a,f,{capture:!0,passive:v}):s.addEventListener(a,f,!0):v!==void 0?s.addEventListener(a,f,{passive:v}):s.addEventListener(a,f,!1)}function np(s,a,f,m,v){var b=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var Z=m.stateNode.containerInfo;if(Z===v||Z.nodeType===8&&Z.parentNode===v)break;if(V===4)for(V=m.return;V!==null;){var ae=V.tag;if((ae===3||ae===4)&&(ae=V.stateNode.containerInfo,ae===v||ae.nodeType===8&&ae.parentNode===v))return;V=V.return}for(;Z!==null;){if(V=zo(Z),V===null)return;if(ae=V.tag,ae===5||ae===6){m=b=V;continue e}Z=Z.parentNode}}m=m.return}Vi(function(){var be=b,Be=or(f),$e=[];e:{var Fe=Pc.get(s);if(Fe!==void 0){var tt=is,at=s;switch(s){case"keypress":if(Xn(f)===0)break e;case"keydown":case"keyup":tt=T;break;case"focusin":at="focus",tt=Wn;break;case"focusout":at="blur",tt=Wn;break;case"beforeblur":case"afterblur":tt=Wn;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Fl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Se;break;case wm:case Em:case Oc:tt=_o;break;case va:tt=Vn;break;case"scroll":tt=ga;break;case"wheel":tt=En;break;case"copy":case"cut":case"paste":tt=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=K}var ht=(a&4)!==0,Dr=!ht&&s==="scroll",_e=ht?Fe!==null?Fe+"Capture":null:Fe;ht=[];for(var fe=be,ve;fe!==null;){ve=fe;var ze=ve.stateNode;if(ve.tag===5&&ze!==null&&(ve=ze,_e!==null&&(ze=Gt(fe,_e),ze!=null&&ht.push(Du(fe,ze,ve)))),Dr)break;fe=fe.return}0<ht.length&&(Fe=new tt(Fe,at,null,f,Be),$e.push({event:Fe,listeners:ht}))}}if(!(a&7)){e:{if(Fe=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Fe&&f!==yr&&(at=f.relatedTarget||f.fromElement)&&(zo(at)||at[Vs]))break e;if((tt||Fe)&&(Fe=Be.window===Be?Be:(Fe=Be.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,tt?(at=f.relatedTarget||f.toElement,tt=be,at=at?zo(at):null,at!==null&&(Dr=Ur(at),at!==Dr||at.tag!==5&&at.tag!==6)&&(at=null)):(tt=null,at=be),tt!==at)){if(ht=Ml,ze="onMouseLeave",_e="onMouseEnter",fe="mouse",(s==="pointerout"||s==="pointerover")&&(ht=K,ze="onPointerLeave",_e="onPointerEnter",fe="pointer"),Dr=tt==null?Fe:Zt(tt),ve=at==null?Fe:Zt(at),Fe=new ht(ze,fe+"leave",tt,f,Be),Fe.target=Dr,Fe.relatedTarget=ve,ze=null,zo(Be)===be&&(ht=new ht(_e,fe+"enter",at,f,Be),ht.target=ve,ht.relatedTarget=Dr,ze=ht),Dr=ze,tt&&at)t:{for(ht=tt,_e=at,fe=0,ve=ht;ve;ve=Mu(ve))fe++;for(ve=0,ze=_e;ze;ze=Mu(ze))ve++;for(;0<fe-ve;)ht=Mu(ht),fe--;for(;0<ve-fe;)_e=Mu(_e),ve--;for(;fe--;){if(ht===_e||_e!==null&&ht===_e.alternate)break t;ht=Mu(ht),_e=Mu(_e)}ht=null}else ht=null;tt!==null&&ei($e,Fe,tt,ht,!1),at!==null&&Dr!==null&&ei($e,Dr,at,ht,!0)}}e:{if(Fe=be?Zt(be):window,tt=Fe.nodeName&&Fe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Fe.type==="file")var ft=N_;else if($h(Fe))if(Bl)ft=pe;else{ft=P_;var Et=O_}else(tt=Fe.nodeName)&&tt.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(ft=Ou);if(ft&&(ft=ft(s,be))){Yd($e,ft,f,Be);break e}Et&&Et(s,Fe,be),s==="focusout"&&(Et=Fe._wrapperState)&&Et.controlled&&Fe.type==="number"&&Jn(Fe,"number",Fe.value)}switch(Et=be?Zt(be):window,s){case"focusin":($h(Et)||Et.contentEditable==="true")&&(_a=Et,Zd=be,jo=null);break;case"focusout":jo=Zd=_a=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,kc($e,f,Be);break;case"selectionchange":if(Ys)break;case"keydown":case"keyup":kc($e,f,Be)}var Tt;if(Pr)e:{switch(s){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else ku?gm(s,f)&&(Rt="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Rt="onCompositionStart");Rt&&(Ka&&f.locale!=="ko"&&(ku||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&ku&&(Tt=Vr()):(St=Be,an="value"in St?St.value:St.textContent,ku=!0)),Et=Yh(be,Rt),0<Et.length&&(Rt=new Ic(Rt,s,null,f,Be),$e.push({event:Rt,listeners:Et}),Tt?Rt.data=Tt:(Tt=mm(f),Tt!==null&&(Rt.data=Tt)))),(Tt=Es?Nu(s,f):I_(s,f))&&(be=Yh(be,"onBeforeInput"),0<be.length&&(Be=new Ic("onBeforeInput","beforeinput",null,f,Be),$e.push({event:Be,listeners:be}),Be.data=Tt))}bm($e,a)})}function Du(s,a,f){return{instance:s,listener:a,currentTarget:f}}function Yh(s,a){for(var f=a+"Capture",m=[];s!==null;){var v=s,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=Gt(s,f),b!=null&&m.unshift(Du(s,b,v)),b=Gt(s,a),b!=null&&m.push(Du(s,b,v))),s=s.return}return m}function Mu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ei(s,a,f,m,v){for(var b=a._reactName,V=[];f!==null&&f!==m;){var Z=f,ae=Z.alternate,be=Z.stateNode;if(ae!==null&&ae===m)break;Z.tag===5&&be!==null&&(Z=be,v?(ae=Gt(f,b),ae!=null&&V.unshift(Du(f,ae,Z))):v||(ae=Gt(f,b),ae!=null&&V.push(Du(f,ae,Z)))),f=f.return}V.length!==0&&s.push({event:a,listeners:V})}var Wi=/\r\n?/g,D_=/\u0000|\uFFFD/g;function Sm(s){return(typeof s=="string"?s:""+s).replace(Wi,`
`).replace(D_,"")}function Dc(s,a,f){if(a=Sm(a),Sm(s)!==a&&f)throw Error(t(425))}function Zh(){}var Mc=null,jl=null;function Fc(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xa=typeof setTimeout=="function"?setTimeout:void 0,Uc=typeof clearTimeout=="function"?clearTimeout:void 0,Fu=typeof Promise=="function"?Promise:void 0,ef=typeof queueMicrotask=="function"?queueMicrotask:typeof Fu<"u"?function(s){return Fu.resolve(null).then(s).catch(Uu)}:Xa;function Uu(s){setTimeout(function(){throw s})}function rp(s,a){var f=a,m=0;do{var v=f.nextSibling;if(s.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(m===0){s.removeChild(v),tn(a);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=v}while(f);tn(a)}function Ya(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Am(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return s;a--}else f==="/$"&&a++}s=s.previousSibling}return null}var Bu=Math.random().toString(36).slice(2),$o="__reactFiber$"+Bu,Za="__reactProps$"+Bu,Vs="__reactContainer$"+Bu,tf="__reactEvents$"+Bu,$="__reactListeners$"+Bu,Vu="__reactHandles$"+Bu;function zo(s){var a=s[$o];if(a)return a;for(var f=s.parentNode;f;){if(a=f[Vs]||f[$o]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(s=Am(s);s!==null;){if(f=s[$o])return f;s=Am(s)}return a}s=f,f=s.parentNode}return null}function Gi(s){return s=s[$o]||s[Vs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Zt(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function nf(s){return s[Za]||null}var ip=[],qu=-1;function Ts(s){return{current:s}}function dr(s){0>qu||(s.current=ip[qu],ip[qu]=null,qu--)}function ar(s,a){qu++,ip[qu]=s.current,s.current=a}var el={},Ki=Ts(el),bs=Ts(!1),ss=el;function ju(s,a){var f=s.type.contextTypes;if(!f)return el;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in f)v[b]=a[b];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function Ss(s){return s=s.childContextTypes,s!=null}function rf(){dr(bs),dr(Ki)}function Cm(s,a,f){if(Ki.current!==el)throw Error(t(168));ar(Ki,a),ar(bs,f)}function xm(s,a,f){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var v in m)if(!(v in a))throw Error(t(108,je(s)||"Unknown",v));return Y({},f,m)}function Zs(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||el,ss=Ki.current,ar(Ki,s),ar(bs,bs.current),!0}function Im(s,a,f){var m=s.stateNode;if(!m)throw Error(t(169));f?(s=xm(s,a,ss),m.__reactInternalMemoizedMergedChildContext=s,dr(bs),dr(Ki),ar(Ki,s)):dr(bs),ar(bs,f)}var Ea=null,sf=!1,sp=!1;function Rm(s){Ea===null?Ea=[s]:Ea.push(s)}function $l(s){sf=!0,Rm(s)}function tl(){if(!sp&&Ea!==null){sp=!0;var s=0,a=vt;try{var f=Ea;for(vt=1;s<f.length;s++){var m=f[s];do m=m(!0);while(m!==null)}Ea=null,sf=!1}catch(v){throw Ea!==null&&(Ea=Ea.slice(s+1)),ge(ce,tl),v}finally{vt=a,sp=!1}}return null}var $u=[],Qi=0,of=null,af=0,eo=[],to=0,zl=null,Ho=1,Wo="";function Hl(s,a){$u[Qi++]=af,$u[Qi++]=of,of=s,af=a}function km(s,a,f){eo[to++]=Ho,eo[to++]=Wo,eo[to++]=zl,zl=s;var m=Ho;s=Wo;var v=32-Yt(m)-1;m&=~(1<<v),f+=1;var b=32-Yt(a)+v;if(30<b){var V=v-v%5;b=(m&(1<<V)-1).toString(32),m>>=V,v-=V,Ho=1<<32-Yt(a)+v|f<<v|m,Wo=b+s}else Ho=1<<b|f<<v|m,Wo=s}function Bc(s){s.return!==null&&(Hl(s,1),km(s,1,0))}function Wl(s){for(;s===of;)of=$u[--Qi],$u[Qi]=null,af=$u[--Qi],$u[Qi]=null;for(;s===zl;)zl=eo[--to],eo[to]=null,Wo=eo[--to],eo[to]=null,Ho=eo[--to],eo[to]=null}var Ji=null,qs=null,pr=!1,wo=null;function Go(s,a){var f=lo(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=s,a=s.deletions,a===null?(s.deletions=[f],s.flags|=16):a.push(f)}function lf(s,a){switch(s.tag){case 5:var f=s.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Ji=s,qs=Ya(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Ji=s,qs=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=zl!==null?{id:Ho,overflow:Wo}:null,s.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=lo(18,null,null,0),f.stateNode=a,f.return=s,s.child=f,Ji=s,qs=null,!0):!1;default:return!1}}function Ta(s){return(s.mode&1)!==0&&(s.flags&128)===0}function As(s){if(pr){var a=qs;if(a){var f=a;if(!lf(s,a)){if(Ta(s))throw Error(t(418));a=Ya(f.nextSibling);var m=Ji;a&&lf(s,a)?Go(m,f):(s.flags=s.flags&-4097|2,pr=!1,Ji=s)}}else{if(Ta(s))throw Error(t(418));s.flags=s.flags&-4097|2,pr=!1,Ji=s}}}function Nm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ji=s}function Vc(s){if(s!==Ji)return!1;if(!pr)return Nm(s),pr=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Fc(s.type,s.memoizedProps)),a&&(a=qs)){if(Ta(s))throw op(),Error(t(418));for(;a;)Go(s,a),a=Ya(a.nextSibling)}if(Nm(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(a===0){qs=Ya(s.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}s=s.nextSibling}qs=null}}else qs=Ji?Ya(s.stateNode.nextSibling):null;return!0}function op(){for(var s=qs;s;)s=Ya(s.nextSibling)}function Ko(){qs=Ji=null,pr=!1}function Qo(s){wo===null?wo=[s]:wo.push(s)}var Om=F.ReactCurrentBatchConfig;function qc(s,a,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var m=f.stateNode}if(!m)throw Error(t(147,s));var v=m,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(V){var Z=v.refs;V===null?delete Z[b]:Z[b]=V},a._stringRef=b,a)}if(typeof s!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,s))}return s}function Gl(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Pm(s){var a=s._init;return a(s._payload)}function ap(s){function a(_e,fe){if(s){var ve=_e.deletions;ve===null?(_e.deletions=[fe],_e.flags|=16):ve.push(fe)}}function f(_e,fe){if(!s)return null;for(;fe!==null;)a(_e,fe),fe=fe.sibling;return null}function m(_e,fe){for(_e=new Map;fe!==null;)fe.key!==null?_e.set(fe.key,fe):_e.set(fe.index,fe),fe=fe.sibling;return _e}function v(_e,fe){return _e=xo(_e,fe),_e.index=0,_e.sibling=null,_e}function b(_e,fe,ve){return _e.index=ve,s?(ve=_e.alternate,ve!==null?(ve=ve.index,ve<fe?(_e.flags|=2,fe):ve):(_e.flags|=2,fe)):(_e.flags|=1048576,fe)}function V(_e){return s&&_e.alternate===null&&(_e.flags|=2),_e}function Z(_e,fe,ve,ze){return fe===null||fe.tag!==6?(fe=Gp(ve,_e.mode,ze),fe.return=_e,fe):(fe=v(fe,ve),fe.return=_e,fe)}function ae(_e,fe,ve,ze){var ft=ve.type;return ft===D?Be(_e,fe,ve.props.children,ze,ve.key):fe!==null&&(fe.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===re&&Pm(ft)===fe.type)?(ze=v(fe,ve.props),ze.ref=qc(_e,fe,ve),ze.return=_e,ze):(ze=$f(ve.type,ve.key,ve.props,null,_e.mode,ze),ze.ref=qc(_e,fe,ve),ze.return=_e,ze)}function be(_e,fe,ve,ze){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ve.containerInfo||fe.stateNode.implementation!==ve.implementation?(fe=Kp(ve,_e.mode,ze),fe.return=_e,fe):(fe=v(fe,ve.children||[]),fe.return=_e,fe)}function Be(_e,fe,ve,ze,ft){return fe===null||fe.tag!==7?(fe=iu(ve,_e.mode,ze,ft),fe.return=_e,fe):(fe=v(fe,ve),fe.return=_e,fe)}function $e(_e,fe,ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=Gp(""+fe,_e.mode,ve),fe.return=_e,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case z:return ve=$f(fe.type,fe.key,fe.props,null,_e.mode,ve),ve.ref=qc(_e,null,fe),ve.return=_e,ve;case J:return fe=Kp(fe,_e.mode,ve),fe.return=_e,fe;case re:var ze=fe._init;return $e(_e,ze(fe._payload),ve)}if(cn(fe)||ne(fe))return fe=iu(fe,_e.mode,ve,null),fe.return=_e,fe;Gl(_e,fe)}return null}function Fe(_e,fe,ve,ze){var ft=fe!==null?fe.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ft!==null?null:Z(_e,fe,""+ve,ze);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case z:return ve.key===ft?ae(_e,fe,ve,ze):null;case J:return ve.key===ft?be(_e,fe,ve,ze):null;case re:return ft=ve._init,Fe(_e,fe,ft(ve._payload),ze)}if(cn(ve)||ne(ve))return ft!==null?null:Be(_e,fe,ve,ze,null);Gl(_e,ve)}return null}function tt(_e,fe,ve,ze,ft){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return _e=_e.get(ve)||null,Z(fe,_e,""+ze,ft);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case z:return _e=_e.get(ze.key===null?ve:ze.key)||null,ae(fe,_e,ze,ft);case J:return _e=_e.get(ze.key===null?ve:ze.key)||null,be(fe,_e,ze,ft);case re:var Et=ze._init;return tt(_e,fe,ve,Et(ze._payload),ft)}if(cn(ze)||ne(ze))return _e=_e.get(ve)||null,Be(fe,_e,ze,ft,null);Gl(fe,ze)}return null}function at(_e,fe,ve,ze){for(var ft=null,Et=null,Tt=fe,Rt=fe=0,mi=null;Tt!==null&&Rt<ve.length;Rt++){Tt.index>Rt?(mi=Tt,Tt=null):mi=Tt.sibling;var Mn=Fe(_e,Tt,ve[Rt],ze);if(Mn===null){Tt===null&&(Tt=mi);break}s&&Tt&&Mn.alternate===null&&a(_e,Tt),fe=b(Mn,fe,Rt),Et===null?ft=Mn:Et.sibling=Mn,Et=Mn,Tt=mi}if(Rt===ve.length)return f(_e,Tt),pr&&Hl(_e,Rt),ft;if(Tt===null){for(;Rt<ve.length;Rt++)Tt=$e(_e,ve[Rt],ze),Tt!==null&&(fe=b(Tt,fe,Rt),Et===null?ft=Tt:Et.sibling=Tt,Et=Tt);return pr&&Hl(_e,Rt),ft}for(Tt=m(_e,Tt);Rt<ve.length;Rt++)mi=tt(Tt,_e,Rt,ve[Rt],ze),mi!==null&&(s&&mi.alternate!==null&&Tt.delete(mi.key===null?Rt:mi.key),fe=b(mi,fe,Rt),Et===null?ft=mi:Et.sibling=mi,Et=mi);return s&&Tt.forEach(function(dl){return a(_e,dl)}),pr&&Hl(_e,Rt),ft}function ht(_e,fe,ve,ze){var ft=ne(ve);if(typeof ft!="function")throw Error(t(150));if(ve=ft.call(ve),ve==null)throw Error(t(151));for(var Et=ft=null,Tt=fe,Rt=fe=0,mi=null,Mn=ve.next();Tt!==null&&!Mn.done;Rt++,Mn=ve.next()){Tt.index>Rt?(mi=Tt,Tt=null):mi=Tt.sibling;var dl=Fe(_e,Tt,Mn.value,ze);if(dl===null){Tt===null&&(Tt=mi);break}s&&Tt&&dl.alternate===null&&a(_e,Tt),fe=b(dl,fe,Rt),Et===null?ft=dl:Et.sibling=dl,Et=dl,Tt=mi}if(Mn.done)return f(_e,Tt),pr&&Hl(_e,Rt),ft;if(Tt===null){for(;!Mn.done;Rt++,Mn=ve.next())Mn=$e(_e,Mn.value,ze),Mn!==null&&(fe=b(Mn,fe,Rt),Et===null?ft=Mn:Et.sibling=Mn,Et=Mn);return pr&&Hl(_e,Rt),ft}for(Tt=m(_e,Tt);!Mn.done;Rt++,Mn=ve.next())Mn=tt(Tt,_e,Rt,Mn.value,ze),Mn!==null&&(s&&Mn.alternate!==null&&Tt.delete(Mn.key===null?Rt:Mn.key),fe=b(Mn,fe,Rt),Et===null?ft=Mn:Et.sibling=Mn,Et=Mn);return s&&Tt.forEach(function(e1){return a(_e,e1)}),pr&&Hl(_e,Rt),ft}function Dr(_e,fe,ve,ze){if(typeof ve=="object"&&ve!==null&&ve.type===D&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case z:e:{for(var ft=ve.key,Et=fe;Et!==null;){if(Et.key===ft){if(ft=ve.type,ft===D){if(Et.tag===7){f(_e,Et.sibling),fe=v(Et,ve.props.children),fe.return=_e,_e=fe;break e}}else if(Et.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===re&&Pm(ft)===Et.type){f(_e,Et.sibling),fe=v(Et,ve.props),fe.ref=qc(_e,Et,ve),fe.return=_e,_e=fe;break e}f(_e,Et);break}else a(_e,Et);Et=Et.sibling}ve.type===D?(fe=iu(ve.props.children,_e.mode,ze,ve.key),fe.return=_e,_e=fe):(ze=$f(ve.type,ve.key,ve.props,null,_e.mode,ze),ze.ref=qc(_e,fe,ve),ze.return=_e,_e=ze)}return V(_e);case J:e:{for(Et=ve.key;fe!==null;){if(fe.key===Et)if(fe.tag===4&&fe.stateNode.containerInfo===ve.containerInfo&&fe.stateNode.implementation===ve.implementation){f(_e,fe.sibling),fe=v(fe,ve.children||[]),fe.return=_e,_e=fe;break e}else{f(_e,fe);break}else a(_e,fe);fe=fe.sibling}fe=Kp(ve,_e.mode,ze),fe.return=_e,_e=fe}return V(_e);case re:return Et=ve._init,Dr(_e,fe,Et(ve._payload),ze)}if(cn(ve))return at(_e,fe,ve,ze);if(ne(ve))return ht(_e,fe,ve,ze);Gl(_e,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,fe!==null&&fe.tag===6?(f(_e,fe.sibling),fe=v(fe,ve),fe.return=_e,_e=fe):(f(_e,fe),fe=Gp(ve,_e.mode,ze),fe.return=_e,_e=fe),V(_e)):f(_e,fe)}return Dr}var Lr=ap(!0),uf=ap(!1),jc=Ts(null),js=null,nl=null,zu=null;function ba(){zu=nl=js=null}function cf(s){var a=jc.current;dr(jc),s._currentValue=a}function Ni(s,a,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===f)break;s=s.return}}function rl(s,a){js=s,zu=nl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(as=!0),s.firstContext=null)}function no(s){var a=s._currentValue;if(zu!==s)if(s={context:s,memoizedValue:a,next:null},nl===null){if(js===null)throw Error(t(308));nl=s,js.dependencies={lanes:0,firstContext:s}}else nl=nl.next=s;return a}var Kl=null;function lp(s){Kl===null?Kl=[s]:Kl.push(s)}function hf(s,a,f,m){var v=a.interleaved;return v===null?(f.next=f,lp(a)):(f.next=v.next,v.next=f),a.interleaved=f,Sa(s,m)}function Sa(s,a){s.lanes|=a;var f=s.alternate;for(f!==null&&(f.lanes|=a),f=s,s=s.return;s!==null;)s.childLanes|=a,f=s.alternate,f!==null&&(f.childLanes|=a),f=s,s=s.return;return f.tag===3?f.stateNode:null}var ro=!1;function ff(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Aa(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function io(s,a,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,kn&2){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,Sa(s,f)}return v=m.interleaved,v===null?(a.next=a,lp(m)):(a.next=v.next,v.next=a),m.interleaved=a,Sa(s,f)}function df(s,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,f|=m,a.lanes=f,rr(s,f)}}function Dm(s,a){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var v=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};b===null?v=b=V:b=b.next=V,f=f.next}while(f!==null);b===null?v=b=a:b=b.next=a}else v=b=a;f={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,effects:m.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=a:s.next=a,f.lastBaseUpdate=a}function Hu(s,a,f,m){var v=s.updateQueue;ro=!1;var b=v.firstBaseUpdate,V=v.lastBaseUpdate,Z=v.shared.pending;if(Z!==null){v.shared.pending=null;var ae=Z,be=ae.next;ae.next=null,V===null?b=be:V.next=be,V=ae;var Be=s.alternate;Be!==null&&(Be=Be.updateQueue,Z=Be.lastBaseUpdate,Z!==V&&(Z===null?Be.firstBaseUpdate=be:Z.next=be,Be.lastBaseUpdate=ae))}if(b!==null){var $e=v.baseState;V=0,Be=be=ae=null,Z=b;do{var Fe=Z.lane,tt=Z.eventTime;if((m&Fe)===Fe){Be!==null&&(Be=Be.next={eventTime:tt,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var at=s,ht=Z;switch(Fe=a,tt=f,ht.tag){case 1:if(at=ht.payload,typeof at=="function"){$e=at.call(tt,$e,Fe);break e}$e=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ht.payload,Fe=typeof at=="function"?at.call(tt,$e,Fe):at,Fe==null)break e;$e=Y({},$e,Fe);break e;case 2:ro=!0}}Z.callback!==null&&Z.lane!==0&&(s.flags|=64,Fe=v.effects,Fe===null?v.effects=[Z]:Fe.push(Z))}else tt={eventTime:tt,lane:Fe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Be===null?(be=Be=tt,ae=$e):Be=Be.next=tt,V|=Fe;if(Z=Z.next,Z===null){if(Z=v.shared.pending,Z===null)break;Fe=Z,Z=Fe.next,Fe.next=null,v.lastBaseUpdate=Fe,v.shared.pending=null}}while(!0);if(Be===null&&(ae=$e),v.baseState=ae,v.firstBaseUpdate=be,v.lastBaseUpdate=Be,a=v.shared.interleaved,a!==null){v=a;do V|=v.lane,v=v.next;while(v!==a)}else b===null&&(v.shared.lanes=0);ll|=V,s.lanes=V,s.memoizedState=$e}}function up(s,a,f){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],v=m.callback;if(v!==null){if(m.callback=null,m=f,typeof v!="function")throw Error(t(191,v));v.call(m)}}}var $c={},Jo=Ts($c),zc=Ts($c),Wu=Ts($c);function Ca(s){if(s===$c)throw Error(t(174));return s}function cp(s,a){switch(ar(Wu,a),ar(zc,s),ar(Jo,$c),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:wt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=wt(a,s)}dr(Jo),ar(Jo,a)}function il(){dr(Jo),dr(zc),dr(Wu)}function hp(s){Ca(Wu.current);var a=Ca(Jo.current),f=wt(a,s.type);a!==f&&(ar(zc,s),ar(Jo,f))}function pf(s){zc.current===s&&(dr(Jo),dr(zc))}var Er=Ts(0);function Ql(s){for(var a=s;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fp=[];function gf(){for(var s=0;s<fp.length;s++)fp[s]._workInProgressVersionPrimary=null;fp.length=0}var Hc=F.ReactCurrentDispatcher,dp=F.ReactCurrentBatchConfig,sl=0,Cr=null,qr=null,pi=null,Gu=!1,Wc=!1,Jl=0,ln=0;function Xi(){throw Error(t(321))}function pp(s,a){if(a===null)return!1;for(var f=0;f<a.length&&f<s.length;f++)if(!we(s[f],a[f]))return!1;return!0}function Xl(s,a,f,m,v,b){if(sl=b,Cr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Hc.current=s===null||s.memoizedState===null?F_:Tf,s=f(m,v),Wc){b=0;do{if(Wc=!1,Jl=0,25<=b)throw Error(t(301));b+=1,pi=qr=null,a.updateQueue=null,Hc.current=Xu,s=f(m,v)}while(Wc)}if(Hc.current=Ef,a=qr!==null&&qr.next!==null,sl=0,pi=qr=Cr=null,Gu=!1,a)throw Error(t(300));return s}function mf(){var s=Jl!==0;return Jl=0,s}function Xo(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?Cr.memoizedState=pi=s:pi=pi.next=s,pi}function so(){if(qr===null){var s=Cr.alternate;s=s!==null?s.memoizedState:null}else s=qr.next;var a=pi===null?Cr.memoizedState:pi.next;if(a!==null)pi=a,qr=s;else{if(s===null)throw Error(t(310));qr=s,s={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},pi===null?Cr.memoizedState=pi=s:pi=pi.next=s}return pi}function Yi(s,a){return typeof a=="function"?a(s):a}function gp(s){var a=so(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=qr,v=m.baseQueue,b=f.pending;if(b!==null){if(v!==null){var V=v.next;v.next=b.next,b.next=V}m.baseQueue=v=b,f.pending=null}if(v!==null){b=v.next,m=m.baseState;var Z=V=null,ae=null,be=b;do{var Be=be.lane;if((sl&Be)===Be)ae!==null&&(ae=ae.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),m=be.hasEagerState?be.eagerState:s(m,be.action);else{var $e={lane:Be,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};ae===null?(Z=ae=$e,V=m):ae=ae.next=$e,Cr.lanes|=Be,ll|=Be}be=be.next}while(be!==null&&be!==b);ae===null?V=m:ae.next=Z,we(m,a.memoizedState)||(as=!0),a.memoizedState=m,a.baseState=V,a.baseQueue=ae,f.lastRenderedState=m}if(s=f.interleaved,s!==null){v=s;do b=v.lane,Cr.lanes|=b,ll|=b,v=v.next;while(v!==s)}else v===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function Ku(s){var a=so(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=f.dispatch,v=f.pending,b=a.memoizedState;if(v!==null){f.pending=null;var V=v=v.next;do b=s(b,V.action),V=V.next;while(V!==v);we(b,a.memoizedState)||(as=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),f.lastRenderedState=b}return[b,m]}function yf(){}function mp(s,a){var f=Cr,m=so(),v=a(),b=!we(m.memoizedState,v);if(b&&(m.memoizedState=v,as=!0),m=m.queue,Yo(xa.bind(null,f,m,s),[s]),m.getSnapshot!==a||b||pi!==null&&pi.memoizedState.tag&1){if(f.flags|=2048,Qu(9,Cs.bind(null,f,m,v,a),void 0,null),Ci===null)throw Error(t(349));sl&30||yp(f,a,v)}return v}function yp(s,a,f){s.flags|=16384,s={getSnapshot:a,value:f},a=Cr.updateQueue,a===null?(a={lastEffect:null,stores:null},Cr.updateQueue=a,a.stores=[s]):(f=a.stores,f===null?a.stores=[s]:f.push(s))}function Cs(s,a,f,m){a.value=f,a.getSnapshot=m,_f(a)&&_p(s)}function xa(s,a,f){return f(function(){_f(a)&&_p(s)})}function _f(s){var a=s.getSnapshot;s=s.value;try{var f=a();return!we(s,f)}catch{return!0}}function _p(s){var a=Sa(s,1);a!==null&&Co(a,s,1,-1)}function Gc(s){var a=Xo();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},a.queue=s,s=s.dispatch=qm.bind(null,Cr,s),[a.memoizedState,s]}function Qu(s,a,f,m){return s={tag:s,create:a,destroy:f,deps:m,next:null},a=Cr.updateQueue,a===null?(a={lastEffect:null,stores:null},Cr.updateQueue=a,a.lastEffect=s.next=s):(f=a.lastEffect,f===null?a.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,a.lastEffect=s)),s}function vf(){return so().memoizedState}function Kc(s,a,f,m){var v=Xo();Cr.flags|=s,v.memoizedState=Qu(1|a,f,void 0,m===void 0?null:m)}function Ju(s,a,f,m){var v=so();m=m===void 0?null:m;var b=void 0;if(qr!==null){var V=qr.memoizedState;if(b=V.destroy,m!==null&&pp(m,V.deps)){v.memoizedState=Qu(a,f,b,m);return}}Cr.flags|=s,v.memoizedState=Qu(1|a,f,b,m)}function wf(s,a){return Kc(8390656,8,s,a)}function Yo(s,a){return Ju(2048,8,s,a)}function Mm(s,a){return Ju(4,2,s,a)}function Ia(s,a){return Ju(4,4,s,a)}function vp(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function wp(s,a,f){return f=f!=null?f.concat([s]):null,Ju(4,4,vp.bind(null,a,s),f)}function Qc(){}function Fm(s,a){var f=so();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&pp(a,m[1])?m[0]:(f.memoizedState=[s,a],s)}function Um(s,a){var f=so();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&pp(a,m[1])?m[0]:(s=s(),f.memoizedState=[s,a],s)}function Bm(s,a,f){return sl&21?(we(f,a)||(f=xt(),Cr.lanes|=f,ll|=f,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,as=!0),s.memoizedState=f)}function Vm(s,a){var f=vt;vt=f!==0&&4>f?f:4,s(!0);var m=dp.transition;dp.transition={};try{s(!1),a()}finally{vt=f,dp.transition=m}}function Ep(){return so().memoizedState}function M_(s,a,f){var m=hl(s);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},Tp(s))os(a,f);else if(f=hf(s,a,f,m),f!==null){var v=cs();Co(f,s,m,v),Eo(f,a,m)}}function qm(s,a,f){var m=hl(s),v={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(Tp(s))os(a,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var V=a.lastRenderedState,Z=b(V,f);if(v.hasEagerState=!0,v.eagerState=Z,we(Z,V)){var ae=a.interleaved;ae===null?(v.next=v,lp(a)):(v.next=ae.next,ae.next=v),a.interleaved=v;return}}catch{}finally{}f=hf(s,a,v,m),f!==null&&(v=cs(),Co(f,s,m,v),Eo(f,a,m))}}function Tp(s){var a=s.alternate;return s===Cr||a!==null&&a===Cr}function os(s,a){Wc=Gu=!0;var f=s.pending;f===null?a.next=a:(a.next=f.next,f.next=a),s.pending=a}function Eo(s,a,f){if(f&4194240){var m=a.lanes;m&=s.pendingLanes,f|=m,a.lanes=f,rr(s,f)}}var Ef={readContext:no,useCallback:Xi,useContext:Xi,useEffect:Xi,useImperativeHandle:Xi,useInsertionEffect:Xi,useLayoutEffect:Xi,useMemo:Xi,useReducer:Xi,useRef:Xi,useState:Xi,useDebugValue:Xi,useDeferredValue:Xi,useTransition:Xi,useMutableSource:Xi,useSyncExternalStore:Xi,useId:Xi,unstable_isNewReconciler:!1},F_={readContext:no,useCallback:function(s,a){return Xo().memoizedState=[s,a===void 0?null:a],s},useContext:no,useEffect:wf,useImperativeHandle:function(s,a,f){return f=f!=null?f.concat([s]):null,Kc(4194308,4,vp.bind(null,a,s),f)},useLayoutEffect:function(s,a){return Kc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Kc(4,2,s,a)},useMemo:function(s,a){var f=Xo();return a=a===void 0?null:a,s=s(),f.memoizedState=[s,a],s},useReducer:function(s,a,f){var m=Xo();return a=f!==void 0?f(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=M_.bind(null,Cr,s),[m.memoizedState,s]},useRef:function(s){var a=Xo();return s={current:s},a.memoizedState=s},useState:Gc,useDebugValue:Qc,useDeferredValue:function(s){return Xo().memoizedState=s},useTransition:function(){var s=Gc(!1),a=s[0];return s=Vm.bind(null,s[1]),Xo().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,f){var m=Cr,v=Xo();if(pr){if(f===void 0)throw Error(t(407));f=f()}else{if(f=a(),Ci===null)throw Error(t(349));sl&30||yp(m,a,f)}v.memoizedState=f;var b={value:f,getSnapshot:a};return v.queue=b,wf(xa.bind(null,m,b,s),[s]),m.flags|=2048,Qu(9,Cs.bind(null,m,b,f,a),void 0,null),f},useId:function(){var s=Xo(),a=Ci.identifierPrefix;if(pr){var f=Wo,m=Ho;f=(m&~(1<<32-Yt(m)-1)).toString(32)+f,a=":"+a+"R"+f,f=Jl++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=ln++,a=":"+a+"r"+f.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Tf={readContext:no,useCallback:Fm,useContext:no,useEffect:Yo,useImperativeHandle:wp,useInsertionEffect:Mm,useLayoutEffect:Ia,useMemo:Um,useReducer:gp,useRef:vf,useState:function(){return gp(Yi)},useDebugValue:Qc,useDeferredValue:function(s){var a=so();return Bm(a,qr.memoizedState,s)},useTransition:function(){var s=gp(Yi)[0],a=so().memoizedState;return[s,a]},useMutableSource:yf,useSyncExternalStore:mp,useId:Ep,unstable_isNewReconciler:!1},Xu={readContext:no,useCallback:Fm,useContext:no,useEffect:Yo,useImperativeHandle:wp,useInsertionEffect:Mm,useLayoutEffect:Ia,useMemo:Um,useReducer:Ku,useRef:vf,useState:function(){return Ku(Yi)},useDebugValue:Qc,useDeferredValue:function(s){var a=so();return qr===null?a.memoizedState=s:Bm(a,qr.memoizedState,s)},useTransition:function(){var s=Ku(Yi)[0],a=so().memoizedState;return[s,a]},useMutableSource:yf,useSyncExternalStore:mp,useId:Ep,unstable_isNewReconciler:!1};function oo(s,a){if(s&&s.defaultProps){a=Y({},a),s=s.defaultProps;for(var f in s)a[f]===void 0&&(a[f]=s[f]);return a}return a}function bf(s,a,f,m){a=s.memoizedState,f=f(m,a),f=f==null?a:Y({},a,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Sf={isMounted:function(s){return(s=s._reactInternals)?Ur(s)===s:!1},enqueueSetState:function(s,a,f){s=s._reactInternals;var m=cs(),v=hl(s),b=Aa(m,v);b.payload=a,f!=null&&(b.callback=f),a=io(s,b,v),a!==null&&(Co(a,s,v,m),df(a,s,v))},enqueueReplaceState:function(s,a,f){s=s._reactInternals;var m=cs(),v=hl(s),b=Aa(m,v);b.tag=1,b.payload=a,f!=null&&(b.callback=f),a=io(s,b,v),a!==null&&(Co(a,s,v,m),df(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var f=cs(),m=hl(s),v=Aa(f,m);v.tag=2,a!=null&&(v.callback=a),a=io(s,v,m),a!==null&&(Co(a,s,m,f),df(a,s,m))}};function bp(s,a,f,m,v,b,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,V):a.prototype&&a.prototype.isPureReactComponent?!et(f,m)||!et(v,b):!0}function Yl(s,a,f){var m=!1,v=el,b=a.contextType;return typeof b=="object"&&b!==null?b=no(b):(v=Ss(a)?ss:Ki.current,m=a.contextTypes,b=(m=m!=null)?ju(s,v):el),a=new a(f,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Sf,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=b),a}function Yu(s,a,f,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==s&&Sf.enqueueReplaceState(a,a.state,null)}function Sp(s,a,f,m){var v=s.stateNode;v.props=f,v.state=s.memoizedState,v.refs={},ff(s);var b=a.contextType;typeof b=="object"&&b!==null?v.context=no(b):(b=Ss(a)?ss:Ki.current,v.context=ju(s,b)),v.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(bf(s,a,b,f),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Sf.enqueueReplaceState(v,v.state,null),Hu(s,f,v,m),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Zl(s,a){try{var f="",m=a;do f+=Ce(m),m=m.return;while(m);var v=f}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:v,digest:null}}function Af(s,a,f){return{value:s,source:null,stack:f??null,digest:a??null}}function Zu(s,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var jm=typeof WeakMap=="function"?WeakMap:Map;function Jc(s,a,f){f=Aa(-1,f),f.tag=3,f.payload={element:null};var m=a.value;return f.callback=function(){Mf||(Mf=!0,Vp=m),Zu(s,a)},f}function Cf(s,a,f){f=Aa(-1,f),f.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var v=a.value;f.payload=function(){return m(v)},f.callback=function(){Zu(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(f.callback=function(){Zu(s,a),typeof m!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var V=a.stack;this.componentDidCatch(a.value,{componentStack:V!==null?V:""})}),f}function Xc(s,a,f){var m=s.pingCache;if(m===null){m=s.pingCache=new jm;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(f)||(v.add(f),s=H_.bind(null,s,a,f),a.then(s,s))}function $m(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Ap(s,a,f,m,v){return s.mode&1?(s.flags|=65536,s.lanes=v,s):(s===a?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=Aa(-1,1),a.tag=2,io(f,a,1))),f.lanes|=1),s)}var xf=F.ReactCurrentOwner,as=!1;function Oi(s,a,f,m){a.child=s===null?uf(a,null,f,m):Lr(a,s.child,f,m)}function zm(s,a,f,m,v){f=f.render;var b=a.ref;return rl(a,v),m=Xl(s,a,f,m,b,v),f=mf(),s!==null&&!as?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,To(s,a,v)):(pr&&f&&Bc(a),a.flags|=1,Oi(s,a,m,v),a.child)}function Cp(s,a,f,m,v){if(s===null){var b=f.type;return typeof b=="function"&&!jf(b)&&b.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=b,Zo(s,a,b,m,v)):(s=$f(f.type,null,m,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!(s.lanes&v)){var V=b.memoizedProps;if(f=f.compare,f=f!==null?f:et,f(V,m)&&s.ref===a.ref)return To(s,a,v)}return a.flags|=1,s=xo(b,m),s.ref=a.ref,s.return=a,a.child=s}function Zo(s,a,f,m,v){if(s!==null){var b=s.memoizedProps;if(et(b,m)&&s.ref===a.ref)if(as=!1,a.pendingProps=m=b,(s.lanes&v)!==0)s.flags&131072&&(as=!0);else return a.lanes=s.lanes,To(s,a,v)}return Rp(s,a,f,m,v)}function xp(s,a,f){var m=a.pendingProps,v=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(rc,zs),zs|=f;else{if(!(f&1073741824))return s=b!==null?b.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ar(rc,zs),zs|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:f,ar(rc,zs),zs|=m}else b!==null?(m=b.baseLanes|f,a.memoizedState=null):m=f,ar(rc,zs),zs|=m;return Oi(s,a,v,f),a.child}function Ip(s,a){var f=a.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function Rp(s,a,f,m,v){var b=Ss(f)?ss:Ki.current;return b=ju(a,b),rl(a,v),f=Xl(s,a,f,m,b,v),m=mf(),s!==null&&!as?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,To(s,a,v)):(pr&&m&&Bc(a),a.flags|=1,Oi(s,a,f,v),a.child)}function kp(s,a,f,m,v){if(Ss(f)){var b=!0;Zs(a)}else b=!1;if(rl(a,v),a.stateNode===null)Rf(s,a),Yl(a,f,m),Sp(a,f,m,v),m=!0;else if(s===null){var V=a.stateNode,Z=a.memoizedProps;V.props=Z;var ae=V.context,be=f.contextType;typeof be=="object"&&be!==null?be=no(be):(be=Ss(f)?ss:Ki.current,be=ju(a,be));var Be=f.getDerivedStateFromProps,$e=typeof Be=="function"||typeof V.getSnapshotBeforeUpdate=="function";$e||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Z!==m||ae!==be)&&Yu(a,V,m,be),ro=!1;var Fe=a.memoizedState;V.state=Fe,Hu(a,m,V,v),ae=a.memoizedState,Z!==m||Fe!==ae||bs.current||ro?(typeof Be=="function"&&(bf(a,f,Be,m),ae=a.memoizedState),(Z=ro||bp(a,f,Z,m,Fe,ae,be))?($e||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(a.flags|=4194308)):(typeof V.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=ae),V.props=m,V.state=ae,V.context=be,m=Z):(typeof V.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{V=a.stateNode,Lm(s,a),Z=a.memoizedProps,be=a.type===a.elementType?Z:oo(a.type,Z),V.props=be,$e=a.pendingProps,Fe=V.context,ae=f.contextType,typeof ae=="object"&&ae!==null?ae=no(ae):(ae=Ss(f)?ss:Ki.current,ae=ju(a,ae));var tt=f.getDerivedStateFromProps;(Be=typeof tt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Z!==$e||Fe!==ae)&&Yu(a,V,m,ae),ro=!1,Fe=a.memoizedState,V.state=Fe,Hu(a,m,V,v);var at=a.memoizedState;Z!==$e||Fe!==at||bs.current||ro?(typeof tt=="function"&&(bf(a,f,tt,m),at=a.memoizedState),(be=ro||bp(a,f,be,m,Fe,at,ae)||!1)?(Be||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(m,at,ae),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(m,at,ae)),typeof V.componentDidUpdate=="function"&&(a.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof V.componentDidUpdate!="function"||Z===s.memoizedProps&&Fe===s.memoizedState||(a.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Z===s.memoizedProps&&Fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=at),V.props=m,V.state=at,V.context=ae,m=be):(typeof V.componentDidUpdate!="function"||Z===s.memoizedProps&&Fe===s.memoizedState||(a.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Z===s.memoizedProps&&Fe===s.memoizedState||(a.flags|=1024),m=!1)}return Np(s,a,f,m,b,v)}function Np(s,a,f,m,v,b){Ip(s,a);var V=(a.flags&128)!==0;if(!m&&!V)return v&&Im(a,f,!1),To(s,a,b);m=a.stateNode,xf.current=a;var Z=V&&typeof f.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&V?(a.child=Lr(a,s.child,null,b),a.child=Lr(a,null,Z,b)):Oi(s,a,Z,b),a.memoizedState=m.state,v&&Im(a,f,!0),a.child}function Hm(s){var a=s.stateNode;a.pendingContext?Cm(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Cm(s,a.context,!1),cp(s,a.containerInfo)}function ea(s,a,f,m,v){return Ko(),Qo(v),a.flags|=256,Oi(s,a,f,m),a.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function Zc(s){return{baseLanes:s,cachePool:null,transitions:null}}function If(s,a,f){var m=a.pendingProps,v=Er.current,b=!1,V=(a.flags&128)!==0,Z;if((Z=V)||(Z=s!==null&&s.memoizedState===null?!1:(v&2)!==0),Z?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),ar(Er,v&1),s===null)return As(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(V=m.children,s=m.fallback,b?(m=a.mode,b=a.child,V={mode:"hidden",children:V},!(m&1)&&b!==null?(b.childLanes=0,b.pendingProps=V):b=zf(V,m,0,null),s=iu(s,m,f,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=Zc(f),a.memoizedState=Yc,s):ec(a,V));if(v=s.memoizedState,v!==null&&(Z=v.dehydrated,Z!==null))return bt(s,a,V,m,Z,v,f);if(b){b=m.fallback,V=a.mode,v=s.child,Z=v.sibling;var ae={mode:"hidden",children:m.children};return!(V&1)&&a.child!==v?(m=a.child,m.childLanes=0,m.pendingProps=ae,a.deletions=null):(m=xo(v,ae),m.subtreeFlags=v.subtreeFlags&14680064),Z!==null?b=xo(Z,b):(b=iu(b,V,f,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,V=s.child.memoizedState,V=V===null?Zc(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},b.memoizedState=V,b.childLanes=s.childLanes&~f,a.memoizedState=Yc,m}return b=s.child,s=b.sibling,m=xo(b,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=f),m.return=a,m.sibling=null,s!==null&&(f=a.deletions,f===null?(a.deletions=[s],a.flags|=16):f.push(s)),a.child=m,a.memoizedState=null,m}function ec(s,a){return a=zf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ra(s,a,f,m){return m!==null&&Qo(m),Lr(a,s.child,null,f),s=ec(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function bt(s,a,f,m,v,b,V){if(f)return a.flags&256?(a.flags&=-257,m=Af(Error(t(422))),Ra(s,a,V,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=m.fallback,v=a.mode,m=zf({mode:"visible",children:m.children},v,0,null),b=iu(b,v,V,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,a.mode&1&&Lr(a,s.child,null,V),a.child.memoizedState=Zc(V),a.memoizedState=Yc,b);if(!(a.mode&1))return Ra(s,a,V,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var Z=m.dgst;return m=Z,b=Error(t(419)),m=Af(b,m,void 0),Ra(s,a,V,m)}if(Z=(V&s.childLanes)!==0,as||Z){if(m=Ci,m!==null){switch(V&-V){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(m.suspendedLanes|V)?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,Sa(s,v),Co(m,s,v,-1))}return Wp(),m=Af(Error(t(421))),Ra(s,a,V,m)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=W_.bind(null,s),v._reactRetry=a,null):(s=b.treeContext,qs=Ya(v.nextSibling),Ji=a,pr=!0,wo=null,s!==null&&(eo[to++]=Ho,eo[to++]=Wo,eo[to++]=zl,Ho=s.id,Wo=s.overflow,zl=a),a=ec(a,m.children),a.flags|=4096,a)}function eh(s,a,f){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Ni(s.return,a,f)}function th(s,a,f,m,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:v}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=f,b.tailMode=v)}function ol(s,a,f){var m=a.pendingProps,v=m.revealOrder,b=m.tail;if(Oi(s,a,m.children,f),m=Er.current,m&2)m=m&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&eh(s,f,a);else if(s.tag===19)eh(s,f,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(ar(Er,m),!(a.mode&1))a.memoizedState=null;else switch(v){case"forwards":for(f=a.child,v=null;f!==null;)s=f.alternate,s!==null&&Ql(s)===null&&(v=f),f=f.sibling;f=v,f===null?(v=a.child,a.child=null):(v=f.sibling,f.sibling=null),th(a,!1,v,f,b);break;case"backwards":for(f=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Ql(s)===null){a.child=v;break}s=v.sibling,v.sibling=f,f=v,v=s}th(a,!0,f,null,b);break;case"together":th(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Rf(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function To(s,a,f){if(s!==null&&(a.dependencies=s.dependencies),ll|=a.lanes,!(f&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,f=xo(s,s.pendingProps),a.child=f,f.return=a;s.sibling!==null;)s=s.sibling,f=f.sibling=xo(s,s.pendingProps),f.return=a;f.sibling=null}return a.child}function Wm(s,a,f){switch(a.tag){case 3:Hm(a),Ko();break;case 5:hp(a);break;case 1:Ss(a.type)&&Zs(a);break;case 4:cp(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,v=a.memoizedProps.value;ar(jc,m._currentValue),m._currentValue=v;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ar(Er,Er.current&1),a.flags|=128,null):f&a.child.childLanes?If(s,a,f):(ar(Er,Er.current&1),s=To(s,a,f),s!==null?s.sibling:null);ar(Er,Er.current&1);break;case 19:if(m=(f&a.childLanes)!==0,s.flags&128){if(m)return ol(s,a,f);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ar(Er,Er.current),m)break;return null;case 22:case 23:return a.lanes=0,xp(s,a,f)}return To(s,a,f)}var Pi,Op,Gm,Pp;Pi=function(s,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Op=function(){},Gm=function(s,a,f,m){var v=s.memoizedProps;if(v!==m){s=a.stateNode,Ca(Jo.current);var b=null;switch(f){case"input":v=st(s,v),m=st(s,m),b=[];break;case"select":v=Y({},v,{value:void 0}),m=Y({},m,{value:void 0}),b=[];break;case"textarea":v=Cn(s,v),m=Cn(s,m),b=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Zh)}Bi(f,m);var V;f=null;for(be in v)if(!m.hasOwnProperty(be)&&v.hasOwnProperty(be)&&v[be]!=null)if(be==="style"){var Z=v[be];for(V in Z)Z.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?b||(b=[]):(b=b||[]).push(be,null));for(be in m){var ae=m[be];if(Z=v!=null?v[be]:void 0,m.hasOwnProperty(be)&&ae!==Z&&(ae!=null||Z!=null))if(be==="style")if(Z){for(V in Z)!Z.hasOwnProperty(V)||ae&&ae.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in ae)ae.hasOwnProperty(V)&&Z[V]!==ae[V]&&(f||(f={}),f[V]=ae[V])}else f||(b||(b=[]),b.push(be,f)),f=ae;else be==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,Z=Z?Z.__html:void 0,ae!=null&&Z!==ae&&(b=b||[]).push(be,ae)):be==="children"?typeof ae!="string"&&typeof ae!="number"||(b=b||[]).push(be,""+ae):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(ae!=null&&be==="onScroll"&&fr("scroll",s),b||Z===ae||(b=[])):(b=b||[]).push(be,ae))}f&&(b=b||[]).push("style",f);var be=b;(a.updateQueue=be)&&(a.flags|=4)}},Pp=function(s,a,f,m){f!==m&&(a.flags|=4)};function nh(s,a){if(!pr)switch(s.tailMode){case"hidden":a=s.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Li(s){var a=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(a)for(var v=s.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=f,a}function U_(s,a,f){var m=a.pendingProps;switch(Wl(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(a),null;case 1:return Ss(a.type)&&rf(),Li(a),null;case 3:return m=a.stateNode,il(),dr(bs),dr(Ki),gf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Vc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,wo!==null&&($p(wo),wo=null))),Op(s,a),Li(a),null;case 5:pf(a);var v=Ca(Wu.current);if(f=a.type,s!==null&&a.stateNode!=null)Gm(s,a,f,m,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return Li(a),null}if(s=Ca(Jo.current),Vc(a)){m=a.stateNode,f=a.type;var b=a.memoizedProps;switch(m[$o]=a,m[Za]=b,s=(a.mode&1)!==0,f){case"dialog":fr("cancel",m),fr("close",m);break;case"iframe":case"object":case"embed":fr("load",m);break;case"video":case"audio":for(v=0;v<wa.length;v++)fr(wa[v],m);break;case"source":fr("error",m);break;case"img":case"image":case"link":fr("error",m),fr("load",m);break;case"details":fr("toggle",m);break;case"input":zt(m,b),fr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},fr("invalid",m);break;case"textarea":mn(m,b),fr("invalid",m)}Bi(f,b),v=null;for(var V in b)if(b.hasOwnProperty(V)){var Z=b[V];V==="children"?typeof Z=="string"?m.textContent!==Z&&(b.suppressHydrationWarning!==!0&&Dc(m.textContent,Z,s),v=["children",Z]):typeof Z=="number"&&m.textContent!==""+Z&&(b.suppressHydrationWarning!==!0&&Dc(m.textContent,Z,s),v=["children",""+Z]):i.hasOwnProperty(V)&&Z!=null&&V==="onScroll"&&fr("scroll",m)}switch(f){case"input":Je(m),ur(m,b,!0);break;case"textarea":Je(m),xn(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Zh)}m=v,a.updateQueue=m,m!==null&&(a.flags|=4)}else{V=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Dt(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=V.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=V.createElement(f,{is:m.is}):(s=V.createElement(f),f==="select"&&(V=s,m.multiple?V.multiple=!0:m.size&&(V.size=m.size))):s=V.createElementNS(s,f),s[$o]=a,s[Za]=m,Pi(s,a,!1,!1),a.stateNode=s;e:{switch(V=Wr(f,m),f){case"dialog":fr("cancel",s),fr("close",s),v=m;break;case"iframe":case"object":case"embed":fr("load",s),v=m;break;case"video":case"audio":for(v=0;v<wa.length;v++)fr(wa[v],s);v=m;break;case"source":fr("error",s),v=m;break;case"img":case"image":case"link":fr("error",s),fr("load",s),v=m;break;case"details":fr("toggle",s),v=m;break;case"input":zt(s,m),v=st(s,m),fr("invalid",s);break;case"option":v=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},v=Y({},m,{value:void 0}),fr("invalid",s);break;case"textarea":mn(s,m),v=Cn(s,m),fr("invalid",s);break;default:v=m}Bi(f,v),Z=v;for(b in Z)if(Z.hasOwnProperty(b)){var ae=Z[b];b==="style"?Ei(s,ae):b==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&qn(s,ae)):b==="children"?typeof ae=="string"?(f!=="textarea"||ae!=="")&&Qt(s,ae):typeof ae=="number"&&Qt(s,""+ae):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?ae!=null&&b==="onScroll"&&fr("scroll",s):ae!=null&&C(s,b,ae,V))}switch(f){case"input":Je(s),ur(s,m,!1);break;case"textarea":Je(s),xn(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Ie(m.value));break;case"select":s.multiple=!!m.multiple,b=m.value,b!=null?hn(s,!!m.multiple,b,!1):m.defaultValue!=null&&hn(s,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Zh)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Li(a),null;case 6:if(s&&a.stateNode!=null)Pp(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(f=Ca(Wu.current),Ca(Jo.current),Vc(a)){if(m=a.stateNode,f=a.memoizedProps,m[$o]=a,(b=m.nodeValue!==f)&&(s=Ji,s!==null))switch(s.tag){case 3:Dc(m.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Dc(m.nodeValue,f,(s.mode&1)!==0)}b&&(a.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[$o]=a,a.stateNode=m}return Li(a),null;case 13:if(dr(Er),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(pr&&qs!==null&&a.mode&1&&!(a.flags&128))op(),Ko(),a.flags|=98560,b=!1;else if(b=Vc(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(t(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));b[$o]=a}else Ko(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Li(a),b=!1}else wo!==null&&($p(wo),wo=null),b=!0;if(!b)return a.flags&65536?a:null}return a.flags&128?(a.lanes=f,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(s===null||Er.current&1?gi===0&&(gi=3):Wp())),a.updateQueue!==null&&(a.flags|=4),Li(a),null);case 4:return il(),Op(s,a),s===null&&Ja(a.stateNode.containerInfo),Li(a),null;case 10:return cf(a.type._context),Li(a),null;case 17:return Ss(a.type)&&rf(),Li(a),null;case 19:if(dr(Er),b=a.memoizedState,b===null)return Li(a),null;if(m=(a.flags&128)!==0,V=b.rendering,V===null)if(m)nh(b,!1);else{if(gi!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(V=Ql(s),V!==null){for(a.flags|=128,nh(b,!1),m=V.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=f,f=a.child;f!==null;)b=f,s=m,b.flags&=14680066,V=b.alternate,V===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=V.childLanes,b.lanes=V.lanes,b.child=V.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=V.memoizedProps,b.memoizedState=V.memoizedState,b.updateQueue=V.updateQueue,b.type=V.type,s=V.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return ar(Er,Er.current&1|2),a.child}s=s.sibling}b.tail!==null&&rt()>eu&&(a.flags|=128,m=!0,nh(b,!1),a.lanes=4194304)}else{if(!m)if(s=Ql(V),s!==null){if(a.flags|=128,m=!0,f=s.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),nh(b,!0),b.tail===null&&b.tailMode==="hidden"&&!V.alternate&&!pr)return Li(a),null}else 2*rt()-b.renderingStartTime>eu&&f!==1073741824&&(a.flags|=128,m=!0,nh(b,!1),a.lanes=4194304);b.isBackwards?(V.sibling=a.child,a.child=V):(f=b.last,f!==null?f.sibling=V:a.child=V,b.last=V)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=rt(),a.sibling=null,f=Er.current,ar(Er,m?f&1|2:f&1),a):(Li(a),null);case 22:case 23:return Hp(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?zs&1073741824&&(Li(a),a.subtreeFlags&6&&(a.flags|=8192)):Li(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function B_(s,a){switch(Wl(a),a.tag){case 1:return Ss(a.type)&&rf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return il(),dr(bs),dr(Ki),gf(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return pf(a),null;case 13:if(dr(Er),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ko()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return dr(Er),null;case 4:return il(),null;case 10:return cf(a.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var kf=!1,Tr=!1,ls=typeof WeakSet=="function"?WeakSet:Set,it=null;function tc(s,a){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){xr(s,a,m)}else f.current=null}function rh(s,a,f){try{f()}catch(m){xr(s,a,m)}}var Km=!1;function V_(s,a){if(Mc=H,s=Yn(),Rc(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{f.nodeType,b.nodeType}catch{f=null;break e}var V=0,Z=-1,ae=-1,be=0,Be=0,$e=s,Fe=null;t:for(;;){for(var tt;$e!==f||v!==0&&$e.nodeType!==3||(Z=V+v),$e!==b||m!==0&&$e.nodeType!==3||(ae=V+m),$e.nodeType===3&&(V+=$e.nodeValue.length),(tt=$e.firstChild)!==null;)Fe=$e,$e=tt;for(;;){if($e===s)break t;if(Fe===f&&++be===v&&(Z=V),Fe===b&&++Be===m&&(ae=V),(tt=$e.nextSibling)!==null)break;$e=Fe,Fe=$e.parentNode}$e=tt}f=Z===-1||ae===-1?null:{start:Z,end:ae}}else f=null}f=f||{start:0,end:0}}else f=null;for(jl={focusedElem:s,selectionRange:f},H=!1,it=a;it!==null;)if(a=it,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,it=s;else for(;it!==null;){a=it;try{var at=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var ht=at.memoizedProps,Dr=at.memoizedState,_e=a.stateNode,fe=_e.getSnapshotBeforeUpdate(a.elementType===a.type?ht:oo(a.type,ht),Dr);_e.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var ve=a.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ze){xr(a,a.return,ze)}if(s=a.sibling,s!==null){s.return=a.return,it=s;break}it=a.return}return at=Km,Km=!1,at}function ka(s,a,f){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&s)===s){var b=v.destroy;v.destroy=void 0,b!==void 0&&rh(a,f,b)}v=v.next}while(v!==m)}}function ih(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&s)===s){var m=f.create;f.destroy=m()}f=f.next}while(f!==a)}}function Nf(s){var a=s.ref;if(a!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof a=="function"?a(s):a.current=s}}function Qm(s){var a=s.alternate;a!==null&&(s.alternate=null,Qm(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[$o],delete a[Za],delete a[tf],delete a[$],delete a[Vu])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Jm(s){return s.tag===5||s.tag===3||s.tag===4}function Xm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lp(s,a,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(s,a):f.insertBefore(s,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(s,f)):(a=f,a.appendChild(s)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=Zh));else if(m!==4&&(s=s.child,s!==null))for(Lp(s,a,f),s=s.sibling;s!==null;)Lp(s,a,f),s=s.sibling}function Of(s,a,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?f.insertBefore(s,a):f.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Of(s,a,f),s=s.sibling;s!==null;)Of(s,a,f),s=s.sibling}var Ai=null,bo=!1;function ta(s,a,f){for(f=f.child;f!==null;)Dp(s,a,f),f=f.sibling}function Dp(s,a,f){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(qt,f)}catch{}switch(f.tag){case 5:Tr||tc(f,a);case 6:var m=Ai,v=bo;Ai=null,ta(s,a,f),Ai=m,bo=v,Ai!==null&&(bo?(s=Ai,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Ai.removeChild(f.stateNode));break;case 18:Ai!==null&&(bo?(s=Ai,f=f.stateNode,s.nodeType===8?rp(s.parentNode,f):s.nodeType===1&&rp(s,f),tn(s)):rp(Ai,f.stateNode));break;case 4:m=Ai,v=bo,Ai=f.stateNode.containerInfo,bo=!0,ta(s,a,f),Ai=m,bo=v;break;case 0:case 11:case 14:case 15:if(!Tr&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var b=v,V=b.destroy;b=b.tag,V!==void 0&&(b&2||b&4)&&rh(f,a,V),v=v.next}while(v!==m)}ta(s,a,f);break;case 1:if(!Tr&&(tc(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(Z){xr(f,a,Z)}ta(s,a,f);break;case 21:ta(s,a,f);break;case 22:f.mode&1?(Tr=(m=Tr)||f.memoizedState!==null,ta(s,a,f),Tr=m):ta(s,a,f);break;default:ta(s,a,f)}}function nc(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new ls),a.forEach(function(m){var v=G_.bind(null,s,m);f.has(m)||(f.add(m),m.then(v,v))})}}function $s(s,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var v=f[m];try{var b=s,V=a,Z=V;e:for(;Z!==null;){switch(Z.tag){case 5:Ai=Z.stateNode,bo=!1;break e;case 3:Ai=Z.stateNode.containerInfo,bo=!0;break e;case 4:Ai=Z.stateNode.containerInfo,bo=!0;break e}Z=Z.return}if(Ai===null)throw Error(t(160));Dp(b,V,v),Ai=null,bo=!1;var ae=v.alternate;ae!==null&&(ae.return=null),v.return=null}catch(be){xr(v,a,be)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Mp(a,s),a=a.sibling}function Mp(s,a){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if($s(a,s),So(s),m&4){try{ka(3,s,s.return),ih(3,s)}catch(ht){xr(s,s.return,ht)}try{ka(5,s,s.return)}catch(ht){xr(s,s.return,ht)}}break;case 1:$s(a,s),So(s),m&512&&f!==null&&tc(f,f.return);break;case 5:if($s(a,s),So(s),m&512&&f!==null&&tc(f,f.return),s.flags&32){var v=s.stateNode;try{Qt(v,"")}catch(ht){xr(s,s.return,ht)}}if(m&4&&(v=s.stateNode,v!=null)){var b=s.memoizedProps,V=f!==null?f.memoizedProps:b,Z=s.type,ae=s.updateQueue;if(s.updateQueue=null,ae!==null)try{Z==="input"&&b.type==="radio"&&b.name!=null&&tr(v,b),Wr(Z,V);var be=Wr(Z,b);for(V=0;V<ae.length;V+=2){var Be=ae[V],$e=ae[V+1];Be==="style"?Ei(v,$e):Be==="dangerouslySetInnerHTML"?qn(v,$e):Be==="children"?Qt(v,$e):C(v,Be,$e,be)}switch(Z){case"input":Un(v,b);break;case"textarea":Ht(v,b);break;case"select":var Fe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var tt=b.value;tt!=null?hn(v,!!b.multiple,tt,!1):Fe!==!!b.multiple&&(b.defaultValue!=null?hn(v,!!b.multiple,b.defaultValue,!0):hn(v,!!b.multiple,b.multiple?[]:"",!1))}v[Za]=b}catch(ht){xr(s,s.return,ht)}}break;case 6:if($s(a,s),So(s),m&4){if(s.stateNode===null)throw Error(t(162));v=s.stateNode,b=s.memoizedProps;try{v.nodeValue=b}catch(ht){xr(s,s.return,ht)}}break;case 3:if($s(a,s),So(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{tn(a.containerInfo)}catch(ht){xr(s,s.return,ht)}break;case 4:$s(a,s),So(s);break;case 13:$s(a,s),So(s),v=s.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(Bp=rt())),m&4&&nc(s);break;case 22:if(Be=f!==null&&f.memoizedState!==null,s.mode&1?(Tr=(be=Tr)||Be,$s(a,s),Tr=be):$s(a,s),So(s),m&8192){if(be=s.memoizedState!==null,(s.stateNode.isHidden=be)&&!Be&&s.mode&1)for(it=s,Be=s.child;Be!==null;){for($e=it=Be;it!==null;){switch(Fe=it,tt=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:ka(4,Fe,Fe.return);break;case 1:tc(Fe,Fe.return);var at=Fe.stateNode;if(typeof at.componentWillUnmount=="function"){m=Fe,f=Fe.return;try{a=m,at.props=a.memoizedProps,at.state=a.memoizedState,at.componentWillUnmount()}catch(ht){xr(m,f,ht)}}break;case 5:tc(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){al($e);continue}}tt!==null?(tt.return=Fe,it=tt):al($e)}Be=Be.sibling}e:for(Be=null,$e=s;;){if($e.tag===5){if(Be===null){Be=$e;try{v=$e.stateNode,be?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(Z=$e.stateNode,ae=$e.memoizedProps.style,V=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,Z.style.display=ts("display",V))}catch(ht){xr(s,s.return,ht)}}}else if($e.tag===6){if(Be===null)try{$e.stateNode.nodeValue=be?"":$e.memoizedProps}catch(ht){xr(s,s.return,ht)}}else if(($e.tag!==22&&$e.tag!==23||$e.memoizedState===null||$e===s)&&$e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===s)break e;for(;$e.sibling===null;){if($e.return===null||$e.return===s)break e;Be===$e&&(Be=null),$e=$e.return}Be===$e&&(Be=null),$e.sibling.return=$e.return,$e=$e.sibling}}break;case 19:$s(a,s),So(s),m&4&&nc(s);break;case 21:break;default:$s(a,s),So(s)}}function So(s){var a=s.flags;if(a&2){try{e:{for(var f=s.return;f!==null;){if(Jm(f)){var m=f;break e}f=f.return}throw Error(t(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Qt(v,""),m.flags&=-33);var b=Xm(s);Of(s,b,v);break;case 3:case 4:var V=m.stateNode.containerInfo,Z=Xm(s);Lp(s,Z,V);break;default:throw Error(t(161))}}catch(ae){xr(s,s.return,ae)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Pf(s,a,f){it=s,Fp(s)}function Fp(s,a,f){for(var m=(s.mode&1)!==0;it!==null;){var v=it,b=v.child;if(v.tag===22&&m){var V=v.memoizedState!==null||kf;if(!V){var Z=v.alternate,ae=Z!==null&&Z.memoizedState!==null||Tr;Z=kf;var be=Tr;if(kf=V,(Tr=ae)&&!be)for(it=v;it!==null;)V=it,ae=V.child,V.tag===22&&V.memoizedState!==null?Ym(v):ae!==null?(ae.return=V,it=ae):Ym(v);for(;b!==null;)it=b,Fp(b),b=b.sibling;it=v,kf=Z,Tr=be}Ao(s)}else v.subtreeFlags&8772&&b!==null?(b.return=v,it=b):Ao(s)}}function Ao(s){for(;it!==null;){var a=it;if(a.flags&8772){var f=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Tr||ih(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Tr)if(f===null)m.componentDidMount();else{var v=a.elementType===a.type?f.memoizedProps:oo(a.type,f.memoizedProps);m.componentDidUpdate(v,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&up(a,b,m);break;case 3:var V=a.updateQueue;if(V!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}up(a,V,f)}break;case 5:var Z=a.stateNode;if(f===null&&a.flags&4){f=Z;var ae=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&f.focus();break;case"img":ae.src&&(f.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var be=a.alternate;if(be!==null){var Be=be.memoizedState;if(Be!==null){var $e=Be.dehydrated;$e!==null&&tn($e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Tr||a.flags&512&&Nf(a)}catch(Fe){xr(a,a.return,Fe)}}if(a===s){it=null;break}if(f=a.sibling,f!==null){f.return=a.return,it=f;break}it=a.return}}function al(s){for(;it!==null;){var a=it;if(a===s){it=null;break}var f=a.sibling;if(f!==null){f.return=a.return,it=f;break}it=a.return}}function Ym(s){for(;it!==null;){var a=it;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{ih(4,a)}catch(ae){xr(a,f,ae)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var v=a.return;try{m.componentDidMount()}catch(ae){xr(a,v,ae)}}var b=a.return;try{Nf(a)}catch(ae){xr(a,b,ae)}break;case 5:var V=a.return;try{Nf(a)}catch(ae){xr(a,V,ae)}}}catch(ae){xr(a,a.return,ae)}if(a===s){it=null;break}var Z=a.sibling;if(Z!==null){Z.return=a.return,it=Z;break}it=a.return}}var Zm=Math.ceil,Lf=F.ReactCurrentDispatcher,Up=F.ReactCurrentOwner,ao=F.ReactCurrentBatchConfig,kn=0,Ci=null,ti=null,Di=0,zs=0,rc=Ts(0),gi=0,sh=null,ll=0,oh=0,Df=0,ah=null,xs=null,Bp=0,eu=1/0,Na=null,Mf=!1,Vp=null,ul=null,Ff=!1,cl=null,us=0,lh=0,qp=null,Uf=-1,uh=0;function cs(){return kn&6?rt():Uf!==-1?Uf:Uf=rt()}function hl(s){return s.mode&1?kn&2&&Di!==0?Di&-Di:Om.transition!==null?(uh===0&&(uh=xt()),uh):(s=vt,s!==0||(s=window.event,s=s===void 0?16:on(s.type)),s):1}function Co(s,a,f,m){if(50<lh)throw lh=0,qp=null,Error(t(185));wn(s,f,m),(!(kn&2)||s!==Ci)&&(s===Ci&&(!(kn&2)&&(oh|=f),gi===4&&fl(s,Di)),Is(s,m),f===1&&kn===0&&!(a.mode&1)&&(eu=rt()+500,sf&&tl()))}function Is(s,a){var f=s.callbackNode;Ct(s,a);var m=pn(s,s===Ci?Di:0);if(m===0)f!==null&&Ee(f),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(f!=null&&Ee(f),a===1)s.tag===0?$l(ey.bind(null,s)):Rm(ey.bind(null,s)),ef(function(){!(kn&6)&&tl()}),f=null;else{switch(Bn(m)){case 1:f=ce;break;case 4:f=Te;break;case 16:f=Ue;break;case 536870912:f=_t;break;default:f=Ue}f=ay(f,Bf.bind(null,s))}s.callbackPriority=a,s.callbackNode=f}}function Bf(s,a){if(Uf=-1,uh=0,kn&6)throw Error(t(327));var f=s.callbackNode;if(ic()&&s.callbackNode!==f)return null;var m=pn(s,s===Ci?Di:0);if(m===0)return null;if(m&30||m&s.expiredLanes||a)a=Vf(s,m);else{a=m;var v=kn;kn|=2;var b=ny();(Ci!==s||Di!==a)&&(Na=null,eu=rt()+500,nu(s,a));do try{$_();break}catch(Z){ty(s,Z)}while(!0);ba(),Lf.current=b,kn=v,ti!==null?a=0:(Ci=null,Di=0,a=gi)}if(a!==0){if(a===2&&(v=jn(s),v!==0&&(m=v,a=jp(s,v))),a===1)throw f=sh,nu(s,0),fl(s,m),Is(s,rt()),f;if(a===6)fl(s,m);else{if(v=s.current.alternate,!(m&30)&&!q_(v)&&(a=Vf(s,m),a===2&&(b=jn(s),b!==0&&(m=b,a=jp(s,b))),a===1))throw f=sh,nu(s,0),fl(s,m),Is(s,rt()),f;switch(s.finishedWork=v,s.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:ru(s,xs,Na);break;case 3:if(fl(s,m),(m&130023424)===m&&(a=Bp+500-rt(),10<a)){if(pn(s,0)!==0)break;if(v=s.suspendedLanes,(v&m)!==m){cs(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Xa(ru.bind(null,s,xs,Na),a);break}ru(s,xs,Na);break;case 4:if(fl(s,m),(m&4194240)===m)break;for(a=s.eventTimes,v=-1;0<m;){var V=31-Yt(m);b=1<<V,V=a[V],V>v&&(v=V),m&=~b}if(m=v,m=rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Zm(m/1960))-m,10<m){s.timeoutHandle=Xa(ru.bind(null,s,xs,Na),m);break}ru(s,xs,Na);break;case 5:ru(s,xs,Na);break;default:throw Error(t(329))}}}return Is(s,rt()),s.callbackNode===f?Bf.bind(null,s):null}function jp(s,a){var f=ah;return s.current.memoizedState.isDehydrated&&(nu(s,a).flags|=256),s=Vf(s,a),s!==2&&(a=xs,xs=f,a!==null&&$p(a)),s}function $p(s){xs===null?xs=s:xs.push.apply(xs,s)}function q_(s){for(var a=s;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var v=f[m],b=v.getSnapshot;v=v.value;try{if(!we(b(),v))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function fl(s,a){for(a&=~Df,a&=~oh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var f=31-Yt(a),m=1<<f;s[f]=-1,a&=~m}}function ey(s){if(kn&6)throw Error(t(327));ic();var a=pn(s,0);if(!(a&1))return Is(s,rt()),null;var f=Vf(s,a);if(s.tag!==0&&f===2){var m=jn(s);m!==0&&(a=m,f=jp(s,m))}if(f===1)throw f=sh,nu(s,0),fl(s,a),Is(s,rt()),f;if(f===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ru(s,xs,Na),Is(s,rt()),null}function zp(s,a){var f=kn;kn|=1;try{return s(a)}finally{kn=f,kn===0&&(eu=rt()+500,sf&&tl())}}function tu(s){cl!==null&&cl.tag===0&&!(kn&6)&&ic();var a=kn;kn|=1;var f=ao.transition,m=vt;try{if(ao.transition=null,vt=1,s)return s()}finally{vt=m,ao.transition=f,kn=a,!(kn&6)&&tl()}}function Hp(){zs=rc.current,dr(rc)}function nu(s,a){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,Uc(f)),ti!==null)for(f=ti.return;f!==null;){var m=f;switch(Wl(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&rf();break;case 3:il(),dr(bs),dr(Ki),gf();break;case 5:pf(m);break;case 4:il();break;case 13:dr(Er);break;case 19:dr(Er);break;case 10:cf(m.type._context);break;case 22:case 23:Hp()}f=f.return}if(Ci=s,ti=s=xo(s.current,null),Di=zs=a,gi=0,sh=null,Df=oh=ll=0,xs=ah=null,Kl!==null){for(a=0;a<Kl.length;a++)if(f=Kl[a],m=f.interleaved,m!==null){f.interleaved=null;var v=m.next,b=f.pending;if(b!==null){var V=b.next;b.next=v,m.next=V}f.pending=m}Kl=null}return s}function ty(s,a){do{var f=ti;try{if(ba(),Hc.current=Ef,Gu){for(var m=Cr.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Gu=!1}if(sl=0,pi=qr=Cr=null,Wc=!1,Jl=0,Up.current=null,f===null||f.return===null){gi=1,sh=a,ti=null;break}e:{var b=s,V=f.return,Z=f,ae=a;if(a=Di,Z.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var be=ae,Be=Z,$e=Be.tag;if(!(Be.mode&1)&&($e===0||$e===11||$e===15)){var Fe=Be.alternate;Fe?(Be.updateQueue=Fe.updateQueue,Be.memoizedState=Fe.memoizedState,Be.lanes=Fe.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var tt=$m(V);if(tt!==null){tt.flags&=-257,Ap(tt,V,Z,b,a),tt.mode&1&&Xc(b,be,a),a=tt,ae=be;var at=a.updateQueue;if(at===null){var ht=new Set;ht.add(ae),a.updateQueue=ht}else at.add(ae);break e}else{if(!(a&1)){Xc(b,be,a),Wp();break e}ae=Error(t(426))}}else if(pr&&Z.mode&1){var Dr=$m(V);if(Dr!==null){!(Dr.flags&65536)&&(Dr.flags|=256),Ap(Dr,V,Z,b,a),Qo(Zl(ae,Z));break e}}b=ae=Zl(ae,Z),gi!==4&&(gi=2),ah===null?ah=[b]:ah.push(b),b=V;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var _e=Jc(b,ae,a);Dm(b,_e);break e;case 1:Z=ae;var fe=b.type,ve=b.stateNode;if(!(b.flags&128)&&(typeof fe.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(ul===null||!ul.has(ve)))){b.flags|=65536,a&=-a,b.lanes|=a;var ze=Cf(b,Z,a);Dm(b,ze);break e}}b=b.return}while(b!==null)}iy(f)}catch(ft){a=ft,ti===f&&f!==null&&(ti=f=f.return);continue}break}while(!0)}function ny(){var s=Lf.current;return Lf.current=Ef,s===null?Ef:s}function Wp(){(gi===0||gi===3||gi===2)&&(gi=4),Ci===null||!(ll&268435455)&&!(oh&268435455)||fl(Ci,Di)}function Vf(s,a){var f=kn;kn|=2;var m=ny();(Ci!==s||Di!==a)&&(Na=null,nu(s,a));do try{j_();break}catch(v){ty(s,v)}while(!0);if(ba(),kn=f,Lf.current=m,ti!==null)throw Error(t(261));return Ci=null,Di=0,gi}function j_(){for(;ti!==null;)ry(ti)}function $_(){for(;ti!==null&&!qe();)ry(ti)}function ry(s){var a=oy(s.alternate,s,zs);s.memoizedProps=s.pendingProps,a===null?iy(s):ti=a,Up.current=null}function iy(s){var a=s;do{var f=a.alternate;if(s=a.return,a.flags&32768){if(f=B_(f,a),f!==null){f.flags&=32767,ti=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gi=6,ti=null;return}}else if(f=U_(f,a,zs),f!==null){ti=f;return}if(a=a.sibling,a!==null){ti=a;return}ti=a=s}while(a!==null);gi===0&&(gi=5)}function ru(s,a,f){var m=vt,v=ao.transition;try{ao.transition=null,vt=1,z_(s,a,f,m)}finally{ao.transition=v,vt=m}return null}function z_(s,a,f,m){do ic();while(cl!==null);if(kn&6)throw Error(t(327));f=s.finishedWork;var v=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var b=f.lanes|f.childLanes;if(jt(s,b),s===Ci&&(ti=Ci=null,Di=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Ff||(Ff=!0,ay(Ue,function(){return ic(),null})),b=(f.flags&15990)!==0,f.subtreeFlags&15990||b){b=ao.transition,ao.transition=null;var V=vt;vt=1;var Z=kn;kn|=4,Up.current=null,V_(s,f),Mp(f,s),L_(jl),H=!!Mc,jl=Mc=null,s.current=f,Pf(f),nt(),kn=Z,vt=V,ao.transition=b}else s.current=f;if(Ff&&(Ff=!1,cl=s,us=v),b=s.pendingLanes,b===0&&(ul=null),Mt(f.stateNode),Is(s,rt()),a!==null)for(m=s.onRecoverableError,f=0;f<a.length;f++)v=a[f],m(v.value,{componentStack:v.stack,digest:v.digest});if(Mf)throw Mf=!1,s=Vp,Vp=null,s;return us&1&&s.tag!==0&&ic(),b=s.pendingLanes,b&1?s===qp?lh++:(lh=0,qp=s):lh=0,tl(),null}function ic(){if(cl!==null){var s=Bn(us),a=ao.transition,f=vt;try{if(ao.transition=null,vt=16>s?16:s,cl===null)var m=!1;else{if(s=cl,cl=null,us=0,kn&6)throw Error(t(331));var v=kn;for(kn|=4,it=s.current;it!==null;){var b=it,V=b.child;if(it.flags&16){var Z=b.deletions;if(Z!==null){for(var ae=0;ae<Z.length;ae++){var be=Z[ae];for(it=be;it!==null;){var Be=it;switch(Be.tag){case 0:case 11:case 15:ka(8,Be,b)}var $e=Be.child;if($e!==null)$e.return=Be,it=$e;else for(;it!==null;){Be=it;var Fe=Be.sibling,tt=Be.return;if(Qm(Be),Be===be){it=null;break}if(Fe!==null){Fe.return=tt,it=Fe;break}it=tt}}}var at=b.alternate;if(at!==null){var ht=at.child;if(ht!==null){at.child=null;do{var Dr=ht.sibling;ht.sibling=null,ht=Dr}while(ht!==null)}}it=b}}if(b.subtreeFlags&2064&&V!==null)V.return=b,it=V;else e:for(;it!==null;){if(b=it,b.flags&2048)switch(b.tag){case 0:case 11:case 15:ka(9,b,b.return)}var _e=b.sibling;if(_e!==null){_e.return=b.return,it=_e;break e}it=b.return}}var fe=s.current;for(it=fe;it!==null;){V=it;var ve=V.child;if(V.subtreeFlags&2064&&ve!==null)ve.return=V,it=ve;else e:for(V=fe;it!==null;){if(Z=it,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:ih(9,Z)}}catch(ft){xr(Z,Z.return,ft)}if(Z===V){it=null;break e}var ze=Z.sibling;if(ze!==null){ze.return=Z.return,it=ze;break e}it=Z.return}}if(kn=v,tl(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(qt,s)}catch{}m=!0}return m}finally{vt=f,ao.transition=a}}return!1}function qf(s,a,f){a=Zl(f,a),a=Jc(s,a,1),s=io(s,a,1),a=cs(),s!==null&&(wn(s,1,a),Is(s,a))}function xr(s,a,f){if(s.tag===3)qf(s,s,f);else for(;a!==null;){if(a.tag===3){qf(a,s,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ul===null||!ul.has(m))){s=Zl(f,s),s=Cf(a,s,1),a=io(a,s,1),s=cs(),a!==null&&(wn(a,1,s),Is(a,s));break}}a=a.return}}function H_(s,a,f){var m=s.pingCache;m!==null&&m.delete(a),a=cs(),s.pingedLanes|=s.suspendedLanes&f,Ci===s&&(Di&f)===f&&(gi===4||gi===3&&(Di&130023424)===Di&&500>rt()-Bp?nu(s,0):Df|=f),Is(s,a)}function sy(s,a){a===0&&(s.mode&1?(a=ct,ct<<=1,!(ct&130023424)&&(ct=4194304)):a=1);var f=cs();s=Sa(s,a),s!==null&&(wn(s,a,f),Is(s,f))}function W_(s){var a=s.memoizedState,f=0;a!==null&&(f=a.retryLane),sy(s,f)}function G_(s,a){var f=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(f=v.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),sy(s,f)}var oy;oy=function(s,a,f){if(s!==null)if(s.memoizedProps!==a.pendingProps||bs.current)as=!0;else{if(!(s.lanes&f)&&!(a.flags&128))return as=!1,Wm(s,a,f);as=!!(s.flags&131072)}else as=!1,pr&&a.flags&1048576&&km(a,af,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Rf(s,a),s=a.pendingProps;var v=ju(a,Ki.current);rl(a,f),v=Xl(null,a,m,s,v,f);var b=mf();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ss(m)?(b=!0,Zs(a)):b=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,ff(a),v.updater=Sf,a.stateNode=v,v._reactInternals=a,Sp(a,m,s,f),a=Np(null,a,m,!0,b,f)):(a.tag=0,pr&&b&&Bc(a),Oi(null,a,v,f),a=a.child),a;case 16:m=a.elementType;e:{switch(Rf(s,a),s=a.pendingProps,v=m._init,m=v(m._payload),a.type=m,v=a.tag=Q_(m),s=oo(m,s),v){case 0:a=Rp(null,a,m,s,f);break e;case 1:a=kp(null,a,m,s,f);break e;case 11:a=zm(null,a,m,s,f);break e;case 14:a=Cp(null,a,m,oo(m.type,s),f);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:oo(m,v),Rp(s,a,m,v,f);case 1:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:oo(m,v),kp(s,a,m,v,f);case 3:e:{if(Hm(a),s===null)throw Error(t(387));m=a.pendingProps,b=a.memoizedState,v=b.element,Lm(s,a),Hu(a,m,null,f);var V=a.memoizedState;if(m=V.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){v=Zl(Error(t(423)),a),a=ea(s,a,m,f,v);break e}else if(m!==v){v=Zl(Error(t(424)),a),a=ea(s,a,m,f,v);break e}else for(qs=Ya(a.stateNode.containerInfo.firstChild),Ji=a,pr=!0,wo=null,f=uf(a,null,m,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ko(),m===v){a=To(s,a,f);break e}Oi(s,a,m,f)}a=a.child}return a;case 5:return hp(a),s===null&&As(a),m=a.type,v=a.pendingProps,b=s!==null?s.memoizedProps:null,V=v.children,Fc(m,v)?V=null:b!==null&&Fc(m,b)&&(a.flags|=32),Ip(s,a),Oi(s,a,V,f),a.child;case 6:return s===null&&As(a),null;case 13:return If(s,a,f);case 4:return cp(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Lr(a,null,m,f):Oi(s,a,m,f),a.child;case 11:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:oo(m,v),zm(s,a,m,v,f);case 7:return Oi(s,a,a.pendingProps,f),a.child;case 8:return Oi(s,a,a.pendingProps.children,f),a.child;case 12:return Oi(s,a,a.pendingProps.children,f),a.child;case 10:e:{if(m=a.type._context,v=a.pendingProps,b=a.memoizedProps,V=v.value,ar(jc,m._currentValue),m._currentValue=V,b!==null)if(we(b.value,V)){if(b.children===v.children&&!bs.current){a=To(s,a,f);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var Z=b.dependencies;if(Z!==null){V=b.child;for(var ae=Z.firstContext;ae!==null;){if(ae.context===m){if(b.tag===1){ae=Aa(-1,f&-f),ae.tag=2;var be=b.updateQueue;if(be!==null){be=be.shared;var Be=be.pending;Be===null?ae.next=ae:(ae.next=Be.next,Be.next=ae),be.pending=ae}}b.lanes|=f,ae=b.alternate,ae!==null&&(ae.lanes|=f),Ni(b.return,f,a),Z.lanes|=f;break}ae=ae.next}}else if(b.tag===10)V=b.type===a.type?null:b.child;else if(b.tag===18){if(V=b.return,V===null)throw Error(t(341));V.lanes|=f,Z=V.alternate,Z!==null&&(Z.lanes|=f),Ni(V,f,a),V=b.sibling}else V=b.child;if(V!==null)V.return=b;else for(V=b;V!==null;){if(V===a){V=null;break}if(b=V.sibling,b!==null){b.return=V.return,V=b;break}V=V.return}b=V}Oi(s,a,v.children,f),a=a.child}return a;case 9:return v=a.type,m=a.pendingProps.children,rl(a,f),v=no(v),m=m(v),a.flags|=1,Oi(s,a,m,f),a.child;case 14:return m=a.type,v=oo(m,a.pendingProps),v=oo(m.type,v),Cp(s,a,m,v,f);case 15:return Zo(s,a,a.type,a.pendingProps,f);case 17:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:oo(m,v),Rf(s,a),a.tag=1,Ss(m)?(s=!0,Zs(a)):s=!1,rl(a,f),Yl(a,m,v),Sp(a,m,v,f),Np(null,a,m,!0,s,f);case 19:return ol(s,a,f);case 22:return xp(s,a,f)}throw Error(t(156,a.tag))};function ay(s,a){return ge(s,a)}function K_(s,a,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(s,a,f,m){return new K_(s,a,f,m)}function jf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Q_(s){if(typeof s=="function")return jf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===j)return 11;if(s===le)return 14}return 2}function xo(s,a){var f=s.alternate;return f===null?(f=lo(s.tag,a,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=a,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,a=s.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function $f(s,a,f,m,v,b){var V=2;if(m=s,typeof s=="function")jf(s)&&(V=1);else if(typeof s=="string")V=5;else e:switch(s){case D:return iu(f.children,v,b,a);case q:V=8,v|=8;break;case W:return s=lo(12,f,a,v|2),s.elementType=W,s.lanes=b,s;case N:return s=lo(13,f,a,v),s.elementType=N,s.lanes=b,s;case oe:return s=lo(19,f,a,v),s.elementType=oe,s.lanes=b,s;case de:return zf(f,v,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:V=10;break e;case k:V=9;break e;case j:V=11;break e;case le:V=14;break e;case re:V=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=lo(V,f,a,v),a.elementType=s,a.type=m,a.lanes=b,a}function iu(s,a,f,m){return s=lo(7,s,m,a),s.lanes=f,s}function zf(s,a,f,m){return s=lo(22,s,m,a),s.elementType=de,s.lanes=f,s.stateNode={isHidden:!1},s}function Gp(s,a,f){return s=lo(6,s,null,a),s.lanes=f,s}function Kp(s,a,f){return a=lo(4,s.children!==null?s.children:[],s.key,a),a.lanes=f,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function J_(s,a,f,m,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Qp(s,a,f,m,v,b,V,Z,ae){return s=new J_(s,a,f,Z,ae),a===1?(a=1,b===!0&&(a|=8)):a=0,b=lo(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(b),s}function X_(s,a,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:m==null?null:""+m,children:s,containerInfo:a,implementation:f}}function ly(s){if(!s)return el;s=s._reactInternals;e:{if(Ur(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ss(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var f=s.type;if(Ss(f))return xm(s,f,a)}return a}function uy(s,a,f,m,v,b,V,Z,ae){return s=Qp(f,m,!0,s,v,b,V,Z,ae),s.context=ly(null),f=s.current,m=cs(),v=hl(f),b=Aa(m,v),b.callback=a??null,io(f,b,v),s.current.lanes=v,wn(s,v,m),Is(s,m),s}function Hf(s,a,f,m){var v=a.current,b=cs(),V=hl(v);return f=ly(f),a.context===null?a.context=f:a.pendingContext=f,a=Aa(b,V),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=io(v,a,V),s!==null&&(Co(s,v,V,b),df(s,v,V)),V}function Wf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function cy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<a?f:a}}function Jp(s,a){cy(s,a),(s=s.alternate)&&cy(s,a)}var hy=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xp(s){this._internalRoot=s}ch.prototype.render=Xp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Hf(s,a,null,null)},ch.prototype.unmount=Xp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;tu(function(){Hf(null,s,null,null)}),a[Vs]=null}};function ch(s){this._internalRoot=s}ch.prototype.unstable_scheduleHydration=function(s){if(s){var a=Us();s={blockedOn:null,target:s,priority:a};for(var f=0;f<$i.length&&a!==0&&a<$i[f].priority;f++);$i.splice(f,0,s),f===0&&pa(s)}};function Gf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Kf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function fy(){}function Y_(s,a,f,m,v){if(v){if(typeof m=="function"){var b=m;m=function(){var be=Wf(V);b.call(be)}}var V=uy(a,m,s,0,null,!1,!1,"",fy);return s._reactRootContainer=V,s[Vs]=V.current,Ja(s.nodeType===8?s.parentNode:s),tu(),V}for(;v=s.lastChild;)s.removeChild(v);if(typeof m=="function"){var Z=m;m=function(){var be=Wf(ae);Z.call(be)}}var ae=Qp(s,0,!1,null,null,!1,!1,"",fy);return s._reactRootContainer=ae,s[Vs]=ae.current,Ja(s.nodeType===8?s.parentNode:s),tu(function(){Hf(a,ae,f,m)}),ae}function Qf(s,a,f,m,v){var b=f._reactRootContainer;if(b){var V=b;if(typeof v=="function"){var Z=v;v=function(){var ae=Wf(V);Z.call(ae)}}Hf(a,V,s,v)}else V=Y_(f,a,s,v,m);return Wf(V)}hr=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var f=Ft(a.pendingLanes);f!==0&&(rr(a,f|1),Is(a,rt()),!(kn&6)&&(eu=rt()+500,tl()))}break;case 13:tu(function(){var m=Sa(s,1);if(m!==null){var v=cs();Co(m,s,1,v)}}),Jp(s,1)}},ys=function(s){if(s.tag===13){var a=Sa(s,134217728);if(a!==null){var f=cs();Co(a,s,134217728,f)}Jp(s,134217728)}},Xr=function(s){if(s.tag===13){var a=hl(s),f=Sa(s,a);if(f!==null){var m=cs();Co(f,s,a,m)}Jp(s,a)}},Us=function(){return vt},_s=function(s,a){var f=vt;try{return vt=s,a()}finally{vt=f}},cr=function(s,a,f){switch(a){case"input":if(Un(s,f),a=f.name,f.type==="radio"&&a!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==s&&m.form===s.form){var v=nf(m);if(!v)throw Error(t(90));pt(m),Un(m,v)}}}break;case"textarea":Ht(s,f);break;case"select":a=f.value,a!=null&&hn(s,!!f.multiple,a,!1)}},Fr=zp,Ri=tu;var Jf={usingClientEntryPoint:!1,Events:[Gi,Zt,nf,zn,bi,zp]},hh={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z_={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qr(s),s===null?null:s.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{qt=Xf.inject(Z_),Xt=Xf}catch{}}return fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jf,fo.createPortal=function(s,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gf(a))throw Error(t(200));return X_(s,a,null,f)},fo.createRoot=function(s,a){if(!Gf(s))throw Error(t(299));var f=!1,m="",v=hy;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Qp(s,1,!1,null,null,f,!1,m,v),s[Vs]=a.current,Ja(s.nodeType===8?s.parentNode:s),new Xp(a)},fo.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Qr(a),s=s===null?null:s.stateNode,s},fo.flushSync=function(s){return tu(s)},fo.hydrate=function(s,a,f){if(!Kf(a))throw Error(t(200));return Qf(null,s,a,!0,f)},fo.hydrateRoot=function(s,a,f){if(!Gf(s))throw Error(t(405));var m=f!=null&&f.hydratedSources||null,v=!1,b="",V=hy;if(f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),a=uy(a,null,s,1,f??null,v,!1,b,V),s[Vs]=a.current,Ja(s),m)for(s=0;s<m.length;s++)f=m[s],v=f._getVersion,v=v(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,v]:a.mutableSourceEagerHydrationData.push(f,v);return new ch(a)},fo.render=function(s,a,f){if(!Kf(a))throw Error(t(200));return Qf(null,s,a,!1,f)},fo.unmountComponentAtNode=function(s){if(!Kf(s))throw Error(t(40));return s._reactRootContainer?(tu(function(){Qf(null,null,s,!1,function(){s._reactRootContainer=null,s[Vs]=null})}),!0):!1},fo.unstable_batchedUpdates=zp,fo.unstable_renderSubtreeIntoContainer=function(s,a,f,m){if(!Kf(f))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Qf(s,a,f,!1,m)},fo.version="18.3.1-next-f1338f8080-20240426",fo}var fT;function eO(){if(fT)return p1.exports;fT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),p1.exports=ZN(),p1.exports}var dT;function tO(){if(dT)return my;dT=1;var n=eO();return my.createRoot=n.createRoot,my.hydrateRoot=n.hydrateRoot,my}var nO=tO(),pT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},rO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},LA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,g=d?n[i+2]:0,_=o>>2,w=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,x=g&63;d||(x=64,u||(E=64)),r.push(t[_],t[w],t[E],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||g==null||w==null)throw new iO;const E=o<<2|h>>4;if(r.push(E),g!==64){const x=h<<4&240|g>>2;if(r.push(x),w!==64){const R=g<<6&192|w;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sO=function(n){const e=PA(n);return LA.encodeByteArray(e,!0)},l0=function(n){return sO(n).replace(/\./g,"")},DA=function(n){try{return LA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=()=>oO().__FIREBASE_DEFAULTS__,lO=()=>{if(typeof process>"u"||typeof pT>"u")return;const n=pT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&DA(n[1]);return e&&JSON.parse(e)},U0=()=>{try{return aO()||lO()||uO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},MA=n=>{var e,t;return(t=(e=U0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},FA=n=>{const e=MA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},UA=()=>{var n;return(n=U0())===null||n===void 0?void 0:n.config},BA=n=>{var e;return(e=U0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[l0(JSON.stringify(t)),l0(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ms())}function fO(){var n;const e=(n=U0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mO(){const n=Ms();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yO(){return!fO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _O(){try{return typeof indexedDB=="object"}catch{return!1}}function vO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="FirebaseError";class Pl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wO,Object.setPrototypeOf(this,Pl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gg.prototype.create)}}class Gg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?EO(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Pl(i,h,r)}}function EO(n,e){return n.replace(TO,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TO=/\{\$([^}]+)}/g;function bO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function u0(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(gT(o)&&gT(u)){if(!u0(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function gT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SO(n,e){const t=new AO(n,e);return t.subscribe.bind(t)}class AO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=y1),i.error===void 0&&(i.error=y1),i.complete===void 0&&(i.complete=y1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function y1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n){return n&&n._delegate?n._delegate:n}class _c{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new cO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:dh})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=dh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dh){return this.instances.has(e)}getOptions(e=dh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dh){return this.component?this.component.multipleInstances?e:dh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IO(n){return n===dh?void 0:n}function RO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const NO={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},OO=Sn.INFO,PO={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},LO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=PO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uw{constructor(e){this.name=e,this._logLevel=OO,this._logHandler=LO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}const DO=(n,e)=>e.some(t=>n instanceof t);let mT,yT;function MO(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FO(){return yT||(yT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qA=new WeakMap,nv=new WeakMap,jA=new WeakMap,_1=new WeakMap,cw=new WeakMap;function UO(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(pc(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&qA.set(t,n)}).catch(()=>{}),cw.set(e,n),e}function BO(n){if(nv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});nv.set(n,e)}let rv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function VO(n){rv=n(rv)}function qO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(v1(this),e,...t);return jA.set(r,e.sort?e.sort():[e]),pc(r)}:FO().includes(n)?function(...e){return n.apply(v1(this),e),pc(qA.get(this))}:function(...e){return pc(n.apply(v1(this),e))}}function jO(n){return typeof n=="function"?qO(n):(n instanceof IDBTransaction&&BO(n),DO(n,MO())?new Proxy(n,rv):n)}function pc(n){if(n instanceof IDBRequest)return UO(n);if(_1.has(n))return _1.get(n);const e=jO(n);return e!==n&&(_1.set(n,e),cw.set(e,n)),e}const v1=n=>cw.get(n);function $O(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=pc(u);return r&&u.addEventListener("upgradeneeded",d=>{r(pc(u.result),d.oldVersion,d.newVersion,pc(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const zO=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],w1=new Map;function _T(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w1.get(e))return w1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=HO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zO.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),i&&d.done]))[0]};return w1.set(e,o),o}VO(n=>({...n,get:(e,t,r)=>_T(e,t)||n.get(e,t,r),has:(e,t)=>!!_T(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iv="@firebase/app",vT="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new uw("@firebase/app"),KO="@firebase/app-compat",QO="@firebase/analytics-compat",JO="@firebase/analytics",XO="@firebase/app-check-compat",YO="@firebase/app-check",ZO="@firebase/auth",eP="@firebase/auth-compat",tP="@firebase/database",nP="@firebase/data-connect",rP="@firebase/database-compat",iP="@firebase/functions",sP="@firebase/functions-compat",oP="@firebase/installations",aP="@firebase/installations-compat",lP="@firebase/messaging",uP="@firebase/messaging-compat",cP="@firebase/performance",hP="@firebase/performance-compat",fP="@firebase/remote-config",dP="@firebase/remote-config-compat",pP="@firebase/storage",gP="@firebase/storage-compat",mP="@firebase/firestore",yP="@firebase/vertexai",_P="@firebase/firestore-compat",vP="firebase",wP="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="[DEFAULT]",EP={[iv]:"fire-core",[KO]:"fire-core-compat",[JO]:"fire-analytics",[QO]:"fire-analytics-compat",[YO]:"fire-app-check",[XO]:"fire-app-check-compat",[ZO]:"fire-auth",[eP]:"fire-auth-compat",[tP]:"fire-rtdb",[nP]:"fire-data-connect",[rP]:"fire-rtdb-compat",[iP]:"fire-fn",[sP]:"fire-fn-compat",[oP]:"fire-iid",[aP]:"fire-iid-compat",[lP]:"fire-fcm",[uP]:"fire-fcm-compat",[cP]:"fire-perf",[hP]:"fire-perf-compat",[fP]:"fire-rc",[dP]:"fire-rc-compat",[pP]:"fire-gcs",[gP]:"fire-gcs-compat",[mP]:"fire-fst",[_P]:"fire-fst-compat",[yP]:"fire-vertex","fire-js":"fire-js",[vP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map,TP=new Map,ov=new Map;function wT(n,e){try{n.container.addComponent(e)}catch(t){yu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Eh(n){const e=n.name;if(ov.has(e))return yu.debug(`There were multiple attempts to register component ${e}.`),!1;ov.set(e,n);for(const t of c0.values())wT(t,n);for(const t of TP.values())wT(t,n);return!0}function B0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fu(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gc=new Gg("app","Firebase",bP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _c("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=wP;function $A(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gc.create("bad-app-name",{appName:String(i)});if(t||(t=UA()),!t)throw gc.create("no-options");const o=c0.get(i);if(o){if(u0(t,o.options)&&u0(r,o.config))return o;throw gc.create("duplicate-app",{appName:i})}const u=new kO(i);for(const d of ov.values())u.addComponent(d);const h=new SP(t,r,u);return c0.set(i,h),h}function hw(n=sv){const e=c0.get(n);if(!e&&n===sv&&UA())return $A();if(!e)throw gc.create("no-app",{appName:n});return e}function El(n,e,t){var r;let i=(r=EP[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yu.warn(h.join(" "));return}Eh(new _c(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="firebase-heartbeat-database",CP=1,Ig="firebase-heartbeat-store";let E1=null;function zA(){return E1||(E1=$O(AP,CP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ig)}catch(t){console.warn(t)}}}}).catch(n=>{throw gc.create("idb-open",{originalErrorMessage:n.message})})),E1}async function xP(n){try{const t=(await zA()).transaction(Ig),r=await t.objectStore(Ig).get(HA(n));return await t.done,r}catch(e){if(e instanceof Pl)yu.warn(e.message);else{const t=gc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yu.warn(t.message)}}}async function ET(n,e){try{const r=(await zA()).transaction(Ig,"readwrite");await r.objectStore(Ig).put(e,HA(n)),await r.done}catch(t){if(t instanceof Pl)yu.warn(t.message);else{const r=gc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});yu.warn(r.message)}}}function HA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,RP=30*24*60*60*1e3;class kP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=RP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=TT(),{heartbeatsToSend:r,unsentEntries:i}=NP(this._heartbeatsCache.heartbeats),o=l0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yu.warn(t),""}}}function TT(){return new Date().toISOString().substring(0,10)}function NP(n,e=IP){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),bT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class OP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _O()?vO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ET(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ET(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bT(n){return l0(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(n){Eh(new _c("platform-logger",e=>new WO(e),"PRIVATE")),Eh(new _c("heartbeat",e=>new kP(e),"PRIVATE")),El(iv,vT,n),El(iv,vT,"esm2017"),El("fire-js","")}PP("");var ST=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mc,WA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,q){function W(){}W.prototype=q.prototype,D.D=q.prototype,D.prototype=new W,D.prototype.constructor=D,D.C=function(I,k,j){for(var N=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)N[oe-2]=arguments[oe];return q.prototype[k].apply(I,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,q,W){W||(W=0);var I=Array(16);if(typeof q=="string")for(var k=0;16>k;++k)I[k]=q.charCodeAt(W++)|q.charCodeAt(W++)<<8|q.charCodeAt(W++)<<16|q.charCodeAt(W++)<<24;else for(k=0;16>k;++k)I[k]=q[W++]|q[W++]<<8|q[W++]<<16|q[W++]<<24;q=D.g[0],W=D.g[1],k=D.g[2];var j=D.g[3],N=q+(j^W&(k^j))+I[0]+3614090360&4294967295;q=W+(N<<7&4294967295|N>>>25),N=j+(k^q&(W^k))+I[1]+3905402710&4294967295,j=q+(N<<12&4294967295|N>>>20),N=k+(W^j&(q^W))+I[2]+606105819&4294967295,k=j+(N<<17&4294967295|N>>>15),N=W+(q^k&(j^q))+I[3]+3250441966&4294967295,W=k+(N<<22&4294967295|N>>>10),N=q+(j^W&(k^j))+I[4]+4118548399&4294967295,q=W+(N<<7&4294967295|N>>>25),N=j+(k^q&(W^k))+I[5]+1200080426&4294967295,j=q+(N<<12&4294967295|N>>>20),N=k+(W^j&(q^W))+I[6]+2821735955&4294967295,k=j+(N<<17&4294967295|N>>>15),N=W+(q^k&(j^q))+I[7]+4249261313&4294967295,W=k+(N<<22&4294967295|N>>>10),N=q+(j^W&(k^j))+I[8]+1770035416&4294967295,q=W+(N<<7&4294967295|N>>>25),N=j+(k^q&(W^k))+I[9]+2336552879&4294967295,j=q+(N<<12&4294967295|N>>>20),N=k+(W^j&(q^W))+I[10]+4294925233&4294967295,k=j+(N<<17&4294967295|N>>>15),N=W+(q^k&(j^q))+I[11]+2304563134&4294967295,W=k+(N<<22&4294967295|N>>>10),N=q+(j^W&(k^j))+I[12]+1804603682&4294967295,q=W+(N<<7&4294967295|N>>>25),N=j+(k^q&(W^k))+I[13]+4254626195&4294967295,j=q+(N<<12&4294967295|N>>>20),N=k+(W^j&(q^W))+I[14]+2792965006&4294967295,k=j+(N<<17&4294967295|N>>>15),N=W+(q^k&(j^q))+I[15]+1236535329&4294967295,W=k+(N<<22&4294967295|N>>>10),N=q+(k^j&(W^k))+I[1]+4129170786&4294967295,q=W+(N<<5&4294967295|N>>>27),N=j+(W^k&(q^W))+I[6]+3225465664&4294967295,j=q+(N<<9&4294967295|N>>>23),N=k+(q^W&(j^q))+I[11]+643717713&4294967295,k=j+(N<<14&4294967295|N>>>18),N=W+(j^q&(k^j))+I[0]+3921069994&4294967295,W=k+(N<<20&4294967295|N>>>12),N=q+(k^j&(W^k))+I[5]+3593408605&4294967295,q=W+(N<<5&4294967295|N>>>27),N=j+(W^k&(q^W))+I[10]+38016083&4294967295,j=q+(N<<9&4294967295|N>>>23),N=k+(q^W&(j^q))+I[15]+3634488961&4294967295,k=j+(N<<14&4294967295|N>>>18),N=W+(j^q&(k^j))+I[4]+3889429448&4294967295,W=k+(N<<20&4294967295|N>>>12),N=q+(k^j&(W^k))+I[9]+568446438&4294967295,q=W+(N<<5&4294967295|N>>>27),N=j+(W^k&(q^W))+I[14]+3275163606&4294967295,j=q+(N<<9&4294967295|N>>>23),N=k+(q^W&(j^q))+I[3]+4107603335&4294967295,k=j+(N<<14&4294967295|N>>>18),N=W+(j^q&(k^j))+I[8]+1163531501&4294967295,W=k+(N<<20&4294967295|N>>>12),N=q+(k^j&(W^k))+I[13]+2850285829&4294967295,q=W+(N<<5&4294967295|N>>>27),N=j+(W^k&(q^W))+I[2]+4243563512&4294967295,j=q+(N<<9&4294967295|N>>>23),N=k+(q^W&(j^q))+I[7]+1735328473&4294967295,k=j+(N<<14&4294967295|N>>>18),N=W+(j^q&(k^j))+I[12]+2368359562&4294967295,W=k+(N<<20&4294967295|N>>>12),N=q+(W^k^j)+I[5]+4294588738&4294967295,q=W+(N<<4&4294967295|N>>>28),N=j+(q^W^k)+I[8]+2272392833&4294967295,j=q+(N<<11&4294967295|N>>>21),N=k+(j^q^W)+I[11]+1839030562&4294967295,k=j+(N<<16&4294967295|N>>>16),N=W+(k^j^q)+I[14]+4259657740&4294967295,W=k+(N<<23&4294967295|N>>>9),N=q+(W^k^j)+I[1]+2763975236&4294967295,q=W+(N<<4&4294967295|N>>>28),N=j+(q^W^k)+I[4]+1272893353&4294967295,j=q+(N<<11&4294967295|N>>>21),N=k+(j^q^W)+I[7]+4139469664&4294967295,k=j+(N<<16&4294967295|N>>>16),N=W+(k^j^q)+I[10]+3200236656&4294967295,W=k+(N<<23&4294967295|N>>>9),N=q+(W^k^j)+I[13]+681279174&4294967295,q=W+(N<<4&4294967295|N>>>28),N=j+(q^W^k)+I[0]+3936430074&4294967295,j=q+(N<<11&4294967295|N>>>21),N=k+(j^q^W)+I[3]+3572445317&4294967295,k=j+(N<<16&4294967295|N>>>16),N=W+(k^j^q)+I[6]+76029189&4294967295,W=k+(N<<23&4294967295|N>>>9),N=q+(W^k^j)+I[9]+3654602809&4294967295,q=W+(N<<4&4294967295|N>>>28),N=j+(q^W^k)+I[12]+3873151461&4294967295,j=q+(N<<11&4294967295|N>>>21),N=k+(j^q^W)+I[15]+530742520&4294967295,k=j+(N<<16&4294967295|N>>>16),N=W+(k^j^q)+I[2]+3299628645&4294967295,W=k+(N<<23&4294967295|N>>>9),N=q+(k^(W|~j))+I[0]+4096336452&4294967295,q=W+(N<<6&4294967295|N>>>26),N=j+(W^(q|~k))+I[7]+1126891415&4294967295,j=q+(N<<10&4294967295|N>>>22),N=k+(q^(j|~W))+I[14]+2878612391&4294967295,k=j+(N<<15&4294967295|N>>>17),N=W+(j^(k|~q))+I[5]+4237533241&4294967295,W=k+(N<<21&4294967295|N>>>11),N=q+(k^(W|~j))+I[12]+1700485571&4294967295,q=W+(N<<6&4294967295|N>>>26),N=j+(W^(q|~k))+I[3]+2399980690&4294967295,j=q+(N<<10&4294967295|N>>>22),N=k+(q^(j|~W))+I[10]+4293915773&4294967295,k=j+(N<<15&4294967295|N>>>17),N=W+(j^(k|~q))+I[1]+2240044497&4294967295,W=k+(N<<21&4294967295|N>>>11),N=q+(k^(W|~j))+I[8]+1873313359&4294967295,q=W+(N<<6&4294967295|N>>>26),N=j+(W^(q|~k))+I[15]+4264355552&4294967295,j=q+(N<<10&4294967295|N>>>22),N=k+(q^(j|~W))+I[6]+2734768916&4294967295,k=j+(N<<15&4294967295|N>>>17),N=W+(j^(k|~q))+I[13]+1309151649&4294967295,W=k+(N<<21&4294967295|N>>>11),N=q+(k^(W|~j))+I[4]+4149444226&4294967295,q=W+(N<<6&4294967295|N>>>26),N=j+(W^(q|~k))+I[11]+3174756917&4294967295,j=q+(N<<10&4294967295|N>>>22),N=k+(q^(j|~W))+I[2]+718787259&4294967295,k=j+(N<<15&4294967295|N>>>17),N=W+(j^(k|~q))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+q&4294967295,D.g[1]=D.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.u=function(D,q){q===void 0&&(q=D.length);for(var W=q-this.blockSize,I=this.B,k=this.h,j=0;j<q;){if(k==0)for(;j<=W;)i(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<q;)if(I[k++]=D.charCodeAt(j++),k==this.blockSize){i(this,I),k=0;break}}else for(;j<q;)if(I[k++]=D[j++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=q},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var q=1;q<D.length-8;++q)D[q]=0;var W=8*this.o;for(q=D.length-8;q<D.length;++q)D[q]=W&255,W/=256;for(this.u(D),D=Array(16),q=W=0;4>q;++q)for(var I=0;32>I;I+=8)D[W++]=this.g[q]>>>I&255;return D};function o(D,q){var W=h;return Object.prototype.hasOwnProperty.call(W,D)?W[D]:W[D]=q(D)}function u(D,q){this.h=q;for(var W=[],I=!0,k=D.length-1;0<=k;k--){var j=D[k]|0;I&&j==q||(W[k]=j,I=!1)}this.g=W}var h={};function d(D){return-128<=D&&128>D?o(D,function(q){return new u([q|0],0>q?-1:0)}):new u([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return P(g(-D));for(var q=[],W=1,I=0;D>=W;I++)q[I]=D/W|0,W*=4294967296;return new u(q,0)}function _(D,q){if(D.length==0)throw Error("number format error: empty string");if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(D.charAt(0)=="-")return P(_(D.substring(1),q));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var W=g(Math.pow(q,8)),I=w,k=0;k<D.length;k+=8){var j=Math.min(8,D.length-k),N=parseInt(D.substring(k,k+j),q);8>j?(j=g(Math.pow(q,j)),I=I.j(j).add(g(N))):(I=I.j(W),I=I.add(g(N)))}return I}var w=d(0),E=d(1),x=d(16777216);n=u.prototype,n.m=function(){if(O(this))return-P(this).m();for(var D=0,q=1,W=0;W<this.g.length;W++){var I=this.i(W);D+=(0<=I?I:4294967296+I)*q,q*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(O(this))return"-"+P(this).toString(D);for(var q=g(Math.pow(D,6)),W=this,I="";;){var k=F(W,q).g;W=U(W,k.j(q));var j=((0<W.g.length?W.g[0]:W.h)>>>0).toString(D);if(W=k,R(W))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(var q=0;q<D.g.length;q++)if(D.g[q]!=0)return!1;return!0}function O(D){return D.h==-1}n.l=function(D){return D=U(this,D),O(D)?-1:R(D)?0:1};function P(D){for(var q=D.g.length,W=[],I=0;I<q;I++)W[I]=~D.g[I];return new u(W,~D.h).add(E)}n.abs=function(){return O(this)?P(this):this},n.add=function(D){for(var q=Math.max(this.g.length,D.g.length),W=[],I=0,k=0;k<=q;k++){var j=I+(this.i(k)&65535)+(D.i(k)&65535),N=(j>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);I=N>>>16,j&=65535,N&=65535,W[k]=N<<16|j}return new u(W,W[W.length-1]&-2147483648?-1:0)};function U(D,q){return D.add(P(q))}n.j=function(D){if(R(this)||R(D))return w;if(O(this))return O(D)?P(this).j(P(D)):P(P(this).j(D));if(O(D))return P(this.j(P(D)));if(0>this.l(x)&&0>D.l(x))return g(this.m()*D.m());for(var q=this.g.length+D.g.length,W=[],I=0;I<2*q;I++)W[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<D.g.length;k++){var j=this.i(I)>>>16,N=this.i(I)&65535,oe=D.i(k)>>>16,le=D.i(k)&65535;W[2*I+2*k]+=N*le,B(W,2*I+2*k),W[2*I+2*k+1]+=j*le,B(W,2*I+2*k+1),W[2*I+2*k+1]+=N*oe,B(W,2*I+2*k+1),W[2*I+2*k+2]+=j*oe,B(W,2*I+2*k+2)}for(I=0;I<q;I++)W[I]=W[2*I+1]<<16|W[2*I];for(I=q;I<2*q;I++)W[I]=0;return new u(W,0)};function B(D,q){for(;(D[q]&65535)!=D[q];)D[q+1]+=D[q]>>>16,D[q]&=65535,q++}function C(D,q){this.g=D,this.h=q}function F(D,q){if(R(q))throw Error("division by zero");if(R(D))return new C(w,w);if(O(D))return q=F(P(D),q),new C(P(q.g),P(q.h));if(O(q))return q=F(D,P(q)),new C(P(q.g),q.h);if(30<D.g.length){if(O(D)||O(q))throw Error("slowDivide_ only works with positive integers.");for(var W=E,I=q;0>=I.l(D);)W=z(W),I=z(I);var k=J(W,1),j=J(I,1);for(I=J(I,2),W=J(W,2);!R(I);){var N=j.add(I);0>=N.l(D)&&(k=k.add(W),j=N),I=J(I,1),W=J(W,1)}return q=U(D,k.j(q)),new C(k,q)}for(k=w;0<=D.l(q);){for(W=Math.max(1,Math.floor(D.m()/q.m())),I=Math.ceil(Math.log(W)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=g(W),N=j.j(q);O(N)||0<N.l(D);)W-=I,j=g(W),N=j.j(q);R(j)&&(j=E),k=k.add(j),D=U(D,N)}return new C(k,D)}n.A=function(D){return F(this,D).h},n.and=function(D){for(var q=Math.max(this.g.length,D.g.length),W=[],I=0;I<q;I++)W[I]=this.i(I)&D.i(I);return new u(W,this.h&D.h)},n.or=function(D){for(var q=Math.max(this.g.length,D.g.length),W=[],I=0;I<q;I++)W[I]=this.i(I)|D.i(I);return new u(W,this.h|D.h)},n.xor=function(D){for(var q=Math.max(this.g.length,D.g.length),W=[],I=0;I<q;I++)W[I]=this.i(I)^D.i(I);return new u(W,this.h^D.h)};function z(D){for(var q=D.g.length+1,W=[],I=0;I<q;I++)W[I]=D.i(I)<<1|D.i(I-1)>>>31;return new u(W,D.h)}function J(D,q){var W=q>>5;q%=32;for(var I=D.g.length-W,k=[],j=0;j<I;j++)k[j]=0<q?D.i(j+W)>>>q|D.i(j+W+1)<<32-q:D.i(j+W);return new u(k,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,mc=u}).apply(typeof ST<"u"?ST:typeof self<"u"?self:typeof window<"u"?window:{});var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GA,ag,KA,jy,av,QA,JA,XA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,T,L){return p==Array.prototype||p==Object.prototype||(p[T]=L.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof yy=="object"&&yy];for(var T=0;T<p.length;++T){var L=p[T];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function i(p,T){if(T)e:{var L=r;p=p.split(".");for(var K=0;K<p.length-1;K++){var ye=p[K];if(!(ye in L))break e;L=L[ye]}p=p[p.length-1],K=L[p],T=T(K),T!=K&&T!=null&&e(L,p,{configurable:!0,writable:!0,value:T})}}function o(p,T){p instanceof String&&(p+="");var L=0,K=!1,ye={next:function(){if(!K&&L<p.length){var Se=L++;return{value:T(Se,p[Se]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}i("Array.prototype.values",function(p){return p||function(){return o(this,function(T,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(p){var T=typeof p;return T=T!="object"?T:p?Array.isArray(p)?"array":T:"null",T=="array"||T=="object"&&typeof p.length=="number"}function g(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function _(p,T,L){return p.call.apply(p.bind,arguments)}function w(p,T,L){if(!p)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,K),p.apply(T,ye)}}return function(){return p.apply(T,arguments)}}function E(p,T,L){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,E.apply(null,arguments)}function x(p,T){var L=Array.prototype.slice.call(arguments,1);return function(){var K=L.slice();return K.push.apply(K,arguments),p.apply(this,K)}}function R(p,T){function L(){}L.prototype=T.prototype,p.aa=T.prototype,p.prototype=new L,p.prototype.constructor=p,p.Qb=function(K,ye,Se){for(var Ke=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)Ke[Vn-2]=arguments[Vn];return T.prototype[ye].apply(K,Ke)}}function O(p){const T=p.length;if(0<T){const L=Array(T);for(let K=0;K<T;K++)L[K]=p[K];return L}return[]}function P(p,T){for(let L=1;L<arguments.length;L++){const K=arguments[L];if(d(K)){const ye=p.length||0,Se=K.length||0;p.length=ye+Se;for(let Ke=0;Ke<Se;Ke++)p[ye+Ke]=K[Ke]}else p.push(K)}}class U{constructor(T,L){this.i=T,this.j=L,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function B(p){return/^[\s\xa0]*$/.test(p)}function C(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function F(p){return F[" "](p),p}F[" "]=function(){};var z=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function J(p,T,L){for(const K in p)T.call(L,p[K],K,p)}function D(p,T){for(const L in p)T.call(void 0,p[L],L,p)}function q(p){const T={};for(const L in p)T[L]=p[L];return T}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,T){let L,K;for(let ye=1;ye<arguments.length;ye++){K=arguments[ye];for(L in K)p[L]=K[L];for(let Se=0;Se<W.length;Se++)L=W[Se],Object.prototype.hasOwnProperty.call(K,L)&&(p[L]=K[L])}}function k(p){var T=1;p=p.split(":");const L=[];for(;0<T&&p.length;)L.push(p.shift()),T--;return p.length&&L.push(p.join(":")),L}function j(p){h.setTimeout(()=>{throw p},0)}function N(){var p=ne;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class oe{constructor(){this.h=this.g=null}add(T,L){const K=le.get();K.set(T,L),this.h?this.h.next=K:this.g=K,this.h=K}}var le=new U(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(T,L){this.h=T,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let de,se=!1,ne=new oe,Y=()=>{const p=h.Promise.resolve(void 0);de=()=>{p.then(G)}};var G=()=>{for(var p;p=N();){try{p.h.call(p.g)}catch(L){j(L)}var T=le;T.j(p),100>T.h&&(T.h++,p.next=T.g,T.g=p)}se=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const L=()=>{};h.addEventListener("test",L,T),h.removeEventListener("test",L,T)}catch{}return p}();function Ce(p,T){if(he.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var L=this.type=p.type,K=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget){if(z){e:{try{F(T.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(T=null)}}else L=="mouseover"?T=p.fromElement:L=="mouseout"&&(T=p.toElement);this.relatedTarget=T,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Pe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ce.aa.h.call(this)}}R(Ce,he);var Pe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function We(p,T,L,K,ye){this.listener=p,this.proxy=null,this.src=T,this.type=L,this.capture=!!K,this.ha=ye,this.key=++Ie,this.da=this.fa=!1}function Ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Je(p){this.src=p,this.g={},this.h=0}Je.prototype.add=function(p,T,L,K,ye){var Se=p.toString();p=this.g[Se],p||(p=this.g[Se]=[],this.h++);var Ke=gt(p,T,K,ye);return-1<Ke?(T=p[Ke],L||(T.fa=!1)):(T=new We(T,this.src,Se,!!K,ye),T.fa=L,p.push(T)),T};function pt(p,T){var L=T.type;if(L in p.g){var K=p.g[L],ye=Array.prototype.indexOf.call(K,T,void 0),Se;(Se=0<=ye)&&Array.prototype.splice.call(K,ye,1),Se&&(Ye(T),p.g[L].length==0&&(delete p.g[L],p.h--))}}function gt(p,T,L,K){for(var ye=0;ye<p.length;++ye){var Se=p[ye];if(!Se.da&&Se.listener==T&&Se.capture==!!L&&Se.ha==K)return ye}return-1}var st="closure_lm_"+(1e6*Math.random()|0),zt={};function tr(p,T,L,K,ye){if(Array.isArray(T)){for(var Se=0;Se<T.length;Se++)tr(p,T[Se],L,K,ye);return null}return L=xn(L),p&&p[je]?p.K(T,L,g(K)?!!K.capture:!1,ye):Un(p,T,L,!1,K,ye)}function Un(p,T,L,K,ye,Se){if(!T)throw Error("Invalid event type");var Ke=g(ye)?!!ye.capture:!!ye,Vn=mn(p);if(Vn||(p[st]=Vn=new Je(p)),L=Vn.add(T,L,K,Ke,Se),L.proxy)return L;if(K=ur(),L.proxy=K,K.src=p,K.listener=L,p.addEventListener)Ne||(ye=Ke),ye===void 0&&(ye=!1),p.addEventListener(T.toString(),K,ye);else if(p.attachEvent)p.attachEvent(hn(T.toString()),K);else if(p.addListener&&p.removeListener)p.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return L}function ur(){function p(L){return T.call(p.src,p.listener,L)}const T=Cn;return p}function Jn(p,T,L,K,ye){if(Array.isArray(T))for(var Se=0;Se<T.length;Se++)Jn(p,T[Se],L,K,ye);else K=g(K)?!!K.capture:!!K,L=xn(L),p&&p[je]?(p=p.i,T=String(T).toString(),T in p.g&&(Se=p.g[T],L=gt(Se,L,K,ye),-1<L&&(Ye(Se[L]),Array.prototype.splice.call(Se,L,1),Se.length==0&&(delete p.g[T],p.h--)))):p&&(p=mn(p))&&(T=p.g[T.toString()],p=-1,T&&(p=gt(T,L,K,ye)),(L=-1<p?T[p]:null)&&cn(L))}function cn(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[je])pt(T.i,p);else{var L=p.type,K=p.proxy;T.removeEventListener?T.removeEventListener(L,K,p.capture):T.detachEvent?T.detachEvent(hn(L),K):T.addListener&&T.removeListener&&T.removeListener(K),(L=mn(T))?(pt(L,p),L.h==0&&(L.src=null,T[st]=null)):Ye(p)}}}function hn(p){return p in zt?zt[p]:zt[p]="on"+p}function Cn(p,T){if(p.da)p=!0;else{T=new Ce(T,this);var L=p.listener,K=p.ha||p.src;p.fa&&cn(p),p=L.call(K,T)}return p}function mn(p){return p=p[st],p instanceof Je?p:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(p){return typeof p=="function"?p:(p[Ht]||(p[Ht]=function(T){return p.handleEvent(T)}),p[Ht])}function Dt(){ie.call(this),this.i=new Je(this),this.M=this,this.F=null}R(Dt,ie),Dt.prototype[je]=!0,Dt.prototype.removeEventListener=function(p,T,L,K){Jn(this,p,T,L,K)};function wt(p,T){var L,K=p.F;if(K)for(L=[];K;K=K.F)L.push(K);if(p=p.M,K=T.type||T,typeof T=="string")T=new he(T,p);else if(T instanceof he)T.target=T.target||p;else{var ye=T;T=new he(K,p),I(T,ye)}if(ye=!0,L)for(var Se=L.length-1;0<=Se;Se--){var Ke=T.g=L[Se];ye=Ut(Ke,K,!0,T)&&ye}if(Ke=T.g=p,ye=Ut(Ke,K,!0,T)&&ye,ye=Ut(Ke,K,!1,T)&&ye,L)for(Se=0;Se<L.length;Se++)Ke=T.g=L[Se],ye=Ut(Ke,K,!1,T)&&ye}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var p=this.i,T;for(T in p.g){for(var L=p.g[T],K=0;K<L.length;K++)Ye(L[K]);delete p.g[T],p.h--}}this.F=null},Dt.prototype.K=function(p,T,L,K){return this.i.add(String(p),T,!1,L,K)},Dt.prototype.L=function(p,T,L,K){return this.i.add(String(p),T,!0,L,K)};function Ut(p,T,L,K){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();for(var ye=!0,Se=0;Se<T.length;++Se){var Ke=T[Se];if(Ke&&!Ke.da&&Ke.capture==L){var Vn=Ke.listener,di=Ke.ha||Ke.src;Ke.fa&&pt(p.i,Ke),ye=Vn.call(di,K)!==!1&&ye}}return ye&&!K.defaultPrevented}function qn(p,T,L){if(typeof p=="function")L&&(p=E(p,L));else if(p&&typeof p.handleEvent=="function")p=E(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:h.setTimeout(p,T||0)}function Qt(p){p.g=qn(()=>{p.g=null,p.i&&(p.i=!1,Qt(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class Hr extends ie{constructor(T,L){super(),this.m=T,this.l=L,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(p){ie.call(this),this.h=p,this.g={}}R(Rr,ie);var ts=[];function Ei(p){J(p.g,function(T,L){this.g.hasOwnProperty(L)&&cn(T)},p),p.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),Ei(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=h.JSON.stringify,Bi=h.JSON.parse,Wr=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function yr(){}yr.prototype.h=null;function or(p){return p.h||(p.h=p.i())}function cr(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rn(){he.call(this,"d")}R(Rn,he);function li(){he.call(this,"c")}R(li,he);var zn={},bi=null;function Fr(){return bi=bi||new Dt}zn.La="serverreachability";function Ri(p){he.call(this,zn.La,p)}R(Ri,he);function _r(p){const T=Fr();wt(T,new Ri(T))}zn.STAT_EVENT="statevent";function Vi(p,T){he.call(this,zn.STAT_EVENT,p),this.stat=T}R(Vi,he);function Gt(p){const T=Fr();wt(T,new Vi(T,p))}zn.Ma="timingevent";function nr(p,T){he.call(this,zn.Ma,p),this.size=T}R(nr,he);function Hn(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},T)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function vr(p,T,L,K,ye,Se){p.info(function(){if(p.g)if(Se)for(var Ke="",Vn=Se.split("&"),di=0;di<Vn.length;di++){var En=Vn[di].split("=");if(1<En.length){var $n=En[0];En=En[1];var Pr=$n.split("_");Ke=2<=Pr.length&&Pr[1]=="type"?Ke+($n+"="+En+"&"):Ke+($n+"=redacted&")}}else Ke=null;else Ke=Se;return"XMLHTTP REQ ("+K+") [attempt "+ye+"]: "+T+`
`+L+`
`+Ke})}function ui(p,T,L,K,ye,Se,Ke){p.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ye+"]: "+T+`
`+L+`
`+Se+" "+Ke})}function Jt(p,T,L,K){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+Ks(p,L)+(K?" "+K:"")})}function qi(p,T){p.info(function(){return"TIMEOUT: "+T})}kr.prototype.info=function(){};function Ks(p,T){if(!p.g)return T;if(!T)return null;try{var L=JSON.parse(T);if(L){for(p=0;p<L.length;p++)if(Array.isArray(L[p])){var K=L[p];if(!(2>K.length)){var ye=K[1];if(Array.isArray(ye)&&!(1>ye.length)){var Se=ye[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var Ke=1;Ke<ye.length;Ke++)ye[Ke]=""}}}}return Ti(L)}catch{return T}}var Gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ur;function yn(){}R(yn,yr),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},Ur=new yn;function Kr(p,T,L,K){this.j=p,this.i=T,this.l=L,this.R=K||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}var Qr={},ns={};function ge(p,T,L){p.L=1,p.v=rr(jn(T)),p.m=L,p.P=!0,Ee(p,null)}function Ee(p,T){p.F=Date.now(),rt(p),p.A=jn(p.v);var L=p.A,K=p.R;Array.isArray(K)||(K=[String(K)]),vs(L.i,"t",K),p.C=0,L=p.j.J,p.h=new ki,p.g=jh(p.j,L?T:null,!p.m),0<p.O&&(p.M=new Hr(E(p.Y,p,p.g),p.O)),T=p.U,L=p.g,K=p.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(ts[0]=ye.toString()),ye=ts);for(var Se=0;Se<ye.length;Se++){var Ke=tr(L,ye[Se],K||T.handleEvent,!1,T.h||T);if(!Ke)break;T.g[Ke.key]=Ke}T=p.H?q(p.H):{},p.m?(p.u||(p.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,T)):(p.u="GET",p.g.ea(p.A,p.u,null,T)),_r(),vr(p.i,p.u,p.A,p.l,p.R,p.m)}Kr.prototype.ca=function(p){p=p.target;const T=this.M;T&&gn(p)==3?T.j():this.Y(p)},Kr.prototype.Y=function(p){try{if(p==this.g)e:{const Pr=gn(this.g);var T=this.g.Ba();const Hi=this.g.Z();if(!(3>Pr)&&(Pr!=3||this.g&&(this.h.h||this.g.oa()||Vr(this.g)))){this.J||Pr!=4||T==7||(T==8||0>=Hi?_r(3):_r(2)),ce(this);var L=this.g.Z();this.X=L;t:if(qe(this)){var K=Vr(this.g);p="";var ye=K.length,Se=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Te(this);var Ke="";break t}this.h.i=new h.TextDecoder}for(T=0;T<ye;T++)this.h.h=!0,p+=this.h.i.decode(K[T],{stream:!(Se&&T==ye-1)});K.length=0,this.h.g+=p,this.C=0,Ke=this.h.g}else Ke=this.g.oa();if(this.o=L==200,ui(this.i,this.u,this.A,this.l,this.R,Pr,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Vn,di=this.g;if((Vn=di.g?di.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Vn)){var En=Vn;break t}}En=null}if(L=En)Jt(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xe(this,L);else{this.o=!1,this.s=3,Gt(12),Ue(this),Te(this);break e}}if(this.P){L=!0;let Es;for(;!this.J&&this.C<Ke.length;)if(Es=nt(this,Ke),Es==ns){Pr==4&&(this.s=4,Gt(14),L=!1),Jt(this.i,this.l,null,"[Incomplete Response]");break}else if(Es==Qr){this.s=4,Gt(15),Jt(this.i,this.l,Ke,"[Invalid Chunk]"),L=!1;break}else Jt(this.i,this.l,Es,null),Xe(this,Es);if(qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pr!=4||Ke.length!=0||this.h.h||(this.s=1,Gt(16),L=!1),this.o=this.o&&L,!L)Jt(this.i,this.l,Ke,"[Invalid Chunked Response]"),Ue(this),Te(this);else if(0<Ke.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+Ke.length),Js($n),$n.M=!0,Gt(11))}}else Jt(this.i,this.l,Ke,null),Xe(this,Ke);Pr==4&&Ue(this),this.o&&!this.J&&(Pr==4?Wn(this.j,this):(this.o=!1,rt(this)))}else Xn(this.g),L==400&&0<Ke.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Ue(this),Te(this)}}}catch{}finally{}};function qe(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function nt(p,T){var L=p.C,K=T.indexOf(`
`,L);return K==-1?ns:(L=Number(T.substring(L,K)),isNaN(L)?Qr:(K+=1,K+L>T.length?ns:(T=T.slice(K,K+L),p.C=K+L,T)))}Kr.prototype.cancel=function(){this.J=!0,Ue(this)};function rt(p){p.S=Date.now()+p.I,At(p,p.I)}function At(p,T){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Hn(E(p.ba,p),T)}function ce(p){p.B&&(h.clearTimeout(p.B),p.B=null)}Kr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(qi(this.i,this.A),this.L!=2&&(_r(),Gt(17)),Ue(this),this.s=2,Te(this)):At(this,this.S-p)};function Te(p){p.j.G==0||p.J||Wn(p.j,p)}function Ue(p){ce(p);var T=p.M;T&&typeof T.ma=="function"&&T.ma(),p.M=null,Ei(p.U),p.g&&(T=p.g,p.g=null,T.abort(),T.ma())}function Xe(p,T){try{var L=p.j;if(L.G!=0&&(L.g==p||Yt(L.h,p))){if(!p.K&&Yt(L.h,p)&&L.G==3){try{var K=L.Da.g.parse(T)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ye=K;if(ye[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<p.F)Ga(L),Or(L);else break e;Ml(L),Gt(18)}}else L.za=ye[1],0<L.za-L.T&&37500>ye[2]&&L.F&&L.v==0&&!L.C&&(L.C=Hn(E(L.Za,L),6e3));if(1>=Mt(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else _o(L,11)}else if((p.K||L.g==p)&&Ga(L),!B(T))for(ye=L.Da.g.parse(T),T=0;T<ye.length;T++){let En=ye[T];if(L.T=En[0],En=En[1],L.G==2)if(En[0]=="c"){L.K=En[1],L.ia=En[2];const $n=En[3];$n!=null&&(L.la=$n,L.j.info("VER="+L.la));const Pr=En[4];Pr!=null&&(L.Aa=Pr,L.j.info("SVER="+L.Aa));const Hi=En[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(K=1.5*Hi,L.L=K,L.j.info("backChannelRequestTimeoutMs_="+K)),K=L;const Es=p.g;if(Es){const Ka=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var Se=K.h;Se.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(bn(Se,Se.h),Se.h=null))}if(K.D){const Ru=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;Ru&&(K.ya=Ru,jt(K.I,K.D,Ru))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-p.F,L.j.info("Handshake RTT: "+L.R+"ms")),K=L;var Ke=p;if(K.qa=xu(K,K.J?K.ia:null,K.W),Ke.K){Jr(K.h,Ke);var Vn=Ke,di=K.L;di&&(Vn.I=di),Vn.B&&(ce(Vn),rt(Vn)),K.g=Ke}else Dl(K);0<L.i.length&&ws(L)}else En[0]!="stop"&&En[0]!="close"||_o(L,7);else L.G==3&&(En[0]=="stop"||En[0]=="close"?En[0]=="stop"?_o(L,7):sr(L):En[0]!="noop"&&L.l&&L.l.ta(En),L.v=0)}}_r(4)}catch{}}var _t=class{constructor(p,T){this.g=p,this.map=T}};function qt(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Mt(p){return p.h?1:p.g?p.g.size:0}function Yt(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function bn(p,T){p.g?p.g.add(T):p.h=T}function Jr(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}qt.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Nr(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const L of p.g.values())T=T.concat(L.D);return T}return O(p.i)}function Sr(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var T=[],L=p.length,K=0;K<L;K++)T.push(p[K]);return T}T=[],L=0;for(K in p)T[L++]=p[K];return T}function ct(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var T=[];p=p.length;for(var L=0;L<p;L++)T.push(L);return T}T=[],L=0;for(const K in p)T[L++]=K;return T}}}function Ft(p,T){if(p.forEach&&typeof p.forEach=="function")p.forEach(T,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,T,void 0);else for(var L=ct(p),K=Sr(p),ye=K.length,Se=0;Se<ye;Se++)T.call(void 0,K[Se],L&&L[Se],p)}var pn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ot(p,T){if(p){p=p.split("&");for(var L=0;L<p.length;L++){var K=p[L].indexOf("="),ye=null;if(0<=K){var Se=p[L].substring(0,K);ye=p[L].substring(K+1)}else Se=p[L];T(Se,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function Ct(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ct){this.h=p.h,xt(this,p.j),this.o=p.o,this.g=p.g,vn(this,p.s),this.l=p.l;var T=p.i,L=new Si;L.i=T.i,T.g&&(L.g=new Map(T.g),L.h=T.h),wn(this,L),this.m=p.m}else p&&(T=String(p).match(pn))?(this.h=!1,xt(this,T[1]||"",!0),this.o=vt(T[2]||""),this.g=vt(T[3]||"",!0),vn(this,T[4]),this.l=vt(T[5]||"",!0),wn(this,T[6]||"",!0),this.m=vt(T[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}Ct.prototype.toString=function(){var p=[],T=this.j;T&&p.push(Bn(T,ys,!0),":");var L=this.g;return(L||T=="file")&&(p.push("//"),(T=this.o)&&p.push(Bn(T,ys,!0),"@"),p.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&p.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&p.push("/"),p.push(Bn(L,L.charAt(0)=="/"?Us:Xr,!0))),(L=this.i.toString())&&p.push("?",L),(L=this.m)&&p.push("#",Bn(L,rs)),p.join("")};function jn(p){return new Ct(p)}function xt(p,T,L){p.j=L?vt(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function vn(p,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);p.s=T}else p.s=null}function wn(p,T,L){T instanceof Si?(p.i=T,$i(p.i,p.h)):(L||(T=Bn(T,_s)),p.i=new Si(T,p.h))}function jt(p,T,L){p.i.set(T,L)}function rr(p){return jt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function vt(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Bn(p,T,L){return typeof p=="string"?(p=encodeURI(p).replace(T,hr),L&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function hr(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ys=/[#\/\?@]/g,Xr=/[#\?:]/g,Us=/[#\?]/g,_s=/[#\?@]/g,rs=/#/g;function Si(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function ir(p){p.g||(p.g=new Map,p.h=0,p.i&&Ot(p.i,function(T,L){p.add(decodeURIComponent(T.replace(/\+/g," ")),L)}))}n=Si.prototype,n.add=function(p,T){ir(this),this.i=null,p=hi(this,p);var L=this.g.get(p);return L||this.g.set(p,L=[]),L.push(T),this.h+=1,this};function Pn(p,T){ir(p),T=hi(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function ji(p,T){return ir(p),T=hi(p,T),p.g.has(T)}n.forEach=function(p,T){ir(this),this.g.forEach(function(L,K){L.forEach(function(ye){p.call(T,ye,K,this)},this)},this)},n.na=function(){ir(this);const p=Array.from(this.g.values()),T=Array.from(this.g.keys()),L=[];for(let K=0;K<T.length;K++){const ye=p[K];for(let Se=0;Se<ye.length;Se++)L.push(T[K])}return L},n.V=function(p){ir(this);let T=[];if(typeof p=="string")ji(this,p)&&(T=T.concat(this.g.get(hi(this,p))));else{p=Array.from(this.g.values());for(let L=0;L<p.length;L++)T=T.concat(p[L])}return T},n.set=function(p,T){return ir(this),this.i=null,p=hi(this,p),ji(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},n.get=function(p,T){return p?(p=this.V(p),0<p.length?String(p[0]):T):T};function vs(p,T,L){Pn(p,T),0<L.length&&(p.i=null,p.g.set(hi(p,T),O(L)),p.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(var L=0;L<T.length;L++){var K=T[L];const Se=encodeURIComponent(String(K)),Ke=this.V(K);for(K=0;K<Ke.length;K++){var ye=Se;Ke[K]!==""&&(ye+="="+encodeURIComponent(String(Ke[K]))),p.push(ye)}}return this.i=p.join("&")};function hi(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function $i(p,T){T&&!p.j&&(ir(p),p.i=null,p.g.forEach(function(L,K){var ye=K.toLowerCase();K!=ye&&(Pn(this,K),vs(this,ye,L))},p)),p.j=T}function Bo(p,T){const L=new kr;if(h.Image){const K=new Image;K.onload=x(Br,L,"TestLoadImage: loaded",!0,T,K),K.onerror=x(Br,L,"TestLoadImage: error",!1,T,K),K.onabort=x(Br,L,"TestLoadImage: abort",!1,T,K),K.ontimeout=x(Br,L,"TestLoadImage: timeout",!1,T,K),h.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=p}else T(!1)}function Wa(p,T){const L=new kr,K=new AbortController,ye=setTimeout(()=>{K.abort(),Br(L,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:K.signal}).then(Se=>{clearTimeout(ye),Se.ok?Br(L,"TestPingServer: ok",!0,T):Br(L,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ye),Br(L,"TestPingServer: error",!1,T)})}function Br(p,T,L,K,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),K(L)}catch{}}function da(){this.g=new Wr}function pa(p,T,L){const K=L||"";try{Ft(p,function(ye,Se){let Ke=ye;g(ye)&&(Ke=Ti(ye)),T.push(K+Se+"="+encodeURIComponent(Ke))})}catch(ye){throw T.push(K+"type="+encodeURIComponent("_badmap")),ye}}function Yr(p){this.l=p.Ub||null,this.j=p.eb||!1}R(Yr,yr),Yr.prototype.g=function(){return new Qs(this.l,this.j)},Yr.prototype.i=function(p){return function(){return p}}({});function Qs(p,T){Dt.call(this),this.D=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Qs,Dt),n=Qs.prototype,n.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=T,this.readyState=1,tn(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(T.body=p),(this.D||h).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sn(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,tn(this)),this.g&&(this.readyState=3,tn(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?sn(this):tn(this),this.readyState==3&&Vo(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,sn(this))},n.Qa=function(p){this.g&&(this.response=p,sn(this))},n.ga=function(){this.g&&sn(this)};function sn(p){p.readyState=4,p.l=null,p.j=null,p.v=null,tn(p)}n.setRequestHeader=function(p,T){this.u.append(p,T)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var L=T.next();!L.done;)L=L.value,p.push(L[0]+": "+L[1]),L=T.next();return p.join(`\r
`)};function tn(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function A(p){let T="";return J(p,function(L,K){T+=K,T+=":",T+=L,T+=`\r
`}),T}function H(p,T,L){e:{for(K in L){var K=!1;break e}K=!0}K||(L=A(L),typeof p=="string"?L!=null&&encodeURIComponent(String(L)):jt(p,T,L))}function ee(p){Dt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(ee,Dt);var xe=/^https?$/i,It=["POST","PUT"];n=ee.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,T,L,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ur.g(),this.v=this.o?or(this.o):or(Ur),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(Se){ut(this,Se);return}if(p=L||"",L=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ye in K)L.set(ye,K[ye]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Se of K.keys())L.set(Se,K.get(Se));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(L.keys()).find(Se=>Se.toLowerCase()=="content-type"),ye=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(It,T,void 0))||K||ye||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,Ke]of L)this.g.setRequestHeader(Se,Ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(p),this.u=!1}catch(Se){ut(this,Se)}};function ut(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.m=5,nn(p),St(p)}function nn(p){p.A||(p.A=!0,wt(p,"complete"),wt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,wt(this,"complete"),wt(this,"abort"),St(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),St(this,!0)),ee.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?on(this):this.bb())},n.bb=function(){on(this)};function on(p){if(p.h&&typeof u<"u"&&(!p.v[1]||gn(p)!=4||p.Z()!=2)){if(p.u&&gn(p)==4)qn(p.Ea,0,p);else if(wt(p,"readystatechange"),gn(p)==4){p.h=!1;try{const Ke=p.Z();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var L;if(!(L=T)){var K;if(K=Ke===0){var ye=String(p.D).match(pn)[1]||null;!ye&&h.self&&h.self.location&&(ye=h.self.location.protocol.slice(0,-1)),K=!xe.test(ye?ye.toLowerCase():"")}L=K}if(L)wt(p,"complete"),wt(p,"success");else{p.m=6;try{var Se=2<gn(p)?p.g.statusText:""}catch{Se=""}p.l=Se+" ["+p.Z()+"]",nn(p)}}finally{St(p)}}}}function St(p,T){if(p.g){an(p);const L=p.g,K=p.v[0]?()=>{}:null;p.g=null,p.v=null,T||wt(p,"ready");try{L.onreadystatechange=K}catch{}}}function an(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function gn(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Bi(T)}};function Vr(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Xn(p){const T={};p=(p.g&&2<=gn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<p.length;K++){if(B(p[K]))continue;var L=k(p[K]);const ye=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Se=T[ye]||[];T[ye]=Se,Se.push(L)}D(T,function(K){return K.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fn(p,T,L){return L&&L.internalChannelParams&&L.internalChannelParams[p]||T}function wr(p){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fn("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fn("baseRetryDelayMs",5e3,p),this.cb=fn("retryDelaySeedMs",1e4,p),this.Wa=fn("forwardChannelMaxRetries",2,p),this.wa=fn("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new qt(p&&p.concurrentRequestLimit),this.Da=new da,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wr.prototype,n.la=8,n.G=1,n.connect=function(p,T,L,K){Gt(0),this.W=p,this.H=T||{},L&&K!==void 0&&(this.H.OSID=L,this.H.OAID=K),this.F=this.X,this.I=xu(this,null,this.W),ws(this)};function sr(p){if(is(p),p.G==3){var T=p.U++,L=jn(p.I);if(jt(L,"SID",p.K),jt(L,"RID",T),jt(L,"TYPE","terminate"),ma(p,L),T=new Kr(p,p.j,T),T.L=2,T.v=rr(jn(L)),L=!1,h.navigator&&h.navigator.sendBeacon)try{L=h.navigator.sendBeacon(T.v.toString(),"")}catch{}!L&&h.Image&&(new Image().src=T.v,L=!0),L||(T.g=jh(T.j,null),T.g.ea(T.v)),T.F=Date.now(),rt(T)}qh(p)}function Or(p){p.g&&(Js(p),p.g.cancel(),p.g=null)}function is(p){Or(p),p.u&&(h.clearTimeout(p.u),p.u=null),Ga(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function ws(p){if(!Xt(p.h)&&!p.s){p.s=!0;var T=p.Ga;de||Y(),se||(de(),se=!0),ne.add(T,p),p.B=0}}function ga(p,T){return Mt(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=T.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Hn(E(p.Ga,p,T),yo(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ye=new Kr(this,this.j,p);let Se=this.o;if(this.S&&(Se?(Se=q(Se),I(Se,this.S)):Se=this.S),this.m!==null||this.O||(ye.H=Se,Se=null),this.P)e:{for(var T=0,L=0;L<this.i.length;L++){t:{var K=this.i[L];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(T+=K,4096<T){T=L;break e}if(T===4096||L===this.i.length-1){T=L+1;break e}}T=1e3}else T=1e3;T=fi(this,ye,T),L=jn(this.I),jt(L,"RID",p),jt(L,"CVER",22),this.D&&jt(L,"X-HTTP-Session-Id",this.D),ma(this,L),Se&&(this.O?T="headers="+encodeURIComponent(String(A(Se)))+"&"+T:this.m&&H(L,this.m,Se)),bn(this.h,ye),this.Ua&&jt(L,"TYPE","init"),this.P?(jt(L,"$req",T),jt(L,"SID","null"),ye.T=!0,ge(ye,L,null)):ge(ye,L,T),this.G=2}}else this.G==3&&(p?Ar(this,p):this.i.length==0||Xt(this.h)||Ar(this))};function Ar(p,T){var L;T?L=T.l:L=p.U++;const K=jn(p.I);jt(K,"SID",p.K),jt(K,"RID",L),jt(K,"AID",p.T),ma(p,K),p.m&&p.o&&H(K,p.m,p.o),L=new Kr(p,p.j,L,p.B+1),p.m===null&&(L.H=p.o),T&&(p.i=T.D.concat(p.i)),T=fi(p,L,1e3),L.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),bn(p.h,L),ge(L,K,T)}function ma(p,T){p.H&&J(p.H,function(L,K){jt(T,K,L)}),p.l&&Ft({},function(L,K){jt(T,K,L)})}function fi(p,T,L){L=Math.min(p.i.length,L);var K=p.l?E(p.l.Na,p.l,p):null;e:{var ye=p.i;let Se=-1;for(;;){const Ke=["count="+L];Se==-1?0<L?(Se=ye[0].g,Ke.push("ofs="+Se)):Se=0:Ke.push("ofs="+Se);let Vn=!0;for(let di=0;di<L;di++){let En=ye[di].g;const $n=ye[di].map;if(En-=Se,0>En)Se=Math.max(0,ye[di].g-100),Vn=!1;else try{pa($n,Ke,"req"+En+"_")}catch{K&&K($n)}}if(Vn){K=Ke.join("&");break e}}}return p=p.i.splice(0,L),T.D=p,K}function Dl(p){if(!p.g&&!p.u){p.Y=1;var T=p.Fa;de||Y(),se||(de(),se=!0),ne.add(T,p),p.v=0}}function Ml(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Hn(E(p.Fa,p),yo(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Hn(E(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Or(this),Fl(this))};function Js(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function Fl(p){p.g=new Kr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var T=jn(p.qa);jt(T,"RID","rpc"),jt(T,"SID",p.K),jt(T,"AID",p.T),jt(T,"CI",p.F?"0":"1"),!p.F&&p.ja&&jt(T,"TO",p.ja),jt(T,"TYPE","xmlhttp"),ma(p,T),p.m&&p.o&&H(T,p.m,p.o),p.L&&(p.g.I=p.L);var L=p.g;p=p.ia,L.L=1,L.v=rr(jn(T)),L.m=null,L.P=!0,Ee(L,p)}n.Za=function(){this.C!=null&&(this.C=null,Or(this),Ml(this),Gt(19))};function Ga(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function Wn(p,T){var L=null;if(p.g==T){Ga(p),Js(p),p.g=null;var K=2}else if(Yt(p.h,T))L=T.D,Jr(p.h,T),K=1;else return;if(p.G!=0){if(T.o)if(K==1){L=T.m?T.m.length:0,T=Date.now()-T.F;var ye=p.B;K=Fr(),wt(K,new nr(K,L)),ws(p)}else Dl(p);else if(ye=T.s,ye==3||ye==0&&0<T.X||!(K==1&&ga(p,T)||K==2&&Ml(p)))switch(L&&0<L.length&&(T=p.h,T.i=T.i.concat(L)),ye){case 1:_o(p,5);break;case 4:_o(p,10);break;case 3:_o(p,6);break;default:_o(p,2)}}}function yo(p,T){let L=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(L*=2),L*T}function _o(p,T){if(p.j.info("Error code "+T),T==2){var L=E(p.fb,p),K=p.Xa;const ye=!K;K=new Ct(K||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||xt(K,"https"),rr(K),ye?Bo(K.toString(),L):Wa(K.toString(),L)}else Gt(2);p.G=0,p.l&&p.l.sa(T),qh(p),is(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function qh(p){if(p.G=0,p.ka=[],p.l){const T=Nr(p.h);(T.length!=0||p.i.length!=0)&&(P(p.ka,T),P(p.ka,p.i),p.h.i.length=0,O(p.i),p.i.length=0),p.l.ra()}}function xu(p,T,L){var K=L instanceof Ct?jn(L):new Ct(L);if(K.g!="")T&&(K.g=T+"."+K.g),vn(K,K.s);else{var ye=h.location;K=ye.protocol,T=T?T+"."+ye.hostname:ye.hostname,ye=+ye.port;var Se=new Ct(null);K&&xt(Se,K),T&&(Se.g=T),ye&&vn(Se,ye),L&&(Se.l=L),K=Se}return L=p.D,T=p.ya,L&&T&&jt(K,L,T),jt(K,"VER",p.la),ma(p,K),K}function jh(p,T,L){if(T&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Ca&&!p.pa?new ee(new Yr({eb:L})):new ee(p.pa),T.Ha(p.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ic(){}n=Ic.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Iu(){}Iu.prototype.g=function(p,T){return new zi(p,T)};function zi(p,T){Dt.call(this),this.g=new wr(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(p?p["X-WebChannel-Client-Profile"]=T.va:p={"X-WebChannel-Client-Profile":T.va}),this.g.S=p,(p=T&&T.Sb)&&!B(p)&&(this.g.m=p),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.D=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new qo(this)}R(zi,Dt),zi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zi.prototype.close=function(){sr(this.g)},zi.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var L={};L.__data__=p,p=L}else this.u&&(L={},L.__data__=Ti(p),p=L);T.i.push(new _t(T.Ya++,p)),T.G==3&&ws(T)},zi.prototype.N=function(){this.g.l=null,delete this.j,sr(this.g),delete this.g,zi.aa.N.call(this)};function Ul(p){Rn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const L in T){p=L;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}R(Ul,Rn);function ya(){li.call(this),this.status=1}R(ya,li);function qo(p){this.g=p}R(qo,Ic),qo.prototype.ua=function(){wt(this.g,"a")},qo.prototype.ta=function(p){wt(this.g,new Ul(p))},qo.prototype.sa=function(p){wt(this.g,new ya)},qo.prototype.ra=function(){wt(this.g,"b")},Iu.prototype.createWebChannel=Iu.prototype.g,zi.prototype.send=zi.prototype.o,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,XA=function(){return new Iu},JA=function(){return Fr()},QA=zn,av={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,jy=Gr,ci.COMPLETE="complete",KA=ci,cr.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ag=cr,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,GA=ee}).apply(typeof yy<"u"?yy:typeof self<"u"?self:typeof window<"u"?window:{});const AT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ns.UNAUTHENTICATED=new Ns(null),Ns.GOOGLE_CREDENTIALS=new Ns("google-credentials-uid"),Ns.FIRST_PARTY=new Ns("first-party-uid"),Ns.MOCK_USER=new Ns("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new uw("@firebase/firestore");function od(){return Th.logLevel}function ot(n,...e){if(Th.logLevel<=Sn.DEBUG){const t=e.map(fw);Th.debug(`Firestore (${$d}): ${n}`,...t)}}function _u(n,...e){if(Th.logLevel<=Sn.ERROR){const t=e.map(fw);Th.error(`Firestore (${$d}): ${n}`,...t)}}function xd(n,...e){if(Th.logLevel<=Sn.WARN){const t=e.map(fw);Th.warn(`Firestore (${$d}): ${n}`,...t)}}function fw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n="Unexpected state"){const e=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: `+n;throw _u(e),new Error(e)}function er(n,e){n||Vt()}function Kt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Pl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ns.UNAUTHENTICATED))}shutdown(){}}class DP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MP{constructor(e){this.t=e,this.currentUser=Ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){er(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new yh;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yh,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yh)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(er(typeof r.accessToken=="string"),new YA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return er(e===null||typeof e=="string"),new Ns(e)}}class FP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ns.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new FP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){er(this.o===void 0);const r=o=>{o.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,ot("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(er(typeof t.token=="string"),this.R=t.token,new BP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qP(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function On(n,e){return n<e?-1:n>e?1:0}function Id(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{static now(){return Fi.fromMillis(Date.now())}static fromDate(e){return Fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Fi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kt(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kt(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kt(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Fi(0,0))}static max(){return new Wt(new Fi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Vt(),r===void 0?r=e.length-t:r>e.length-t&&Vt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return yl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=yl.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=yl.isNumericId(e),i=yl.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?yl.extractNumericId(e).compare(yl.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mc.fromString(e.substring(4,e.length-2))}}class si extends yl{construct(e,t,r){return new si(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new kt(He.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new si(t)}static emptyPath(){return new si([])}}const jP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ps extends yl{construct(e,t,r){return new ps(e,t,r)}static isValidIdentifier(e){return jP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ps.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ps(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new kt(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new kt(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new kt(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new kt(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ps(t)}static emptyPath(){return new ps([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(si.fromString(e))}static fromName(e){return new Nt(si.fromString(e).popFirst(5))}static empty(){return new Nt(si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&si.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return si.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new si(e.slice()))}}function $P(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Wt.fromTimestamp(r===1e9?new Fi(t+1,0):new Fi(t,r));return new vc(i,Nt.empty(),e)}function zP(n){return new vc(n.readTime,n.key,-1)}class vc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new vc(Wt.min(),Nt.empty(),-1)}static max(){return new vc(Wt.max(),Nt.empty(),-1)}}function HP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Nt.comparator(n.documentKey,e.documentKey),t!==0?t:On(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(n){if(n.code!==He.FAILED_PRECONDITION||n.message!==WP)throw n;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,r)=>{t(e)})}static reject(e){return new Me((t,r)=>{r(e)})}static waitFor(e){return new Me((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},d=>r(d))}),u=!0,o===i&&t()})}static or(e){let t=Me.resolve(!1);for(const r of e)t=t.next(i=>i?Me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Me((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const g=d;t(e[g]).next(_=>{u[g]=_,++h,h===o&&r(u)},_=>i(_))}})}static doWhile(e,t){return new Me((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function KP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Hd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}V0.oe=-1;function q0(n){return n==null}function h0(n){return n===0&&1/n==-1/0}function QP(n){return typeof n=="number"&&Number.isInteger(n)&&!h0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=CT(e)),e=XP(n.get(t),e);return CT(e)}function XP(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function CT(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _y(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _y(this.root,e,this.comparator,!1)}getReverseIterator(){return new _y(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _y(this.root,e,this.comparator,!0)}}class _y{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??fs.RED,this.left=i??fs.EMPTY,this.right=o??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new fs(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return fs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1;fs.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(e,t,r,i,o){return this}insert(e,t,r){return new fs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(e){return new IT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ui(this.comparator);return t.data=e,t}}class IT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.fields=e,e.sort(ps.comparator)}static empty(){return new Ua([])}unionWith(e){let t=new Ui(ps.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ua(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Id(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tC("Invalid base64 string: "+o):o}}(e);return new ms(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new ms(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ms.EMPTY_BYTE_STRING=new ms("");const YP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wc(n){if(er(!!n),typeof n=="string"){let e=0;const t=YP.exec(n);if(er(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vi(n.seconds),nanos:vi(n.nanos)}}function vi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ec(n){return typeof n=="string"?ms.fromBase64String(n):ms.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function j0(n){const e=n.mapValue.fields.__previous_value__;return dw(e)?j0(e):e}function Rg(n){const e=wc(n.mapValue.fields.__local_write_time__.timestampValue);return new Fi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t,r,i,o,u,h,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=g}}class kg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Tc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dw(n)?4:tL(n)?9007199254740991:eL(n)?10:11:Vt()}function Il(n,e){if(n===e)return!0;const t=Tc(n);if(t!==Tc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rg(n).isEqual(Rg(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=wc(i.timestampValue),h=wc(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ec(i.bytesValue).isEqual(Ec(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return vi(i.geoPointValue.latitude)===vi(o.geoPointValue.latitude)&&vi(i.geoPointValue.longitude)===vi(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return vi(i.integerValue)===vi(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=vi(i.doubleValue),h=vi(o.doubleValue);return u===h?h0(u)===h0(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Id(n.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(xT(u)!==xT(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Il(u[d],h[d])))return!1;return!0}(n,e);default:return Vt()}}function Ng(n,e){return(n.values||[]).find(t=>Il(t,e))!==void 0}function Rd(n,e){if(n===e)return 0;const t=Tc(n),r=Tc(e);if(t!==r)return On(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return On(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=vi(o.integerValue||o.doubleValue),d=vi(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return RT(n.timestampValue,e.timestampValue);case 4:return RT(Rg(n),Rg(e));case 5:return On(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Ec(o),d=Ec(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let g=0;g<h.length&&g<d.length;g++){const _=On(h[g],d[g]);if(_!==0)return _}return On(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=On(vi(o.latitude),vi(u.latitude));return h!==0?h:On(vi(o.longitude),vi(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return kT(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,g,_;const w=o.fields||{},E=u.fields||{},x=(h=w.value)===null||h===void 0?void 0:h.arrayValue,R=(d=E.value)===null||d===void 0?void 0:d.arrayValue,O=On(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return O!==0?O:kT(x,R)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===vy.mapValue&&u===vy.mapValue)return 0;if(o===vy.mapValue)return 1;if(u===vy.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),g=u.fields||{},_=Object.keys(g);d.sort(),_.sort();for(let w=0;w<d.length&&w<_.length;++w){const E=On(d[w],_[w]);if(E!==0)return E;const x=Rd(h[d[w]],g[_[w]]);if(x!==0)return x}return On(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Vt()}}function RT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return On(n,e);const t=wc(n),r=wc(e),i=On(t.seconds,r.seconds);return i!==0?i:On(t.nanos,r.nanos)}function kT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Rd(t[i],r[i]);if(o)return o}return On(t.length,r.length)}function kd(n){return lv(n)}function lv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=wc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ec(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Nt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=lv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${lv(t.fields[u])}`;return i+"}"}(n.mapValue):Vt()}function $y(n){switch(Tc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=j0(n);return e?16+$y(e):16;case 5:return 2*n.stringValue.length;case 6:return Ec(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+$y(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Nh(r.fields,(o,u)=>{i+=o.length+$y(u)}),i}(n.mapValue);default:throw Vt()}}function uv(n){return!!n&&"integerValue"in n}function pw(n){return!!n&&"arrayValue"in n}function NT(n){return!!n&&"nullValue"in n}function OT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zy(n){return!!n&&"mapValue"in n}function eL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function yg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.value=e}static empty(){return new aa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yg(t)}setAll(e){let t=ps.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=yg(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());zy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Il(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Nh(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new aa(yg(this.value))}}function nC(n){const e=[];return Nh(n.fields,(t,r)=>{const i=new ps([t]);if(zy(r)){const o=nC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new Ua(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Os(e,0,Wt.min(),Wt.min(),Wt.min(),aa.empty(),0)}static newFoundDocument(e,t,r,i){return new Os(e,1,t,Wt.min(),r,i,0)}static newNoDocument(e,t){return new Os(e,2,t,Wt.min(),Wt.min(),aa.empty(),0)}static newUnknownDocument(e,t){return new Os(e,3,t,Wt.min(),Wt.min(),aa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=aa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=aa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,t){this.position=e,this.inclusive=t}}function PT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=Nt.comparator(Nt.fromName(u.referenceValue),t.key):r=Rd(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Il(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t="asc"){this.field=e,this.dir=t}}function nL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{}class Mi extends rC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new iL(e,t,r):t==="array-contains"?new aL(e,r):t==="in"?new lL(e,r):t==="not-in"?new uL(e,r):t==="array-contains-any"?new cL(e,r):new Mi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new sL(e,r):new oL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Rd(t,this.value)):t!==null&&Tc(this.value)===Tc(t)&&this.matchesComparison(Rd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rl extends rC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Rl(e,t)}matches(e){return iC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iC(n){return n.op==="and"}function sC(n){return rL(n)&&iC(n)}function rL(n){for(const e of n.filters)if(e instanceof Rl)return!1;return!0}function cv(n){if(n instanceof Mi)return n.field.canonicalString()+n.op.toString()+kd(n.value);if(sC(n))return n.filters.map(e=>cv(e)).join(",");{const e=n.filters.map(t=>cv(t)).join(",");return`${n.op}(${e})`}}function oC(n,e){return n instanceof Mi?function(r,i){return i instanceof Mi&&r.op===i.op&&r.field.isEqual(i.field)&&Il(r.value,i.value)}(n,e):n instanceof Rl?function(r,i){return i instanceof Rl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&oC(u,i.filters[h]),!0):!1}(n,e):void Vt()}function aC(n){return n instanceof Mi?function(t){return`${t.field.canonicalString()} ${t.op} ${kd(t.value)}`}(n):n instanceof Rl?function(t){return t.op.toString()+" {"+t.getFilters().map(aC).join(" ,")+"}"}(n):"Filter"}class iL extends Mi{constructor(e,t,r){super(e,t,r),this.key=Nt.fromName(r.referenceValue)}matches(e){const t=Nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class sL extends Mi{constructor(e,t){super(e,"in",t),this.keys=lC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oL extends Mi{constructor(e,t){super(e,"not-in",t),this.keys=lC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Nt.fromName(r.referenceValue))}class aL extends Mi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pw(t)&&Ng(t.arrayValue,this.value)}}class lL extends Mi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ng(this.value.arrayValue,t)}}class uL extends Mi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ng(this.value.arrayValue,t)}}class cL extends Mi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ng(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.ue=null}}function DT(n,e=null,t=[],r=[],i=null,o=null,u=null){return new hL(n,e,t,r,i,o,u)}function gw(n){const e=Kt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),q0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kd(r)).join(",")),e.ue=t}return e.ue}function mw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LT(n.startAt,e.startAt)&&LT(n.endAt,e.endAt)}function hv(n){return Nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fL(n,e,t,r,i,o,u,h){return new $0(n,e,t,r,i,o,u,h)}function yw(n){return new $0(n)}function MT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dL(n){return n.collectionGroup!==null}function _g(n){const e=Kt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ui(ps.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new d0(o,r))}),t.has(ps.keyField().canonicalString())||e.ce.push(new d0(ps.keyField(),r))}return e.ce}function Tl(n){const e=Kt(n);return e.le||(e.le=pL(e,_g(n))),e.le}function pL(n,e){if(n.limitType==="F")return DT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new d0(i.field,o)});const t=n.endAt?new f0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new f0(n.startAt.position,n.startAt.inclusive):null;return DT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function fv(n,e,t){return new $0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function z0(n,e){return mw(Tl(n),Tl(e))&&n.limitType===e.limitType}function uC(n){return`${gw(Tl(n))}|lt:${n.limitType}`}function ad(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>aC(i)).join(", ")}]`),q0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>kd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>kd(i)).join(",")),`Target(${r})`}(Tl(n))}; limitType=${n.limitType})`}function H0(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Nt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of _g(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,d){const g=PT(u,h,d);return u.inclusive?g<=0:g<0}(r.startAt,_g(r),i)||r.endAt&&!function(u,h,d){const g=PT(u,h,d);return u.inclusive?g>=0:g>0}(r.endAt,_g(r),i))}(n,e)}function gL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cC(n){return(e,t)=>{let r=!1;for(const i of _g(n)){const o=mL(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mL(n,e,t){const r=n.field.isKeyField()?Nt.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),g=h.data.field(o);return d!==null&&g!==null?Rd(d,g):Vt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nh(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return eC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new zr(Nt.comparator);function vu(){return yL}const hC=new zr(Nt.comparator);function lg(...n){let e=hC;for(const t of n)e=e.insert(t.key,t);return e}function fC(n){let e=hC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ph(){return vg()}function dC(){return vg()}function vg(){return new Oh(n=>n.toString(),(n,e)=>n.isEqual(e))}const _L=new zr(Nt.comparator),vL=new Ui(Nt.comparator);function An(...n){let e=vL;for(const t of n)e=e.add(t);return e}const wL=new Ui(On);function EL(){return wL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:h0(e)?"-0":e}}function pC(n){return{integerValue:""+n}}function TL(n,e){return QP(e)?pC(e):_w(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this._=void 0}}function bL(n,e,t){return n instanceof p0?function(i,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dw(o)&&(o=j0(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Og?mC(n,e):n instanceof Pg?yC(n,e):function(i,o){const u=gC(i,o),h=FT(u)+FT(i.Pe);return uv(u)&&uv(i.Pe)?pC(h):_w(i.serializer,h)}(n,e)}function SL(n,e,t){return n instanceof Og?mC(n,e):n instanceof Pg?yC(n,e):t}function gC(n,e){return n instanceof g0?function(r){return uv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class p0 extends W0{}class Og extends W0{constructor(e){super(),this.elements=e}}function mC(n,e){const t=_C(e);for(const r of n.elements)t.some(i=>Il(i,r))||t.push(r);return{arrayValue:{values:t}}}class Pg extends W0{constructor(e){super(),this.elements=e}}function yC(n,e){let t=_C(e);for(const r of n.elements)t=t.filter(i=>!Il(i,r));return{arrayValue:{values:t}}}class g0 extends W0{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function FT(n){return vi(n.integerValue||n.doubleValue)}function _C(n){return pw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function AL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Og&&i instanceof Og||r instanceof Pg&&i instanceof Pg?Id(r.elements,i.elements,Il):r instanceof g0&&i instanceof g0?Il(r.Pe,i.Pe):r instanceof p0&&i instanceof p0}(n.transform,e.transform)}class CL{constructor(e,t){this.version=e,this.transformResults=t}}class mu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mu}static exists(e){return new mu(void 0,e)}static updateTime(e){return new mu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class G0{}function vC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new EC(n.key,mu.none()):new Qg(n.key,n.data,mu.none());{const t=n.data,r=aa.empty();let i=new Ui(ps.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Ph(n.key,r,new Ua(i.toArray()),mu.none())}}function xL(n,e,t){n instanceof Qg?function(i,o,u){const h=i.value.clone(),d=BT(i.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ph?function(i,o,u){if(!Hy(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=BT(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(wC(i)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function wg(n,e,t,r){return n instanceof Qg?function(o,u,h,d){if(!Hy(o.precondition,u))return h;const g=o.value.clone(),_=VT(o.fieldTransforms,d,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ph?function(o,u,h,d){if(!Hy(o.precondition,u))return h;const g=VT(o.fieldTransforms,d,u),_=u.data;return _.setAll(wC(o)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(o,u,h){return Hy(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function IL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=gC(r.transform,i||null);o!=null&&(t===null&&(t=aa.empty()),t.set(r.field,o))}return t||null}function UT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Id(r,i,(o,u)=>AL(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qg extends G0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ph extends G0{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function BT(n,e,t){const r=new Map;er(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,SL(u,h,t[i]))}return r}function VT(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,bL(o,u,e))}return r}class EC extends G0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RL extends G0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&xL(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dC();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const d=vC(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(Wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),An())}isEqual(e){return this.batchId===e.batchId&&Id(this.mutations,e.mutations,(t,r)=>UT(t,r))&&Id(this.baseMutations,e.baseMutations,(t,r)=>UT(t,r))}}class vw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){er(e.mutations.length===r.length);let i=function(){return _L}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new vw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,Fn;function PL(n){switch(n){default:return Vt();case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0}}function TC(n){if(n===void 0)return _u("GRPC error has no .code"),He.UNKNOWN;switch(n){case xi.OK:return He.OK;case xi.CANCELLED:return He.CANCELLED;case xi.UNKNOWN:return He.UNKNOWN;case xi.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case xi.INTERNAL:return He.INTERNAL;case xi.UNAVAILABLE:return He.UNAVAILABLE;case xi.UNAUTHENTICATED:return He.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case xi.NOT_FOUND:return He.NOT_FOUND;case xi.ALREADY_EXISTS:return He.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return He.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case xi.ABORTED:return He.ABORTED;case xi.OUT_OF_RANGE:return He.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return He.UNIMPLEMENTED;case xi.DATA_LOSS:return He.DATA_LOSS;default:return Vt()}}(Fn=xi||(xi={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new mc([4294967295,4294967295],0);function qT(n){const e=LL().encode(n),t=new WA;return t.update(e),new Uint8Array(t.digest())}function jT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mc([t,r],0),new mc([i,o],0)]}class ww{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ug(`Invalid padding: ${t}`);if(r<0)throw new ug(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ug(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ug(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=mc.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(mc.fromNumber(r)));return i.compare(DL)===1&&(i=new mc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=qT(e),[r,i]=jT(t);for(let o=0;o<this.hashCount;o++){const u=this.de(r,i,o);if(!this.Ee(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new ww(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=qT(e),[r,i]=jT(t);for(let o=0;o<this.hashCount;o++){const u=this.de(r,i,o);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ug extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Jg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new K0(Wt.min(),i,new zr(On),vu(),An())}}class Jg{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jg(r,t,An(),An(),An())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class bC{constructor(e,t){this.targetId=e,this.me=t}}class SC{constructor(e,t,r=ms.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class $T{constructor(){this.fe=0,this.ge=zT(),this.pe=ms.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=An(),t=An(),r=An();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Vt()}}),new Jg(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=zT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,er(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ML{constructor(e){this.Be=e,this.Le=new Map,this.ke=vu(),this.qe=wy(),this.Qe=wy(),this.Ke=new zr(On)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(hv(o))if(r===0){const u=new Nt(o.path);this.We(t,u,Os.newNoDocument(u,Wt.min()))}else er(r===1);else{const u=this.Ze(t);if(u!==r){const h=this.Xe(e),d=h?this.et(h,e,u):1;if(d!==0){this.He(t);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Ec(r).toUint8Array()}catch(d){if(d instanceof tC)return xd("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new ww(u,i,o)}catch(d){return xd(d instanceof ug?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Te===0?null:h}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.Be.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,u)=>{const h=this.Ye(u);if(h){if(o.current&&hv(h.target)){const d=new Nt(h.target.path);this.st(d).has(u)||this.ot(u,d)||this.We(u,d,Os.newNoDocument(d,e))}o.be&&(t.set(u,o.ve()),o.Ce())}});let r=An();this.Qe.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const g=this.Ye(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.ke.forEach((o,u)=>u.setReadTime(e));const i=new K0(e,t,this.Ke,this.ke,r);return this.ke=vu(),this.qe=wy(),this.Qe=wy(),this.Ke=new zr(On),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new $T,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ui(On),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ui(On),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ot("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new $T),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function wy(){return new zr(Nt.comparator)}function zT(){return new zr(Nt.comparator)}const FL={asc:"ASCENDING",desc:"DESCENDING"},UL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BL={and:"AND",or:"OR"};class VL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dv(n,e){return n.useProto3Json||q0(e)?e:{value:e}}function m0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qL(n,e){return m0(n,e.toTimestamp())}function bl(n){return er(!!n),Wt.fromTimestamp(function(t){const r=wc(t);return new Fi(r.seconds,r.nanos)}(n))}function Ew(n,e){return pv(n,e).canonicalString()}function pv(n,e){const t=function(i){return new si(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CC(n){const e=si.fromString(n);return er(NC(e)),e}function gv(n,e){return Ew(n.databaseId,e.path)}function T1(n,e){const t=CC(e);if(t.get(1)!==n.databaseId.projectId)throw new kt(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new kt(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Nt(IC(t))}function xC(n,e){return Ew(n.databaseId,e)}function jL(n){const e=CC(n);return e.length===4?si.emptyPath():IC(e)}function mv(n){return new si(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IC(n){return er(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function HT(n,e,t){return{name:gv(n,e),fields:t.value.mapValue.fields}}function $L(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(g,_){return g.useProto3Json?(er(_===void 0||typeof _=="string"),ms.fromBase64String(_||"")):(er(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),ms.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const _=g.code===void 0?He.UNKNOWN:TC(g.code);return new kt(_,g.message||"")}(u);t=new SC(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=T1(n,r.document.name),o=bl(r.document.updateTime),u=r.document.createTime?bl(r.document.createTime):Wt.min(),h=new aa({mapValue:{fields:r.document.fields}}),d=Os.newFoundDocument(i,o,u,h),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Wy(g,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=T1(n,r.document),o=r.readTime?bl(r.readTime):Wt.min(),u=Os.newNoDocument(i,o),h=r.removedTargetIds||[];t=new Wy([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=T1(n,r.document),o=r.removedTargetIds||[];t=new Wy([],o,i,null)}else{if(!("filter"in e))return Vt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new OL(i,o),h=r.targetId;t=new bC(h,u)}}return t}function zL(n,e){let t;if(e instanceof Qg)t={update:HT(n,e.key,e.value)};else if(e instanceof EC)t={delete:gv(n,e.key)};else if(e instanceof Ph)t={update:HT(n,e.key,e.data),updateMask:ZL(e.fieldMask)};else{if(!(e instanceof RL))return Vt();t={verify:gv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof p0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Og)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Pg)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof g0)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Vt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:qL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Vt()}(n,e.precondition)),t}function HL(n,e){return n&&n.length>0?(er(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?bl(i.updateTime):bl(o);return u.isEqual(Wt.min())&&(u=bl(o)),new CL(u,i.transformResults||[])}(t,e))):[]}function WL(n,e){return{documents:[xC(n,e.path)]}}function GL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=xC(n,i);const o=function(g){if(g.length!==0)return kC(Rl.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(_=>function(E){return{field:ld(E.field),direction:JL(E.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=dv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:i}}function KL(n){let e=jL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){er(r===1);const _=t.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let o=[];t.where&&(o=function(w){const E=RC(w);return E instanceof Rl&&sC(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(R){return new d0(ud(R.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,q0(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(w){const E=!!w.before,x=w.values||[];return new f0(x,E)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const E=!w.before,x=w.values||[];return new f0(x,E)}(t.endAt)),fL(e,i,u,o,h,"F",d,g)}function QL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ud(t.unaryFilter.field);return Mi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ud(t.unaryFilter.field);return Mi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ud(t.unaryFilter.field);return Mi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ud(t.unaryFilter.field);return Mi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(n):n.fieldFilter!==void 0?function(t){return Mi.create(ud(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rl.create(t.compositeFilter.filters.map(r=>RC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Vt()}}(t.compositeFilter.op))}(n):Vt()}function JL(n){return FL[n]}function XL(n){return UL[n]}function YL(n){return BL[n]}function ld(n){return{fieldPath:n.canonicalString()}}function ud(n){return ps.fromServerFormat(n.fieldPath)}function kC(n){return n instanceof Mi?function(t){if(t.op==="=="){if(OT(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NAN"}};if(NT(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OT(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NOT_NAN"}};if(NT(t.value))return{unaryFilter:{field:ld(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ld(t.field),op:XL(t.op),value:t.value}}}(n):n instanceof Rl?function(t){const r=t.getFilters().map(i=>kC(i));return r.length===1?r[0]:{compositeFilter:{op:YL(t.op),filters:r}}}(n):Vt()}function ZL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,r,i,o=Wt.min(),u=Wt.min(),h=ms.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.ht=e}}function t4(n){const e=KL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.ln=new r4}addToCollectionParentIndex(e,t){return this.ln.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Me.resolve()}deleteFieldIndex(e,t){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,t){return Me.resolve()}getDocumentsMatchingTarget(e,t){return Me.resolve(null)}getIndexType(e,t){return Me.resolve(0)}getFieldIndexes(e,t){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,t){return Me.resolve(vc.min())}getMinOffsetFromCollectionGroup(e,t){return Me.resolve(vc.min())}updateCollectionGroup(e,t,r){return Me.resolve()}updateIndexEntries(e,t){return Me.resolve()}}class r4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ui(si.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ui(si.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class po{static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Nd(0)}static Qn(){return new Nd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT([n,e],[t,r]){const i=On(n,t);return i===0?On(e,r):i}class i4{constructor(e){this.Gn=e,this.buffer=new Ui(GT),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();GT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class s4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Hd(t)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await zd(t)}await this.Yn(3e5)})}}class o4{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Me.resolve(V0.oe);const r=new i4(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(WT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,o,u,h,d,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,u=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,t))).next(w=>(o=w,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(g=Date.now(),od()<=Sn.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${w} documents in `+(g-d)+`ms
Total Duration: ${g-_}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:w})))}}function a4(n,e){return new o4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.changes=new Oh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Os.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&wg(r.mutation,i,Ua.empty(),Fi.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,An()).next(()=>r))}getLocalViewOfDocuments(e,t,r=An()){const i=ph();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=lg();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ph();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,An()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=vu();const u=vg(),h=function(){return vg()}();return t.forEach((d,g)=>{const _=r.get(g.key);i.has(g.key)&&(_===void 0||_.mutation instanceof Ph)?o=o.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),wg(_.mutation,g,_.mutation.getFieldMask(),Fi.now())):u.set(g.key,Ua.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((g,_)=>u.set(g,_)),t.forEach((g,_)=>{var w;return h.set(g,new u4(_,(w=u.get(g))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const r=vg();let i=new zr((u,h)=>u-h),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const g=t.get(d);if(g===null)return;let _=r.get(d)||Ua.empty();_=h.applyToLocalView(g,_),r.set(d,_);const w=(i.get(h.batchId)||An()).add(d);i=i.insert(h.batchId,w)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),g=d.key,_=d.value,w=dC();_.forEach(E=>{if(!o.has(E)){const x=vC(t.get(E),r.get(E));x!==null&&w.set(E,x),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Me.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return Nt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Me.resolve(ph());let h=-1,d=o;return u.next(g=>Me.forEach(g,(_,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),o.get(_)?Me.resolve():this.remoteDocumentCache.getEntry(e,_).next(E=>{d=d.insert(_,E)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,d,g,An())).next(_=>({batchId:h,changes:fC(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Nt(t)).next(r=>{let i=lg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=lg();return this.indexManager.getCollectionParents(e,o).next(h=>Me.forEach(h,d=>{const g=function(w,E){return new $0(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next(_=>{_.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((d,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Os.newInvalidDocument(_)))});let h=lg();return u.forEach((d,g)=>{const _=o.get(d);_!==void 0&&wg(_.mutation,g,Ua.empty(),Fi.now()),H0(t,g)&&(h=h.insert(d,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Me.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:bl(i.createTime)}}(t)),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:t4(i.bundledQuery),readTime:bl(i.readTime)}}(t)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.overlays=new zr(Nt.comparator),this.dr=new Map}getOverlay(e,t){return Me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ph();return Me.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Tt(e,t,o)}),Me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),Me.resolve()}getOverlaysForCollection(e,t,r){const i=ph(),o=t.length+1,u=new Nt(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,g=d.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new zr((g,_)=>g-_);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=o.get(g.largestBatchId);_===null&&(_=ph(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=ph(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=i)););return Me.resolve(h)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new NL(t,r));let o=this.dr.get(t);o===void 0&&(o=An(),this.dr.set(t,o)),this.dr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=ms.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.Er=new Ui(es.Ar),this.Rr=new Ui(es.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new es(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new es(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Nt(new si([])),r=new es(t,e),i=new es(t,e+1),o=[];return this.Rr.forEachInRange([r,i],u=>{this.gr(u),o.push(u.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Nt(new si([])),r=new es(t,e),i=new es(t,e+1);let o=An();return this.Rr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new es(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class es{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Nt.comparator(e.key,t.key)||On(e.br,t.br)}static Vr(e,t){return On(e.br,t.br)||Nt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ui(es.Ar)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kL(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.vr=this.vr.add(new es(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Me.resolve(u)}lookupMutationBatch(e,t){return Me.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),o=i<0?0:i;return Me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new es(t,0),i=new es(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],u=>{const h=this.Cr(u.br);o.push(h)}),Me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ui(On);return t.forEach(i=>{const o=new es(i,0),u=new es(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,u],h=>{r=r.add(h.br)})}),Me.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Nt.isDocumentKey(o)||(o=o.child(""));const u=new es(new Nt(o),0);let h=new Ui(On);return this.vr.forEachWhile(d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(d.br)),!0)},u),Me.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){er(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Me.forEach(t.mutations,i=>{const o=new es(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new es(t,0),i=this.vr.firstAfterOrEqual(r);return Me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.Nr=e,this.docs=function(){return new zr(Nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Me.resolve(r?r.document.mutableCopy():Os.newInvalidDocument(t))}getEntries(e,t){let r=vu();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Os.newInvalidDocument(i))}),Me.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=vu();const u=t.path,h=new Nt(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:g,value:{document:_}}=d.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||HP(zP(_),r)<=0||(i.has(_.key)||H0(t,_))&&(o=o.insert(_.key,_.mutableCopy()))}return Me.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Vt()}Br(e,t){return Me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new m4(this)}getSize(e){return Me.resolve(this.size)}}class m4 extends l4{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),Me.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.persistence=e,this.Lr=new Oh(t=>gw(t),mw),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.kr=0,this.qr=new Tw,this.targetCount=0,this.Qr=Nd.qn()}forEachTarget(e,t){return this.Lr.forEach((r,i)=>t(i)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Me.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Nd(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.Un(t),Me.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Lr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Lr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Me.waitFor(o).next(()=>i)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return Me.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Me.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),Me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Me.resolve(r)}containsKey(e,t){return Me.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t){this.Kr={},this.overlays={},this.$r=new V0(0),this.Ur=!1,this.Ur=!0,this.Wr=new d4,this.referenceDelegate=e(this),this.Gr=new y4(this),this.indexManager=new n4,this.remoteDocumentCache=function(i){return new g4(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new e4(t),this.jr=new h4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new f4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new p4(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ot("MemoryPersistence","Starting transaction:",e);const i=new _4(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return Me.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class _4 extends GP{constructor(e){super(),this.currentSequenceNumber=e}}class bw{constructor(e){this.persistence=e,this.Zr=new Tw,this.Xr=null}static ei(e){return new bw(e)}get ti(){if(this.Xr)return this.Xr;throw Vt()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Me.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Me.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.ti,r=>{const i=Nt.fromPath(r);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Wt.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Me.or([()=>Me.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class y0{constructor(e,t){this.persistence=e,this.ri=new Oh(r=>JP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=a4(this,t)}static ei(e,t){return new y0(e,t)}Hr(){}Jr(e){return Me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Me.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?Me.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,u=>this.ir(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Wt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Me.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Me.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Me.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$y(e.data.value)),t}ir(e,t,r){return Me.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return Me.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=An(),i=An();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return yO()?8:KP(Ms())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Xi(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.es(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new v4;return this.ts(e,t,u).next(h=>{if(o.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>o.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(od()<=Sn.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ad(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Me.resolve()):(od()<=Sn.DEBUG&&ot("QueryEngine","Query:",ad(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(od()<=Sn.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ad(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tl(t))):Me.resolve())}Xi(e,t){if(MT(t))return Me.resolve(null);let r=Tl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=fv(t,null,"F"),r=Tl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=An(...o);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const g=this.rs(t,h);return this.ss(t,g,u,d.readTime)?this.Xi(e,fv(t,null,"F")):this.os(e,g,t,d)}))})))}es(e,t,r,i){return MT(t)||i.isEqual(Wt.min())?Me.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const u=this.rs(t,o);return this.ss(t,u,r,i)?Me.resolve(null):(od()<=Sn.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ad(t)),this.os(e,u,t,$P(i,-1)).next(h=>h))})}rs(e,t){let r=new Ui(cC(e));return t.forEach((i,o)=>{H0(e,o)&&(r=r.add(o))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,r){return od()<=Sn.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ad(t)),this.Zi.getDocumentsMatchingQuery(e,t,vc.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new zr(On),this.cs=new Oh(o=>gw(o),mw),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c4(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function T4(n,e,t,r){return new E4(n,e,t,r)}async function PC(n,e){const t=Kt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=An();for(const g of i){u.push(g.batchId);for(const _ of g.mutations)d=d.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(r,d).next(g=>({Ts:g,removedBatchIds:u,addedBatchIds:h}))})})}function b4(n,e){const t=Kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,d,g,_){const w=g.batch,E=w.keys();let x=Me.resolve();return E.forEach(R=>{x=x.next(()=>_.getEntry(d,R)).next(O=>{const P=g.docVersions.get(R);er(P!==null),O.version.compareTo(P)<0&&(w.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),_.addEntry(O)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(d,w))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=An();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(d=d.add(h.batch.mutations[g].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function LC(n){const e=Kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function S4(n,e){const t=Kt(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const h=[];e.targetChanges.forEach((_,w)=>{const E=i.get(w);if(!E)return;h.push(t.Gr.removeMatchingKeys(o,_.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(o,_.addedDocuments,w)));let x=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(ms.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,r)),i=i.insert(w,x),function(O,P,U){return O.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,x,_)&&h.push(t.Gr.updateTargetData(o,x))});let d=vu(),g=An();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push(A4(o,u,e.documentUpdates).next(_=>{d=_.Is,g=_.ds})),!r.isEqual(Wt.min())){const _=t.Gr.getLastRemoteSnapshotVersion(o).next(w=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(_)}return Me.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,g)).next(()=>d)}).then(o=>(t.us=i,o))}function A4(n,e,t){let r=An(),i=An();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=vu();return t.forEach((h,d)=>{const g=o.get(h);d.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Wt.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ot("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",d.version)}),{Is:u,ds:i}})}function C4(n,e){const t=Kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x4(n,e){const t=Kt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(o=>o?(i=o,Me.resolve(i)):t.Gr.allocateTargetId(r).next(u=>(i=new fc(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function yv(n,e,t){const r=Kt(n),i=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Hd(u))throw u;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function KT(n,e,t){const r=Kt(n);let i=Wt.min(),o=An();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,g,_){const w=Kt(d),E=w.cs.get(_);return E!==void 0?Me.resolve(w.us.get(E)):w.Gr.getTargetData(g,_)}(r,u,Tl(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?i:Wt.min(),t?o:An())).next(h=>(I4(r,gL(e),h),{documents:h,Es:o})))}function I4(n,e,t){let r=n.ls.get(e)||Wt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}class QT{constructor(){this.activeTargetIds=EL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R4{constructor(){this._o=new QT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new QT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ey=null;function b1(){return Ey===null?Ey=function(){return 268435456+Math.round(2147483648*Math.random())}():Ey++,"0x"+Ey.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="WebChannelConnection";class P4 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,r,i,o,u){const h=b1(),d=this.No(t,r.toUriEncodedString());ot("RestConnection",`Sending RPC '${t}' ${h}:`,d,i);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(g,o,u),this.Lo(t,d,g,i).then(_=>(ot("RestConnection",`Received RPC '${t}' ${h}: `,_),_),_=>{throw xd("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",d,"request:",i),_})}ko(t,r,i,o,u,h){return this.Oo(t,r,i,o,u)}Bo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$d}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>t[u]=o),i&&i.headers.forEach((o,u)=>t[u]=o)}No(t,r){const i=N4[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,i){const o=b1();return new Promise((u,h)=>{const d=new GA;d.setWithCredentials(!0),d.listenOnce(KA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jy.NO_ERROR:const _=d.getResponseJson();ot(Rs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(_)),u(_);break;case jy.TIMEOUT:ot(Rs,`RPC '${e}' ${o} timed out`),h(new kt(He.DEADLINE_EXCEEDED,"Request time out"));break;case jy.HTTP_ERROR:const w=d.getStatus();if(ot(Rs,`RPC '${e}' ${o} failed with status:`,w,"response text:",d.getResponseText()),w>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const R=function(P){const U=P.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(U)>=0?U:He.UNKNOWN}(x.status);h(new kt(R,x.message))}else h(new kt(He.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new kt(He.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{ot(Rs,`RPC '${e}' ${o} completed.`)}});const g=JSON.stringify(i);ot(Rs,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",g,r,15)})}qo(e,t,r){const i=b1(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=XA(),h=JA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const _=o.join("");ot(Rs,`Creating RPC '${e}' stream ${i}: ${_}`,d);const w=u.createWebChannel(_,d);let E=!1,x=!1;const R=new O4({Eo:P=>{x?ot(Rs,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(E||(ot(Rs,`Opening RPC '${e}' stream ${i} transport.`),w.open(),E=!0),ot(Rs,`RPC '${e}' stream ${i} sending:`,P),w.send(P))},Ao:()=>w.close()}),O=(P,U,B)=>{P.listen(U,C=>{try{B(C)}catch(F){setTimeout(()=>{throw F},0)}})};return O(w,ag.EventType.OPEN,()=>{x||(ot(Rs,`RPC '${e}' stream ${i} transport opened.`),R.So())}),O(w,ag.EventType.CLOSE,()=>{x||(x=!0,ot(Rs,`RPC '${e}' stream ${i} transport closed`),R.Do())}),O(w,ag.EventType.ERROR,P=>{x||(x=!0,xd(Rs,`RPC '${e}' stream ${i} transport errored:`,P),R.Do(new kt(He.UNAVAILABLE,"The operation could not be completed")))}),O(w,ag.EventType.MESSAGE,P=>{var U;if(!x){const B=P.data[0];er(!!B);const C=B,F=(C==null?void 0:C.error)||((U=C[0])===null||U===void 0?void 0:U.error);if(F){ot(Rs,`RPC '${e}' stream ${i} received error:`,F);const z=F.status;let J=function(W){const I=xi[W];if(I!==void 0)return TC(I)}(z),D=F.message;J===void 0&&(J=He.INTERNAL,D="Unknown error status: "+z+" with message "+F.message),x=!0,R.Do(new kt(J,D)),w.close()}else ot(Rs,`RPC '${e}' stream ${i} received:`,B),R.vo(B)}}),O(h,QA.STAT_EVENT,P=>{P.stat===av.PROXY?ot(Rs,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===av.NOPROXY&&ot(Rs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.bo()},0),R}}function S1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){return new VL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t,r,i,o,u,h,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new DC(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===He.RESOURCE_EXHAUSTED?(_u(t.toString()),_u("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new kt(He.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L4 extends MC{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=$L(this.serializer,e),r=function(o){if(!("targetChange"in o))return Wt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Wt.min():u.readTime?bl(u.readTime):Wt.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=mv(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=hv(d)?{documents:WL(o,d)}:{query:GL(o,d).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=AC(o,u.resumeToken);const g=dv(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Wt.min())>0){h.readTime=m0(o,u.snapshotVersion.toTimestamp());const g=dv(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const r=QL(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=mv(this.serializer),t.removeTarget=e,this.c_(t)}}class D4 extends MC{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return er(!!e.streamToken),this.lastStreamToken=e.streamToken,er(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){er(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=HL(e.writeResults,e.commitTime),r=bl(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=mv(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zL(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new kt(He.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Oo(e,pv(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new kt(He.UNKNOWN,o.toString())})}ko(e,t,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,pv(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new kt(He.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class F4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(_u(t),this.C_=!1):ot("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Lh(this)&&(ot("RemoteStore","Restarting streams for network reachability change."),await async function(d){const g=Kt(d);g.k_.add(4),await Xg(g),g.K_.set("Unknown"),g.k_.delete(4),await J0(g)}(this))})}),this.K_=new F4(r,i)}}async function J0(n){if(Lh(n))for(const e of n.q_)await e(!0)}async function Xg(n){for(const e of n.q_)await e(!1)}function FC(n,e){const t=Kt(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Iw(t)?xw(t):Wd(t).s_()&&Cw(t,e))}function Aw(n,e){const t=Kt(n),r=Wd(t);t.L_.delete(e),r.s_()&&UC(t,e),t.L_.size===0&&(r.s_()?r.a_():Lh(t)&&t.K_.set("Unknown"))}function Cw(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wd(n).V_(e)}function UC(n,e){n.U_.xe(e),Wd(n).m_(e)}function xw(n){n.U_=new ML({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Wd(n).start(),n.K_.F_()}function Iw(n){return Lh(n)&&!Wd(n).i_()&&n.L_.size>0}function Lh(n){return Kt(n).k_.size===0}function BC(n){n.U_=void 0}async function B4(n){n.K_.set("Online")}async function V4(n){n.L_.forEach((e,t)=>{Cw(n,e)})}async function q4(n,e){BC(n),Iw(n)?(n.K_.O_(e),xw(n)):n.K_.set("Unknown")}async function j4(n,e,t){if(n.K_.set("Online"),e instanceof SC&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.L_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.L_.delete(h),i.U_.removeTarget(h))}(n,e)}catch(r){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _0(n,r)}else if(e instanceof Wy?n.U_.$e(e):e instanceof bC?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Wt.min()))try{const r=await LC(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.U_.it(u);return h.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.L_.get(g);_&&o.L_.set(g,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,g)=>{const _=o.L_.get(d);if(!_)return;o.L_.set(d,_.withResumeToken(ms.EMPTY_BYTE_STRING,_.snapshotVersion)),UC(o,d);const w=new fc(_.target,d,g,_.sequenceNumber);Cw(o,w)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ot("RemoteStore","Failed to raise snapshot:",r),await _0(n,r)}}async function _0(n,e,t){if(!Hd(e))throw e;n.k_.add(1),await Xg(n),n.K_.set("Offline"),t||(t=()=>LC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ot("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await J0(n)})}function VC(n,e){return e().catch(t=>_0(n,t,e))}async function X0(n){const e=Kt(n),t=bc(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;$4(e);)try{const i=await C4(e.localStore,r);if(i===null){e.B_.length===0&&t.a_();break}r=i.batchId,z4(e,i)}catch(i){await _0(e,i)}qC(e)&&jC(e)}function $4(n){return Lh(n)&&n.B_.length<10}function z4(n,e){n.B_.push(e);const t=bc(n);t.s_()&&t.f_&&t.g_(e.mutations)}function qC(n){return Lh(n)&&!bc(n).i_()&&n.B_.length>0}function jC(n){bc(n).start()}async function H4(n){bc(n).w_()}async function W4(n){const e=bc(n);for(const t of n.B_)e.g_(t.mutations)}async function G4(n,e,t){const r=n.B_.shift(),i=vw.from(r,e,t);await VC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await X0(n)}async function K4(n,e){e&&bc(n).f_&&await async function(r,i){if(function(u){return PL(u)&&u!==He.ABORTED}(i.code)){const o=r.B_.shift();bc(r).__(),await VC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await X0(r)}}(n,e),qC(n)&&jC(n)}async function XT(n,e){const t=Kt(n);t.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const r=Lh(t);t.k_.add(3),await Xg(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await J0(t)}async function Q4(n,e){const t=Kt(n);e?(t.k_.delete(2),await J0(t)):e||(t.k_.add(2),await Xg(t),t.K_.set("Unknown"))}function Wd(n){return n.W_||(n.W_=function(t,r,i){const o=Kt(t);return o.b_(),new L4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:B4.bind(null,n),mo:V4.bind(null,n),po:q4.bind(null,n),R_:j4.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Iw(n)?xw(n):n.K_.set("Unknown")):(await n.W_.stop(),BC(n))})),n.W_}function bc(n){return n.G_||(n.G_=function(t,r,i){const o=Kt(t);return o.b_(),new D4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:H4.bind(null,n),po:K4.bind(null,n),p_:W4.bind(null,n),y_:G4.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await X0(n)):(await n.G_.stop(),n.B_.length>0&&(ot("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new Rw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kw(n,e){if(_u("AsyncQueue",`${e}: ${n}`),Hd(n))return new kt(He.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static emptySet(e){return new yd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Nt.comparator(t.key,r.key):(t,r)=>Nt.comparator(t.key,r.key),this.keyedMap=lg(),this.sortedSet=new zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.z_=new zr(Nt.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Vt():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Od{constructor(e,t,r,i,o,u,h,d,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Od(e,t,yd.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&z0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class X4{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Kt(t),o=i.queries;i.queries=ZT(),o.forEach((u,h)=>{for(const d of h.J_)d.onError(r)})})(this,new kt(He.ABORTED,"Firestore shutting down"))}}function ZT(){return new Oh(n=>uC(n),z0)}async function Y4(n,e){const t=Kt(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new J4,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=kw(u,`Initialization of query '${ad(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&Nw(t)}async function Z4(n,e){const t=Kt(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.J_.indexOf(e);u>=0&&(o.J_.splice(u,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function e5(n,e){const t=Kt(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.J_)h.ta(i)&&(r=!0);u.H_=i}}r&&Nw(t)}function t5(n,e,t){const r=Kt(n),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(t);r.queries.delete(e)}function Nw(n){n.X_.forEach(e=>{e.next()})}var _v,eb;(eb=_v||(_v={})).na="default",eb.Cache="cache";class n5{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Od(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==_v.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.key=e}}class zC{constructor(e){this.key=e}}class r5{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=An(),this.mutatedKeys=An(),this.Va=cC(e),this.ma=new yd(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new YT,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((_,w)=>{const E=i.get(_),x=H0(this.query,w)?w:null,R=!!E&&this.mutatedKeys.has(E.key),O=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;E&&x?E.data.isEqual(x.data)?R!==O&&(r.track({type:3,doc:x}),P=!0):this.ya(E,x)||(r.track({type:2,doc:x}),P=!0,(d&&this.Va(x,d)>0||g&&this.Va(x,g)<0)&&(h=!0)):!E&&x?(r.track({type:0,doc:x}),P=!0):E&&!x&&(r.track({type:1,doc:E}),P=!0,(d||g)&&(h=!0)),P&&(x?(u=u.add(x),o=O?o.add(_):o.delete(_)):(u=u.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),o=o.delete(_.key),r.track({type:1,doc:_})}return{ma:u,pa:r,ss:h,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((_,w)=>function(x,R){const O=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return O(x)-O(R)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(r),i=i!=null&&i;const h=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,g=d!==this.Aa;return this.Aa=d,u.length!==0||g?{snapshot:new Od(this.query,e.ma,o,u,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new YT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=An(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new zC(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new $C(r))}),t}va(e){this.Ea=e.Es,this.Ra=An();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Od.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class i5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class s5{constructor(e){this.key=e,this.Fa=!1}}class o5{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Oh(h=>uC(h),z0),this.Oa=new Map,this.Na=new Set,this.Ba=new zr(Nt.comparator),this.La=new Map,this.ka=new Tw,this.qa={},this.Qa=new Map,this.Ka=Nd.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function a5(n,e,t=!0){const r=JC(n);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await HC(r,e,t,!0),i}async function l5(n,e){const t=JC(n);await HC(t,e,!0,!1)}async function HC(n,e,t,r){const i=await x4(n.localStore,Tl(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await u5(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&FC(n.remoteStore,i),h}async function u5(n,e,t,r,i){n.Ua=(w,E,x)=>async function(O,P,U,B){let C=P.view.ga(U);C.ss&&(C=await KT(O.localStore,P.query,!1).then(({documents:D})=>P.view.ga(D,C)));const F=B&&B.targetChanges.get(P.targetId),z=B&&B.targetMismatches.get(P.targetId)!=null,J=P.view.applyChanges(C,O.isPrimaryClient,F,z);return nb(O,P.targetId,J.ba),J.snapshot}(n,w,E,x);const o=await KT(n.localStore,e,!0),u=new r5(e,o.Es),h=u.ga(o.documents),d=Jg.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),g=u.applyChanges(h,n.isPrimaryClient,d);nb(n,t,g.ba);const _=new i5(e,t,u);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function c5(n,e,t){const r=Kt(n),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(u=>!z0(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Aw(r.remoteStore,i.targetId),vv(r,i.targetId)}).catch(zd)):(vv(r,i.targetId),await yv(r.localStore,i.targetId,!0))}async function h5(n,e){const t=Kt(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Aw(t.remoteStore,r.targetId))}async function f5(n,e,t){const r=v5(n);try{const i=await function(u,h){const d=Kt(u),g=Fi.now(),_=h.reduce((x,R)=>x.add(R.key),An());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let R=vu(),O=An();return d.hs.getEntries(x,_).next(P=>{R=P,R.forEach((U,B)=>{B.isValidDocument()||(O=O.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,R)).next(P=>{w=P;const U=[];for(const B of h){const C=IL(B,w.get(B.key).overlayedDocument);C!=null&&U.push(new Ph(B.key,C,nC(C.value.mapValue),mu.exists(!0)))}return d.mutationQueue.addMutationBatch(x,g,U,h)}).next(P=>{E=P;const U=P.applyToLocalDocumentSet(w,O);return d.documentOverlayCache.saveOverlays(x,P.batchId,U)})}).then(()=>({batchId:E.batchId,changes:fC(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,d){let g=u.qa[u.currentUser.toKey()];g||(g=new zr(On)),g=g.insert(h,d),u.qa[u.currentUser.toKey()]=g}(r,i.batchId,t),await Yg(r,i.changes),await X0(r.remoteStore)}catch(i){const o=kw(i,"Failed to persist write");t.reject(o)}}async function WC(n,e){const t=Kt(n);try{const r=await S4(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.La.get(o);u&&(er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Fa=!0:i.modifiedDocuments.size>0?er(u.Fa):i.removedDocuments.size>0&&(er(u.Fa),u.Fa=!1))}),await Yg(t,r,e)}catch(r){await zd(r)}}function tb(n,e,t){const r=Kt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((o,u)=>{const h=u.view.ea(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const d=Kt(u);d.onlineState=h;let g=!1;d.queries.forEach((_,w)=>{for(const E of w.J_)E.ea(h)&&(g=!0)}),g&&Nw(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d5(n,e,t){const r=Kt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.La.get(e),o=i&&i.key;if(o){let u=new zr(Nt.comparator);u=u.insert(o,Os.newNoDocument(o,Wt.min()));const h=An().add(o),d=new K0(Wt.min(),new Map,new zr(On),u,h);await WC(r,d),r.Ba=r.Ba.remove(o),r.La.delete(e),Ow(r)}else await yv(r.localStore,e,!1).then(()=>vv(r,e,t)).catch(zd)}async function p5(n,e){const t=Kt(n),r=e.batch.batchId;try{const i=await b4(t.localStore,e);KC(t,r,null),GC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Yg(t,i)}catch(i){await zd(i)}}async function g5(n,e,t){const r=Kt(n);try{const i=await function(u,h){const d=Kt(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return d.mutationQueue.lookupMutationBatch(g,h).next(w=>(er(w!==null),_=w.keys(),d.mutationQueue.removeMutationBatch(g,w))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>d.localDocuments.getDocuments(g,_))})}(r.localStore,e);KC(r,e,t),GC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Yg(r,i)}catch(i){await zd(i)}}function GC(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function KC(n,e,t){const r=Kt(n);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function vv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||QC(n,r)})}function QC(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Aw(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Ow(n))}function nb(n,e,t){for(const r of t)r instanceof $C?(n.ka.addReference(r.key,e),m5(n,r)):r instanceof zC?(ot("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||QC(n,r.key)):Vt()}function m5(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(ot("SyncEngine","New document in limbo: "+t),n.Na.add(r),Ow(n))}function Ow(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Nt(si.fromString(e)),r=n.Ka.next();n.La.set(r,new s5(t)),n.Ba=n.Ba.insert(t,r),FC(n.remoteStore,new fc(Tl(yw(t.path)),r,"TargetPurposeLimboResolution",V0.oe))}}async function Yg(n,e,t){const r=Kt(n),i=[],o=[],u=[];r.xa.isEmpty()||(r.xa.forEach((h,d)=>{u.push(r.Ua(d,e,t).then(g=>{var _;if((g||t)&&r.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(g){i.push(g);const w=Sw.zi(d.targetId,g);o.push(w)}}))}),await Promise.all(u),r.Ma.R_(i),await async function(d,g){const _=Kt(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Me.forEach(g,E=>Me.forEach(E.Wi,x=>_.persistence.referenceDelegate.addReference(w,E.targetId,x)).next(()=>Me.forEach(E.Gi,x=>_.persistence.referenceDelegate.removeReference(w,E.targetId,x)))))}catch(w){if(!Hd(w))throw w;ot("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const E=w.targetId;if(!w.fromCache){const x=_.us.get(E),R=x.snapshotVersion,O=x.withLastLimboFreeSnapshotVersion(R);_.us=_.us.insert(E,O)}}}(r.localStore,o))}async function y5(n,e){const t=Kt(n);if(!t.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const r=await PC(t.localStore,e);t.currentUser=e,function(o,u){o.Qa.forEach(h=>{h.forEach(d=>{d.reject(new kt(He.CANCELLED,u))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yg(t,r.Ts)}}function _5(n,e){const t=Kt(n),r=t.La.get(e);if(r&&r.Fa)return An().add(r.key);{let i=An();const o=t.Oa.get(e);if(!o)return i;for(const u of o){const h=t.xa.get(u);i=i.unionWith(h.view.fa)}return i}}function JC(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d5.bind(null,e),e.Ma.R_=e5.bind(null,e.eventManager),e.Ma.Wa=t5.bind(null,e.eventManager),e}function v5(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g5.bind(null,e),e}class v0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Q0(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return T4(this.persistence,new w4,e.initialUser,this.serializer)}ja(e){return new OC(bw.ei,this.serializer)}za(e){return new R4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}v0.provider={build:()=>new v0};class w5 extends v0{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){er(this.persistence.referenceDelegate instanceof y0);const r=this.persistence.referenceDelegate.garbageCollector;return new s4(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new OC(r=>y0.ei(r,t),this.serializer)}}class wv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y5.bind(null,this.syncEngine),await Q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X4}()}createDatastore(e){const t=Q0(e.databaseInfo.databaseId),r=function(o){return new P4(o)}(e.databaseInfo);return function(o,u,h,d){return new M4(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new U4(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>tb(this.syncEngine,t,0),function(){return JT.p()?new JT:new k4}())}createSyncEngine(e,t){return function(i,o,u,h,d,g,_){const w=new o5(i,o,u,h,d,g);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Kt(i);ot("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Xg(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wv.provider={build:()=>new wv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_u("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ns.UNAUTHENTICATED,this.clientId=ZA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{ot("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ot("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=kw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function A1(n,e){n.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function rb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await b5(n);ot("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>XT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>XT(e.remoteStore,i)),n._onlineComponents=e}async function b5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await A1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===He.FAILED_PRECONDITION||i.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;xd("Error using user provided cache. Falling back to memory cache: "+t),await A1(n,new v0)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),await A1(n,new w5(void 0));return n._offlineComponents}async function XC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),await rb(n,n._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),await rb(n,new wv))),n._onlineComponents}function S5(n){return XC(n).then(e=>e.syncEngine)}async function ib(n){const e=await XC(n),t=e.eventManager;return t.onListen=a5.bind(null,e.syncEngine),t.onUnlisten=c5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=l5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=h5.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n,e,t){if(!t)throw new kt(He.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C5(n,e,t,r){if(e===!0&&r===!0)throw new kt(He.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ob(n){if(!Nt.isDocumentKey(n))throw new kt(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Vt()}function _d(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new kt(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pw(n);throw new kt(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new kt(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new kt(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new kt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new kt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new kt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ab({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new kt(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ab(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LP;switch(r.type){case"firstParty":return new UP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new kt(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=sb.get(t);r&&(ot("ComponentProvider","Removing Datastore"),sb.delete(t),r.terminate())}(this),Promise.resolve()}}function x5(n,e,t,r={}){var i;const o=(n=_d(n,Lw))._getSettings(),u=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==u&&xd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Ns.MOCK_USER;else{h=VA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new kt(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ns(g)}n._authCredentials=new DP(new YA(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Y0(this.firestore,e,this._query)}}class ha{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ha(this.firestore,e,this._key)}}class Lg extends Y0{constructor(e,t,r){super(e,t,yw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ha(this.firestore,null,new Nt(e))}withConverter(e){return new Lg(this.firestore,e,this._path)}}function I5(n,e,...t){if(n=Fs(n),arguments.length===1&&(e=ZA.newId()),A5("doc","path",e),n instanceof Lw){const r=si.fromString(e,...t);return ob(r),new ha(n,null,new Nt(r))}{if(!(n instanceof ha||n instanceof Lg))throw new kt(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(si.fromString(e,...t));return ob(r),new ha(n.firestore,n instanceof Lg?n.converter:null,new Nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new DC(this,"async_queue_retry"),this.fu=()=>{const r=S1();r&&ot("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=S1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=S1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new yh;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Hd(e))throw e;ot("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw _u("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Rw.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Vt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function ub(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class w0 extends Lw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new lb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lb(e),this._firestoreClient=void 0,await e}}}function R5(n,e){const t=typeof n=="object"?n:hw(),r=typeof n=="string"?n:"(default)",i=B0(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=FA("firestore");o&&x5(i,...o)}return i}function ZC(n){if(n._terminated)throw new kt(He.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||k5(n),n._firestoreClient}function k5(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,g,_){return new ZP(h,d,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,YC(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new T5(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pd(ms.fromBase64String(e))}catch(t){throw new kt(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pd(ms.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new kt(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kt(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kt(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=/^__.*__$/;class O5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ph(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qg(e,this.data,t,this.fieldTransforms)}}function tx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class Uw{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Uw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return E0(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(tx(this.Mu)&&N5.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class P5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Q0(e)}$u(e,t,r,i=!1){return new Uw({Mu:e,methodName:t,Ku:r,path:ps.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L5(n){const e=n._freezeSettings(),t=Q0(n._databaseId);return new P5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function D5(n,e,t,r,i,o={}){const u=n.$u(o.merge||o.mergeFields?2:0,e,t,i);sx("Data must be an object, but it was:",u,r);const h=rx(r,u);let d,g;if(o.merge)d=new Ua(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const _=[];for(const w of o.mergeFields){const E=M5(e,w,t);if(!u.contains(E))throw new kt(He.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);U5(_,E)||_.push(E)}d=new Ua(_),g=u.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,g=u.fieldTransforms;return new O5(new aa(h),d,g)}function nx(n,e){if(ix(n=Fs(n)))return sx("Unsupported field value:",e,n),rx(n,e);if(n instanceof ex)return function(r,i){if(!tx(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let d=nx(h,i.ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Fs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Fi.fromDate(r);return{timestampValue:m0(i.serializer,o)}}if(r instanceof Fi){const o=new Fi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:m0(i.serializer,o)}}if(r instanceof Mw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pd)return{bytesValue:AC(i.serializer,r._byteString)};if(r instanceof ha){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ew(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fw)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.qu("VectorValues must only contain numeric values.");return _w(h.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Pw(r)}`)}(n,e)}function rx(n,e){const t={};return eC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nh(n,(r,i)=>{const o=nx(i,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ix(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fi||n instanceof Mw||n instanceof Pd||n instanceof ha||n instanceof ex||n instanceof Fw)}function sx(n,e,t){if(!ix(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Pw(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function M5(n,e,t){if((e=Fs(e))instanceof Dw)return e._internalPath;if(typeof e=="string")return ox(n,e);throw E0("Field path arguments must be of type string or ",n,!1,void 0,t)}const F5=new RegExp("[~\\*/\\[\\]]");function ox(n,e,t){if(e.search(F5)>=0)throw E0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dw(...e.split("."))._internalPath}catch{throw E0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function E0(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new kt(He.INVALID_ARGUMENT,h+n+d)}function U5(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ha(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class B5 extends ax{data(){return super.data()}}function lx(n,e){return typeof e=="string"?ox(n,e):e instanceof Dw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new kt(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q5{convertValue(e,t="none"){switch(Tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ec(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Nh(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>vi(u.doubleValue));return new Fw(o)}convertGeoPoint(e){return new Mw(vi(e.latitude),vi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=j0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}convertTimestamp(e){const t=wc(e);return new Fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=si.fromString(e);er(NC(r));const i=new kg(r.get(1),r.get(3)),o=new Nt(r.popFirst(5));return i.isEqual(t)||_u(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(n,e,t){let r;return r=n?t.merge||t.mergeFields?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ux extends ax{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gy extends ux{data(e={}){return super.data(e)}}class $5{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gy(this._firestore,this._userDataWriter,r.key,r,new cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kt(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const d=new Gy(i._firestore,i._userDataWriter,h.doc.key,h.doc,new cg(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Gy(i._firestore,i._userDataWriter,h.doc.key,h.doc,new cg(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,_=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:z5(h.type),doc:d,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function z5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}class cx extends q5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ha(this.firestore,null,t)}}function H5(n,e,t){n=_d(n,ha);const r=_d(n.firestore,w0),i=j5(n.converter,e,t);return G5(r,[D5(L5(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,mu.none())])}function W5(n,...e){var t,r,i;n=Fs(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||ub(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ub(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[u+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let d,g,_;if(n instanceof ha)g=_d(n.firestore,w0),_=yw(n._key.path),d={next:w=>{e[u]&&e[u](K5(g,n,w))},error:e[u+1],complete:e[u+2]};else{const w=_d(n,Y0);g=_d(w.firestore,w0),_=w._query;const E=new cx(g);d={next:x=>{e[u]&&e[u](new $5(g,E,w,x))},error:e[u+1],complete:e[u+2]},V5(n._query)}return function(E,x,R,O){const P=new E5(O),U=new n5(x,P,R);return E.asyncQueue.enqueueAndForget(async()=>Y4(await ib(E),U)),()=>{P.eu(),E.asyncQueue.enqueueAndForget(async()=>Z4(await ib(E),U))}}(ZC(g),_,h,d)}function G5(n,e){return function(r,i){const o=new yh;return r.asyncQueue.enqueueAndForget(async()=>f5(await S5(r),i,o)),o.promise}(ZC(n),e)}function K5(n,e,t){const r=t.docs.get(e._key),i=new cx(n);return new ux(n,i,e._key,r,new cg(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){$d=i})(kh),Eh(new _c("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new w0(new MP(r.getProvider("auth-internal")),new VP(r.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new kt(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kg(g.options.projectId,_)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),El(AT,"4.7.6",e),El(AT,"4.7.6","esm2017")})();let Q5=class{constructor(){Ge(this,"listeners",[])}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(t=>e!==t)}emit(e="noteUpdate",t){this.listeners.forEach(r=>r(e,t))}getListeners(){return this.listeners}};const hs=[];for(let n=0;n<256;++n)hs.push((n+256).toString(16).slice(1));function J5(n,e=0){return(hs[n[e+0]]+hs[n[e+1]]+hs[n[e+2]]+hs[n[e+3]]+"-"+hs[n[e+4]]+hs[n[e+5]]+"-"+hs[n[e+6]]+hs[n[e+7]]+"-"+hs[n[e+8]]+hs[n[e+9]]+"-"+hs[n[e+10]]+hs[n[e+11]]+hs[n[e+12]]+hs[n[e+13]]+hs[n[e+14]]+hs[n[e+15]]).toLowerCase()}let C1;const X5=new Uint8Array(16);function Y5(){if(!C1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");C1=crypto.getRandomValues.bind(crypto)}return C1(X5)}const Z5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cb={randomUUID:Z5};function e3(n,e,t){var i;if(cb.randomUUID&&!n)return cb.randomUUID();n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??Y5();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,J5(r)}var hx=typeof global=="object"&&global&&global.Object===Object&&global,t3=typeof self=="object"&&self&&self.Object===Object&&self,Ll=hx||t3||Function("return this")(),Sc=Ll.Symbol,fx=Object.prototype,n3=fx.hasOwnProperty,r3=fx.toString,eg=Sc?Sc.toStringTag:void 0;function i3(n){var e=n3.call(n,eg),t=n[eg];try{n[eg]=void 0;var r=!0}catch{}var i=r3.call(n);return r&&(e?n[eg]=t:delete n[eg]),i}var s3=Object.prototype,o3=s3.toString;function a3(n){return o3.call(n)}var l3="[object Null]",u3="[object Undefined]",hb=Sc?Sc.toStringTag:void 0;function Gd(n){return n==null?n===void 0?u3:l3:hb&&hb in Object(n)?i3(n):a3(n)}function wu(n){return n!=null&&typeof n=="object"}var bh=Array.isArray;function Cc(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function dx(n){return n}var c3="[object AsyncFunction]",h3="[object Function]",f3="[object GeneratorFunction]",d3="[object Proxy]";function Bw(n){if(!Cc(n))return!1;var e=Gd(n);return e==h3||e==f3||e==c3||e==d3}var x1=Ll["__core-js_shared__"],fb=function(){var n=/[^.]+$/.exec(x1&&x1.keys&&x1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function p3(n){return!!fb&&fb in n}var g3=Function.prototype,m3=g3.toString;function Dh(n){if(n!=null){try{return m3.call(n)}catch{}try{return n+""}catch{}}return""}var y3=/[\\^$.*+?()[\]{}|]/g,_3=/^\[object .+?Constructor\]$/,v3=Function.prototype,w3=Object.prototype,E3=v3.toString,T3=w3.hasOwnProperty,b3=RegExp("^"+E3.call(T3).replace(y3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S3(n){if(!Cc(n)||p3(n))return!1;var e=Bw(n)?b3:_3;return e.test(Dh(n))}function A3(n,e){return n==null?void 0:n[e]}function Mh(n,e){var t=A3(n,e);return S3(t)?t:void 0}var Ev=Mh(Ll,"WeakMap"),db=Object.create,C3=function(){function n(){}return function(e){if(!Cc(e))return{};if(db)return db(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function x3(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function px(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var I3=800,R3=16,k3=Date.now;function N3(n){var e=0,t=0;return function(){var r=k3(),i=R3-(r-t);if(t=r,i>0){if(++e>=I3)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function O3(n){return function(){return n}}var T0=function(){try{var n=Mh(Object,"defineProperty");return n({},"",{}),n}catch{}}(),P3=T0?function(n,e){return T0(n,"toString",{configurable:!0,enumerable:!1,value:O3(e),writable:!0})}:dx,L3=N3(P3);function D3(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var M3=9007199254740991,F3=/^(?:0|[1-9]\d*)$/;function gx(n,e){var t=typeof n;return e=e??M3,!!e&&(t=="number"||t!="symbol"&&F3.test(n))&&n>-1&&n%1==0&&n<e}function Vw(n,e,t){e=="__proto__"&&T0?T0(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Zg(n,e){return n===e||n!==n&&e!==e}var U3=Object.prototype,B3=U3.hasOwnProperty;function mx(n,e,t){var r=n[e];(!(B3.call(n,e)&&Zg(r,t))||t===void 0&&!(e in n))&&Vw(n,e,t)}function em(n,e,t,r){var i=!t;t||(t={});for(var o=-1,u=e.length;++o<u;){var h=e[o],d=void 0;d===void 0&&(d=n[h]),i?Vw(t,h,d):mx(t,h,d)}return t}var pb=Math.max;function V3(n,e,t){return e=pb(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=pb(r.length-e,0),u=Array(o);++i<o;)u[i]=r[e+i];i=-1;for(var h=Array(e+1);++i<e;)h[i]=r[i];return h[e]=t(u),x3(n,this,h)}}function q3(n,e){return L3(V3(n,e,dx),n+"")}var j3=9007199254740991;function yx(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=j3}function Z0(n){return n!=null&&yx(n.length)&&!Bw(n)}function $3(n,e,t){if(!Cc(t))return!1;var r=typeof e;return(r=="number"?Z0(t)&&gx(e,t.length):r=="string"&&e in t)?Zg(t[e],n):!1}function z3(n){return q3(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,u=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,u&&$3(t[0],t[1],u)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var h=t[r];h&&n(e,h,r,o)}return e})}var H3=Object.prototype;function qw(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||H3;return n===t}function W3(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var G3="[object Arguments]";function gb(n){return wu(n)&&Gd(n)==G3}var _x=Object.prototype,K3=_x.hasOwnProperty,Q3=_x.propertyIsEnumerable,Tv=gb(function(){return arguments}())?gb:function(n){return wu(n)&&K3.call(n,"callee")&&!Q3.call(n,"callee")};function J3(){return!1}var vx=typeof Po=="object"&&Po&&!Po.nodeType&&Po,mb=vx&&typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,X3=mb&&mb.exports===vx,yb=X3?Ll.Buffer:void 0,Y3=yb?yb.isBuffer:void 0,Dg=Y3||J3,Z3="[object Arguments]",eD="[object Array]",tD="[object Boolean]",nD="[object Date]",rD="[object Error]",iD="[object Function]",sD="[object Map]",oD="[object Number]",aD="[object Object]",lD="[object RegExp]",uD="[object Set]",cD="[object String]",hD="[object WeakMap]",fD="[object ArrayBuffer]",dD="[object DataView]",pD="[object Float32Array]",gD="[object Float64Array]",mD="[object Int8Array]",yD="[object Int16Array]",_D="[object Int32Array]",vD="[object Uint8Array]",wD="[object Uint8ClampedArray]",ED="[object Uint16Array]",TD="[object Uint32Array]",Ir={};Ir[pD]=Ir[gD]=Ir[mD]=Ir[yD]=Ir[_D]=Ir[vD]=Ir[wD]=Ir[ED]=Ir[TD]=!0;Ir[Z3]=Ir[eD]=Ir[fD]=Ir[tD]=Ir[dD]=Ir[nD]=Ir[rD]=Ir[iD]=Ir[sD]=Ir[oD]=Ir[aD]=Ir[lD]=Ir[uD]=Ir[cD]=Ir[hD]=!1;function bD(n){return wu(n)&&yx(n.length)&&!!Ir[Gd(n)]}function jw(n){return function(e){return n(e)}}var wx=typeof Po=="object"&&Po&&!Po.nodeType&&Po,Eg=wx&&typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,SD=Eg&&Eg.exports===wx,I1=SD&&hx.process,Ld=function(){try{var n=Eg&&Eg.require&&Eg.require("util").types;return n||I1&&I1.binding&&I1.binding("util")}catch{}}(),_b=Ld&&Ld.isTypedArray,$w=_b?jw(_b):bD,AD=Object.prototype,CD=AD.hasOwnProperty;function Ex(n,e){var t=bh(n),r=!t&&Tv(n),i=!t&&!r&&Dg(n),o=!t&&!r&&!i&&$w(n),u=t||r||i||o,h=u?W3(n.length,String):[],d=h.length;for(var g in n)(e||CD.call(n,g))&&!(u&&(g=="length"||i&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||gx(g,d)))&&h.push(g);return h}function Tx(n,e){return function(t){return n(e(t))}}var xD=Tx(Object.keys,Object),ID=Object.prototype,RD=ID.hasOwnProperty;function kD(n){if(!qw(n))return xD(n);var e=[];for(var t in Object(n))RD.call(n,t)&&t!="constructor"&&e.push(t);return e}function zw(n){return Z0(n)?Ex(n):kD(n)}function ND(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var OD=Object.prototype,PD=OD.hasOwnProperty;function LD(n){if(!Cc(n))return ND(n);var e=qw(n),t=[];for(var r in n)r=="constructor"&&(e||!PD.call(n,r))||t.push(r);return t}function tm(n){return Z0(n)?Ex(n,!0):LD(n)}var Mg=Mh(Object,"create");function DD(){this.__data__=Mg?Mg(null):{},this.size=0}function MD(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var FD="__lodash_hash_undefined__",UD=Object.prototype,BD=UD.hasOwnProperty;function VD(n){var e=this.__data__;if(Mg){var t=e[n];return t===FD?void 0:t}return BD.call(e,n)?e[n]:void 0}var qD=Object.prototype,jD=qD.hasOwnProperty;function $D(n){var e=this.__data__;return Mg?e[n]!==void 0:jD.call(e,n)}var zD="__lodash_hash_undefined__";function HD(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Mg&&e===void 0?zD:e,this}function Sh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Sh.prototype.clear=DD;Sh.prototype.delete=MD;Sh.prototype.get=VD;Sh.prototype.has=$D;Sh.prototype.set=HD;function WD(){this.__data__=[],this.size=0}function e_(n,e){for(var t=n.length;t--;)if(Zg(n[t][0],e))return t;return-1}var GD=Array.prototype,KD=GD.splice;function QD(n){var e=this.__data__,t=e_(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():KD.call(e,t,1),--this.size,!0}function JD(n){var e=this.__data__,t=e_(e,n);return t<0?void 0:e[t][1]}function XD(n){return e_(this.__data__,n)>-1}function YD(n,e){var t=this.__data__,r=e_(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Au(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Au.prototype.clear=WD;Au.prototype.delete=QD;Au.prototype.get=JD;Au.prototype.has=XD;Au.prototype.set=YD;var Fg=Mh(Ll,"Map");function ZD(){this.size=0,this.__data__={hash:new Sh,map:new(Fg||Au),string:new Sh}}function eM(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function t_(n,e){var t=n.__data__;return eM(e)?t[typeof e=="string"?"string":"hash"]:t.map}function tM(n){var e=t_(this,n).delete(n);return this.size-=e?1:0,e}function nM(n){return t_(this,n).get(n)}function rM(n){return t_(this,n).has(n)}function iM(n,e){var t=t_(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Fh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Fh.prototype.clear=ZD;Fh.prototype.delete=tM;Fh.prototype.get=nM;Fh.prototype.has=rM;Fh.prototype.set=iM;function bx(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Hw=Tx(Object.getPrototypeOf,Object),sM="[object Object]",oM=Function.prototype,aM=Object.prototype,Sx=oM.toString,lM=aM.hasOwnProperty,uM=Sx.call(Object);function cM(n){if(!wu(n)||Gd(n)!=sM)return!1;var e=Hw(n);if(e===null)return!0;var t=lM.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Sx.call(t)==uM}function hM(){this.__data__=new Au,this.size=0}function fM(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function dM(n){return this.__data__.get(n)}function pM(n){return this.__data__.has(n)}var gM=200;function mM(n,e){var t=this.__data__;if(t instanceof Au){var r=t.__data__;if(!Fg||r.length<gM-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Fh(r)}return t.set(n,e),this.size=t.size,this}function Sl(n){var e=this.__data__=new Au(n);this.size=e.size}Sl.prototype.clear=hM;Sl.prototype.delete=fM;Sl.prototype.get=dM;Sl.prototype.has=pM;Sl.prototype.set=mM;function yM(n,e){return n&&em(e,zw(e),n)}function _M(n,e){return n&&em(e,tm(e),n)}var Ax=typeof Po=="object"&&Po&&!Po.nodeType&&Po,vb=Ax&&typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,vM=vb&&vb.exports===Ax,wb=vM?Ll.Buffer:void 0,Eb=wb?wb.allocUnsafe:void 0;function Cx(n,e){if(e)return n.slice();var t=n.length,r=Eb?Eb(t):new n.constructor(t);return n.copy(r),r}function wM(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var u=n[t];e(u,t,n)&&(o[i++]=u)}return o}function xx(){return[]}var EM=Object.prototype,TM=EM.propertyIsEnumerable,Tb=Object.getOwnPropertySymbols,Ww=Tb?function(n){return n==null?[]:(n=Object(n),wM(Tb(n),function(e){return TM.call(n,e)}))}:xx;function bM(n,e){return em(n,Ww(n),e)}var SM=Object.getOwnPropertySymbols,Ix=SM?function(n){for(var e=[];n;)bx(e,Ww(n)),n=Hw(n);return e}:xx;function AM(n,e){return em(n,Ix(n),e)}function Rx(n,e,t){var r=e(n);return bh(n)?r:bx(r,t(n))}function bv(n){return Rx(n,zw,Ww)}function CM(n){return Rx(n,tm,Ix)}var Sv=Mh(Ll,"DataView"),Av=Mh(Ll,"Promise"),Cv=Mh(Ll,"Set"),bb="[object Map]",xM="[object Object]",Sb="[object Promise]",Ab="[object Set]",Cb="[object WeakMap]",xb="[object DataView]",IM=Dh(Sv),RM=Dh(Fg),kM=Dh(Av),NM=Dh(Cv),OM=Dh(Ev),Ma=Gd;(Sv&&Ma(new Sv(new ArrayBuffer(1)))!=xb||Fg&&Ma(new Fg)!=bb||Av&&Ma(Av.resolve())!=Sb||Cv&&Ma(new Cv)!=Ab||Ev&&Ma(new Ev)!=Cb)&&(Ma=function(n){var e=Gd(n),t=e==xM?n.constructor:void 0,r=t?Dh(t):"";if(r)switch(r){case IM:return xb;case RM:return bb;case kM:return Sb;case NM:return Ab;case OM:return Cb}return e});var PM=Object.prototype,LM=PM.hasOwnProperty;function DM(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&LM.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var b0=Ll.Uint8Array;function Gw(n){var e=new n.constructor(n.byteLength);return new b0(e).set(new b0(n)),e}function MM(n,e){var t=e?Gw(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var FM=/\w*$/;function UM(n){var e=new n.constructor(n.source,FM.exec(n));return e.lastIndex=n.lastIndex,e}var Ib=Sc?Sc.prototype:void 0,Rb=Ib?Ib.valueOf:void 0;function BM(n){return Rb?Object(Rb.call(n)):{}}function kx(n,e){var t=e?Gw(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var VM="[object Boolean]",qM="[object Date]",jM="[object Map]",$M="[object Number]",zM="[object RegExp]",HM="[object Set]",WM="[object String]",GM="[object Symbol]",KM="[object ArrayBuffer]",QM="[object DataView]",JM="[object Float32Array]",XM="[object Float64Array]",YM="[object Int8Array]",ZM="[object Int16Array]",e6="[object Int32Array]",t6="[object Uint8Array]",n6="[object Uint8ClampedArray]",r6="[object Uint16Array]",i6="[object Uint32Array]";function s6(n,e,t){var r=n.constructor;switch(e){case KM:return Gw(n);case VM:case qM:return new r(+n);case QM:return MM(n,t);case JM:case XM:case YM:case ZM:case e6:case t6:case n6:case r6:case i6:return kx(n,t);case jM:return new r;case $M:case WM:return new r(n);case zM:return UM(n);case HM:return new r;case GM:return BM(n)}}function Nx(n){return typeof n.constructor=="function"&&!qw(n)?C3(Hw(n)):{}}var o6="[object Map]";function a6(n){return wu(n)&&Ma(n)==o6}var kb=Ld&&Ld.isMap,l6=kb?jw(kb):a6,u6="[object Set]";function c6(n){return wu(n)&&Ma(n)==u6}var Nb=Ld&&Ld.isSet,h6=Nb?jw(Nb):c6,f6=1,d6=2,p6=4,Ox="[object Arguments]",g6="[object Array]",m6="[object Boolean]",y6="[object Date]",_6="[object Error]",Px="[object Function]",v6="[object GeneratorFunction]",w6="[object Map]",E6="[object Number]",Lx="[object Object]",T6="[object RegExp]",b6="[object Set]",S6="[object String]",A6="[object Symbol]",C6="[object WeakMap]",x6="[object ArrayBuffer]",I6="[object DataView]",R6="[object Float32Array]",k6="[object Float64Array]",N6="[object Int8Array]",O6="[object Int16Array]",P6="[object Int32Array]",L6="[object Uint8Array]",D6="[object Uint8ClampedArray]",M6="[object Uint16Array]",F6="[object Uint32Array]",br={};br[Ox]=br[g6]=br[x6]=br[I6]=br[m6]=br[y6]=br[R6]=br[k6]=br[N6]=br[O6]=br[P6]=br[w6]=br[E6]=br[Lx]=br[T6]=br[b6]=br[S6]=br[A6]=br[L6]=br[D6]=br[M6]=br[F6]=!0;br[_6]=br[Px]=br[C6]=!1;function Ky(n,e,t,r,i,o){var u,h=e&f6,d=e&d6,g=e&p6;if(u!==void 0)return u;if(!Cc(n))return n;var _=bh(n);if(_){if(u=DM(n),!h)return px(n,u)}else{var w=Ma(n),E=w==Px||w==v6;if(Dg(n))return Cx(n,h);if(w==Lx||w==Ox||E&&!i){if(u=d||E?{}:Nx(n),!h)return d?AM(n,_M(u,n)):bM(n,yM(u,n))}else{if(!br[w])return i?n:{};u=s6(n,w,h)}}o||(o=new Sl);var x=o.get(n);if(x)return x;o.set(n,u),h6(n)?n.forEach(function(P){u.add(Ky(P,e,t,P,n,o))}):l6(n)&&n.forEach(function(P,U){u.set(U,Ky(P,e,t,U,n,o))});var R=g?d?CM:bv:d?tm:zw,O=_?void 0:R(n);return D3(O||n,function(P,U){O&&(U=P,P=n[U]),mx(u,U,Ky(P,e,t,U,n,o))}),u}var U6=1,B6=4;function vd(n){return Ky(n,U6|B6)}var V6="__lodash_hash_undefined__";function q6(n){return this.__data__.set(n,V6),this}function j6(n){return this.__data__.has(n)}function S0(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Fh;++e<t;)this.add(n[e])}S0.prototype.add=S0.prototype.push=q6;S0.prototype.has=j6;function $6(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function z6(n,e){return n.has(e)}var H6=1,W6=2;function Dx(n,e,t,r,i,o){var u=t&H6,h=n.length,d=e.length;if(h!=d&&!(u&&d>h))return!1;var g=o.get(n),_=o.get(e);if(g&&_)return g==e&&_==n;var w=-1,E=!0,x=t&W6?new S0:void 0;for(o.set(n,e),o.set(e,n);++w<h;){var R=n[w],O=e[w];if(r)var P=u?r(O,R,w,e,n,o):r(R,O,w,n,e,o);if(P!==void 0){if(P)continue;E=!1;break}if(x){if(!$6(e,function(U,B){if(!z6(x,B)&&(R===U||i(R,U,t,r,o)))return x.push(B)})){E=!1;break}}else if(!(R===O||i(R,O,t,r,o))){E=!1;break}}return o.delete(n),o.delete(e),E}function G6(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function K6(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Q6=1,J6=2,X6="[object Boolean]",Y6="[object Date]",Z6="[object Error]",e9="[object Map]",t9="[object Number]",n9="[object RegExp]",r9="[object Set]",i9="[object String]",s9="[object Symbol]",o9="[object ArrayBuffer]",a9="[object DataView]",Ob=Sc?Sc.prototype:void 0,R1=Ob?Ob.valueOf:void 0;function l9(n,e,t,r,i,o,u){switch(t){case a9:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case o9:return!(n.byteLength!=e.byteLength||!o(new b0(n),new b0(e)));case X6:case Y6:case t9:return Zg(+n,+e);case Z6:return n.name==e.name&&n.message==e.message;case n9:case i9:return n==e+"";case e9:var h=G6;case r9:var d=r&Q6;if(h||(h=K6),n.size!=e.size&&!d)return!1;var g=u.get(n);if(g)return g==e;r|=J6,u.set(n,e);var _=Dx(h(n),h(e),r,i,o,u);return u.delete(n),_;case s9:if(R1)return R1.call(n)==R1.call(e)}return!1}var u9=1,c9=Object.prototype,h9=c9.hasOwnProperty;function f9(n,e,t,r,i,o){var u=t&u9,h=bv(n),d=h.length,g=bv(e),_=g.length;if(d!=_&&!u)return!1;for(var w=d;w--;){var E=h[w];if(!(u?E in e:h9.call(e,E)))return!1}var x=o.get(n),R=o.get(e);if(x&&R)return x==e&&R==n;var O=!0;o.set(n,e),o.set(e,n);for(var P=u;++w<d;){E=h[w];var U=n[E],B=e[E];if(r)var C=u?r(B,U,E,e,n,o):r(U,B,E,n,e,o);if(!(C===void 0?U===B||i(U,B,t,r,o):C)){O=!1;break}P||(P=E=="constructor")}if(O&&!P){var F=n.constructor,z=e.constructor;F!=z&&"constructor"in n&&"constructor"in e&&!(typeof F=="function"&&F instanceof F&&typeof z=="function"&&z instanceof z)&&(O=!1)}return o.delete(n),o.delete(e),O}var d9=1,Pb="[object Arguments]",Lb="[object Array]",Ty="[object Object]",p9=Object.prototype,Db=p9.hasOwnProperty;function g9(n,e,t,r,i,o){var u=bh(n),h=bh(e),d=u?Lb:Ma(n),g=h?Lb:Ma(e);d=d==Pb?Ty:d,g=g==Pb?Ty:g;var _=d==Ty,w=g==Ty,E=d==g;if(E&&Dg(n)){if(!Dg(e))return!1;u=!0,_=!1}if(E&&!_)return o||(o=new Sl),u||$w(n)?Dx(n,e,t,r,i,o):l9(n,e,d,t,r,i,o);if(!(t&d9)){var x=_&&Db.call(n,"__wrapped__"),R=w&&Db.call(e,"__wrapped__");if(x||R){var O=x?n.value():n,P=R?e.value():e;return o||(o=new Sl),i(O,P,t,r,o)}}return E?(o||(o=new Sl),f9(n,e,t,r,i,o)):!1}function Mx(n,e,t,r,i){return n===e?!0:n==null||e==null||!wu(n)&&!wu(e)?n!==n&&e!==e:g9(n,e,t,r,Mx,i)}function m9(n){return function(e,t,r){for(var i=-1,o=Object(e),u=r(e),h=u.length;h--;){var d=u[++i];if(t(o[d],d,o)===!1)break}return e}}var y9=m9();function xv(n,e,t){(t!==void 0&&!Zg(n[e],t)||t===void 0&&!(e in n))&&Vw(n,e,t)}function _9(n){return wu(n)&&Z0(n)}function Iv(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function v9(n){return em(n,tm(n))}function w9(n,e,t,r,i,o,u){var h=Iv(n,t),d=Iv(e,t),g=u.get(d);if(g){xv(n,t,g);return}var _=o?o(h,d,t+"",n,e,u):void 0,w=_===void 0;if(w){var E=bh(d),x=!E&&Dg(d),R=!E&&!x&&$w(d);_=d,E||x||R?bh(h)?_=h:_9(h)?_=px(h):x?(w=!1,_=Cx(d,!0)):R?(w=!1,_=kx(d,!0)):_=[]:cM(d)||Tv(d)?(_=h,Tv(h)?_=v9(h):(!Cc(h)||Bw(h))&&(_=Nx(d))):w=!1}w&&(u.set(d,_),i(_,d,r,o,u),u.delete(d)),xv(n,t,_)}function Fx(n,e,t,r,i){n!==e&&y9(e,function(o,u){if(i||(i=new Sl),Cc(o))w9(n,e,u,t,Fx,r,i);else{var h=r?r(Iv(n,u),o,u+"",n,e,i):void 0;h===void 0&&(h=o),xv(n,u,h)}},tm)}function Kw(n,e){return Mx(n,e)}var yc=z3(function(n,e,t){Fx(n,e,t)}),yt=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(yt||{});class kl{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=yt.TYPE&yt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&yt.LEVEL|i:yt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class wd extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Ux=class Rv{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new wd(`Unable to create ${t} blot`);const o=i,u=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:o.create(r),h=new o(e,u,r);return Rv.blots.set(h.domNode,h),h}find(e,t=!1){return Rv.find(e,t)}query(e,t=yt.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&yt.LEVEL&yt.BLOCK?r=this.types.block:e&yt.LEVEL&yt.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&yt.LEVEL&r.scope&&t&yt.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new wd("Invalid definition");if(r&&t.blotName==="abstract")throw new wd("Cannot register abstract class");const o=r?t.blotName:i?t.attrName:void 0;return this.types[o]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(u=>u.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(u=>{(this.tags[u]==null||t.className==null)&&(this.tags[u]=t)}))),t})}};Ux.blots=new WeakMap;let Dd=Ux;function Mb(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class E9 extends kl{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){Mb(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(Mb(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const ja=E9;function k1(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class T9 extends kl{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[k1(this.keyName)]=t,!0):!1}remove(e){e.style[k1(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[k1(this.keyName)];return this.canAdd(e,t)?t:""}}const xc=T9;class b9{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Dd.find(this.domNode);if(e==null)return;const t=kl.keys(this.domNode),r=ja.keys(this.domNode),i=xc.keys(this.domNode);t.concat(r).concat(i).forEach(o=>{const u=e.scroll.query(o,yt.ATTRIBUTE);u instanceof kl&&(this.attributes[u.attrName]=u)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const n_=b9,Bx=class{constructor(e,t){this.scroll=e,this.domNode=t,Dd.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new wd("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Dd.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const o=this.isolate(e,t);if(this.scroll.query(r,yt.BLOT)!=null&&i)o.wrap(r,i);else if(this.scroll.query(r,yt.ATTRIBUTE)!=null){const u=this.scroll.create(this.statics.scope);o.wrap(u),u.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new wd(`Cannot wrap ${e}`);return r.appendChild(this),r}};Bx.blotName="abstract";let Vx=Bx;const qx=class extends Vx{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};qx.scope=yt.INLINE_BLOT;let S9=qx;const Ps=S9;class A9{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const o=i.length();if(e<o||t&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,o]=this.find(e);let u=e-o;const h=this.iterator(i);let d=h();for(;d&&u<e+t;){const g=d.length();e>u?r(d,e-u,Math.min(t,u+g-e)):r(d,0,Math.min(g,e+t-u)),u+=g,d=h()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function Fb(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(yt.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const jx=class ac extends Vx{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,ac.uiClass&&this.uiNode.classList.add(ac.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new A9,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=Fb(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof wd)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,o)=>{r.deleteAt(i,o)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof ac?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],o=r;return this.children.forEachAt(t,r,(u,h,d)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&i.push(u),u instanceof ac&&(i=i.concat(u.descendants(e,h,o))),o-=d}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===yt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof ac?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(o,u,h)=>{o.formatAt(u,h,r,i)})}insertAt(e,t,r){const[i,o]=this.children.find(e);if(i)i.insertAt(o,t,r);else{const u=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(u)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),o=[[this,e]];return r instanceof ac?o.concat(r.path(i,t)):(r!=null&&o.push([r,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof ac&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,u)=>{const h=i.split(o,t);h!=null&&r.appendChild(h)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(r.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(o);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),r.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,u)=>o===u?0:o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let u=null;o.nextSibling!=null&&(u=this.scroll.find(o.nextSibling));const h=Fb(o,this.scroll);(h.next!==u||h.next==null)&&(h.parent!=null&&h.parent.removeChild(this),this.insertBefore(h,u||void 0))}),this.enforceAllowedChildren()}};jx.uiClass="";let C9=jx;const Ba=C9;function x9(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const cd=class hd extends Ba{static create(e){return super.create(e)}static formats(e,t){const r=t.query(hd.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new n_(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof hd||(r=r.wrap(hd.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,yt.INLINE);if(r==null)return;r instanceof kl?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,yt.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof hd&&r.prev===this&&x9(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof hd&&this.attributes.move(r),r}};cd.allowedChildren=[cd,Ps],cd.blotName="inline",cd.scope=yt.INLINE_BLOT,cd.tagName="SPAN";let I9=cd;const Qw=I9,fd=class kv extends Ba{static create(e){return super.create(e)}static formats(e,t){const r=t.query(kv.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new n_(this.domNode)}format(e,t){const r=this.scroll.query(e,yt.BLOCK);r!=null&&(r instanceof kl?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(kv.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,yt.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,yt.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(t,r);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};fd.blotName="block",fd.scope=yt.BLOCK_BLOT,fd.tagName="P",fd.allowedChildren=[Qw,fd,Ps];let R9=fd;const Ug=R9,Nv=class extends Ba{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Nv.blotName="container",Nv.scope=yt.BLOCK_BLOT;let k9=Nv;const r_=k9;class N9 extends Ps{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Uo=N9,O9={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},P9=100,dd=class extends Ba{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,O9),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=yt.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(d,g=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(r.has(d.domNode)||r.set(d.domNode,[]),g&&o(d.parent))},u=d=>{r.has(d.domNode)&&(d instanceof Ba&&d.children.forEach(u),r.delete(d.domNode),d.optimize(t))};let h=e;for(let d=0;h.length>0;d+=1){if(d>=P9)throw new Error("[Parchment] Maximum optimize iterations reached");for(h.forEach(g=>{const _=this.find(g.target,!0);_!=null&&(_.domNode===g.target&&(g.type==="childList"?(o(this.find(g.previousSibling,!1)),Array.from(g.addedNodes).forEach(w=>{const E=this.find(w,!1);o(E,!1),E instanceof Ba&&E.children.forEach(x=>{o(x,!1)})})):g.type==="attributes"&&o(_.prev)),o(_))}),this.children.forEach(u),h=Array.from(this.observer.takeRecords()),i=h.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:r.has(o.domNode)?(r.get(o.domNode).push(i),null):(r.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};dd.blotName="scroll",dd.defaultChild=Ug,dd.allowedChildren=[Ug,r_],dd.scope=yt.BLOCK_BLOT,dd.tagName="DIV";let L9=dd;const Jw=L9,Ov=class $x extends Ps{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof $x&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Ov.blotName="text",Ov.scope=yt.INLINE_BLOT;let D9=Ov;const A0=D9,M9=Object.freeze(Object.defineProperty({__proto__:null,Attributor:kl,AttributorStore:n_,BlockBlot:Ug,ClassAttributor:ja,ContainerBlot:r_,EmbedBlot:Uo,InlineBlot:Qw,LeafBlot:Ps,ParentBlot:Ba,Registry:Dd,Scope:yt,ScrollBlot:Jw,StyleAttributor:xc,TextBlot:A0},Symbol.toStringTag,{value:"Module"}));var by={exports:{}},N1,Ub;function F9(){if(Ub)return N1;Ub=1;var n=-1,e=1,t=0;function r(k,j,N,oe,le){if(k===j)return k?[[t,k]]:[];if(N!=null){var re=W(k,j,N);if(re)return re}var de=h(k,j),se=k.substring(0,de);k=k.substring(de),j=j.substring(de),de=g(k,j);var ne=k.substring(k.length-de);k=k.substring(0,k.length-de),j=j.substring(0,j.length-de);var Y=i(k,j);return se&&Y.unshift([t,se]),ne&&Y.push([t,ne]),B(Y,le),oe&&w(Y),Y}function i(k,j){var N;if(!k)return[[e,j]];if(!j)return[[n,k]];var oe=k.length>j.length?k:j,le=k.length>j.length?j:k,re=oe.indexOf(le);if(re!==-1)return N=[[e,oe.substring(0,re)],[t,le],[e,oe.substring(re+le.length)]],k.length>j.length&&(N[0][0]=N[2][0]=n),N;if(le.length===1)return[[n,k],[e,j]];var de=_(k,j);if(de){var se=de[0],ne=de[1],Y=de[2],G=de[3],ie=de[4],he=r(se,Y),Ne=r(ne,G);return he.concat([[t,ie]],Ne)}return o(k,j)}function o(k,j){for(var N=k.length,oe=j.length,le=Math.ceil((N+oe)/2),re=le,de=2*le,se=new Array(de),ne=new Array(de),Y=0;Y<de;Y++)se[Y]=-1,ne[Y]=-1;se[re+1]=0,ne[re+1]=0;for(var G=N-oe,ie=G%2!==0,he=0,Ne=0,Ce=0,Pe=0,je=0;je<le;je++){for(var Ie=-je+he;Ie<=je-Ne;Ie+=2){var We=re+Ie,Ye;Ie===-je||Ie!==je&&se[We-1]<se[We+1]?Ye=se[We+1]:Ye=se[We-1]+1;for(var Je=Ye-Ie;Ye<N&&Je<oe&&k.charAt(Ye)===j.charAt(Je);)Ye++,Je++;if(se[We]=Ye,Ye>N)Ne+=2;else if(Je>oe)he+=2;else if(ie){var pt=re+G-Ie;if(pt>=0&&pt<de&&ne[pt]!==-1){var gt=N-ne[pt];if(Ye>=gt)return u(k,j,Ye,Je)}}}for(var st=-je+Ce;st<=je-Pe;st+=2){var pt=re+st,gt;st===-je||st!==je&&ne[pt-1]<ne[pt+1]?gt=ne[pt+1]:gt=ne[pt-1]+1;for(var zt=gt-st;gt<N&&zt<oe&&k.charAt(N-gt-1)===j.charAt(oe-zt-1);)gt++,zt++;if(ne[pt]=gt,gt>N)Pe+=2;else if(zt>oe)Ce+=2;else if(!ie){var We=re+G-st;if(We>=0&&We<de&&se[We]!==-1){var Ye=se[We],Je=re+Ye-We;if(gt=N-gt,Ye>=gt)return u(k,j,Ye,Je)}}}}return[[n,k],[e,j]]}function u(k,j,N,oe){var le=k.substring(0,N),re=j.substring(0,oe),de=k.substring(N),se=j.substring(oe),ne=r(le,re),Y=r(de,se);return ne.concat(Y)}function h(k,j){if(!k||!j||k.charAt(0)!==j.charAt(0))return 0;for(var N=0,oe=Math.min(k.length,j.length),le=oe,re=0;N<le;)k.substring(re,le)==j.substring(re,le)?(N=le,re=N):oe=le,le=Math.floor((oe-N)/2+N);return C(k.charCodeAt(le-1))&&le--,le}function d(k,j){var N=k.length,oe=j.length;if(N==0||oe==0)return 0;N>oe?k=k.substring(N-oe):N<oe&&(j=j.substring(0,N));var le=Math.min(N,oe);if(k==j)return le;for(var re=0,de=1;;){var se=k.substring(le-de),ne=j.indexOf(se);if(ne==-1)return re;de+=ne,(ne==0||k.substring(le-de)==j.substring(0,de))&&(re=de,de++)}}function g(k,j){if(!k||!j||k.slice(-1)!==j.slice(-1))return 0;for(var N=0,oe=Math.min(k.length,j.length),le=oe,re=0;N<le;)k.substring(k.length-le,k.length-re)==j.substring(j.length-le,j.length-re)?(N=le,re=N):oe=le,le=Math.floor((oe-N)/2+N);return F(k.charCodeAt(k.length-le))&&le--,le}function _(k,j){var N=k.length>j.length?k:j,oe=k.length>j.length?j:k;if(N.length<4||oe.length*2<N.length)return null;function le(Ne,Ce,Pe){for(var je=Ne.substring(Pe,Pe+Math.floor(Ne.length/4)),Ie=-1,We="",Ye,Je,pt,gt;(Ie=Ce.indexOf(je,Ie+1))!==-1;){var st=h(Ne.substring(Pe),Ce.substring(Ie)),zt=g(Ne.substring(0,Pe),Ce.substring(0,Ie));We.length<zt+st&&(We=Ce.substring(Ie-zt,Ie)+Ce.substring(Ie,Ie+st),Ye=Ne.substring(0,Pe-zt),Je=Ne.substring(Pe+st),pt=Ce.substring(0,Ie-zt),gt=Ce.substring(Ie+st))}return We.length*2>=Ne.length?[Ye,Je,pt,gt,We]:null}var re=le(N,oe,Math.ceil(N.length/4)),de=le(N,oe,Math.ceil(N.length/2)),se;if(!re&&!de)return null;de?re?se=re[4].length>de[4].length?re:de:se=de:se=re;var ne,Y,G,ie;k.length>j.length?(ne=se[0],Y=se[1],G=se[2],ie=se[3]):(G=se[0],ie=se[1],ne=se[2],Y=se[3]);var he=se[4];return[ne,Y,G,ie,he]}function w(k){for(var j=!1,N=[],oe=0,le=null,re=0,de=0,se=0,ne=0,Y=0;re<k.length;)k[re][0]==t?(N[oe++]=re,de=ne,se=Y,ne=0,Y=0,le=k[re][1]):(k[re][0]==e?ne+=k[re][1].length:Y+=k[re][1].length,le&&le.length<=Math.max(de,se)&&le.length<=Math.max(ne,Y)&&(k.splice(N[oe-1],0,[n,le]),k[N[oe-1]+1][0]=e,oe--,oe--,re=oe>0?N[oe-1]:-1,de=0,se=0,ne=0,Y=0,le=null,j=!0)),re++;for(j&&B(k),U(k),re=1;re<k.length;){if(k[re-1][0]==n&&k[re][0]==e){var G=k[re-1][1],ie=k[re][1],he=d(G,ie),Ne=d(ie,G);he>=Ne?(he>=G.length/2||he>=ie.length/2)&&(k.splice(re,0,[t,ie.substring(0,he)]),k[re-1][1]=G.substring(0,G.length-he),k[re+1][1]=ie.substring(he),re++):(Ne>=G.length/2||Ne>=ie.length/2)&&(k.splice(re,0,[t,G.substring(0,Ne)]),k[re-1][0]=e,k[re-1][1]=ie.substring(0,ie.length-Ne),k[re+1][0]=n,k[re+1][1]=G.substring(Ne),re++),re++}re++}}var E=/[^a-zA-Z0-9]/,x=/\s/,R=/[\r\n]/,O=/\n\r?\n$/,P=/^\r?\n\r?\n/;function U(k){function j(Ne,Ce){if(!Ne||!Ce)return 6;var Pe=Ne.charAt(Ne.length-1),je=Ce.charAt(0),Ie=Pe.match(E),We=je.match(E),Ye=Ie&&Pe.match(x),Je=We&&je.match(x),pt=Ye&&Pe.match(R),gt=Je&&je.match(R),st=pt&&Ne.match(O),zt=gt&&Ce.match(P);return st||zt?5:pt||gt?4:Ie&&!Ye&&Je?3:Ye||Je?2:Ie||We?1:0}for(var N=1;N<k.length-1;){if(k[N-1][0]==t&&k[N+1][0]==t){var oe=k[N-1][1],le=k[N][1],re=k[N+1][1],de=g(oe,le);if(de){var se=le.substring(le.length-de);oe=oe.substring(0,oe.length-de),le=se+le.substring(0,le.length-de),re=se+re}for(var ne=oe,Y=le,G=re,ie=j(oe,le)+j(le,re);le.charAt(0)===re.charAt(0);){oe+=le.charAt(0),le=le.substring(1)+re.charAt(0),re=re.substring(1);var he=j(oe,le)+j(le,re);he>=ie&&(ie=he,ne=oe,Y=le,G=re)}k[N-1][1]!=ne&&(ne?k[N-1][1]=ne:(k.splice(N-1,1),N--),k[N][1]=Y,G?k[N+1][1]=G:(k.splice(N+1,1),N--))}N++}}function B(k,j){k.push([t,""]);for(var N=0,oe=0,le=0,re="",de="",se;N<k.length;){if(N<k.length-1&&!k[N][1]){k.splice(N,1);continue}switch(k[N][0]){case e:le++,de+=k[N][1],N++;break;case n:oe++,re+=k[N][1],N++;break;case t:var ne=N-le-oe-1;if(j){if(ne>=0&&J(k[ne][1])){var Y=k[ne][1].slice(-1);if(k[ne][1]=k[ne][1].slice(0,-1),re=Y+re,de=Y+de,!k[ne][1]){k.splice(ne,1),N--;var G=ne-1;k[G]&&k[G][0]===e&&(le++,de=k[G][1]+de,G--),k[G]&&k[G][0]===n&&(oe++,re=k[G][1]+re,G--),ne=G}}if(z(k[N][1])){var Y=k[N][1].charAt(0);k[N][1]=k[N][1].slice(1),re+=Y,de+=Y}}if(N<k.length-1&&!k[N][1]){k.splice(N,1);break}if(re.length>0||de.length>0){re.length>0&&de.length>0&&(se=h(de,re),se!==0&&(ne>=0?k[ne][1]+=de.substring(0,se):(k.splice(0,0,[t,de.substring(0,se)]),N++),de=de.substring(se),re=re.substring(se)),se=g(de,re),se!==0&&(k[N][1]=de.substring(de.length-se)+k[N][1],de=de.substring(0,de.length-se),re=re.substring(0,re.length-se)));var ie=le+oe;re.length===0&&de.length===0?(k.splice(N-ie,ie),N=N-ie):re.length===0?(k.splice(N-ie,ie,[e,de]),N=N-ie+1):de.length===0?(k.splice(N-ie,ie,[n,re]),N=N-ie+1):(k.splice(N-ie,ie,[n,re],[e,de]),N=N-ie+2)}N!==0&&k[N-1][0]===t?(k[N-1][1]+=k[N][1],k.splice(N,1)):N++,le=0,oe=0,re="",de="";break}}k[k.length-1][1]===""&&k.pop();var he=!1;for(N=1;N<k.length-1;)k[N-1][0]===t&&k[N+1][0]===t&&(k[N][1].substring(k[N][1].length-k[N-1][1].length)===k[N-1][1]?(k[N][1]=k[N-1][1]+k[N][1].substring(0,k[N][1].length-k[N-1][1].length),k[N+1][1]=k[N-1][1]+k[N+1][1],k.splice(N-1,1),he=!0):k[N][1].substring(0,k[N+1][1].length)==k[N+1][1]&&(k[N-1][1]+=k[N+1][1],k[N][1]=k[N][1].substring(k[N+1][1].length)+k[N+1][1],k.splice(N+1,1),he=!0)),N++;he&&B(k,j)}function C(k){return k>=55296&&k<=56319}function F(k){return k>=56320&&k<=57343}function z(k){return F(k.charCodeAt(0))}function J(k){return C(k.charCodeAt(k.length-1))}function D(k){for(var j=[],N=0;N<k.length;N++)k[N][1].length>0&&j.push(k[N]);return j}function q(k,j,N,oe){return J(k)||z(oe)?null:D([[t,k],[n,j],[e,N],[t,oe]])}function W(k,j,N){var oe=typeof N=="number"?{index:N,length:0}:N.oldRange,le=typeof N=="number"?null:N.newRange,re=k.length,de=j.length;if(oe.length===0&&(le===null||le.length===0)){var se=oe.index,ne=k.slice(0,se),Y=k.slice(se),G=le?le.index:null;e:{var ie=se+de-re;if(G!==null&&G!==ie||ie<0||ie>de)break e;var he=j.slice(0,ie),Ne=j.slice(ie);if(Ne!==Y)break e;var Ce=Math.min(se,ie),Pe=ne.slice(0,Ce),je=he.slice(0,Ce);if(Pe!==je)break e;var Ie=ne.slice(Ce),We=he.slice(Ce);return q(Pe,Ie,We,Y)}e:{if(G!==null&&G!==se)break e;var Ye=se,he=j.slice(0,Ye),Ne=j.slice(Ye);if(he!==ne)break e;var Je=Math.min(re-Ye,de-Ye),pt=Y.slice(Y.length-Je),gt=Ne.slice(Ne.length-Je);if(pt!==gt)break e;var Ie=Y.slice(0,Y.length-Je),We=Ne.slice(0,Ne.length-Je);return q(ne,Ie,We,pt)}}if(oe.length>0&&le&&le.length===0)e:{var Pe=k.slice(0,oe.index),pt=k.slice(oe.index+oe.length),Ce=Pe.length,Je=pt.length;if(de<Ce+Je)break e;var je=j.slice(0,Ce),gt=j.slice(de-Je);if(Pe!==je||pt!==gt)break e;var Ie=k.slice(Ce,re-Je),We=j.slice(Ce,de-Je);return q(Pe,Ie,We,pt)}return null}function I(k,j,N,oe){return r(k,j,N,oe,!0)}return I.INSERT=e,I.DELETE=n,I.EQUAL=t,N1=I,N1}var hg={exports:{}};hg.exports;var Bb;function zx(){return Bb||(Bb=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",u="[object Array]",h="[object Boolean]",d="[object Date]",g="[object Error]",_="[object Function]",w="[object GeneratorFunction]",E="[object Map]",x="[object Number]",R="[object Object]",O="[object Promise]",P="[object RegExp]",U="[object Set]",B="[object String]",C="[object Symbol]",F="[object WeakMap]",z="[object ArrayBuffer]",J="[object DataView]",D="[object Float32Array]",q="[object Float64Array]",W="[object Int8Array]",I="[object Int16Array]",k="[object Int32Array]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",oe="[object Uint16Array]",le="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,de=/\w*$/,se=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,Y={};Y[o]=Y[u]=Y[z]=Y[J]=Y[h]=Y[d]=Y[D]=Y[q]=Y[W]=Y[I]=Y[k]=Y[E]=Y[x]=Y[R]=Y[P]=Y[U]=Y[B]=Y[C]=Y[j]=Y[N]=Y[oe]=Y[le]=!0,Y[g]=Y[_]=Y[F]=!1;var G=typeof ua=="object"&&ua&&ua.Object===Object&&ua,ie=typeof self=="object"&&self&&self.Object===Object&&self,he=G||ie||Function("return this")(),Ne=e&&!e.nodeType&&e,Ce=Ne&&!0&&n&&!n.nodeType&&n,Pe=Ce&&Ce.exports===Ne;function je(A,H){return A.set(H[0],H[1]),A}function Ie(A,H){return A.add(H),A}function We(A,H){for(var ee=-1,xe=A?A.length:0;++ee<xe&&H(A[ee],ee,A)!==!1;);return A}function Ye(A,H){for(var ee=-1,xe=H.length,It=A.length;++ee<xe;)A[It+ee]=H[ee];return A}function Je(A,H,ee,xe){for(var It=-1,ut=A?A.length:0;++It<ut;)ee=H(ee,A[It],It,A);return ee}function pt(A,H){for(var ee=-1,xe=Array(A);++ee<A;)xe[ee]=H(ee);return xe}function gt(A,H){return A==null?void 0:A[H]}function st(A){var H=!1;if(A!=null&&typeof A.toString!="function")try{H=!!(A+"")}catch{}return H}function zt(A){var H=-1,ee=Array(A.size);return A.forEach(function(xe,It){ee[++H]=[It,xe]}),ee}function tr(A,H){return function(ee){return A(H(ee))}}function Un(A){var H=-1,ee=Array(A.size);return A.forEach(function(xe){ee[++H]=xe}),ee}var ur=Array.prototype,Jn=Function.prototype,cn=Object.prototype,hn=he["__core-js_shared__"],Cn=function(){var A=/[^.]+$/.exec(hn&&hn.keys&&hn.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),mn=Jn.toString,Ht=cn.hasOwnProperty,xn=cn.toString,Dt=RegExp("^"+mn.call(Ht).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Pe?he.Buffer:void 0,Ut=he.Symbol,qn=he.Uint8Array,Qt=tr(Object.getPrototypeOf,Object),Hr=Object.create,Rr=cn.propertyIsEnumerable,ts=ur.splice,Ei=Object.getOwnPropertySymbols,Ti=wt?wt.isBuffer:void 0,Bi=tr(Object.keys,Object),Wr=vt(he,"DataView"),yr=vt(he,"Map"),or=vt(he,"Promise"),cr=vt(he,"Set"),In=vt(he,"WeakMap"),Rn=vt(Object,"create"),li=Pn(Wr),zn=Pn(yr),bi=Pn(or),Fr=Pn(cr),Ri=Pn(In),_r=Ut?Ut.prototype:void 0,Vi=_r?_r.valueOf:void 0;function Gt(A){var H=-1,ee=A?A.length:0;for(this.clear();++H<ee;){var xe=A[H];this.set(xe[0],xe[1])}}function nr(){this.__data__=Rn?Rn(null):{}}function Hn(A){return this.has(A)&&delete this.__data__[A]}function kr(A){var H=this.__data__;if(Rn){var ee=H[A];return ee===r?void 0:ee}return Ht.call(H,A)?H[A]:void 0}function vr(A){var H=this.__data__;return Rn?H[A]!==void 0:Ht.call(H,A)}function ui(A,H){var ee=this.__data__;return ee[A]=Rn&&H===void 0?r:H,this}Gt.prototype.clear=nr,Gt.prototype.delete=Hn,Gt.prototype.get=kr,Gt.prototype.has=vr,Gt.prototype.set=ui;function Jt(A){var H=-1,ee=A?A.length:0;for(this.clear();++H<ee;){var xe=A[H];this.set(xe[0],xe[1])}}function qi(){this.__data__=[]}function Ks(A){var H=this.__data__,ee=Xe(H,A);if(ee<0)return!1;var xe=H.length-1;return ee==xe?H.pop():ts.call(H,ee,1),!0}function Gr(A){var H=this.__data__,ee=Xe(H,A);return ee<0?void 0:H[ee][1]}function ci(A){return Xe(this.__data__,A)>-1}function Ur(A,H){var ee=this.__data__,xe=Xe(ee,A);return xe<0?ee.push([A,H]):ee[xe][1]=H,this}Jt.prototype.clear=qi,Jt.prototype.delete=Ks,Jt.prototype.get=Gr,Jt.prototype.has=ci,Jt.prototype.set=Ur;function yn(A){var H=-1,ee=A?A.length:0;for(this.clear();++H<ee;){var xe=A[H];this.set(xe[0],xe[1])}}function Kr(){this.__data__={hash:new Gt,map:new(yr||Jt),string:new Gt}}function ki(A){return rr(this,A).delete(A)}function Qr(A){return rr(this,A).get(A)}function ns(A){return rr(this,A).has(A)}function ge(A,H){return rr(this,A).set(A,H),this}yn.prototype.clear=Kr,yn.prototype.delete=ki,yn.prototype.get=Qr,yn.prototype.has=ns,yn.prototype.set=ge;function Ee(A){this.__data__=new Jt(A)}function qe(){this.__data__=new Jt}function nt(A){return this.__data__.delete(A)}function rt(A){return this.__data__.get(A)}function At(A){return this.__data__.has(A)}function ce(A,H){var ee=this.__data__;if(ee instanceof Jt){var xe=ee.__data__;if(!yr||xe.length<t-1)return xe.push([A,H]),this;ee=this.__data__=new yn(xe)}return ee.set(A,H),this}Ee.prototype.clear=qe,Ee.prototype.delete=nt,Ee.prototype.get=rt,Ee.prototype.has=At,Ee.prototype.set=ce;function Te(A,H){var ee=$i(A)||hi(A)?pt(A.length,String):[],xe=ee.length,It=!!xe;for(var ut in A)Ht.call(A,ut)&&!(It&&(ut=="length"||_s(ut,xe)))&&ee.push(ut);return ee}function Ue(A,H,ee){var xe=A[H];(!(Ht.call(A,H)&&vs(xe,ee))||ee===void 0&&!(H in A))&&(A[H]=ee)}function Xe(A,H){for(var ee=A.length;ee--;)if(vs(A[ee][0],H))return ee;return-1}function _t(A,H){return A&&vn(H,Vo(H),A)}function qt(A,H,ee,xe,It,ut,nn){var on;if(xe&&(on=ut?xe(A,It,ut,nn):xe(A)),on!==void 0)return on;if(!Yr(A))return A;var St=$i(A);if(St){if(on=ys(A),!H)return xt(A,on)}else{var an=hr(A),gn=an==_||an==w;if(Br(A))return Nr(A,H);if(an==R||an==o||gn&&!ut){if(st(A))return ut?A:{};if(on=Xr(gn?{}:A),!H)return wn(A,_t(on,A))}else{if(!Y[an])return ut?A:{};on=Us(A,an,qt,H)}}nn||(nn=new Ee);var Vr=nn.get(A);if(Vr)return Vr;if(nn.set(A,on),!St)var Xn=ee?jt(A):Vo(A);return We(Xn||A,function(fn,wr){Xn&&(wr=fn,fn=A[wr]),Ue(on,wr,qt(fn,H,ee,xe,wr,A,nn))}),on}function Xt(A){return Yr(A)?Hr(A):{}}function Mt(A,H,ee){var xe=H(A);return $i(A)?xe:Ye(xe,ee(A))}function Yt(A){return xn.call(A)}function bn(A){if(!Yr(A)||Si(A))return!1;var H=da(A)||st(A)?Dt:se;return H.test(Pn(A))}function Jr(A){if(!ir(A))return Bi(A);var H=[];for(var ee in Object(A))Ht.call(A,ee)&&ee!="constructor"&&H.push(ee);return H}function Nr(A,H){if(H)return A.slice();var ee=new A.constructor(A.length);return A.copy(ee),ee}function Sr(A){var H=new A.constructor(A.byteLength);return new qn(H).set(new qn(A)),H}function ct(A,H){var ee=H?Sr(A.buffer):A.buffer;return new A.constructor(ee,A.byteOffset,A.byteLength)}function Ft(A,H,ee){var xe=H?ee(zt(A),!0):zt(A);return Je(xe,je,new A.constructor)}function pn(A){var H=new A.constructor(A.source,de.exec(A));return H.lastIndex=A.lastIndex,H}function Ot(A,H,ee){var xe=H?ee(Un(A),!0):Un(A);return Je(xe,Ie,new A.constructor)}function Ct(A){return Vi?Object(Vi.call(A)):{}}function jn(A,H){var ee=H?Sr(A.buffer):A.buffer;return new A.constructor(ee,A.byteOffset,A.length)}function xt(A,H){var ee=-1,xe=A.length;for(H||(H=Array(xe));++ee<xe;)H[ee]=A[ee];return H}function vn(A,H,ee,xe){ee||(ee={});for(var It=-1,ut=H.length;++It<ut;){var nn=H[It],on=void 0;Ue(ee,nn,on===void 0?A[nn]:on)}return ee}function wn(A,H){return vn(A,Bn(A),H)}function jt(A){return Mt(A,Vo,Bn)}function rr(A,H){var ee=A.__data__;return rs(H)?ee[typeof H=="string"?"string":"hash"]:ee.map}function vt(A,H){var ee=gt(A,H);return bn(ee)?ee:void 0}var Bn=Ei?tr(Ei,Object):sn,hr=Yt;(Wr&&hr(new Wr(new ArrayBuffer(1)))!=J||yr&&hr(new yr)!=E||or&&hr(or.resolve())!=O||cr&&hr(new cr)!=U||In&&hr(new In)!=F)&&(hr=function(A){var H=xn.call(A),ee=H==R?A.constructor:void 0,xe=ee?Pn(ee):void 0;if(xe)switch(xe){case li:return J;case zn:return E;case bi:return O;case Fr:return U;case Ri:return F}return H});function ys(A){var H=A.length,ee=A.constructor(H);return H&&typeof A[0]=="string"&&Ht.call(A,"index")&&(ee.index=A.index,ee.input=A.input),ee}function Xr(A){return typeof A.constructor=="function"&&!ir(A)?Xt(Qt(A)):{}}function Us(A,H,ee,xe){var It=A.constructor;switch(H){case z:return Sr(A);case h:case d:return new It(+A);case J:return ct(A,xe);case D:case q:case W:case I:case k:case j:case N:case oe:case le:return jn(A,xe);case E:return Ft(A,xe,ee);case x:case B:return new It(A);case P:return pn(A);case U:return Ot(A,xe,ee);case C:return Ct(A)}}function _s(A,H){return H=H??i,!!H&&(typeof A=="number"||ne.test(A))&&A>-1&&A%1==0&&A<H}function rs(A){var H=typeof A;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?A!=="__proto__":A===null}function Si(A){return!!Cn&&Cn in A}function ir(A){var H=A&&A.constructor,ee=typeof H=="function"&&H.prototype||cn;return A===ee}function Pn(A){if(A!=null){try{return mn.call(A)}catch{}try{return A+""}catch{}}return""}function ji(A){return qt(A,!0,!0)}function vs(A,H){return A===H||A!==A&&H!==H}function hi(A){return Wa(A)&&Ht.call(A,"callee")&&(!Rr.call(A,"callee")||xn.call(A)==o)}var $i=Array.isArray;function Bo(A){return A!=null&&pa(A.length)&&!da(A)}function Wa(A){return Qs(A)&&Bo(A)}var Br=Ti||tn;function da(A){var H=Yr(A)?xn.call(A):"";return H==_||H==w}function pa(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=i}function Yr(A){var H=typeof A;return!!A&&(H=="object"||H=="function")}function Qs(A){return!!A&&typeof A=="object"}function Vo(A){return Bo(A)?Te(A):Jr(A)}function sn(){return[]}function tn(){return!1}n.exports=ji}(hg,hg.exports)),hg.exports}var fg={exports:{}};fg.exports;var Vb;function Hx(){return Vb||(Vb=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,u=9007199254740991,h="[object Arguments]",d="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",w="[object Date]",E="[object Error]",x="[object Function]",R="[object GeneratorFunction]",O="[object Map]",P="[object Number]",U="[object Null]",B="[object Object]",C="[object Promise]",F="[object Proxy]",z="[object RegExp]",J="[object Set]",D="[object String]",q="[object Symbol]",W="[object Undefined]",I="[object WeakMap]",k="[object ArrayBuffer]",j="[object DataView]",N="[object Float32Array]",oe="[object Float64Array]",le="[object Int8Array]",re="[object Int16Array]",de="[object Int32Array]",se="[object Uint8Array]",ne="[object Uint8ClampedArray]",Y="[object Uint16Array]",G="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,Ne=/^(?:0|[1-9]\d*)$/,Ce={};Ce[N]=Ce[oe]=Ce[le]=Ce[re]=Ce[de]=Ce[se]=Ce[ne]=Ce[Y]=Ce[G]=!0,Ce[h]=Ce[d]=Ce[k]=Ce[_]=Ce[j]=Ce[w]=Ce[E]=Ce[x]=Ce[O]=Ce[P]=Ce[B]=Ce[z]=Ce[J]=Ce[D]=Ce[I]=!1;var Pe=typeof ua=="object"&&ua&&ua.Object===Object&&ua,je=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Pe||je||Function("return this")(),We=e&&!e.nodeType&&e,Ye=We&&!0&&n&&!n.nodeType&&n,Je=Ye&&Ye.exports===We,pt=Je&&Pe.process,gt=function(){try{return pt&&pt.binding&&pt.binding("util")}catch{}}(),st=gt&&gt.isTypedArray;function zt(A,H){for(var ee=-1,xe=A==null?0:A.length,It=0,ut=[];++ee<xe;){var nn=A[ee];H(nn,ee,A)&&(ut[It++]=nn)}return ut}function tr(A,H){for(var ee=-1,xe=H.length,It=A.length;++ee<xe;)A[It+ee]=H[ee];return A}function Un(A,H){for(var ee=-1,xe=A==null?0:A.length;++ee<xe;)if(H(A[ee],ee,A))return!0;return!1}function ur(A,H){for(var ee=-1,xe=Array(A);++ee<A;)xe[ee]=H(ee);return xe}function Jn(A){return function(H){return A(H)}}function cn(A,H){return A.has(H)}function hn(A,H){return A==null?void 0:A[H]}function Cn(A){var H=-1,ee=Array(A.size);return A.forEach(function(xe,It){ee[++H]=[It,xe]}),ee}function mn(A,H){return function(ee){return A(H(ee))}}function Ht(A){var H=-1,ee=Array(A.size);return A.forEach(function(xe){ee[++H]=xe}),ee}var xn=Array.prototype,Dt=Function.prototype,wt=Object.prototype,Ut=Ie["__core-js_shared__"],qn=Dt.toString,Qt=wt.hasOwnProperty,Hr=function(){var A=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),Rr=wt.toString,ts=RegExp("^"+qn.call(Qt).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ei=Je?Ie.Buffer:void 0,Ti=Ie.Symbol,Bi=Ie.Uint8Array,Wr=wt.propertyIsEnumerable,yr=xn.splice,or=Ti?Ti.toStringTag:void 0,cr=Object.getOwnPropertySymbols,In=Ei?Ei.isBuffer:void 0,Rn=mn(Object.keys,Object),li=Bn(Ie,"DataView"),zn=Bn(Ie,"Map"),bi=Bn(Ie,"Promise"),Fr=Bn(Ie,"Set"),Ri=Bn(Ie,"WeakMap"),_r=Bn(Object,"create"),Vi=Pn(li),Gt=Pn(zn),nr=Pn(bi),Hn=Pn(Fr),kr=Pn(Ri),vr=Ti?Ti.prototype:void 0,ui=vr?vr.valueOf:void 0;function Jt(A){var H=-1,ee=A==null?0:A.length;for(this.clear();++H<ee;){var xe=A[H];this.set(xe[0],xe[1])}}function qi(){this.__data__=_r?_r(null):{},this.size=0}function Ks(A){var H=this.has(A)&&delete this.__data__[A];return this.size-=H?1:0,H}function Gr(A){var H=this.__data__;if(_r){var ee=H[A];return ee===r?void 0:ee}return Qt.call(H,A)?H[A]:void 0}function ci(A){var H=this.__data__;return _r?H[A]!==void 0:Qt.call(H,A)}function Ur(A,H){var ee=this.__data__;return this.size+=this.has(A)?0:1,ee[A]=_r&&H===void 0?r:H,this}Jt.prototype.clear=qi,Jt.prototype.delete=Ks,Jt.prototype.get=Gr,Jt.prototype.has=ci,Jt.prototype.set=Ur;function yn(A){var H=-1,ee=A==null?0:A.length;for(this.clear();++H<ee;){var xe=A[H];this.set(xe[0],xe[1])}}function Kr(){this.__data__=[],this.size=0}function ki(A){var H=this.__data__,ee=Nr(H,A);if(ee<0)return!1;var xe=H.length-1;return ee==xe?H.pop():yr.call(H,ee,1),--this.size,!0}function Qr(A){var H=this.__data__,ee=Nr(H,A);return ee<0?void 0:H[ee][1]}function ns(A){return Nr(this.__data__,A)>-1}function ge(A,H){var ee=this.__data__,xe=Nr(ee,A);return xe<0?(++this.size,ee.push([A,H])):ee[xe][1]=H,this}yn.prototype.clear=Kr,yn.prototype.delete=ki,yn.prototype.get=Qr,yn.prototype.has=ns,yn.prototype.set=ge;function Ee(A){var H=-1,ee=A==null?0:A.length;for(this.clear();++H<ee;){var xe=A[H];this.set(xe[0],xe[1])}}function qe(){this.size=0,this.__data__={hash:new Jt,map:new(zn||yn),string:new Jt}}function nt(A){var H=vt(this,A).delete(A);return this.size-=H?1:0,H}function rt(A){return vt(this,A).get(A)}function At(A){return vt(this,A).has(A)}function ce(A,H){var ee=vt(this,A),xe=ee.size;return ee.set(A,H),this.size+=ee.size==xe?0:1,this}Ee.prototype.clear=qe,Ee.prototype.delete=nt,Ee.prototype.get=rt,Ee.prototype.has=At,Ee.prototype.set=ce;function Te(A){var H=-1,ee=A==null?0:A.length;for(this.__data__=new Ee;++H<ee;)this.add(A[H])}function Ue(A){return this.__data__.set(A,r),this}function Xe(A){return this.__data__.has(A)}Te.prototype.add=Te.prototype.push=Ue,Te.prototype.has=Xe;function _t(A){var H=this.__data__=new yn(A);this.size=H.size}function qt(){this.__data__=new yn,this.size=0}function Xt(A){var H=this.__data__,ee=H.delete(A);return this.size=H.size,ee}function Mt(A){return this.__data__.get(A)}function Yt(A){return this.__data__.has(A)}function bn(A,H){var ee=this.__data__;if(ee instanceof yn){var xe=ee.__data__;if(!zn||xe.length<t-1)return xe.push([A,H]),this.size=++ee.size,this;ee=this.__data__=new Ee(xe)}return ee.set(A,H),this.size=ee.size,this}_t.prototype.clear=qt,_t.prototype.delete=Xt,_t.prototype.get=Mt,_t.prototype.has=Yt,_t.prototype.set=bn;function Jr(A,H){var ee=hi(A),xe=!ee&&vs(A),It=!ee&&!xe&&Bo(A),ut=!ee&&!xe&&!It&&Qs(A),nn=ee||xe||It||ut,on=nn?ur(A.length,String):[],St=on.length;for(var an in A)Qt.call(A,an)&&!(nn&&(an=="length"||It&&(an=="offset"||an=="parent")||ut&&(an=="buffer"||an=="byteLength"||an=="byteOffset")||Us(an,St)))&&on.push(an);return on}function Nr(A,H){for(var ee=A.length;ee--;)if(ji(A[ee][0],H))return ee;return-1}function Sr(A,H,ee){var xe=H(A);return hi(A)?xe:tr(xe,ee(A))}function ct(A){return A==null?A===void 0?W:U:or&&or in Object(A)?hr(A):ir(A)}function Ft(A){return Yr(A)&&ct(A)==h}function pn(A,H,ee,xe,It){return A===H?!0:A==null||H==null||!Yr(A)&&!Yr(H)?A!==A&&H!==H:Ot(A,H,ee,xe,pn,It)}function Ot(A,H,ee,xe,It,ut){var nn=hi(A),on=hi(H),St=nn?d:Xr(A),an=on?d:Xr(H);St=St==h?B:St,an=an==h?B:an;var gn=St==B,Vr=an==B,Xn=St==an;if(Xn&&Bo(A)){if(!Bo(H))return!1;nn=!0,gn=!1}if(Xn&&!gn)return ut||(ut=new _t),nn||Qs(A)?vn(A,H,ee,xe,It,ut):wn(A,H,St,ee,xe,It,ut);if(!(ee&i)){var fn=gn&&Qt.call(A,"__wrapped__"),wr=Vr&&Qt.call(H,"__wrapped__");if(fn||wr){var sr=fn?A.value():A,Or=wr?H.value():H;return ut||(ut=new _t),It(sr,Or,ee,xe,ut)}}return Xn?(ut||(ut=new _t),jt(A,H,ee,xe,It,ut)):!1}function Ct(A){if(!pa(A)||rs(A))return!1;var H=Br(A)?ts:he;return H.test(Pn(A))}function jn(A){return Yr(A)&&da(A.length)&&!!Ce[ct(A)]}function xt(A){if(!Si(A))return Rn(A);var H=[];for(var ee in Object(A))Qt.call(A,ee)&&ee!="constructor"&&H.push(ee);return H}function vn(A,H,ee,xe,It,ut){var nn=ee&i,on=A.length,St=H.length;if(on!=St&&!(nn&&St>on))return!1;var an=ut.get(A);if(an&&ut.get(H))return an==H;var gn=-1,Vr=!0,Xn=ee&o?new Te:void 0;for(ut.set(A,H),ut.set(H,A);++gn<on;){var fn=A[gn],wr=H[gn];if(xe)var sr=nn?xe(wr,fn,gn,H,A,ut):xe(fn,wr,gn,A,H,ut);if(sr!==void 0){if(sr)continue;Vr=!1;break}if(Xn){if(!Un(H,function(Or,is){if(!cn(Xn,is)&&(fn===Or||It(fn,Or,ee,xe,ut)))return Xn.push(is)})){Vr=!1;break}}else if(!(fn===wr||It(fn,wr,ee,xe,ut))){Vr=!1;break}}return ut.delete(A),ut.delete(H),Vr}function wn(A,H,ee,xe,It,ut,nn){switch(ee){case j:if(A.byteLength!=H.byteLength||A.byteOffset!=H.byteOffset)return!1;A=A.buffer,H=H.buffer;case k:return!(A.byteLength!=H.byteLength||!ut(new Bi(A),new Bi(H)));case _:case w:case P:return ji(+A,+H);case E:return A.name==H.name&&A.message==H.message;case z:case D:return A==H+"";case O:var on=Cn;case J:var St=xe&i;if(on||(on=Ht),A.size!=H.size&&!St)return!1;var an=nn.get(A);if(an)return an==H;xe|=o,nn.set(A,H);var gn=vn(on(A),on(H),xe,It,ut,nn);return nn.delete(A),gn;case q:if(ui)return ui.call(A)==ui.call(H)}return!1}function jt(A,H,ee,xe,It,ut){var nn=ee&i,on=rr(A),St=on.length,an=rr(H),gn=an.length;if(St!=gn&&!nn)return!1;for(var Vr=St;Vr--;){var Xn=on[Vr];if(!(nn?Xn in H:Qt.call(H,Xn)))return!1}var fn=ut.get(A);if(fn&&ut.get(H))return fn==H;var wr=!0;ut.set(A,H),ut.set(H,A);for(var sr=nn;++Vr<St;){Xn=on[Vr];var Or=A[Xn],is=H[Xn];if(xe)var ws=nn?xe(is,Or,Xn,H,A,ut):xe(Or,is,Xn,A,H,ut);if(!(ws===void 0?Or===is||It(Or,is,ee,xe,ut):ws)){wr=!1;break}sr||(sr=Xn=="constructor")}if(wr&&!sr){var ga=A.constructor,Ar=H.constructor;ga!=Ar&&"constructor"in A&&"constructor"in H&&!(typeof ga=="function"&&ga instanceof ga&&typeof Ar=="function"&&Ar instanceof Ar)&&(wr=!1)}return ut.delete(A),ut.delete(H),wr}function rr(A){return Sr(A,Vo,ys)}function vt(A,H){var ee=A.__data__;return _s(H)?ee[typeof H=="string"?"string":"hash"]:ee.map}function Bn(A,H){var ee=hn(A,H);return Ct(ee)?ee:void 0}function hr(A){var H=Qt.call(A,or),ee=A[or];try{A[or]=void 0;var xe=!0}catch{}var It=Rr.call(A);return xe&&(H?A[or]=ee:delete A[or]),It}var ys=cr?function(A){return A==null?[]:(A=Object(A),zt(cr(A),function(H){return Wr.call(A,H)}))}:sn,Xr=ct;(li&&Xr(new li(new ArrayBuffer(1)))!=j||zn&&Xr(new zn)!=O||bi&&Xr(bi.resolve())!=C||Fr&&Xr(new Fr)!=J||Ri&&Xr(new Ri)!=I)&&(Xr=function(A){var H=ct(A),ee=H==B?A.constructor:void 0,xe=ee?Pn(ee):"";if(xe)switch(xe){case Vi:return j;case Gt:return O;case nr:return C;case Hn:return J;case kr:return I}return H});function Us(A,H){return H=H??u,!!H&&(typeof A=="number"||Ne.test(A))&&A>-1&&A%1==0&&A<H}function _s(A){var H=typeof A;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?A!=="__proto__":A===null}function rs(A){return!!Hr&&Hr in A}function Si(A){var H=A&&A.constructor,ee=typeof H=="function"&&H.prototype||wt;return A===ee}function ir(A){return Rr.call(A)}function Pn(A){if(A!=null){try{return qn.call(A)}catch{}try{return A+""}catch{}}return""}function ji(A,H){return A===H||A!==A&&H!==H}var vs=Ft(function(){return arguments}())?Ft:function(A){return Yr(A)&&Qt.call(A,"callee")&&!Wr.call(A,"callee")},hi=Array.isArray;function $i(A){return A!=null&&da(A.length)&&!Br(A)}var Bo=In||tn;function Wa(A,H){return pn(A,H)}function Br(A){if(!pa(A))return!1;var H=ct(A);return H==x||H==R||H==g||H==F}function da(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=u}function pa(A){var H=typeof A;return A!=null&&(H=="object"||H=="function")}function Yr(A){return A!=null&&typeof A=="object"}var Qs=st?Jn(st):jn;function Vo(A){return $i(A)?Jr(A):xt(A)}function sn(){return[]}function tn(){return!1}n.exports=Wa}(fg,fg.exports)),fg.exports}var Sy={},qb;function U9(){if(qb)return Sy;qb=1,Object.defineProperty(Sy,"__esModule",{value:!0});const n=zx(),e=Hx();var t;return function(r){function i(d={},g={},_=!1){typeof d!="object"&&(d={}),typeof g!="object"&&(g={});let w=n(g);_||(w=Object.keys(w).reduce((E,x)=>(w[x]!=null&&(E[x]=w[x]),E),{}));for(const E in d)d[E]!==void 0&&g[E]===void 0&&(w[E]=d[E]);return Object.keys(w).length>0?w:void 0}r.compose=i;function o(d={},g={}){typeof d!="object"&&(d={}),typeof g!="object"&&(g={});const _=Object.keys(d).concat(Object.keys(g)).reduce((w,E)=>(e(d[E],g[E])||(w[E]=g[E]===void 0?null:g[E]),w),{});return Object.keys(_).length>0?_:void 0}r.diff=o;function u(d={},g={}){d=d||{};const _=Object.keys(g).reduce((w,E)=>(g[E]!==d[E]&&d[E]!==void 0&&(w[E]=g[E]),w),{});return Object.keys(d).reduce((w,E)=>(d[E]!==g[E]&&g[E]===void 0&&(w[E]=null),w),_)}r.invert=u;function h(d,g,_=!1){if(typeof d!="object")return g;if(typeof g!="object")return;if(!_)return g;const w=Object.keys(g).reduce((E,x)=>(d[x]===void 0&&(E[x]=g[x]),E),{});return Object.keys(w).length>0?w:void 0}r.transform=h}(t||(t={})),Sy.default=t,Sy}var Ay={},jb;function Wx(){if(jb)return Ay;jb=1,Object.defineProperty(Ay,"__esModule",{value:!0});var n;return function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t}(n||(n={})),Ay.default=n,Ay}var Cy={},$b;function B9(){if($b)return Cy;$b=1,Object.defineProperty(Cy,"__esModule",{value:!0});const n=Wx();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const o=this.offset,u=n.default.length(i);if(r>=u-o?(r=u-o,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const h={};return i.attributes&&(h.attributes=i.attributes),typeof i.retain=="number"?h.retain=r:typeof i.retain=="object"&&i.retain!==null?h.retain=i.retain:typeof i.insert=="string"?h.insert=i.insert.substr(o,r):h.insert=i.insert,h}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,o=this.next(),u=this.ops.slice(this.index);return this.offset=r,this.index=i,[o].concat(u)}}else return[]}}return Cy.default=e,Cy}var zb;function V9(){return zb||(zb=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=F9(),r=zx(),i=Hx(),o=U9();e.AttributeMap=o.default;const u=Wx();e.Op=u.default;const h=B9();e.OpIterator=h.default;const d="\0",g=(w,E)=>{if(typeof w!="object"||w===null)throw new Error(`cannot retain a ${typeof w}`);if(typeof E!="object"||E===null)throw new Error(`cannot retain a ${typeof E}`);const x=Object.keys(w)[0];if(!x||x!==Object.keys(E)[0])throw new Error(`embed types not matched: ${x} != ${Object.keys(E)[0]}`);return[x,w[x],E[x]]};class _{constructor(E){Array.isArray(E)?this.ops=E:E!=null&&Array.isArray(E.ops)?this.ops=E.ops:this.ops=[]}static registerEmbed(E,x){this.handlers[E]=x}static unregisterEmbed(E){delete this.handlers[E]}static getHandler(E){const x=this.handlers[E];if(!x)throw new Error(`no handlers for embed type "${E}"`);return x}insert(E,x){const R={};return typeof E=="string"&&E.length===0?this:(R.insert=E,x!=null&&typeof x=="object"&&Object.keys(x).length>0&&(R.attributes=x),this.push(R))}delete(E){return E<=0?this:this.push({delete:E})}retain(E,x){if(typeof E=="number"&&E<=0)return this;const R={retain:E};return x!=null&&typeof x=="object"&&Object.keys(x).length>0&&(R.attributes=x),this.push(R)}push(E){let x=this.ops.length,R=this.ops[x-1];if(E=r(E),typeof R=="object"){if(typeof E.delete=="number"&&typeof R.delete=="number")return this.ops[x-1]={delete:R.delete+E.delete},this;if(typeof R.delete=="number"&&E.insert!=null&&(x-=1,R=this.ops[x-1],typeof R!="object"))return this.ops.unshift(E),this;if(i(E.attributes,R.attributes)){if(typeof E.insert=="string"&&typeof R.insert=="string")return this.ops[x-1]={insert:R.insert+E.insert},typeof E.attributes=="object"&&(this.ops[x-1].attributes=E.attributes),this;if(typeof E.retain=="number"&&typeof R.retain=="number")return this.ops[x-1]={retain:R.retain+E.retain},typeof E.attributes=="object"&&(this.ops[x-1].attributes=E.attributes),this}}return x===this.ops.length?this.ops.push(E):this.ops.splice(x,0,E),this}chop(){const E=this.ops[this.ops.length-1];return E&&typeof E.retain=="number"&&!E.attributes&&this.ops.pop(),this}filter(E){return this.ops.filter(E)}forEach(E){this.ops.forEach(E)}map(E){return this.ops.map(E)}partition(E){const x=[],R=[];return this.forEach(O=>{(E(O)?x:R).push(O)}),[x,R]}reduce(E,x){return this.ops.reduce(E,x)}changeLength(){return this.reduce((E,x)=>x.insert?E+u.default.length(x):x.delete?E-x.delete:E,0)}length(){return this.reduce((E,x)=>E+u.default.length(x),0)}slice(E=0,x=1/0){const R=[],O=new h.default(this.ops);let P=0;for(;P<x&&O.hasNext();){let U;P<E?U=O.next(E-P):(U=O.next(x-P),R.push(U)),P+=u.default.length(U)}return new _(R)}compose(E){const x=new h.default(this.ops),R=new h.default(E.ops),O=[],P=R.peek();if(P!=null&&typeof P.retain=="number"&&P.attributes==null){let B=P.retain;for(;x.peekType()==="insert"&&x.peekLength()<=B;)B-=x.peekLength(),O.push(x.next());P.retain-B>0&&R.next(P.retain-B)}const U=new _(O);for(;x.hasNext()||R.hasNext();)if(R.peekType()==="insert")U.push(R.next());else if(x.peekType()==="delete")U.push(x.next());else{const B=Math.min(x.peekLength(),R.peekLength()),C=x.next(B),F=R.next(B);if(F.retain){const z={};if(typeof C.retain=="number")z.retain=typeof F.retain=="number"?B:F.retain;else if(typeof F.retain=="number")C.retain==null?z.insert=C.insert:z.retain=C.retain;else{const D=C.retain==null?"insert":"retain",[q,W,I]=g(C[D],F.retain),k=_.getHandler(q);z[D]={[q]:k.compose(W,I,D==="retain")}}const J=o.default.compose(C.attributes,F.attributes,typeof C.retain=="number");if(J&&(z.attributes=J),U.push(z),!R.hasNext()&&i(U.ops[U.ops.length-1],z)){const D=new _(x.rest());return U.concat(D).chop()}}else typeof F.delete=="number"&&(typeof C.retain=="number"||typeof C.retain=="object"&&C.retain!==null)&&U.push(F)}return U.chop()}concat(E){const x=new _(this.ops.slice());return E.ops.length>0&&(x.push(E.ops[0]),x.ops=x.ops.concat(E.ops.slice(1))),x}diff(E,x){if(this.ops===E.ops)return new _;const R=[this,E].map(C=>C.map(F=>{if(F.insert!=null)return typeof F.insert=="string"?F.insert:d;const z=C===E?"on":"with";throw new Error("diff() called "+z+" non-document")}).join("")),O=new _,P=t(R[0],R[1],x,!0),U=new h.default(this.ops),B=new h.default(E.ops);return P.forEach(C=>{let F=C[1].length;for(;F>0;){let z=0;switch(C[0]){case t.INSERT:z=Math.min(B.peekLength(),F),O.push(B.next(z));break;case t.DELETE:z=Math.min(F,U.peekLength()),U.next(z),O.delete(z);break;case t.EQUAL:z=Math.min(U.peekLength(),B.peekLength(),F);const J=U.next(z),D=B.next(z);i(J.insert,D.insert)?O.retain(z,o.default.diff(J.attributes,D.attributes)):O.push(D).delete(z);break}F-=z}}),O.chop()}eachLine(E,x=`
`){const R=new h.default(this.ops);let O=new _,P=0;for(;R.hasNext();){if(R.peekType()!=="insert")return;const U=R.peek(),B=u.default.length(U)-R.peekLength(),C=typeof U.insert=="string"?U.insert.indexOf(x,B)-B:-1;if(C<0)O.push(R.next());else if(C>0)O.push(R.next(C));else{if(E(O,R.next(1).attributes||{},P)===!1)return;P+=1,O=new _}}O.length()>0&&E(O,{},P)}invert(E){const x=new _;return this.reduce((R,O)=>{if(O.insert)x.delete(u.default.length(O));else{if(typeof O.retain=="number"&&O.attributes==null)return x.retain(O.retain),R+O.retain;if(O.delete||typeof O.retain=="number"){const P=O.delete||O.retain;return E.slice(R,R+P).forEach(B=>{O.delete?x.push(B):O.retain&&O.attributes&&x.retain(u.default.length(B),o.default.invert(O.attributes,B.attributes))}),R+P}else if(typeof O.retain=="object"&&O.retain!==null){const P=E.slice(R,R+1),U=new h.default(P.ops).next(),[B,C,F]=g(O.retain,U.insert),z=_.getHandler(B);return x.retain({[B]:z.invert(C,F)},o.default.invert(O.attributes,U.attributes)),R+1}}return R},0),x.chop()}transform(E,x=!1){if(x=!!x,typeof E=="number")return this.transformPosition(E,x);const R=E,O=new h.default(this.ops),P=new h.default(R.ops),U=new _;for(;O.hasNext()||P.hasNext();)if(O.peekType()==="insert"&&(x||P.peekType()!=="insert"))U.retain(u.default.length(O.next()));else if(P.peekType()==="insert")U.push(P.next());else{const B=Math.min(O.peekLength(),P.peekLength()),C=O.next(B),F=P.next(B);if(C.delete)continue;if(F.delete)U.push(F);else{const z=C.retain,J=F.retain;let D=typeof J=="object"&&J!==null?J:B;if(typeof z=="object"&&z!==null&&typeof J=="object"&&J!==null){const q=Object.keys(z)[0];if(q===Object.keys(J)[0]){const W=_.getHandler(q);W&&(D={[q]:W.transform(z[q],J[q],x)})}}U.retain(D,o.default.transform(C.attributes,F.attributes,x))}}return U.chop()}transformPosition(E,x=!1){x=!!x;const R=new h.default(this.ops);let O=0;for(;R.hasNext()&&O<=E;){const P=R.peekLength(),U=R.peekType();if(R.next(),U==="delete"){E-=Math.min(P,E-O);continue}else U==="insert"&&(O<E||!x)&&(E+=P);O+=P}return E}}_.Op=u.default,_.OpIterator=h.default,_.AttributeMap=o.default,_.handlers={},e.default=_,n.exports=_,n.exports.default=_}(by,by.exports)),by.exports}var ca=V9();const lt=F0(ca);class $a extends Uo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}$a.blotName="break";$a.tagName="BR";let qa=class extends A0{};const q9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function i_(n){return n.replace(/[&<>"']/g,e=>q9[e])}const ml=class ml extends Qw{static compare(e,t){const r=ml.order.indexOf(e),i=ml.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(ml.compare(this.statics.blotName,r)<0&&this.scroll.query(r,yt.BLOT)){const o=this.isolate(e,t);i&&o.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof ml&&ml.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};Ge(ml,"allowedChildren",[ml,$a,Uo,qa]),Ge(ml,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Nl=ml;const Hb=1;class gs extends Ug{constructor(){super(...arguments);Ge(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Gx(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,o){r<=0||(this.scroll.query(i,yt.BLOCK)?t+r===this.length()&&this.format(i,o):super.formatAt(t,Math.min(r,this.length()-t-1),i,o),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const o=r.split(`
`),u=o.shift();u.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),u):this.children.tail.insertAt(this.children.tail.length(),u),this.cache={});let h=this;o.reduce((d,g)=>(h=h.split(d,!0),h.insertAt(0,g),g.length),t+u.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof $a&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Hb),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-Hb)){const o=this.clone();return t===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(t,r);return this.cache={},i}}gs.blotName="block";gs.tagName="P";gs.defaultChild=$a;gs.allowedChildren=[$a,Nl,Uo,qa];class la extends Uo{attach(){super.attach(),this.attributes=new n_(this.domNode)}delta(){return new lt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,yt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),o=i.pop(),u=i.map(d=>{const g=this.scroll.create(gs.blotName);return g.insertAt(0,d),g}),h=this.split(e);u.forEach(d=>{this.parent.insertBefore(d,h)}),o&&this.parent.insertBefore(this.scroll.create("text",o),h)}}la.scope=yt.BLOCK_BLOT;function Gx(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Ps).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),ia(r,{},e)),new lt).insert(`
`,ia(n))}function ia(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:ia(n.parent,e,t)}const ra=class ra extends Uo{static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(ra.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==yt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=ra.CONTENTS.length,r.optimize(),r.formatAt(i,ra.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof qa?this.prev:null,r=t?t.length():0,i=this.next instanceof qa?this.next:null,o=i?i.text:"",{textNode:u}=this,h=u.data.split(ra.CONTENTS).join("");u.data=ra.CONTENTS;let d;if(t)d=t,(h||i)&&(t.insertAt(t.length(),h+o),i&&i.remove());else if(i)d=i,i.insertAt(0,h);else{const g=document.createTextNode(h);d=this.scroll.create(g),this.parent.insertBefore(d,this)}if(this.remove(),e){const g=(E,x)=>t&&E===t.domNode?x:E===u?r+x-1:i&&E===i.domNode?r+h.length+x:null,_=g(e.start.node,e.start.offset),w=g(e.end.node,e.end.offset);if(_!==null&&w!==null)return{startNode:d.domNode,startOffset:_,endNode:d.domNode,endOffset:w}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=ra.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};Ge(ra,"blotName","cursor"),Ge(ra,"className","ql-cursor"),Ge(ra,"tagName","span"),Ge(ra,"CONTENTS","\uFEFF");let Md=ra;var O1={exports:{}},Wb;function j9(){return Wb||(Wb=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(d,g,_){this.fn=d,this.context=g,this.once=_||!1}function o(d,g,_,w,E){if(typeof _!="function")throw new TypeError("The listener must be a function");var x=new i(_,w||d,E),R=t?t+g:g;return d._events[R]?d._events[R].fn?d._events[R]=[d._events[R],x]:d._events[R].push(x):(d._events[R]=x,d._eventsCount++),d}function u(d,g){--d._eventsCount===0?d._events=new r:delete d._events[g]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var g=[],_,w;if(this._eventsCount===0)return g;for(w in _=this._events)e.call(_,w)&&g.push(t?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},h.prototype.listeners=function(g){var _=t?t+g:g,w=this._events[_];if(!w)return[];if(w.fn)return[w.fn];for(var E=0,x=w.length,R=new Array(x);E<x;E++)R[E]=w[E].fn;return R},h.prototype.listenerCount=function(g){var _=t?t+g:g,w=this._events[_];return w?w.fn?1:w.length:0},h.prototype.emit=function(g,_,w,E,x,R){var O=t?t+g:g;if(!this._events[O])return!1;var P=this._events[O],U=arguments.length,B,C;if(P.fn){switch(P.once&&this.removeListener(g,P.fn,void 0,!0),U){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,_),!0;case 3:return P.fn.call(P.context,_,w),!0;case 4:return P.fn.call(P.context,_,w,E),!0;case 5:return P.fn.call(P.context,_,w,E,x),!0;case 6:return P.fn.call(P.context,_,w,E,x,R),!0}for(C=1,B=new Array(U-1);C<U;C++)B[C-1]=arguments[C];P.fn.apply(P.context,B)}else{var F=P.length,z;for(C=0;C<F;C++)switch(P[C].once&&this.removeListener(g,P[C].fn,void 0,!0),U){case 1:P[C].fn.call(P[C].context);break;case 2:P[C].fn.call(P[C].context,_);break;case 3:P[C].fn.call(P[C].context,_,w);break;case 4:P[C].fn.call(P[C].context,_,w,E);break;default:if(!B)for(z=1,B=new Array(U-1);z<U;z++)B[z-1]=arguments[z];P[C].fn.apply(P[C].context,B)}}return!0},h.prototype.on=function(g,_,w){return o(this,g,_,w,!1)},h.prototype.once=function(g,_,w){return o(this,g,_,w,!0)},h.prototype.removeListener=function(g,_,w,E){var x=t?t+g:g;if(!this._events[x])return this;if(!_)return u(this,x),this;var R=this._events[x];if(R.fn)R.fn===_&&(!E||R.once)&&(!w||R.context===w)&&u(this,x);else{for(var O=0,P=[],U=R.length;O<U;O++)(R[O].fn!==_||E&&!R[O].once||w&&R[O].context!==w)&&P.push(R[O]);P.length?this._events[x]=P.length===1?P[0]:P:u(this,x)}return this},h.prototype.removeAllListeners=function(g){var _;return g?(_=t?t+g:g,this._events[_]&&u(this,_)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,n.exports=h}(O1)),O1.exports}var $9=j9();const z9=F0($9),Pv=new WeakMap,Lv=["error","warn","log","info"];let Dv="warn";function Kx(n){if(Dv&&Lv.indexOf(n)<=Lv.indexOf(Dv)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Cu(n){return Lv.reduce((e,t)=>(e[t]=Kx.bind(console,t,n),e),{})}Cu.level=n=>{Dv=n};Kx.level=Cu.level;const P1=Cu("quill:events"),H9=["selectionchange","mousedown","mouseup","click"];H9.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=Pv.get(i);o&&o.emitter&&o.emitter.handleDOM(...t)})})});class dt extends z9{constructor(){super(),this.domListeners={},this.on("error",P1.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return P1.log.call(P1,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:u,handler:h}=o;(e.target===u||u.contains(e.target))&&h(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}Ge(dt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ge(dt,"sources",{API:"api",SILENT:"silent",USER:"user"});const L1=Cu("quill:selection");class Ah{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class W9{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ah(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,dt.sources.USER),1)}),this.emitter.on(dt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(dt.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const u=o.some(h=>h.type==="characterData"||h.type==="childList"||h.type==="attributes"&&h.target===this.root);this.update(u?dt.sources.SILENT:i)}catch{}})}),this.emitter.on(dt.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:o,startOffset:u,endNode:h,endOffset:d}=i.range;this.setNativeRange(o,u,h,d),this.update(dt.sources.SILENT)}}),this.update(dt.sources.SILENT)}handleComposition(){this.emitter.on(dt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(dt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(dt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,yt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Ps){const o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[o,u]=this.scroll.leaf(e);if(o==null)return null;if(t>0&&u===o.length()){const[_]=this.scroll.leaf(e+1);if(_){const[w]=this.scroll.line(e),[E]=this.scroll.line(e+1);w===E&&(o=_,u=0)}}[i,u]=o.position(u,!0);const h=document.createRange();if(t>0)return h.setStart(i,u),[o,u]=this.scroll.leaf(e+t),o==null?null:([i,u]=o.position(u,!0),h.setEnd(i,u),h.getBoundingClientRect());let d="left",g;if(i instanceof Text){if(!i.data.length)return null;u<i.data.length?(h.setStart(i,u),h.setEnd(i,u+1)):(h.setStart(i,u-1),h.setEnd(i,u),d="right"),g=h.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;g=o.domNode.getBoundingClientRect(),u>0&&(d="right")}return{bottom:g.top+g.height,height:g.height,left:g[d],right:g[d],top:g.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return L1.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&D1(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(u=>{const[h,d]=u,g=this.scroll.find(h,!0),_=g.offset(this.scroll);return d===0?_:g instanceof Ps?_+g.index(h,d):_+g.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),o=Math.min(i,...r);return new Ah(o,i-o)}normalizeNative(e){if(!D1(this.root,e.startContainer)||!e.collapsed&&!D1(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:o}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;r.node=i,r.offset=o}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,o)=>{i=Math.min(t-1,i);const[u,h]=this.scroll.leaf(i);return u?u.position(h,o):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(L1.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const u=document.getSelection();if(u!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:h}=this.getNativeRange()||{};if(h==null||o||e!==h.startContainer||t!==h.startOffset||r!==h.endContainer||i!==h.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const d=document.createRange();d.setStart(e,t),d.setEnd(r,i),u.removeAllRanges(),u.addRange(d)}}else u.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dt.sources.API;if(typeof t=="string"&&(r=t,t=!1),L1.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dt.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Kw(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}const o=[dt.events.SELECTION_CHANGE,vd(this.lastRange),vd(t),e];this.emitter.emit(dt.events.EDITOR_CHANGE,...o),e!==dt.sources.SILENT&&this.emitter.emit(...o)}}}function D1(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const G9=/^[ -~]*$/;let K9=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=Gb(e),i=new lt;return J9(r.ops.slice()).reduce((u,h)=>{const d=ca.Op.length(h);let g=h.attributes||{},_=!1,w=!1;if(h.insert!=null){if(i.retain(d),typeof h.insert=="string"){const R=h.insert;w=!R.endsWith(`
`)&&(t<=u||!!this.scroll.descendant(la,u)[0]),this.scroll.insertAt(u,R);const[O,P]=this.scroll.line(u);let U=yc({},ia(O));if(O instanceof gs){const[B]=O.descendant(Ps,P);B&&(U=yc(U,ia(B)))}g=ca.AttributeMap.diff(U,g)||{}}else if(typeof h.insert=="object"){const R=Object.keys(h.insert)[0];if(R==null)return u;const O=this.scroll.query(R,yt.INLINE)!=null;if(O)(t<=u||this.scroll.descendant(la,u)[0])&&(w=!0);else if(u>0){const[P,U]=this.scroll.descendant(Ps,u-1);P instanceof qa?P.value()[U]!==`
`&&(_=!0):P instanceof Uo&&P.statics.scope===yt.INLINE_BLOT&&(_=!0)}if(this.scroll.insertAt(u,R,h.insert[R]),O){const[P]=this.scroll.descendant(Ps,u);if(P){const U=yc({},ia(P));g=ca.AttributeMap.diff(U,g)||{}}}}t+=d}else if(i.push(h),h.retain!==null&&typeof h.retain=="object"){const R=Object.keys(h.retain)[0];if(R==null)return u;this.scroll.updateEmbedAt(u,R,h.retain[R])}Object.keys(g).forEach(R=>{this.scroll.formatAt(u,d,R,g[R])});const E=_?1:0,x=w?1:0;return t+=E+x,i.retain(E),i.delete(x),u+d+E+x},0),i.reduce((u,h)=>typeof h.delete=="number"?(this.scroll.deleteAt(u,h.delete),u):u+ca.Op.length(h),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new lt().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(o=>{this.scroll.lines(e,Math.max(t,1)).forEach(u=>{u.format(o,r[o])})}),this.scroll.optimize();const i=new lt().retain(e).retain(t,vd(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(o=>{this.scroll.formatAt(e,t,o,r[o])});const i=new lt().retain(e).retain(t,vd(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new lt)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(h=>{const[d]=h;d instanceof gs?r.push(d):d instanceof Ps&&i.push(d)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(Ps,e,t));const[o,u]=[r,i].map(h=>{const d=h.shift();if(d==null)return{};let g=ia(d);for(;Object.keys(g).length>0;){const _=h.shift();if(_==null)return g;g=Q9(ia(_),g)}return g});return{...o,...u}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const o=r.length();return r.length()>=i+t&&!(i===0&&t===o)?Bg(r,i,t,!0):Bg(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=Gb(t),i=new lt().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new lt().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new lt().retain(e).insert(t,vd(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==gs.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof $a}removeFormat(e,t){const r=this.getText(e,t),[i,o]=this.scroll.line(e+t);let u=0,h=new lt;i!=null&&(u=i.length()-o,h=i.delta().slice(o,o+u-1).insert(`
`));const g=this.getContents(e,t+u).diff(new lt().insert(r).concat(h)),_=new lt().retain(e).concat(g);return this.applyDelta(_)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(G9)&&this.scroll.find(t[0].target)){const o=this.scroll.find(t[0].target),u=ia(o),h=o.offset(this.scroll),d=t[0].oldValue.replace(Md.CONTENTS,""),g=new lt().insert(d),_=new lt().insert(o.value()),w=r&&{oldRange:Kb(r.oldRange,-h),newRange:Kb(r.newRange,-h)};e=new lt().retain(h).concat(g.diff(_,w)).reduce((x,R)=>R.insert?x.insert(R.insert,u):x.push(R),new lt),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!Kw(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}};function pd(n,e,t){if(n.length===0){const[x]=M1(t.pop());return e<=0?`</li></${x}>`:`</li></${x}>${pd([],e-1,t)}`}const[{child:r,offset:i,length:o,indent:u,type:h},...d]=n,[g,_]=M1(h);if(u>e)return t.push(h),u===e+1?`<${g}><li${_}>${Bg(r,i,o)}${pd(d,u,t)}`:`<${g}><li>${pd(n,e+1,t)}`;const w=t[t.length-1];if(u===e&&h===w)return`</li><li${_}>${Bg(r,i,o)}${pd(d,u,t)}`;const[E]=M1(t.pop());return`</li></${E}>${pd(n,e-1,t)}`}function Bg(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof qa)return i_(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Ba){if(n.statics.blotName==="list-container"){const g=[];return n.children.forEachAt(e,t,(_,w,E)=>{const x="formats"in _&&typeof _.formats=="function"?_.formats():{};g.push({child:_,offset:w,length:E,indent:x.indent||0,type:x.list})}),pd(g,-1,[])}const i=[];if(n.children.forEachAt(e,t,(g,_,w)=>{i.push(Bg(g,_,w))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:u}=n.domNode,[h,d]=o.split(`>${u}<`);return h==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${d}`:`${h}>${i.join("")}<${d}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Q9(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function M1(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function Gb(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new lt)}function Kb(n,e){let{index:t,length:r}=n;return new Ah(t+e,r)}function J9(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class za{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}Ge(za,"DEFAULTS",{});const xy="\uFEFF";class Xw extends Uo{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(xy),this.rightGuard=document.createTextNode(xy),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(xy).join("");if(e===this.leftGuard)if(this.prev instanceof qa){const o=this.prev.length();this.prev.insertAt(o,i),t={startNode:this.prev.domNode,startOffset:o+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof qa?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=xy,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class X9{constructor(e,t){Ge(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Xw)&&(this.emitter.emit(dt.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(dt.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(dt.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(dt.events.COMPOSITION_END,e),this.isComposing=!1}}const Cg=class Cg{constructor(e,t){Ge(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};Ge(Cg,"DEFAULTS",{modules:{}}),Ge(Cg,"themes",{default:Cg});let Fd=Cg;const Y9=n=>n.parentElement||n.getRootNode().host||null,Z9=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Iy=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},Qb=(n,e,t,r,i,o)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+o:0,eF=(n,e)=>{var o,u,h;const t=n.ownerDocument;let r=e,i=n;for(;i;){const d=i===t.body,g=d?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??t.documentElement.clientWidth,bottom:((u=window.visualViewport)==null?void 0:u.height)??t.documentElement.clientHeight,left:0}:Z9(i),_=getComputedStyle(i),w=Qb(r.left,r.right,g.left,g.right,Iy(_.scrollPaddingLeft),Iy(_.scrollPaddingRight)),E=Qb(r.top,r.bottom,g.top,g.bottom,Iy(_.scrollPaddingTop),Iy(_.scrollPaddingBottom));if(w||E)if(d)(h=t.defaultView)==null||h.scrollBy(w,E);else{const{scrollLeft:x,scrollTop:R}=i;E&&(i.scrollTop+=E),w&&(i.scrollLeft+=w);const O=i.scrollLeft-x,P=i.scrollTop-R;r={left:r.left-O,top:r.top-P,right:r.right-O,bottom:r.bottom-P}}i=d||_.position==="fixed"?null:Y9(i)}},tF=100,nF=["block","break","cursor","inline","scroll","text"],rF=(n,e,t)=>{const r=new Dd;return nF.forEach(i=>{const o=e.query(i);o&&r.register(o)}),n.forEach(i=>{let o=e.query(i);o||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let u=0;for(;o;)if(r.register(o),o="blotName"in o?o.requiredContainer??null:null,u+=1,u>tF){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},Ed=Cu("quill"),Ry=new Dd;Ba.uiClass="ql-ui";const Da=class Da{static debug(e){e===!0&&(e="log"),Cu.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Pv.get(e)||Ry.find(e,t)}static import(e){return this.imports[e]==null&&Ed.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Ed.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Ry.register(t),typeof t.register=="function"&&t.register(Ry)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=iF(e,t),this.container=this.options.container,this.container==null){Ed.error("Invalid Quill container",e);return}this.options.debug&&Da.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Pv.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new dt;const i=Jw.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new K9(this.scroll),this.selection=new W9(this.scroll,this.emitter),this.composition=new X9(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(dt.events.EDITOR_CHANGE,u=>{u===dt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(dt.events.SCROLL_UPDATE,(u,h)=>{const d=this.selection.lastRange,[g]=this.selection.getRange(),_=d&&g?{oldRange:d,newRange:g}:void 0;La.call(this,()=>this.editor.update(null,h,_),u)}),this.emitter.on(dt.events.SCROLL_EMBED_UPDATE,(u,h)=>{const d=this.selection.lastRange,[g]=this.selection.getRange(),_=d&&g?{oldRange:d,newRange:g}:void 0;La.call(this,()=>{const w=new lt().retain(u.offset(this)).retain({[u.statics.blotName]:h});return this.editor.update(w,[],_)},Da.sources.USER)}),r){const u=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(u)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=lu(e,t,r),La.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dt.sources.API;return La.call(this,()=>{const i=this.getSelection(!0);let o=new lt;if(i==null)return o;if(this.scroll.query(e,yt.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),o;o=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,dt.sources.SILENT),o},r)}formatLine(e,t,r,i,o){let u;return[e,t,u,o]=lu(e,t,r,i,o),La.call(this,()=>this.editor.formatLine(e,t,u),o,e,0)}formatText(e,t,r,i,o){let u;return[e,t,u,o]=lu(e,t,r,i,o),La.call(this,()=>this.editor.formatText(e,t,u),o,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=lu(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=lu(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=lu(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Da.sources.API;return La.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,o){let u;return[e,,u,o]=lu(e,0,r,i,o),La.call(this,()=>this.editor.insertText(e,t,u),o,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=lu(e,t,r),La.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){eF(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.sources.API;return La.call(this,()=>{e=new lt(e);const r=this.getLength(),i=this.editor.deleteText(0,r),o=this.editor.insertContents(0,e),u=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(u)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||Da.sources.API):([e,t,,r]=lu(e,t,r),this.selection.setRange(new Ah(Math.max(0,e),t),r),r!==dt.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.sources.API;const r=new lt().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dt.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.sources.API;return La.call(this,()=>(e=new lt(e),this.editor.applyDelta(e)),t,!0)}};Ge(Da,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ry,theme:"default"}),Ge(Da,"events",dt.events),Ge(Da,"sources",dt.sources),Ge(Da,"version","2.0.3"),Ge(Da,"imports",{delta:lt,parchment:M9,"core/module":za,"core/theme":Fd});let Oe=Da;function Jb(n){return typeof n=="string"?document.querySelector(n):n}function F1(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function Xb(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function iF(n,e){const t=Jb(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===Oe.DEFAULTS.theme?Fd:Oe.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...u}=Oe.DEFAULTS,{modules:h,...d}=i.DEFAULTS;let g=F1(e.modules);g!=null&&g.toolbar&&g.toolbar.constructor!==Object&&(g={...g,toolbar:{container:g.toolbar}});const _=yc({},F1(o),F1(h),g),w={...u,...Xb(d),...Xb(e)};let E=e.registry;return E?e.formats&&Ed.warn('Ignoring "formats" option because "registry" is specified'):E=e.formats?rF(e.formats,w.registry,Ed):w.registry,{...w,registry:E,container:t,theme:i,modules:Object.entries(_).reduce((x,R)=>{let[O,P]=R;if(!P)return x;const U=Oe.import(`modules/${O}`);return U==null?(Ed.error(`Cannot load ${O} module. Are you sure you registered it?`),x):{...x,[O]:yc({},U.DEFAULTS||{},P)}},{}),bounds:Jb(w.bounds)}}function La(n,e,t,r){if(!this.isEnabled()&&e===dt.sources.USER&&!this.allowReadOnlyEdits)return new lt;let i=t==null?null:this.getSelection();const o=this.editor.delta,u=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=Yb(i,u,e):r!==0&&(i=Yb(i,t,r,e)),this.setSelection(i,dt.sources.SILENT)),u.length()>0){const h=[dt.events.TEXT_CHANGE,u,o,e];this.emitter.emit(dt.events.EDITOR_CHANGE,...h),e!==dt.sources.SILENT&&this.emitter.emit(...h)}return u}function lu(n,e,t,r,i){let o={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(o=t,i=r):typeof t=="string"&&(r!=null?o[t]=r:i=t),i=i||dt.sources.API,[n,e,o,i]}function Yb(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let o,u;return e&&typeof e.transformPosition=="function"?[o,u]=[n.index,n.index+n.length].map(h=>e.transformPosition(h,r!==dt.sources.USER)):[o,u]=[n.index,n.index+n.length].map(h=>h<e||h===e&&r===dt.sources.USER?h:i>=0?h+i:Math.max(e,h+i)),new Ah(o,u-o)}class Uh extends r_{}function Zb(n){return n instanceof gs||n instanceof la}function eS(n){return typeof n.updateContent=="function"}class gd extends Jw{constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(dt.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(dt.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(dt.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[o]=this.line(e+t);if(super.deleteAt(e,t),o!=null&&r!==o&&i>0){if(r instanceof la||o instanceof la){this.optimize();return}const u=o.children.head instanceof $a?null:o.children.head;r.moveChildren(o,u),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,yt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===yt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new lt().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const o=r.shift();if(o){const d=o.type==="block"&&(o.delta.length()===0||!this.descendant(la,e)[0]&&e<this.length()),g=o.type==="block"?o.delta:new lt().insert({[o.key]:o.value});U1(this,e,g);const _=o.type==="block"?1:0,w=e+g.length()+_;d&&this.insertAt(w-1,`
`);const E=ia(this.line(e)[0]),x=ca.AttributeMap.diff(E,o.attributes)||{};Object.keys(x).forEach(R=>{this.formatAt(w-1,1,R,x[R])}),e=w}let[u,h]=this.children.find(e);if(r.length&&(u&&(u=u.split(h),h=0),r.forEach(d=>{if(d.type==="block"){const g=this.createBlock(d.attributes,u||void 0);U1(g,0,d.delta)}else{const g=this.create(d.key,d.value);this.insertBefore(g,u||void 0),Object.keys(d.attributes).forEach(_=>{g.format(_,d.attributes[_])})}})),i.type==="block"&&i.delta.length()){const d=u?u.offset(u.scroll)+h:this.length();U1(this,d,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Ps?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Zb,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,o,u)=>{let h=[],d=u;return i.children.forEachAt(o,u,(g,_,w)=>{Zb(g)?h.push(g):g instanceof r_&&(h=h.concat(r(g,_,d))),d-=w}),h};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(dt.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=dt.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const o=this.find(i,!0);return o&&!eS(o)}),e.length>0&&this.emitter.emit(dt.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(dt.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(o=>o instanceof la,e);i&&i.statics.blotName===t&&eS(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new lt;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const u=o.split(`
`);u.slice(0,-1).forEach(d=>{r.insert(d,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new lt});const h=u[u.length-1];h&&r.insert(h,i.attributes)}else{const u=Object.keys(o)[0];if(!u)return;this.query(u,yt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new lt,t.push({type:"blockEmbed",key:u,value:o[u],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(h=>{let[d,g]=h;this.query(d,yt.BLOCK&yt.BLOT)!=null?r=d:i[d]=g});const o=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(o,t||void 0);const u=o.length();return Object.entries(i).forEach(h=>{let[d,g]=h;o.formatAt(0,u,d,g)}),o}}Ge(gd,"blotName","scroll"),Ge(gd,"className","ql-editor"),Ge(gd,"tagName","DIV"),Ge(gd,"defaultChild",gs),Ge(gd,"allowedChildren",[gs,la,Uh]);function U1(n,e,t){t.reduce((r,i)=>{const o=ca.Op.length(i);let u=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const h=i.insert;n.insertAt(r,h);const[d]=n.descendant(Ps,r),g=ia(d);u=ca.AttributeMap.diff(g,u)||{}}else if(typeof i.insert=="object"){const h=Object.keys(i.insert)[0];if(h==null)return r;if(n.insertAt(r,h,i.insert[h]),n.scroll.query(h,yt.INLINE)!=null){const[g]=n.descendant(Ps,r),_=ia(g);u=ca.AttributeMap.diff(_,u)||{}}}}return Object.keys(u).forEach(h=>{n.formatAt(r,o,h,u[h])}),r+o},e)}const Yw={scope:yt.BLOCK,whitelist:["right","center","justify"]},sF=new kl("align","align",Yw),Qx=new ja("align","ql-align",Yw),Jx=new xc("align","text-align",Yw);class Xx extends xc{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const oF=new ja("color","ql-color",{scope:yt.INLINE}),Zw=new Xx("color","color",{scope:yt.INLINE}),aF=new ja("background","ql-bg",{scope:yt.INLINE}),eE=new Xx("background","background-color",{scope:yt.INLINE});class Bh extends Uh{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${i_(this.code(e,t))}
</pre>`}}class Ds extends gs{static register(){Oe.register(Bh)}}Ge(Ds,"TAB","  ");class tE extends Nl{}tE.blotName="code";tE.tagName="CODE";Ds.blotName="code-block";Ds.className="ql-code-block";Ds.tagName="DIV";Bh.blotName="code-block-container";Bh.className="ql-code-block-container";Bh.tagName="DIV";Bh.allowedChildren=[Ds];Ds.allowedChildren=[qa,$a,Md];Ds.requiredContainer=Bh;const nE={scope:yt.BLOCK,whitelist:["rtl"]},Yx=new kl("direction","dir",nE),Zx=new ja("direction","ql-direction",nE),eI=new xc("direction","direction",nE),tI={scope:yt.INLINE,whitelist:["serif","monospace"]},nI=new ja("font","ql-font",tI);class lF extends xc{value(e){return super.value(e).replace(/["']/g,"")}}const rI=new lF("font","font-family",tI),iI=new ja("size","ql-size",{scope:yt.INLINE,whitelist:["small","large","huge"]}),sI=new xc("size","font-size",{scope:yt.INLINE,whitelist:["10px","18px","32px"]}),uF=Cu("quill:keyboard"),cF=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class s_ extends za{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=fF(e);if(i==null){uF.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(u=>{const h={...i,key:u,...t,...r};this.bindings[h.key]=this.bindings[h.key]||[],this.bindings[h.key].push(h)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(U=>s_.match(e,U));if(i.length===0)return;const o=Oe.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const u=this.quill.getSelection();if(u==null||!this.quill.hasFocus())return;const[h,d]=this.quill.getLine(u.index),[g,_]=this.quill.getLeaf(u.index),[w,E]=u.length===0?[g,_]:this.quill.getLeaf(u.index+u.length),x=g instanceof A0?g.value().slice(0,_):"",R=w instanceof A0?w.value().slice(E):"",O={collapsed:u.length===0,empty:u.length===0&&h.length()<=1,format:this.quill.getFormat(u),line:h,offset:d,prefix:x,suffix:R,event:e};i.some(U=>{if(U.collapsed!=null&&U.collapsed!==O.collapsed||U.empty!=null&&U.empty!==O.empty||U.offset!=null&&U.offset!==O.offset)return!1;if(Array.isArray(U.format)){if(U.format.every(B=>O.format[B]==null))return!1}else if(typeof U.format=="object"&&!Object.keys(U.format).every(B=>U.format[B]===!0?O.format[B]!=null:U.format[B]===!1?O.format[B]==null:Kw(U.format[B],O.format[B])))return!1;return U.prefix!=null&&!U.prefix.test(O.prefix)||U.suffix!=null&&!U.suffix.test(O.suffix)?!1:U.handler.call(this,u,O,U)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let u=new lt().retain(e.index-r).delete(r);if(t.offset===0){const[h]=this.quill.getLine(e.index-1);if(h&&!(h.statics.blotName==="block"&&h.length()<=1)){const g=o.formats(),_=this.quill.getFormat(e.index-1,1);if(i=ca.AttributeMap.diff(g,_)||{},Object.keys(i).length>0){const w=new lt().retain(e.index+o.length()-2).retain(1,i);u=u.compose(w)}}}this.quill.updateContents(u,Oe.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[o]=this.quill.getLine(e.index);let u=new lt().retain(e.index).delete(r);if(t.offset>=o.length()-1){const[h]=this.quill.getLine(e.index+1);if(h){const d=o.formats(),g=this.quill.getFormat(e.index,1);i=ca.AttributeMap.diff(d,g)||{},Object.keys(i).length>0&&(u=u.retain(h.length()-1).retain(1,i))}}this.quill.updateContents(u,Oe.sources.USER),this.quill.focus()}handleDeleteRange(e){rE({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((o,u)=>(this.quill.scroll.query(u,yt.BLOCK)&&!Array.isArray(t.format[u])&&(o[u]=t.format[u]),o),{}),i=new lt().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(e.index+1,Oe.sources.SILENT),this.quill.focus()}}const hF={bindings:{bold:B1("bold"),italic:B1("italic"),underline:B1("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Oe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Oe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",Oe.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Oe.sources.USER)}},"indent code-block":tS(!0),"outdent code-block":tS(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,Oe.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new lt().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,Oe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,Oe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Oe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,Oe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new lt().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(n.index+1,Oe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new lt().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(n.index+1,Oe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,o]=e.getTable(n),u=dF(t,r,i,o);if(u==null)return;let h=t.offset();if(u<0){const d=new lt().retain(h).insert(`
`);this.quill.updateContents(d,Oe.sources.USER),this.quill.setSelection(n.index+1,n.length,Oe.sources.SILENT)}else if(u>0){h+=t.length();const d=new lt().retain(h).insert(`
`);this.quill.updateContents(d,Oe.sources.USER),this.quill.setSelection(h,Oe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,Oe.sources.USER):this.quill.setSelection(i+r.length(),Oe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(n.index," ",Oe.sources.USER),this.quill.history.cutoff();const u=new lt().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:o});return this.quill.updateContents(u,Oe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,Oe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const o=new lt().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,Oe.sources.USER),this.quill.setSelection(n.index-1,Oe.sources.SILENT),!1}return!0}},"embed left":ky("ArrowLeft",!1),"embed left shift":ky("ArrowLeft",!0),"embed right":ky("ArrowRight",!1),"embed right shift":ky("ArrowRight",!0),"table down":nS(!1),"table up":nS(!0)}};s_.DEFAULTS=hF;function tS(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,o,Oe.sources.USER),this.quill.setSelection(e.index+o.length,Oe.sources.SILENT);return}const u=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:h,length:d}=e;u.forEach((g,_)=>{n?(g.insertAt(0,o),_===0?h+=o.length:d+=o.length):g.domNode.textContent.startsWith(o)&&(g.deleteAt(0,o.length),_===0?h-=o.length:d-=o.length)}),this.quill.update(Oe.sources.USER),this.quill.setSelection(h,d,Oe.sources.SILENT)}}}function ky(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[o]=this.quill.getLeaf(i);return o instanceof Uo?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,Oe.sources.USER):this.quill.setSelection(r.index-1,Oe.sources.USER):e?this.quill.setSelection(r.index,r.length+1,Oe.sources.USER):this.quill.setSelection(r.index+r.length+1,Oe.sources.USER),!1):!0}}}function B1(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],Oe.sources.USER)}}}function nS(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,o=i.parent[r];if(o!=null){if(o.statics.blotName==="table-row"){let u=o.children.head,h=i;for(;h.prev!=null;)h=h.prev,u=u.next;const d=u.offset(this.quill.scroll)+Math.min(t.offset,u.length()-1);this.quill.setSelection(d,0,Oe.sources.USER)}}else{const u=i.table()[r];u!=null&&(n?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,Oe.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,Oe.sources.USER))}return!1}}}function fF(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=vd(n);else return null;return n.shortKey&&(n[cF]=n.shortKey,delete n.shortKey),n}function rE(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const o=r[0].formats(),u=r[r.length-1].formats();i=ca.AttributeMap.diff(u,o)||{}}e.deleteText(t,Oe.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,Oe.sources.USER),e.setSelection(t.index,Oe.sources.SILENT)}function dF(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const pF=/font-weight:\s*normal/,gF=["P","OL","UL"],rS=n=>n&&gF.includes(n.tagName),mF=n=>{Array.from(n.querySelectorAll("br")).filter(e=>rS(e.previousElementSibling)&&rS(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},yF=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(pF)}).forEach(e=>{var r;const t=n.createDocumentFragment();t.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(t,e)})};function _F(n){n.querySelector('[id^="docs-internal-guid-"]')&&(yF(n),mF(n))}const vF=/\bmso-list:[^;]*ignore/i,wF=/\bmso-list:[^;]*\bl(\d+)/i,EF=/\bmso-list:[^;]*\blevel(\d+)/i,TF=(n,e)=>{const t=n.getAttribute("style"),r=t==null?void 0:t.match(wF);if(!r)return null;const i=Number(r[1]),o=t==null?void 0:t.match(EF),u=o?Number(o[1]):1,h=new RegExp(`@list l${i}:level${u}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=e.match(h),g=d&&d[1]==="bullet"?"bullet":"ordered";return{id:i,indent:u,type:g,element:n}},bF=n=>{var u,h;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(d=>{(d.getAttribute("style")||"").match(vF)?t.push(d):r.push(d)}),t.forEach(d=>{var g;return(g=d.parentNode)==null?void 0:g.removeChild(d)});const i=n.documentElement.innerHTML,o=r.map(d=>TF(d,i)).filter(d=>d);for(;o.length;){const d=[];let g=o.shift();for(;g;)d.push(g),g=o.length&&((u=o[0])==null?void 0:u.element)===g.element.nextElementSibling&&o[0].id===g.id?o.shift():null;const _=document.createElement("ul");d.forEach(x=>{const R=document.createElement("li");R.setAttribute("data-list",x.type),x.indent>1&&R.setAttribute("class",`ql-indent-${x.indent-1}`),R.innerHTML=x.element.innerHTML,_.appendChild(R)});const w=(h=d[0])==null?void 0:h.element,{parentNode:E}=w??{};w&&(E==null||E.replaceChild(_,w)),d.slice(1).forEach(x=>{let{element:R}=x;E==null||E.removeChild(R)})}};function SF(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&bF(n)}const AF=[SF,_F],CF=n=>{n.documentElement&&AF.forEach(e=>{e(n)})},xF=Cu("quill:clipboard"),IF=[[Node.TEXT_NODE,VF],[Node.TEXT_NODE,sS],["br",PF],[Node.ELEMENT_NODE,sS],[Node.ELEMENT_NODE,OF],[Node.ELEMENT_NODE,NF],[Node.ELEMENT_NODE,UF],["li",MF],["ol, ul",FF],["pre",LF],["tr",BF],["b",V1("bold")],["i",V1("italic")],["strike",V1("strike")],["style",DF]],RF=[sF,Yx].reduce((n,e)=>(n[e.keyName]=e,n),{}),iS=[Jx,eE,Zw,eI,rI,sI].reduce((n,e)=>(n[e.keyName]=e,n),{});class oI extends za{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],IF.concat(this.options.matchers??[]).forEach(r=>{let[i,o]=r;this.addMatcher(i,o)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Ds.blotName])return new lt().insert(r||"",{[Ds.blotName]:i[Ds.blotName]});if(!t)return new lt().insert(r||"",i);const o=this.convertHTML(t);return nm(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new lt().retain(o.length()-1).delete(1)):o}normalizeHTML(e){CF(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[o,u]=this.prepareMatching(r,i);return iE(this.quill.scroll,r,o,u,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oe.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,Oe.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new lt().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),Oe.sources.SILENT)}}onCaptureCopy(e){var u,h;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:o}=this.onCopy(r,t);(u=e.clipboardData)==null||u.setData("text/plain",o),(h=e.clipboardData)==null||h.setData("text/html",i),t&&rE({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var u,h,d,g,_;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(u=e.clipboardData)==null?void 0:u.getData("text/html");let i=(h=e.clipboardData)==null?void 0:h.getData("text/plain");if(!r&&!i){const w=(d=e.clipboardData)==null?void 0:d.getData("text/uri-list");w&&(i=this.normalizeURIList(w))}const o=Array.from(((g=e.clipboardData)==null?void 0:g.files)||[]);if(!r&&o.length>0){this.quill.uploader.upload(t,o);return}if(r&&o.length>0){const w=new DOMParser().parseFromString(r,"text/html");if(w.body.childElementCount===1&&((_=w.body.firstElementChild)==null?void 0:_.tagName)==="IMG"){this.quill.uploader.upload(t,o);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const o=this.quill.getFormat(e.index),u=this.convert({text:r,html:i},o);xF.log("onPaste",u,{text:r,html:i});const h=new lt().retain(e.index).delete(e.length).concat(u);this.quill.updateContents(h,Oe.sources.USER),this.quill.setSelection(h.length()-e.length,Oe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(o=>{const[u,h]=o;switch(u){case Node.TEXT_NODE:i.push(h);break;case Node.ELEMENT_NODE:r.push(h);break;default:Array.from(e.querySelectorAll(u)).forEach(d=>{if(t.has(d)){const g=t.get(d);g==null||g.push(h)}else t.set(d,[h])});break}}),[r,i]}}Ge(oI,"DEFAULTS",{matchers:[]});function Vh(n,e,t,r){return r.query(e)?n.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const u=t?{[e]:t}:{};return i.insert(o.insert,{...u,...o.attributes})},new lt):n}function nm(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function dc(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof Uo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function kF(n,e){return n.previousElementSibling&&n.nextElementSibling&&!dc(n.previousElementSibling,e)&&!dc(n.nextElementSibling,e)}const Ny=new WeakMap;function aI(n){return n==null?!1:(Ny.has(n)||(n.tagName==="PRE"?Ny.set(n,!0):Ny.set(n,aI(n.parentNode))),Ny.get(n))}function iE(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((o,u)=>u(e,o,n),new lt):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,u)=>{let h=iE(n,u,t,r,i);return u.nodeType===e.ELEMENT_NODE&&(h=t.reduce((d,g)=>g(u,d,n),h),h=(i.get(u)||[]).reduce((d,g)=>g(u,d,n),h)),o.concat(h)},new lt):new lt}function V1(n){return(e,t,r)=>Vh(t,n,!0,r)}function NF(n,e,t){const r=kl.keys(n),i=ja.keys(n),o=xc.keys(n),u={};return r.concat(i).concat(o).forEach(h=>{let d=t.query(h,yt.ATTRIBUTE);d!=null&&(u[d.attrName]=d.value(n),u[d.attrName])||(d=RF[h],d!=null&&(d.attrName===h||d.keyName===h)&&(u[d.attrName]=d.value(n)||void 0),d=iS[h],d!=null&&(d.attrName===h||d.keyName===h)&&(d=iS[h],u[d.attrName]=d.value(n)||void 0))}),Object.entries(u).reduce((h,d)=>{let[g,_]=d;return Vh(h,g,_,t)},e)}function OF(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof Uo){const i={},o=r.value(n);if(o!=null)return i[r.blotName]=o,new lt().insert(i,r.formats(n,t))}else if(r.prototype instanceof Ug&&!nm(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Vh(e,r.blotName,r.formats(n,t),t);return e}function PF(n,e){return nm(e,`
`)||e.insert(`
`),e}function LF(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Vh(e,"code-block",i,t)}function DF(){return new lt}function MF(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!nm(e,`
`))return e;let i=-1,o=n.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((u,h)=>h.insert?h.attributes&&typeof h.attributes.indent=="number"?u.push(h):u.insert(h.insert,{indent:i,...h.attributes||{}}):u,new lt)}function FF(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const o=r.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),Vh(e,"list",i,t)}function sS(n,e,t){if(!nm(e,`
`)){if(dc(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(dc(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof la)return e.insert(`
`);r=r.firstChild}}}return e}function UF(n,e,t){var o;const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((u,h)=>{let[d,g]=h;return Vh(u,d,g,t)},e),parseFloat(i.textIndent||0)>0?new lt().insert("	").concat(e):e}function BF(n,e,t){var i,o;const r=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(o=n.parentElement)==null?void 0:o.parentElement;if(r!=null){const h=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Vh(e,"table",h,t)}return e}function VF(n,e,t){var i;let r=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!aI(n)){if(r.trim().length===0&&r.includes(`
`)&&!kF(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&dc(n.parentElement,t)||n.previousSibling instanceof Element&&dc(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&dc(n.parentElement,t)||n.nextSibling instanceof Element&&dc(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class lI extends za{constructor(t,r){super(t,r);Ge(this,"lastRecorded",0);Ge(this,"ignoreChange",!1);Ge(this,"stack",{undo:[],redo:[]});Ge(this,"currentRange",null);this.quill.on(Oe.events.EDITOR_CHANGE,(i,o,u,h)=>{i===Oe.events.SELECTION_CHANGE?o&&h!==Oe.sources.SILENT&&(this.currentRange=o):i===Oe.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||h===Oe.sources.USER?this.record(o,u):this.transform(o)),this.currentRange=Mv(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const o=this.quill.getContents(),u=i.delta.invert(o);this.stack[r].push({delta:u,range:Mv(i.range,u)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,Oe.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),o=this.currentRange;const u=Date.now();if(this.lastRecorded+this.options.delay>u&&this.stack.undo.length>0){const h=this.stack.undo.pop();h&&(i=i.compose(h.delta),o=h.range)}else this.lastRecorded=u;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){oS(this.stack.undo,t),oS(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,Oe.sources.USER);else{const r=jF(this.quill.scroll,t.delta);this.quill.setSelection(r,Oe.sources.USER)}}}Ge(lI,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function oS(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&Mv(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function qF(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,yt.BLOCK)!=null):!1}function jF(n,e){const t=e.reduce((i,o)=>i+(o.delete||0),0);let r=e.length()-t;return qF(n,e)&&(r-=1),r}function Mv(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class uI extends za{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{var u;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const h=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(h.offsetNode,h.offset),i.setEnd(h.offsetNode,h.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const h=e.selection.normalizedToRange(o);(u=r.dataTransfer)!=null&&u.files&&this.upload(h,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}uI.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((o,u)=>o.insert({image:u}),new lt().retain(n.index).delete(n.length));this.quill.updateContents(i,dt.sources.USER),this.quill.setSelection(n.index+r.length,dt.sources.SILENT)})}};const $F=["insertText","insertReplacementText"];class zF extends za{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(Oe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){rE({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new lt().retain(e.index).insert(t,r),Oe.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,Oe.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!$F.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=HF(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function HF(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const WF=/Mac/i.test(navigator.platform),GF=100,KF=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||WF&&n.key==="a"&&n.ctrlKey===!0);class QF extends za{constructor(t,r){super(t,r);Ge(this,"isListening",!1);Ge(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:o}=r;if(!(i instanceof Ba)||!i.uiNode)return!0;const u=getComputedStyle(i.domNode).direction==="rtl";return u&&o.key!=="ArrowRight"||!u&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(o.shiftKey?1:0),Oe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&KF(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+GF,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Ba)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(o)}}Oe.register({"blots/block":gs,"blots/block/embed":la,"blots/break":$a,"blots/container":Uh,"blots/cursor":Md,"blots/embed":Xw,"blots/inline":Nl,"blots/scroll":gd,"blots/text":qa,"modules/clipboard":oI,"modules/history":lI,"modules/keyboard":s_,"modules/uploader":uI,"modules/input":zF,"modules/uiNode":QF});class JF extends ja{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const XF=new JF("indent","ql-indent",{scope:yt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});var Uy;let YF=(Uy=class extends gs{},Ge(Uy,"blotName","blockquote"),Ge(Uy,"tagName","blockquote"),Uy);var By;let ZF=(By=class extends gs{static formats(e){return this.tagName.indexOf(e.tagName)+1}},Ge(By,"blotName","header"),Ge(By,"tagName",["H1","H2","H3","H4","H5","H6"]),By);class rm extends Uh{}rm.blotName="list-container";rm.tagName="OL";class im extends gs{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Oe.register(rm)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const u=this.statics.formats(t,e);u==="checked"?(this.format("list","unchecked"),o.preventDefault()):u==="unchecked"&&(this.format("list","checked"),o.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}im.blotName="list";im.tagName="LI";rm.allowedChildren=[im];im.requiredContainer=rm;var Vy;let sE=(Vy=class extends Nl{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}},Ge(Vy,"blotName","bold"),Ge(Vy,"tagName",["STRONG","B"]),Vy);class Fv extends sE{}Ge(Fv,"blotName","italic"),Ge(Fv,"tagName",["EM","I"]);var sd;let C0=(sd=class extends Nl{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return cI(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}},Ge(sd,"blotName","link"),Ge(sd,"tagName","A"),Ge(sd,"SANITIZED_URL","about:blank"),Ge(sd,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]),sd);function cI(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class Uv extends Nl{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Ge(Uv,"blotName","script"),Ge(Uv,"tagName",["SUB","SUP"]);class Bv extends sE{}Ge(Bv,"blotName","strike"),Ge(Bv,"tagName",["S","STRIKE"]);class Vv extends Nl{}Ge(Vv,"blotName","underline"),Ge(Vv,"tagName","U");class Qy extends Xw{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Ge(Qy,"blotName","formula"),Ge(Qy,"className","ql-formula"),Ge(Qy,"tagName","SPAN");const aS=["alt","height","width"];var qy;let eU=(qy=class extends Uo{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return aS.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return cI(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){aS.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},Ge(qy,"blotName","image"),Ge(qy,"tagName","IMG"),qy);const lS=["height","width"];class Jy extends la{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return lS.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return C0.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){lS.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Ge(Jy,"blotName","video"),Ge(Jy,"className","ql-video"),Ge(Jy,"tagName","IFRAME");const dg=new ja("code-token","hljs",{scope:yt.INLINE});class Eu extends Nl{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Ds.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),dg.add(this.domNode,r)}format(e,t){e!==Eu.blotName?super.format(e,t):t?dg.add(this.domNode,t):(dg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),dg.value(this.domNode)||this.unwrap()}}Eu.blotName="code-token";Eu.className="ql-token";class sa extends Ds{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Eu.blotName,!1),super.replaceWith(e,t)}}class Tg extends Bh{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===sa.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===sa.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join(`
`)}
`,o=sa.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const u=this.children.reduce((d,g)=>d.concat(Gx(g,!1)),new lt),h=e(i,o);u.diff(h).reduce((d,g)=>{let{retain:_,attributes:w}=g;return _?(w&&Object.keys(w).forEach(E=>{[sa.blotName,Eu.blotName].includes(E)&&this.formatAt(d,_,E,w[E])}),d+_):d},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?sa.formats(r.domNode):"plain"}">
${i_(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=sa.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Tg.allowedChildren=[sa];sa.requiredContainer=Tg;sa.allowedChildren=[Eu,Md,qa,$a];const tU=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class hI extends za{static register(){Oe.register(Eu,!0),Oe.register(sa,!0),Oe.register(Tg,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:o}=i;return r[o]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Oe.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Tg))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:o}=r;const u=t.ownerDocument.createElement("option");u.textContent=o,u.setAttribute("value",i),t.appendChild(u)}),t.addEventListener("change",()=>{e.format(sa.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=sa.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Oe.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Oe.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Tg):[e]).forEach(o=>{o.highlight(this.highlightBlot,t)}),this.quill.update(Oe.sources.SILENT),r!=null&&this.quill.setSelection(r,Oe.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return i_(e).split(`
`).reduce((i,o,u)=>(u!==0&&i.insert(`
`,{[Ds.blotName]:t}),i.insert(o)),new lt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Ds.className),r.innerHTML=tU(this.options.hljs,t,e),iE(this.quill.scroll,r,[(i,o)=>{const u=dg.value(i);return u?o.compose(new lt().retain(o.length(),{[Eu.blotName]:u})):o}],[(i,o)=>i.data.split(`
`).reduce((u,h,d)=>(d!==0&&u.insert(`
`,{[Ds.blotName]:t}),u.insert(h)),o)],new WeakMap)}}hI.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const xg=class xg extends gs{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",oE()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===xg.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ge(xg,"blotName","table"),Ge(xg,"tagName","TD");let Fa=xg;class Tu extends Uh{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const o=this.splitAfter(t);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ge(Tu,"blotName","table-row"),Ge(Tu,"tagName","TR");class Al extends Uh{}Ge(Al,"blotName","table-body"),Ge(Al,"tagName","TBODY");class Ud extends Uh{balanceCells(){const e=this.descendants(Tu),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Fa.formats(r.children.head.domNode));const o=this.scroll.create(Fa.blotName,i);r.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Al);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[t]=this.descendant(Al);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),o=Fa.formats(r.children.head.domNode),u=this.scroll.create(Fa.blotName,o);r.insertBefore(u,i)})}insertRow(e){const[t]=this.descendant(Al);if(t==null||t.children.head==null)return;const r=oE(),i=this.scroll.create(Tu.blotName);t.children.head.children.forEach(()=>{const u=this.scroll.create(Fa.blotName,r);i.appendChild(u)});const o=t.children.at(e);t.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Ge(Ud,"blotName","table-container"),Ge(Ud,"tagName","TABLE");Ud.allowedChildren=[Al];Al.requiredContainer=Ud;Al.allowedChildren=[Tu];Tu.requiredContainer=Al;Tu.allowedChildren=[Fa];Fa.requiredContainer=Tu;function oE(){return`row-${Math.random().toString(36).slice(2,6)}`}class nU extends za{static register(){Oe.register(Fa),Oe.register(Tu),Oe.register(Al),Oe.register(Ud)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Ud).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(Oe.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Oe.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(Oe.sources.USER),this.quill.setSelection(t,Oe.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Fa.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const u=o.cellOffset();r.insertColumn(u+e),this.quill.update(Oe.sources.USER);let h=i.rowOffset();e===0&&(h+=1),this.quill.setSelection(t.index+h,t.length,Oe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const u=i.rowOffset();r.insertRow(u+e),this.quill.update(Oe.sources.USER),e>0?this.quill.setSelection(t,Oe.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,Oe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(o=>{const u=new Array(t).fill(`
`).join("");return o.insert(u,{table:oE()})},new lt().retain(r.index));this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(r.index,Oe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Oe.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(Oe.events.TEXT_CHANGE,(r,i,o)=>{o===Oe.sources.USER&&this.balanceTables()}),!0):!1)})}}const uS=Cu("quill:toolbar");let aE=class extends za{constructor(e,t){var r,i;if(super(e,t),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),rU(o,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){uS.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var h;const u=(h=this.options.handlers)==null?void 0:h[o];u&&this.addHandler(o,u)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(Oe.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){uS.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const h=e.options[e.selectedIndex];h.hasAttribute("selected")?o=!1:o=h.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[u]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,o);else if(this.quill.scroll.query(t).prototype instanceof Uo){if(o=prompt(`Enter ${t}`),!o)return;this.quill.updateContents(new lt().retain(u.index).delete(u.length).insert({[t]:o}),Oe.sources.USER)}else this.quill.format(t,o,Oe.sources.USER);this.update(u)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,o]=r;if(o.tagName==="SELECT"){let u=null;if(e==null)u=null;else if(t[i]==null)u=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){let h=t[i];typeof h=="string"&&(h=h.replace(/"/g,'\\"')),u=o.querySelector(`option[value="${h}"]`)}u==null?(o.value="",o.selectedIndex=-1):u.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const u=t[i],h=u===o.getAttribute("value")||u!=null&&u.toString()===o.getAttribute("value")||u==null&&!o.getAttribute("value");o.classList.toggle("ql-active",h),o.setAttribute("aria-pressed",h.toString())}else{const u=t[i]!=null;o.classList.toggle("ql-active",u),o.setAttribute("aria-pressed",u.toString())}})}};aE.DEFAULTS={};function cS(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function rU(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")cS(r,i);else{const o=Object.keys(i)[0],u=i[o];Array.isArray(u)?iU(r,o,u):cS(r,o,u)}}),n.appendChild(r)})}function iU(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),r.appendChild(o)}),n.appendChild(r)}aE.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,yt.INLINE)!=null&&this.quill.format(t,!1,Oe.sources.USER)})}else this.quill.removeFormat(n.index,n.length,Oe.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",Oe.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,Oe.sources.USER),this.quill.format("direction",n,Oe.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,Oe.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,Oe.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,Oe.sources.USER):this.quill.format("list","unchecked",Oe.sources.USER):this.quill.format("list",n,Oe.sources.USER)}}};const sU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',oU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',aU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',lU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',uU='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',cU='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',hU='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',fU='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',hS='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',dU='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',pU='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',gU='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',mU='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',yU='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',_U='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',vU='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',wU='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',EU='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',TU='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',bU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',SU='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',AU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',CU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',xU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',IU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',RU='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',kU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',NU='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',OU='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',PU='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',LU='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',DU='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',MU='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Vg={align:{"":sU,center:oU,right:aU,justify:lU},background:uU,blockquote:cU,bold:hU,clean:fU,code:hS,"code-block":hS,color:dU,direction:{"":pU,rtl:gU},formula:mU,header:{1:yU,2:_U,3:vU,4:wU,5:EU,6:TU},italic:bU,image:SU,indent:{"+1":AU,"-1":CU},link:xU,list:{bullet:IU,check:RU,ordered:kU},script:{sub:NU,super:OU},strike:PU,table:LU,underline:DU,video:MU},FU='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let fS=0;function dS(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class o_{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),dS(this.label,"aria-expanded"),dS(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=FU,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${fS}`,fS+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class fI extends o_{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class dI extends o_{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const UU=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class pI{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,UU(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let u=0;if(o.right>i.right&&(u=i.right-o.right,this.root.style.left=`${t+u}px`),o.left<i.left&&(u=i.left-o.left,this.root.style.left=`${t+u}px`),o.bottom>i.bottom){const h=o.bottom-o.top,d=e.bottom-e.top+h;this.root.style.top=`${r-d}px`,this.root.classList.add("ql-flip")}return u}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const BU=[!1,"center","right","justify"],VU=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],qU=[!1,"serif","monospace"],jU=["1","2","3",!1],$U=["small",!1,"large","huge"];class sm extends Fd{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),t[o]!=null))if(o==="direction")r.innerHTML=t[o][""]+t[o].rtl;else if(typeof t[o]=="string")r.innerHTML=t[o];else{const u=r.value||"";u!=null&&t[o][u]&&(r.innerHTML=t[o][u])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&tg(i,BU),typeof t.align=="object"))return new dI(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&tg(i,VU,o==="background"?"#ffffff":"#000000"),new fI(i,t[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?tg(i,qU):i.classList.contains("ql-header")?tg(i,jU):i.classList.contains("ql-size")&&tg(i,$U)),new o_(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(dt.events.EDITOR_CHANGE,r)}}sm.DEFAULTS=yc({},Fd.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class gI extends pI{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,dt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,dt.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=zU(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,dt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",dt.sources.USER),this.quill.setSelection(r+2,dt.sources.USER)}break}}this.textbox.value="",this.hide()}}function zU(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function tg(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const HU=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class mI extends gI{constructor(e,t){super(e,t),this.quill.on(dt.events.EDITOR_CHANGE,(r,i,o,u)=>{if(r===dt.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&u===dt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const h=this.quill.getLines(i.index,i.length);if(h.length===1){const d=this.quill.getBounds(i);d!=null&&this.position(d)}else{const d=h[h.length-1],g=this.quill.getIndex(d),_=Math.min(d.length()-1,i.index+i.length-g),w=this.quill.getBounds(new Ah(g,_));w!=null&&this.position(w)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(dt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}Ge(mI,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class yI extends sm{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=HU),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new mI(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Vg),this.buildPickers(e.container.querySelectorAll("select"),Vg))}}yI.DEFAULTS=yc({},sm.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Oe.sources.USER)}}}}});const WU=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class _I extends gI{constructor(){super(...arguments);Ge(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,dt.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(dt.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===dt.sources.USER){const[o,u]=this.quill.scroll.descendant(C0,t.index);if(o!=null){this.linkRange=new Ah(t.index-u,o.length());const h=C0.formats(o.domNode);this.preview.textContent=h,this.preview.setAttribute("href",h),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ge(_I,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class vI extends sm{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=WU),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Vg),this.buildPickers(e.container.querySelectorAll("select"),Vg),this.tooltip=new _I(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}vI.DEFAULTS=yc({},sm.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,Oe.sources.USER)}}}}});Oe.register({"attributors/attribute/direction":Yx,"attributors/class/align":Qx,"attributors/class/background":aF,"attributors/class/color":oF,"attributors/class/direction":Zx,"attributors/class/font":nI,"attributors/class/size":iI,"attributors/style/align":Jx,"attributors/style/background":eE,"attributors/style/color":Zw,"attributors/style/direction":eI,"attributors/style/font":rI,"attributors/style/size":sI},!0);Oe.register({"formats/align":Qx,"formats/direction":Zx,"formats/indent":XF,"formats/background":eE,"formats/color":Zw,"formats/font":nI,"formats/size":iI,"formats/blockquote":YF,"formats/code-block":Ds,"formats/header":ZF,"formats/list":im,"formats/bold":sE,"formats/code":tE,"formats/italic":Fv,"formats/link":C0,"formats/script":Uv,"formats/strike":Bv,"formats/underline":Vv,"formats/formula":Qy,"formats/image":eU,"formats/video":Jy,"modules/syntax":hI,"modules/table":nU,"modules/toolbar":aE,"themes/bubble":yI,"themes/snow":vI,"ui/icons":Vg,"ui/picker":o_,"ui/icon-picker":dI,"ui/color-picker":fI,"ui/tooltip":pI},!0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebasestorage.googleapis.com",EI="storageBucket",GU=2*60*1e3,KU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Pl{constructor(e,t,r=0){super(q1(e),`Firebase Storage: ${t} (${q1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return q1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oi||(oi={}));function q1(n){return"storage/"+n}function lE(){const n="An unknown error occurred, please check the error payload for server response.";return new ai(oi.UNKNOWN,n)}function QU(n){return new ai(oi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function JU(n){return new ai(oi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XU(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ai(oi.UNAUTHENTICATED,n)}function YU(){return new ai(oi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZU(n){return new ai(oi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function eB(){return new ai(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tB(){return new ai(oi.CANCELED,"User canceled the upload/download.")}function nB(n){return new ai(oi.INVALID_URL,"Invalid URL '"+n+"'.")}function rB(n){return new ai(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function iB(){return new ai(oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EI+"' property when initializing the app?")}function sB(){return new ai(oi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oB(){return new ai(oi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aB(n){return new ai(oi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qv(n){return new ai(oi.INVALID_ARGUMENT,n)}function TI(){return new ai(oi.APP_DELETED,"The Firebase app was deleted.")}function lB(n){return new ai(oi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bg(n,e){return new ai(oi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ng(n){throw new ai(oi.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Oo.makeFromUrl(e,t)}catch{return new Oo(e,"")}if(r.path==="")return r;throw rB(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+i+u,"i"),d={bucket:1,path:3};function g(F){F.path_=decodeURIComponent(F.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${w}/${_}/b/${i}/o${E}`,"i"),R={bucket:1,path:3},O=t===wI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",U=new RegExp(`^https?://${O}/${i}/${P}`,"i"),C=[{regex:h,indices:d,postModify:o},{regex:x,indices:R,postModify:g},{regex:U,indices:{bucket:1,path:2},postModify:g}];for(let F=0;F<C.length;F++){const z=C[F],J=z.regex.exec(e);if(J){const D=J[z.indices.bucket];let q=J[z.indices.path];q||(q=""),r=new Oo(D,q),z.postModify(r);break}}if(r==null)throw nB(e);return r}}class uB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(n,e,t){let r=1,i=null,o=null,u=!1,h=0;function d(){return h===2}let g=!1;function _(...P){g||(g=!0,e.apply(null,P))}function w(P){i=setTimeout(()=>{i=null,n(x,d())},P)}function E(){o&&clearTimeout(o)}function x(P,...U){if(g){E();return}if(P){E(),_.call(null,P,...U);return}if(d()||u){E(),_.call(null,P,...U);return}r<64&&(r*=2);let C;h===1?(h=2,C=0):C=(r+Math.random())*1e3,w(C)}let R=!1;function O(P){R||(R=!0,E(),!g&&(i!==null?(P||(h=2),clearTimeout(i),w(0)):P||(h=1)))}return w(0),o=setTimeout(()=>{u=!0,O(!0)},t),O}function hB(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(n){return n!==void 0}function dB(n){return typeof n=="object"&&!Array.isArray(n)}function uE(n){return typeof n=="string"||n instanceof String}function pS(n){return cE()&&n instanceof Blob}function cE(){return typeof Blob<"u"}function gS(n,e,t,r){if(r<e)throw qv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw qv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function bI(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var _h;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(_h||(_h={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,t,r,i,o,u,h,d,g,_,w,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=w,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,R)=>{this.resolve_=x,this.reject_=R,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Oy(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,g)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===_h.NO_ERROR,d=o.getStatus();if(!h||pB(d,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===_h.ABORT;r(!1,new Oy(!1,null,_));return}const g=this.successCodes_.indexOf(d)!==-1;r(!0,new Oy(g,o))})},t=(r,i)=>{const o=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());fB(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=lE();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(i.canceled){const d=this.appDelete_?TI():tB();u(d)}else{const d=eB();u(d)}};this.canceled_?t(!1,new Oy(!1,null,!0)):this.backoffId_=cB(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function mB(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function yB(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _B(n,e){e&&(n["X-Firebase-GMPID"]=e)}function vB(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function wB(n,e,t,r,i,o,u=!0){const h=bI(n.urlParams),d=n.url+h,g=Object.assign({},n.headers);return _B(g,e),mB(g,t),yB(g,o),vB(g,r),new gB(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function TB(...n){const e=EB();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(cE())return new Blob(n);throw new ai(oi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bB(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(n){if(typeof atob>"u")throw aB("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class j1{constructor(e,t){this.data=e,this.contentType=t||null}}function AB(n,e){switch(n){case wl.RAW:return new j1(SI(e));case wl.BASE64:case wl.BASE64URL:return new j1(AI(n,e));case wl.DATA_URL:return new j1(xB(e),IB(e))}throw lE()}function SI(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function CB(n){let e;try{e=decodeURIComponent(n)}catch{throw bg(wl.DATA_URL,"Malformed data URL.")}return SI(e)}function AI(n,e){switch(n){case wl.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw bg(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case wl.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw bg(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=SB(e)}catch(i){throw i.message.includes("polyfill")?i:bg(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class CI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw bg(wl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=RB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xB(n){const e=new CI(n);return e.base64?AI(wl.BASE64,e.rest):CB(e.rest)}function IB(n){return new CI(n).contentType}function RB(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){let r=0,i="";pS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(pS(this.data_)){const r=this.data_,i=bB(r,e,t);return i===null?null:new lc(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new lc(r,!0)}}static getBlob(...e){if(cE()){const t=e.map(r=>r instanceof lc?r.data_:r);return new lc(TB.apply(null,t))}else{const t=e.map(u=>uE(u)?AB(wl.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[o++]=u[h]}),new lc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n){let e;try{e=JSON.parse(n)}catch{return null}return dB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function NB(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function II(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(n,e){return e}class Ws{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||OB}}let Py=null;function PB(n){return!uE(n)||n.length<2?n:II(n)}function RI(){if(Py)return Py;const n=[];n.push(new Ws("bucket")),n.push(new Ws("generation")),n.push(new Ws("metageneration")),n.push(new Ws("name","fullPath",!0));function e(o,u){return PB(u)}const t=new Ws("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const i=new Ws("size");return i.xform=r,n.push(i),n.push(new Ws("timeCreated")),n.push(new Ws("updated")),n.push(new Ws("md5Hash",null,!0)),n.push(new Ws("cacheControl",null,!0)),n.push(new Ws("contentDisposition",null,!0)),n.push(new Ws("contentEncoding",null,!0)),n.push(new Ws("contentLanguage",null,!0)),n.push(new Ws("contentType",null,!0)),n.push(new Ws("metadata","customMetadata",!0)),Py=n,Py}function LB(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new Oo(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function DB(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return LB(r,n),r}function kI(n,e,t){const r=xI(e);return r===null?null:DB(n,r,t)}function MB(n,e,t,r){const i=xI(e);if(i===null||!uE(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(g=>{const _=n.bucket,w=n.fullPath,E="/b/"+u(_)+"/o/"+u(w),x=hE(E,t,r),R=bI({alt:"media",token:g});return x+R})[0]}function FB(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class NI{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(n){if(!n)throw lE()}function UB(n,e){function t(r,i){const o=kI(n,i,e);return OI(o!==null),o}return t}function BB(n,e){function t(r,i){const o=kI(n,i,e);return OI(o!==null),MB(o,i,n.host,n._protocol)}return t}function PI(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=YU():i=XU():t.getStatus()===402?i=JU(n.bucket):t.getStatus()===403?i=ZU(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function VB(n){const e=PI(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=QU(n.path)),o.serverResponse=i.serverResponse,o}return t}function qB(n,e,t){const r=e.fullServerUrl(),i=hE(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new NI(i,o,BB(n,t),u);return h.errorHandler=VB(e),h}function jB(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function $B(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=jB(null,e)),r}function zB(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let C="";for(let F=0;F<2;F++)C=C+Math.random().toString().slice(2);return C}const d=h();u["Content-Type"]="multipart/related; boundary="+d;const g=$B(e,r,i),_=FB(g,t),w="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+d+`\r
Content-Type: `+g.contentType+`\r
\r
`,E=`\r
--`+d+"--",x=lc.getBlob(w,r,E);if(x===null)throw sB();const R={name:g.fullPath},O=hE(o,n.host,n._protocol),P="POST",U=n.maxUploadRetryTime,B=new NI(O,P,UB(n,t),U);return B.urlParams=R,B.headers=u,B.body=x.uploadData(),B.errorHandler=PI(e),B}class HB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_h.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_h.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_h.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw ng("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ng("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ng("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ng("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ng("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WB extends HB{initXhr(){this.xhr_.responseType="text"}}function LI(){return new WB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this._service=e,t instanceof Oo?this._location=t:this._location=Oo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ch(e,t)}get root(){const e=new Oo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return II(this._location.path)}get storage(){return this._service}get parent(){const e=kB(this._location.path);if(e===null)return null;const t=new Oo(this._location.bucket,e);return new Ch(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw lB(e)}}function GB(n,e,t){n._throwIfRoot("uploadBytes");const r=zB(n.storage,n._location,RI(),new lc(e,!0),t);return n.storage.makeRequestWithTokens(r,LI).then(i=>({metadata:i,ref:n}))}function KB(n){n._throwIfRoot("getDownloadURL");const e=qB(n.storage,n._location,RI());return n.storage.makeRequestWithTokens(e,LI).then(t=>{if(t===null)throw oB();return t})}function QB(n,e){const t=NB(n._location.path,e),r=new Oo(n._location.bucket,t);return new Ch(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(n){return/^[A-Za-z]+:\/\//.test(n)}function XB(n,e){return new Ch(n,e)}function DI(n,e){if(n instanceof fE){const t=n;if(t._bucket==null)throw iB();const r=new Ch(t,t._bucket);return e!=null?DI(r,e):r}else return e!==void 0?QB(n,e):n}function YB(n,e){if(e&&JB(e)){if(n instanceof fE)return XB(n,e);throw qv("To use ref(service, url), the first argument must be a Storage instance.")}else return DI(n,e)}function mS(n,e){const t=e==null?void 0:e[EI];return t==null?null:Oo.makeFromBucketSpec(t,n)}function ZB(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:VA(i,n.app.options.projectId))}class fE{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=wI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GU,this._maxUploadRetryTime=KU,this._requests=new Set,i!=null?this._bucket=Oo.makeFromBucketSpec(i,this._host):this._bucket=mS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oo.makeFromBucketSpec(this._url,e):this._bucket=mS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ch(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new uB(TI());{const u=wB(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const yS="@firebase/storage",_S="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="storage";function eV(n,e,t){return n=Fs(n),GB(n,e,t)}function tV(n){return n=Fs(n),KB(n)}function nV(n,e){return n=Fs(n),YB(n,e)}function rV(n=hw(),e){n=Fs(n);const r=B0(n,MI).getImmediate({identifier:e}),i=FA("storage");return i&&iV(r,...i),r}function iV(n,e,t,r={}){ZB(n,e,t,r)}function sV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new fE(t,r,i,e,kh)}function oV(){Eh(new _c(MI,sV,"PUBLIC").setMultipleInstances(!0)),El(yS,_S,""),El(yS,_S,"esm2017")}oV();var pg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var aV=pg.exports,vS;function lV(){return vS||(vS=1,function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",g=500,_="__lodash_placeholder__",w=1,E=2,x=4,R=1,O=2,P=1,U=2,B=4,C=8,F=16,z=32,J=64,D=128,q=256,W=512,I=30,k="...",j=800,N=16,oe=1,le=2,re=3,de=1/0,se=9007199254740991,ne=17976931348623157e292,Y=NaN,G=4294967295,ie=G-1,he=G>>>1,Ne=[["ary",D],["bind",P],["bindKey",U],["curry",C],["curryRight",F],["flip",W],["partial",z],["partialRight",J],["rearg",q]],Ce="[object Arguments]",Pe="[object Array]",je="[object AsyncFunction]",Ie="[object Boolean]",We="[object Date]",Ye="[object DOMException]",Je="[object Error]",pt="[object Function]",gt="[object GeneratorFunction]",st="[object Map]",zt="[object Number]",tr="[object Null]",Un="[object Object]",ur="[object Promise]",Jn="[object Proxy]",cn="[object RegExp]",hn="[object Set]",Cn="[object String]",mn="[object Symbol]",Ht="[object Undefined]",xn="[object WeakMap]",Dt="[object WeakSet]",wt="[object ArrayBuffer]",Ut="[object DataView]",qn="[object Float32Array]",Qt="[object Float64Array]",Hr="[object Int8Array]",Rr="[object Int16Array]",ts="[object Int32Array]",Ei="[object Uint8Array]",Ti="[object Uint8ClampedArray]",Bi="[object Uint16Array]",Wr="[object Uint32Array]",yr=/\b__p \+= '';/g,or=/\b(__p \+=) '' \+/g,cr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,In=/&(?:amp|lt|gt|quot|#39);/g,Rn=/[&<>"']/g,li=RegExp(In.source),zn=RegExp(Rn.source),bi=/<%-([\s\S]+?)%>/g,Fr=/<%([\s\S]+?)%>/g,Ri=/<%=([\s\S]+?)%>/g,_r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vi=/^\w*$/,Gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nr=/[\\^$.*+?()[\]{}|]/g,Hn=RegExp(nr.source),kr=/^\s+/,vr=/\s/,ui=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jt=/\{\n\/\* \[wrapped with (.+)\] \*/,qi=/,? & /,Ks=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gr=/[()=,{}\[\]\/\s]/,ci=/\\(\\)?/g,Ur=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yn=/\w*$/,Kr=/^[-+]0x[0-9a-f]+$/i,ki=/^0b[01]+$/i,Qr=/^\[object .+?Constructor\]$/,ns=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,nt=/['\n\r\u2028\u2029\\]/g,rt="\\ud800-\\udfff",At="\\u0300-\\u036f",ce="\\ufe20-\\ufe2f",Te="\\u20d0-\\u20ff",Ue=At+ce+Te,Xe="\\u2700-\\u27bf",_t="a-z\\xdf-\\xf6\\xf8-\\xff",qt="\\xac\\xb1\\xd7\\xf7",Xt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mt="\\u2000-\\u206f",Yt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bn="A-Z\\xc0-\\xd6\\xd8-\\xde",Jr="\\ufe0e\\ufe0f",Nr=qt+Xt+Mt+Yt,Sr="[']",ct="["+rt+"]",Ft="["+Nr+"]",pn="["+Ue+"]",Ot="\\d+",Ct="["+Xe+"]",jn="["+_t+"]",xt="[^"+rt+Nr+Ot+Xe+_t+bn+"]",vn="\\ud83c[\\udffb-\\udfff]",wn="(?:"+pn+"|"+vn+")",jt="[^"+rt+"]",rr="(?:\\ud83c[\\udde6-\\uddff]){2}",vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Bn="["+bn+"]",hr="\\u200d",ys="(?:"+jn+"|"+xt+")",Xr="(?:"+Bn+"|"+xt+")",Us="(?:"+Sr+"(?:d|ll|m|re|s|t|ve))?",_s="(?:"+Sr+"(?:D|LL|M|RE|S|T|VE))?",rs=wn+"?",Si="["+Jr+"]?",ir="(?:"+hr+"(?:"+[jt,rr,vt].join("|")+")"+Si+rs+")*",Pn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ji="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vs=Si+rs+ir,hi="(?:"+[Ct,rr,vt].join("|")+")"+vs,$i="(?:"+[jt+pn+"?",pn,rr,vt,ct].join("|")+")",Bo=RegExp(Sr,"g"),Wa=RegExp(pn,"g"),Br=RegExp(vn+"(?="+vn+")|"+$i+vs,"g"),da=RegExp([Bn+"?"+jn+"+"+Us+"(?="+[Ft,Bn,"$"].join("|")+")",Xr+"+"+_s+"(?="+[Ft,Bn+ys,"$"].join("|")+")",Bn+"?"+ys+"+"+Us,Bn+"+"+_s,ji,Pn,Ot,hi].join("|"),"g"),pa=RegExp("["+hr+rt+Ue+Jr+"]"),Yr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vo=-1,sn={};sn[qn]=sn[Qt]=sn[Hr]=sn[Rr]=sn[ts]=sn[Ei]=sn[Ti]=sn[Bi]=sn[Wr]=!0,sn[Ce]=sn[Pe]=sn[wt]=sn[Ie]=sn[Ut]=sn[We]=sn[Je]=sn[pt]=sn[st]=sn[zt]=sn[Un]=sn[cn]=sn[hn]=sn[Cn]=sn[xn]=!1;var tn={};tn[Ce]=tn[Pe]=tn[wt]=tn[Ut]=tn[Ie]=tn[We]=tn[qn]=tn[Qt]=tn[Hr]=tn[Rr]=tn[ts]=tn[st]=tn[zt]=tn[Un]=tn[cn]=tn[hn]=tn[Cn]=tn[mn]=tn[Ei]=tn[Ti]=tn[Bi]=tn[Wr]=!0,tn[Je]=tn[pt]=tn[xn]=!1;var A={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ee={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},It=parseFloat,ut=parseInt,nn=typeof ua=="object"&&ua&&ua.Object===Object&&ua,on=typeof self=="object"&&self&&self.Object===Object&&self,St=nn||on||Function("return this")(),an=e&&!e.nodeType&&e,gn=an&&!0&&n&&!n.nodeType&&n,Vr=gn&&gn.exports===an,Xn=Vr&&nn.process,fn=function(){try{var pe=gn&&gn.require&&gn.require("util").types;return pe||Xn&&Xn.binding&&Xn.binding("util")}catch{}}(),wr=fn&&fn.isArrayBuffer,sr=fn&&fn.isDate,Or=fn&&fn.isMap,is=fn&&fn.isRegExp,ws=fn&&fn.isSet,ga=fn&&fn.isTypedArray;function Ar(pe,Re,we){switch(we.length){case 0:return pe.call(Re);case 1:return pe.call(Re,we[0]);case 2:return pe.call(Re,we[0],we[1]);case 3:return pe.call(Re,we[0],we[1],we[2])}return pe.apply(Re,we)}function ma(pe,Re,we,et){for(var Bt=-1,Ln=pe==null?0:pe.length;++Bt<Ln;){var Zr=pe[Bt];Re(et,Zr,we(Zr),pe)}return et}function fi(pe,Re){for(var we=-1,et=pe==null?0:pe.length;++we<et&&Re(pe[we],we,pe)!==!1;);return pe}function Dl(pe,Re){for(var we=pe==null?0:pe.length;we--&&Re(pe[we],we,pe)!==!1;);return pe}function Ml(pe,Re){for(var we=-1,et=pe==null?0:pe.length;++we<et;)if(!Re(pe[we],we,pe))return!1;return!0}function Js(pe,Re){for(var we=-1,et=pe==null?0:pe.length,Bt=0,Ln=[];++we<et;){var Zr=pe[we];Re(Zr,we,pe)&&(Ln[Bt++]=Zr)}return Ln}function Fl(pe,Re){var we=pe==null?0:pe.length;return!!we&&ya(pe,Re,0)>-1}function Ga(pe,Re,we){for(var et=-1,Bt=pe==null?0:pe.length;++et<Bt;)if(we(Re,pe[et]))return!0;return!1}function Wn(pe,Re){for(var we=-1,et=pe==null?0:pe.length,Bt=Array(et);++we<et;)Bt[we]=Re(pe[we],we,pe);return Bt}function yo(pe,Re){for(var we=-1,et=Re.length,Bt=pe.length;++we<et;)pe[Bt+we]=Re[we];return pe}function _o(pe,Re,we,et){var Bt=-1,Ln=pe==null?0:pe.length;for(et&&Ln&&(we=pe[++Bt]);++Bt<Ln;)we=Re(we,pe[Bt],Bt,pe);return we}function qh(pe,Re,we,et){var Bt=pe==null?0:pe.length;for(et&&Bt&&(we=pe[--Bt]);Bt--;)we=Re(we,pe[Bt],Bt,pe);return we}function xu(pe,Re){for(var we=-1,et=pe==null?0:pe.length;++we<et;)if(Re(pe[we],we,pe))return!0;return!1}var jh=L("length");function Ic(pe){return pe.split("")}function Iu(pe){return pe.match(Ks)||[]}function zi(pe,Re,we){var et;return we(pe,function(Bt,Ln,Zr){if(Re(Bt,Ln,Zr))return et=Ln,!1}),et}function Ul(pe,Re,we,et){for(var Bt=pe.length,Ln=we+(et?1:-1);et?Ln--:++Ln<Bt;)if(Re(pe[Ln],Ln,pe))return Ln;return-1}function ya(pe,Re,we){return Re===Re?zh(pe,Re,we):Ul(pe,p,we)}function qo(pe,Re,we,et){for(var Bt=we-1,Ln=pe.length;++Bt<Ln;)if(et(pe[Bt],Re))return Bt;return-1}function p(pe){return pe!==pe}function T(pe,Re){var we=pe==null?0:pe.length;return we?Ke(pe,Re)/we:Y}function L(pe){return function(Re){return Re==null?t:Re[pe]}}function K(pe){return function(Re){return pe==null?t:pe[Re]}}function ye(pe,Re,we,et,Bt){return Bt(pe,function(Ln,Zr,Yn){we=et?(et=!1,Ln):Re(we,Ln,Zr,Yn)}),we}function Se(pe,Re){var we=pe.length;for(pe.sort(Re);we--;)pe[we]=pe[we].value;return pe}function Ke(pe,Re){for(var we,et=-1,Bt=pe.length;++et<Bt;){var Ln=Re(pe[et]);Ln!==t&&(we=we===t?Ln:we+Ln)}return we}function Vn(pe,Re){for(var we=-1,et=Array(pe);++we<pe;)et[we]=Re(we);return et}function di(pe,Re){return Wn(Re,function(we){return[we,pe[we]]})}function En(pe){return pe&&pe.slice(0,Hh(pe)+1).replace(kr,"")}function $n(pe){return function(Re){return pe(Re)}}function Pr(pe,Re){return Wn(Re,function(we){return pe[we]})}function Hi(pe,Re){return pe.has(Re)}function Es(pe,Re){for(var we=-1,et=pe.length;++we<et&&ya(Re,pe[we],0)>-1;);return we}function Ka(pe,Re){for(var we=pe.length;we--&&ya(Re,pe[we],0)>-1;);return we}function Ru(pe,Re){for(var we=pe.length,et=0;we--;)pe[we]===Re&&++et;return et}var pm=K(A),gm=K(H);function mm(pe){return"\\"+xe[pe]}function ku(pe,Re){return pe==null?t:pe[Re]}function Nu(pe){return pa.test(pe)}function I_(pe){return Yr.test(pe)}function R_(pe){for(var Re,we=[];!(Re=pe.next()).done;)we.push(Re.value);return we}function $h(pe){var Re=-1,we=Array(pe.size);return pe.forEach(function(et,Bt){we[++Re]=[Bt,et]}),we}function Yd(pe,Re){return function(we){return pe(Re(we))}}function Xs(pe,Re){for(var we=-1,et=pe.length,Bt=0,Ln=[];++we<et;){var Zr=pe[we];(Zr===Re||Zr===_)&&(pe[we]=_,Ln[Bt++]=we)}return Ln}function Qa(pe){var Re=-1,we=Array(pe.size);return pe.forEach(function(et){we[++Re]=et}),we}function k_(pe){var Re=-1,we=Array(pe.size);return pe.forEach(function(et){we[++Re]=[et,et]}),we}function zh(pe,Re,we){for(var et=we-1,Bt=pe.length;++et<Bt;)if(pe[et]===Re)return et;return-1}function N_(pe,Re,we){for(var et=we+1;et--;)if(pe[et]===Re)return et;return et}function Bl(pe){return Nu(pe)?_m(pe):jh(pe)}function Bs(pe){return Nu(pe)?vm(pe):Ic(pe)}function Hh(pe){for(var Re=pe.length;Re--&&vr.test(pe.charAt(Re)););return Re}var ym=K(ee);function _m(pe){for(var Re=Br.lastIndex=0;Br.test(pe);)++Re;return Re}function vm(pe){return pe.match(Br)||[]}function O_(pe){return pe.match(da)||[]}var P_=function pe(Re){Re=Re==null?St:Ou.defaults(St.Object(),Re,Ou.pick(St,Qs));var we=Re.Array,et=Re.Date,Bt=Re.Error,Ln=Re.Function,Zr=Re.Math,Yn=Re.Object,Rc=Re.RegExp,L_=Re.String,Ys=Re.TypeError,_a=we.prototype,Zd=Ln.prototype,jo=Yn.prototype,Pu=Re["__core-js_shared__"],kc=Zd.toString,Dn=jo.hasOwnProperty,Lu=0,Wh=function(){var l=/[^.]+$/.exec(Pu&&Pu.keys&&Pu.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Nc=jo.toString,Gh=kc.call(Yn),wm=St._,Em=Rc("^"+kc.call(Dn).replace(nr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oc=Vr?Re.Buffer:t,va=Re.Symbol,Pc=Re.Uint8Array,ep=Oc?Oc.allocUnsafe:t,vo=Yd(Yn.getPrototypeOf,Yn),Kh=Yn.create,Qh=jo.propertyIsEnumerable,Jh=_a.splice,Tm=va?va.isConcatSpreadable:t,wa=va?va.iterator:t,Vl=va?va.toStringTag:t,Lc=function(){try{var l=ol(Yn,"defineProperty");return l({},"",{}),l}catch{}}(),bm=Re.clearTimeout!==St.clearTimeout&&Re.clearTimeout,fr=et&&et.now!==St.Date.now&&et.now,tp=Re.setTimeout!==St.setTimeout&&Re.setTimeout,ql=Zr.ceil,Ja=Zr.floor,Xh=Yn.getOwnPropertySymbols,np=Oc?Oc.isBuffer:t,Du=Re.isFinite,Yh=_a.join,Mu=Yd(Yn.keys,Yn),ei=Zr.max,Wi=Zr.min,D_=et.now,Sm=Re.parseInt,Dc=Zr.random,Zh=_a.reverse,Mc=ol(Re,"DataView"),jl=ol(Re,"Map"),Fc=ol(Re,"Promise"),Xa=ol(Re,"Set"),Uc=ol(Re,"WeakMap"),Fu=ol(Yn,"create"),ef=Uc&&new Uc,Uu={},rp=al(Mc),Ya=al(jl),Am=al(Fc),Bu=al(Xa),$o=al(Uc),Za=va?va.prototype:t,Vs=Za?Za.valueOf:t,tf=Za?Za.toString:t;function $(l){if(ni(l)&&!en(l)&&!(l instanceof Zt)){if(l instanceof Gi)return l;if(Dn.call(l,"__wrapped__"))return Zm(l)}return new Gi(l)}var Vu=function(){function l(){}return function(c){if(!jr(c))return{};if(Kh)return Kh(c);l.prototype=c;var y=new l;return l.prototype=t,y}}();function zo(){}function Gi(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}$.templateSettings={escape:bi,evaluate:Fr,interpolate:Ri,variable:"",imports:{_:$}},$.prototype=zo.prototype,$.prototype.constructor=$,Gi.prototype=Vu(zo.prototype),Gi.prototype.constructor=Gi;function Zt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function nf(){var l=new Zt(this.__wrapped__);return l.__actions__=os(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=os(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=os(this.__views__),l}function ip(){if(this.__filtered__){var l=new Zt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function qu(){var l=this.__wrapped__.value(),c=this.__dir__,y=en(l),S=c<0,M=y?l.length:0,Q=Op(0,M,this.__views__),te=Q.start,ue=Q.end,me=ue-te,Le=S?ue:te-1,De=this.__iteratees__,Ve=De.length,Ze=0,mt=Wi(me,this.__takeCount__);if(!y||!S&&M==me&&mt==me)return Qu(l,this.__actions__);var Pt=[];e:for(;me--&&Ze<mt;){Le+=c;for(var dn=-1,Lt=l[Le];++dn<Ve;){var Tn=De[dn],Nn=Tn.iteratee,Ro=Tn.type,Hs=Nn(Lt);if(Ro==le)Lt=Hs;else if(!Hs){if(Ro==oe)continue e;break e}}Pt[Ze++]=Lt}return Pt}Zt.prototype=Vu(zo.prototype),Zt.prototype.constructor=Zt;function Ts(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var S=l[c];this.set(S[0],S[1])}}function dr(){this.__data__=Fu?Fu(null):{},this.size=0}function ar(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}function el(l){var c=this.__data__;if(Fu){var y=c[l];return y===d?t:y}return Dn.call(c,l)?c[l]:t}function Ki(l){var c=this.__data__;return Fu?c[l]!==t:Dn.call(c,l)}function bs(l,c){var y=this.__data__;return this.size+=this.has(l)?0:1,y[l]=Fu&&c===t?d:c,this}Ts.prototype.clear=dr,Ts.prototype.delete=ar,Ts.prototype.get=el,Ts.prototype.has=Ki,Ts.prototype.set=bs;function ss(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var S=l[c];this.set(S[0],S[1])}}function ju(){this.__data__=[],this.size=0}function Ss(l){var c=this.__data__,y=Ji(c,l);if(y<0)return!1;var S=c.length-1;return y==S?c.pop():Jh.call(c,y,1),--this.size,!0}function rf(l){var c=this.__data__,y=Ji(c,l);return y<0?t:c[y][1]}function Cm(l){return Ji(this.__data__,l)>-1}function xm(l,c){var y=this.__data__,S=Ji(y,l);return S<0?(++this.size,y.push([l,c])):y[S][1]=c,this}ss.prototype.clear=ju,ss.prototype.delete=Ss,ss.prototype.get=rf,ss.prototype.has=Cm,ss.prototype.set=xm;function Zs(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var S=l[c];this.set(S[0],S[1])}}function Im(){this.size=0,this.__data__={hash:new Ts,map:new(jl||ss),string:new Ts}}function Ea(l){var c=eh(this,l).delete(l);return this.size-=c?1:0,c}function sf(l){return eh(this,l).get(l)}function sp(l){return eh(this,l).has(l)}function Rm(l,c){var y=eh(this,l),S=y.size;return y.set(l,c),this.size+=y.size==S?0:1,this}Zs.prototype.clear=Im,Zs.prototype.delete=Ea,Zs.prototype.get=sf,Zs.prototype.has=sp,Zs.prototype.set=Rm;function $l(l){var c=-1,y=l==null?0:l.length;for(this.__data__=new Zs;++c<y;)this.add(l[c])}function tl(l){return this.__data__.set(l,d),this}function $u(l){return this.__data__.has(l)}$l.prototype.add=$l.prototype.push=tl,$l.prototype.has=$u;function Qi(l){var c=this.__data__=new ss(l);this.size=c.size}function of(){this.__data__=new ss,this.size=0}function af(l){var c=this.__data__,y=c.delete(l);return this.size=c.size,y}function eo(l){return this.__data__.get(l)}function to(l){return this.__data__.has(l)}function zl(l,c){var y=this.__data__;if(y instanceof ss){var S=y.__data__;if(!jl||S.length<i-1)return S.push([l,c]),this.size=++y.size,this;y=this.__data__=new Zs(S)}return y.set(l,c),this.size=y.size,this}Qi.prototype.clear=of,Qi.prototype.delete=af,Qi.prototype.get=eo,Qi.prototype.has=to,Qi.prototype.set=zl;function Ho(l,c){var y=en(l),S=!y&&fh(l),M=!y&&!S&&sc(l),Q=!y&&!S&&!M&&Yf(l),te=y||S||M||Q,ue=te?Vn(l.length,L_):[],me=ue.length;for(var Le in l)(c||Dn.call(l,Le))&&!(te&&(Le=="length"||M&&(Le=="offset"||Le=="parent")||Q&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||Tr(Le,me)))&&ue.push(Le);return ue}function Wo(l){var c=l.length;return c?l[Gu(0,c-1)]:t}function Hl(l,c){return Pf(os(l),Ta(c,0,l.length))}function km(l){return Pf(os(l))}function Bc(l,c,y){(y!==t&&!Oa(l[c],y)||y===t&&!(c in l))&&Go(l,c,y)}function Wl(l,c,y){var S=l[c];(!(Dn.call(l,c)&&Oa(S,y))||y===t&&!(c in l))&&Go(l,c,y)}function Ji(l,c){for(var y=l.length;y--;)if(Oa(l[y][0],c))return y;return-1}function qs(l,c,y,S){return Qo(l,function(M,Q,te){c(S,M,y(M),te)}),S}function pr(l,c){return l&&Eo(c,Zi(c),l)}function wo(l,c){return l&&Eo(c,co(c),l)}function Go(l,c,y){c=="__proto__"&&Lc?Lc(l,c,{configurable:!0,enumerable:!0,value:y,writable:!0}):l[c]=y}function lf(l,c){for(var y=-1,S=c.length,M=we(S),Q=l==null;++y<S;)M[y]=Q?t:r1(l,c[y]);return M}function Ta(l,c,y){return l===l&&(y!==t&&(l=l<=y?l:y),c!==t&&(l=l>=c?l:c)),l}function As(l,c,y,S,M,Q){var te,ue=c&w,me=c&E,Le=c&x;if(y&&(te=M?y(l,S,M,Q):y(l)),te!==t)return te;if(!jr(l))return l;var De=en(l);if(De){if(te=nh(l),!ue)return os(l,te)}else{var Ve=Pi(l),Ze=Ve==pt||Ve==gt;if(sc(l))return wp(l,ue);if(Ve==Un||Ve==Ce||Ze&&!M){if(te=me||Ze?{}:Li(l),!ue)return me?F_(l,wo(te,l)):Ef(l,pr(te,l))}else{if(!tn[Ve])return M?l:{};te=U_(l,Ve,ue)}}Q||(Q=new Qi);var mt=Q.get(l);if(mt)return mt;Q.set(l,te),$E(l)?l.forEach(function(Lt){te.add(As(Lt,c,y,Lt,l,Q))}):qE(l)&&l.forEach(function(Lt,Tn){te.set(Tn,As(Lt,c,y,Tn,l,Q))});var Pt=Le?me?Zc:Yc:me?co:Zi,dn=De?t:Pt(l);return fi(dn||l,function(Lt,Tn){dn&&(Tn=Lt,Lt=l[Tn]),Wl(te,Tn,As(Lt,c,y,Tn,l,Q))}),te}function Nm(l){var c=Zi(l);return function(y){return Vc(y,l,c)}}function Vc(l,c,y){var S=y.length;if(l==null)return!S;for(l=Yn(l);S--;){var M=y[S],Q=c[M],te=l[M];if(te===t&&!(M in l)||!Q(te))return!1}return!0}function op(l,c,y){if(typeof l!="function")throw new Ys(u);return nc(function(){l.apply(t,y)},c)}function Ko(l,c,y,S){var M=-1,Q=Fl,te=!0,ue=l.length,me=[],Le=c.length;if(!ue)return me;y&&(c=Wn(c,$n(y))),S?(Q=Ga,te=!1):c.length>=i&&(Q=Hi,te=!1,c=new $l(c));e:for(;++M<ue;){var De=l[M],Ve=y==null?De:y(De);if(De=S||De!==0?De:0,te&&Ve===Ve){for(var Ze=Le;Ze--;)if(c[Ze]===Ve)continue e;me.push(De)}else Q(c,Ve,S)||me.push(De)}return me}var Qo=oo(js),Om=oo(nl,!0);function qc(l,c){var y=!0;return Qo(l,function(S,M,Q){return y=!!c(S,M,Q),y}),y}function Gl(l,c,y){for(var S=-1,M=l.length;++S<M;){var Q=l[S],te=c(Q);if(te!=null&&(ue===t?te===te&&!Io(te):y(te,ue)))var ue=te,me=Q}return me}function Pm(l,c,y,S){var M=l.length;for(y=un(y),y<0&&(y=-y>M?0:M+y),S=S===t||S>M?M:un(S),S<0&&(S+=M),S=y>S?0:HE(S);y<S;)l[y++]=c;return l}function ap(l,c){var y=[];return Qo(l,function(S,M,Q){c(S,M,Q)&&y.push(S)}),y}function Lr(l,c,y,S,M){var Q=-1,te=l.length;for(y||(y=kf),M||(M=[]);++Q<te;){var ue=l[Q];c>0&&y(ue)?c>1?Lr(ue,c-1,y,S,M):yo(M,ue):S||(M[M.length]=ue)}return M}var uf=bf(),jc=bf(!0);function js(l,c){return l&&uf(l,c,Zi)}function nl(l,c){return l&&jc(l,c,Zi)}function zu(l,c){return Js(c,function(y){return su(l[y])})}function ba(l,c){c=Yo(c,l);for(var y=0,S=c.length;l!=null&&y<S;)l=l[Ao(c[y++])];return y&&y==S?l:t}function cf(l,c,y){var S=c(l);return en(l)?S:yo(S,y(l))}function Ni(l){return l==null?l===t?Ht:tr:Vl&&Vl in Yn(l)?Rf(l):Lp(l)}function rl(l,c){return l>c}function no(l,c){return l!=null&&Dn.call(l,c)}function Kl(l,c){return l!=null&&c in Yn(l)}function lp(l,c,y){return l>=Wi(c,y)&&l<ei(c,y)}function hf(l,c,y){for(var S=y?Ga:Fl,M=l[0].length,Q=l.length,te=Q,ue=we(Q),me=1/0,Le=[];te--;){var De=l[te];te&&c&&(De=Wn(De,$n(c))),me=Wi(De.length,me),ue[te]=!y&&(c||M>=120&&De.length>=120)?new $l(te&&De):t}De=l[0];var Ve=-1,Ze=ue[0];e:for(;++Ve<M&&Le.length<me;){var mt=De[Ve],Pt=c?c(mt):mt;if(mt=y||mt!==0?mt:0,!(Ze?Hi(Ze,Pt):S(Le,Pt,y))){for(te=Q;--te;){var dn=ue[te];if(!(dn?Hi(dn,Pt):S(l[te],Pt,y)))continue e}Ze&&Ze.push(Pt),Le.push(mt)}}return Le}function Sa(l,c,y,S){return js(l,function(M,Q,te){c(S,y(M),Q,te)}),S}function ro(l,c,y){c=Yo(c,l),l=Ai(l,c);var S=l==null?l:l[Ao(us(c))];return S==null?t:Ar(S,l,y)}function ff(l){return ni(l)&&Ni(l)==Ce}function Lm(l){return ni(l)&&Ni(l)==wt}function Aa(l){return ni(l)&&Ni(l)==We}function io(l,c,y,S,M){return l===c?!0:l==null||c==null||!ni(l)&&!ni(c)?l!==l&&c!==c:df(l,c,y,S,io,M)}function df(l,c,y,S,M,Q){var te=en(l),ue=en(c),me=te?Pe:Pi(l),Le=ue?Pe:Pi(c);me=me==Ce?Un:me,Le=Le==Ce?Un:Le;var De=me==Un,Ve=Le==Un,Ze=me==Le;if(Ze&&sc(l)){if(!sc(c))return!1;te=!0,De=!1}if(Ze&&!De)return Q||(Q=new Qi),te||Yf(l)?kp(l,c,y,S,M,Q):Np(l,c,me,y,S,M,Q);if(!(y&R)){var mt=De&&Dn.call(l,"__wrapped__"),Pt=Ve&&Dn.call(c,"__wrapped__");if(mt||Pt){var dn=mt?l.value():l,Lt=Pt?c.value():c;return Q||(Q=new Qi),M(dn,Lt,y,S,Q)}}return Ze?(Q||(Q=new Qi),Hm(l,c,y,S,M,Q)):!1}function Dm(l){return ni(l)&&Pi(l)==st}function Hu(l,c,y,S){var M=y.length,Q=M,te=!S;if(l==null)return!Q;for(l=Yn(l);M--;){var ue=y[M];if(te&&ue[2]?ue[1]!==l[ue[0]]:!(ue[0]in l))return!1}for(;++M<Q;){ue=y[M];var me=ue[0],Le=l[me],De=ue[1];if(te&&ue[2]){if(Le===t&&!(me in l))return!1}else{var Ve=new Qi;if(S)var Ze=S(Le,De,me,l,c,Ve);if(!(Ze===t?io(De,Le,R|O,S,Ve):Ze))return!1}}return!0}function up(l){if(!jr(l)||Km(l))return!1;var c=su(l)?Em:Qr;return c.test(al(l))}function $c(l){return ni(l)&&Ni(l)==cn}function Jo(l){return ni(l)&&Pi(l)==hn}function zc(l){return ni(l)&&dy(l.length)&&!!sn[Ni(l)]}function Wu(l){return typeof l=="function"?l:l==null?ho:typeof l=="object"?en(l)?Er(l[0],l[1]):pf(l):nT(l)}function Ca(l){if(!ka(l))return Mu(l);var c=[];for(var y in Yn(l))Dn.call(l,y)&&y!="constructor"&&c.push(y);return c}function cp(l){if(!jr(l))return Xm(l);var c=ka(l),y=[];for(var S in l)S=="constructor"&&(c||!Dn.call(l,S))||y.push(S);return y}function il(l,c){return l<c}function hp(l,c){var y=-1,S=uo(l)?we(l.length):[];return Qo(l,function(M,Q,te){S[++y]=c(M,Q,te)}),S}function pf(l){var c=th(l);return c.length==1&&c[0][2]?Nf(c[0][0],c[0][1]):function(y){return y===l||Hu(y,l,c)}}function Er(l,c){return it(l)&&ih(c)?Nf(Ao(l),c):function(y){var S=r1(y,l);return S===t&&S===c?i1(y,l):io(c,S,R|O)}}function Ql(l,c,y,S,M){l!==c&&uf(c,function(Q,te){if(M||(M=new Qi),jr(Q))fp(l,c,te,y,Ql,S,M);else{var ue=S?S(ta(l,te),Q,te+"",l,c,M):t;ue===t&&(ue=Q),Bc(l,te,ue)}},co)}function fp(l,c,y,S,M,Q,te){var ue=ta(l,y),me=ta(c,y),Le=te.get(me);if(Le){Bc(l,y,Le);return}var De=Q?Q(ue,me,y+"",l,c,te):t,Ve=De===t;if(Ve){var Ze=en(me),mt=!Ze&&sc(me),Pt=!Ze&&!mt&&Yf(me);De=me,Ze||mt||Pt?en(ue)?De=ue:yi(ue)?De=os(ue):mt?(Ve=!1,De=wp(me,!0)):Pt?(Ve=!1,De=Vm(me,!0)):De=[]:Yp(me)||fh(me)?(De=ue,fh(ue)?De=WE(ue):(!jr(ue)||su(ue))&&(De=Li(me))):Ve=!1}Ve&&(te.set(me,De),M(De,me,S,Q,te),te.delete(me)),Bc(l,y,De)}function gf(l,c){var y=l.length;if(y)return c+=c<0?y:0,Tr(c,y)?l[c]:t}function Hc(l,c,y){c.length?c=Wn(c,function(Q){return en(Q)?function(te){return ba(te,Q.length===1?Q[0]:Q)}:Q}):c=[ho];var S=-1;c=Wn(c,$n(bt()));var M=hp(l,function(Q,te,ue){var me=Wn(c,function(Le){return Le(Q)});return{criteria:me,index:++S,value:Q}});return Se(M,function(Q,te){return M_(Q,te,y)})}function dp(l,c){return sl(l,c,function(y,S){return i1(l,S)})}function sl(l,c,y){for(var S=-1,M=c.length,Q={};++S<M;){var te=c[S],ue=ba(l,te);y(ue,te)&&Xl(Q,Yo(te,l),ue)}return Q}function Cr(l){return function(c){return ba(c,l)}}function qr(l,c,y,S){var M=S?qo:ya,Q=-1,te=c.length,ue=l;for(l===c&&(c=os(c)),y&&(ue=Wn(l,$n(y)));++Q<te;)for(var me=0,Le=c[Q],De=y?y(Le):Le;(me=M(ue,De,me,S))>-1;)ue!==l&&Jh.call(ue,me,1),Jh.call(l,me,1);return l}function pi(l,c){for(var y=l?c.length:0,S=y-1;y--;){var M=c[y];if(y==S||M!==Q){var Q=M;Tr(M)?Jh.call(l,M,1):_f(l,M)}}return l}function Gu(l,c){return l+Ja(Dc()*(c-l+1))}function Wc(l,c,y,S){for(var M=-1,Q=ei(ql((c-l)/(y||1)),0),te=we(Q);Q--;)te[S?Q:++M]=l,l+=y;return te}function Jl(l,c){var y="";if(!l||c<1||c>se)return y;do c%2&&(y+=l),c=Ja(c/2),c&&(l+=l);while(c);return y}function ln(l,c){return $s(Of(l,c,ho),l+"")}function Xi(l){return Wo(Zf(l))}function pp(l,c){var y=Zf(l);return Pf(y,Ta(c,0,y.length))}function Xl(l,c,y,S){if(!jr(l))return l;c=Yo(c,l);for(var M=-1,Q=c.length,te=Q-1,ue=l;ue!=null&&++M<Q;){var me=Ao(c[M]),Le=y;if(me==="__proto__"||me==="constructor"||me==="prototype")return l;if(M!=te){var De=ue[me];Le=S?S(De,me,ue):t,Le===t&&(Le=jr(De)?De:Tr(c[M+1])?[]:{})}Wl(ue,me,Le),ue=ue[me]}return l}var mf=ef?function(l,c){return ef.set(l,c),l}:ho,Xo=Lc?function(l,c){return Lc(l,"toString",{configurable:!0,enumerable:!1,value:o1(c),writable:!0})}:ho;function so(l){return Pf(Zf(l))}function Yi(l,c,y){var S=-1,M=l.length;c<0&&(c=-c>M?0:M+c),y=y>M?M:y,y<0&&(y+=M),M=c>y?0:y-c>>>0,c>>>=0;for(var Q=we(M);++S<M;)Q[S]=l[S+c];return Q}function gp(l,c){var y;return Qo(l,function(S,M,Q){return y=c(S,M,Q),!y}),!!y}function Ku(l,c,y){var S=0,M=l==null?S:l.length;if(typeof c=="number"&&c===c&&M<=he){for(;S<M;){var Q=S+M>>>1,te=l[Q];te!==null&&!Io(te)&&(y?te<=c:te<c)?S=Q+1:M=Q}return M}return yf(l,c,ho,y)}function yf(l,c,y,S){var M=0,Q=l==null?0:l.length;if(Q===0)return 0;c=y(c);for(var te=c!==c,ue=c===null,me=Io(c),Le=c===t;M<Q;){var De=Ja((M+Q)/2),Ve=y(l[De]),Ze=Ve!==t,mt=Ve===null,Pt=Ve===Ve,dn=Io(Ve);if(te)var Lt=S||Pt;else Le?Lt=Pt&&(S||Ze):ue?Lt=Pt&&Ze&&(S||!mt):me?Lt=Pt&&Ze&&!mt&&(S||!dn):mt||dn?Lt=!1:Lt=S?Ve<=c:Ve<c;Lt?M=De+1:Q=De}return Wi(Q,ie)}function mp(l,c){for(var y=-1,S=l.length,M=0,Q=[];++y<S;){var te=l[y],ue=c?c(te):te;if(!y||!Oa(ue,me)){var me=ue;Q[M++]=te===0?0:te}}return Q}function yp(l){return typeof l=="number"?l:Io(l)?Y:+l}function Cs(l){if(typeof l=="string")return l;if(en(l))return Wn(l,Cs)+"";if(Io(l))return tf?tf.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}function xa(l,c,y){var S=-1,M=Fl,Q=l.length,te=!0,ue=[],me=ue;if(y)te=!1,M=Ga;else if(Q>=i){var Le=c?null:zm(l);if(Le)return Qa(Le);te=!1,M=Hi,me=new $l}else me=c?[]:ue;e:for(;++S<Q;){var De=l[S],Ve=c?c(De):De;if(De=y||De!==0?De:0,te&&Ve===Ve){for(var Ze=me.length;Ze--;)if(me[Ze]===Ve)continue e;c&&me.push(Ve),ue.push(De)}else M(me,Ve,y)||(me!==ue&&me.push(Ve),ue.push(De))}return ue}function _f(l,c){return c=Yo(c,l),l=Ai(l,c),l==null||delete l[Ao(us(c))]}function _p(l,c,y,S){return Xl(l,c,y(ba(l,c)),S)}function Gc(l,c,y,S){for(var M=l.length,Q=S?M:-1;(S?Q--:++Q<M)&&c(l[Q],Q,l););return y?Yi(l,S?0:Q,S?Q+1:M):Yi(l,S?Q+1:0,S?M:Q)}function Qu(l,c){var y=l;return y instanceof Zt&&(y=y.value()),_o(c,function(S,M){return M.func.apply(M.thisArg,yo([S],M.args))},y)}function vf(l,c,y){var S=l.length;if(S<2)return S?xa(l[0]):[];for(var M=-1,Q=we(S);++M<S;)for(var te=l[M],ue=-1;++ue<S;)ue!=M&&(Q[M]=Ko(Q[M]||te,l[ue],c,y));return xa(Lr(Q,1),c,y)}function Kc(l,c,y){for(var S=-1,M=l.length,Q=c.length,te={};++S<M;){var ue=S<Q?c[S]:t;y(te,l[S],ue)}return te}function Ju(l){return yi(l)?l:[]}function wf(l){return typeof l=="function"?l:ho}function Yo(l,c){return en(l)?l:it(l,c)?[l]:Fp(Zn(l))}var Mm=ln;function Ia(l,c,y){var S=l.length;return y=y===t?S:y,!c&&y>=S?l:Yi(l,c,y)}var vp=bm||function(l){return St.clearTimeout(l)};function wp(l,c){if(c)return l.slice();var y=l.length,S=ep?ep(y):new l.constructor(y);return l.copy(S),S}function Qc(l){var c=new l.constructor(l.byteLength);return new Pc(c).set(new Pc(l)),c}function Fm(l,c){var y=c?Qc(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.byteLength)}function Um(l){var c=new l.constructor(l.source,yn.exec(l));return c.lastIndex=l.lastIndex,c}function Bm(l){return Vs?Yn(Vs.call(l)):{}}function Vm(l,c){var y=c?Qc(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.length)}function Ep(l,c){if(l!==c){var y=l!==t,S=l===null,M=l===l,Q=Io(l),te=c!==t,ue=c===null,me=c===c,Le=Io(c);if(!ue&&!Le&&!Q&&l>c||Q&&te&&me&&!ue&&!Le||S&&te&&me||!y&&me||!M)return 1;if(!S&&!Q&&!Le&&l<c||Le&&y&&M&&!S&&!Q||ue&&y&&M||!te&&M||!me)return-1}return 0}function M_(l,c,y){for(var S=-1,M=l.criteria,Q=c.criteria,te=M.length,ue=y.length;++S<te;){var me=Ep(M[S],Q[S]);if(me){if(S>=ue)return me;var Le=y[S];return me*(Le=="desc"?-1:1)}}return l.index-c.index}function qm(l,c,y,S){for(var M=-1,Q=l.length,te=y.length,ue=-1,me=c.length,Le=ei(Q-te,0),De=we(me+Le),Ve=!S;++ue<me;)De[ue]=c[ue];for(;++M<te;)(Ve||M<Q)&&(De[y[M]]=l[M]);for(;Le--;)De[ue++]=l[M++];return De}function Tp(l,c,y,S){for(var M=-1,Q=l.length,te=-1,ue=y.length,me=-1,Le=c.length,De=ei(Q-ue,0),Ve=we(De+Le),Ze=!S;++M<De;)Ve[M]=l[M];for(var mt=M;++me<Le;)Ve[mt+me]=c[me];for(;++te<ue;)(Ze||M<Q)&&(Ve[mt+y[te]]=l[M++]);return Ve}function os(l,c){var y=-1,S=l.length;for(c||(c=we(S));++y<S;)c[y]=l[y];return c}function Eo(l,c,y,S){var M=!y;y||(y={});for(var Q=-1,te=c.length;++Q<te;){var ue=c[Q],me=S?S(y[ue],l[ue],ue,y,l):t;me===t&&(me=l[ue]),M?Go(y,ue,me):Wl(y,ue,me)}return y}function Ef(l,c){return Eo(l,To(l),c)}function F_(l,c){return Eo(l,Wm(l),c)}function Tf(l,c){return function(y,S){var M=en(y)?ma:qs,Q=c?c():{};return M(y,l,bt(S,2),Q)}}function Xu(l){return ln(function(c,y){var S=-1,M=y.length,Q=M>1?y[M-1]:t,te=M>2?y[2]:t;for(Q=l.length>3&&typeof Q=="function"?(M--,Q):t,te&&ls(y[0],y[1],te)&&(Q=M<3?t:Q,M=1),c=Yn(c);++S<M;){var ue=y[S];ue&&l(c,ue,S,Q)}return c})}function oo(l,c){return function(y,S){if(y==null)return y;if(!uo(y))return l(y,S);for(var M=y.length,Q=c?M:-1,te=Yn(y);(c?Q--:++Q<M)&&S(te[Q],Q,te)!==!1;);return y}}function bf(l){return function(c,y,S){for(var M=-1,Q=Yn(c),te=S(c),ue=te.length;ue--;){var me=te[l?ue:++M];if(y(Q[me],me,Q)===!1)break}return c}}function Sf(l,c,y){var S=c&P,M=Yu(l);function Q(){var te=this&&this!==St&&this instanceof Q?M:l;return te.apply(S?y:this,arguments)}return Q}function bp(l){return function(c){c=Zn(c);var y=Nu(c)?Bs(c):t,S=y?y[0]:c.charAt(0),M=y?Ia(y,1).join(""):c.slice(1);return S[l]()+M}}function Yl(l){return function(c){return _o(eT(ZE(c).replace(Bo,"")),l,"")}}function Yu(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var y=Vu(l.prototype),S=l.apply(y,c);return jr(S)?S:y}}function Sp(l,c,y){var S=Yu(l);function M(){for(var Q=arguments.length,te=we(Q),ue=Q,me=Ra(M);ue--;)te[ue]=arguments[ue];var Le=Q<3&&te[0]!==me&&te[Q-1]!==me?[]:Xs(te,me);if(Q-=Le.length,Q<y)return as(l,c,Zu,M.placeholder,t,te,Le,t,t,y-Q);var De=this&&this!==St&&this instanceof M?S:l;return Ar(De,this,te)}return M}function Zl(l){return function(c,y,S){var M=Yn(c);if(!uo(c)){var Q=bt(y,3);c=Zi(c),y=function(ue){return Q(M[ue],ue,M)}}var te=l(c,y,S);return te>-1?M[Q?c[te]:te]:t}}function Af(l){return ea(function(c){var y=c.length,S=y,M=Gi.prototype.thru;for(l&&c.reverse();S--;){var Q=c[S];if(typeof Q!="function")throw new Ys(u);if(M&&!te&&ec(Q)=="wrapper")var te=new Gi([],!0)}for(S=te?S:y;++S<y;){Q=c[S];var ue=ec(Q),me=ue=="wrapper"?If(Q):t;me&&rh(me[0])&&me[1]==(D|C|z|q)&&!me[4].length&&me[9]==1?te=te[ec(me[0])].apply(te,me[3]):te=Q.length==1&&rh(Q)?te[ue]():te.thru(Q)}return function(){var Le=arguments,De=Le[0];if(te&&Le.length==1&&en(De))return te.plant(De).value();for(var Ve=0,Ze=y?c[Ve].apply(this,Le):De;++Ve<y;)Ze=c[Ve].call(this,Ze);return Ze}})}function Zu(l,c,y,S,M,Q,te,ue,me,Le){var De=c&D,Ve=c&P,Ze=c&U,mt=c&(C|F),Pt=c&W,dn=Ze?t:Yu(l);function Lt(){for(var Tn=arguments.length,Nn=we(Tn),Ro=Tn;Ro--;)Nn[Ro]=arguments[Ro];if(mt)var Hs=Ra(Lt),ko=Ru(Nn,Hs);if(S&&(Nn=qm(Nn,S,M,mt)),Q&&(Nn=Tp(Nn,Q,te,mt)),Tn-=ko,mt&&Tn<Le){var _i=Xs(Nn,Hs);return as(l,c,Zu,Lt.placeholder,y,Nn,_i,ue,me,Le-Tn)}var Pa=Ve?y:this,au=Ze?Pa[l]:l;return Tn=Nn.length,ue?Nn=bo(Nn,ue):Pt&&Tn>1&&Nn.reverse(),De&&me<Tn&&(Nn.length=me),this&&this!==St&&this instanceof Lt&&(au=dn||Yu(au)),au.apply(Pa,Nn)}return Lt}function jm(l,c){return function(y,S){return Sa(y,l,c(S),{})}}function Jc(l,c){return function(y,S){var M;if(y===t&&S===t)return c;if(y!==t&&(M=y),S!==t){if(M===t)return S;typeof y=="string"||typeof S=="string"?(y=Cs(y),S=Cs(S)):(y=yp(y),S=yp(S)),M=l(y,S)}return M}}function Cf(l){return ea(function(c){return c=Wn(c,$n(bt())),ln(function(y){var S=this;return l(c,function(M){return Ar(M,S,y)})})})}function Xc(l,c){c=c===t?" ":Cs(c);var y=c.length;if(y<2)return y?Jl(c,l):c;var S=Jl(c,ql(l/Bl(c)));return Nu(c)?Ia(Bs(S),0,l).join(""):S.slice(0,l)}function $m(l,c,y,S){var M=c&P,Q=Yu(l);function te(){for(var ue=-1,me=arguments.length,Le=-1,De=S.length,Ve=we(De+me),Ze=this&&this!==St&&this instanceof te?Q:l;++Le<De;)Ve[Le]=S[Le];for(;me--;)Ve[Le++]=arguments[++ue];return Ar(Ze,M?y:this,Ve)}return te}function Ap(l){return function(c,y,S){return S&&typeof S!="number"&&ls(c,y,S)&&(y=S=t),c=ou(c),y===t?(y=c,c=0):y=ou(y),S=S===t?c<y?1:-1:ou(S),Wc(c,y,S,l)}}function xf(l){return function(c,y){return typeof c=="string"&&typeof y=="string"||(c=na(c),y=na(y)),l(c,y)}}function as(l,c,y,S,M,Q,te,ue,me,Le){var De=c&C,Ve=De?te:t,Ze=De?t:te,mt=De?Q:t,Pt=De?t:Q;c|=De?z:J,c&=~(De?J:z),c&B||(c&=-4);var dn=[l,c,M,mt,Ve,Pt,Ze,ue,me,Le],Lt=y.apply(t,dn);return rh(l)&&Dp(Lt,dn),Lt.placeholder=S,Mp(Lt,l,c)}function Oi(l){var c=Zr[l];return function(y,S){if(y=na(y),S=S==null?0:Wi(un(S),292),S&&Du(y)){var M=(Zn(y)+"e").split("e"),Q=c(M[0]+"e"+(+M[1]+S));return M=(Zn(Q)+"e").split("e"),+(M[0]+"e"+(+M[1]-S))}return c(y)}}var zm=Xa&&1/Qa(new Xa([,-0]))[1]==de?function(l){return new Xa(l)}:u1;function Cp(l){return function(c){var y=Pi(c);return y==st?$h(c):y==hn?k_(c):di(c,l(c))}}function Zo(l,c,y,S,M,Q,te,ue){var me=c&U;if(!me&&typeof l!="function")throw new Ys(u);var Le=S?S.length:0;if(Le||(c&=-97,S=M=t),te=te===t?te:ei(un(te),0),ue=ue===t?ue:un(ue),Le-=M?M.length:0,c&J){var De=S,Ve=M;S=M=t}var Ze=me?t:If(l),mt=[l,c,y,S,M,De,Ve,Q,te,ue];if(Ze&&Jm(mt,Ze),l=mt[0],c=mt[1],y=mt[2],S=mt[3],M=mt[4],ue=mt[9]=mt[9]===t?me?0:l.length:ei(mt[9]-Le,0),!ue&&c&(C|F)&&(c&=-25),!c||c==P)var Pt=Sf(l,c,y);else c==C||c==F?Pt=Sp(l,c,ue):(c==z||c==(P|z))&&!M.length?Pt=$m(l,c,y,S):Pt=Zu.apply(t,mt);var dn=Ze?mf:Dp;return Mp(dn(Pt,mt),l,c)}function xp(l,c,y,S){return l===t||Oa(l,jo[y])&&!Dn.call(S,y)?c:l}function Ip(l,c,y,S,M,Q){return jr(l)&&jr(c)&&(Q.set(c,l),Ql(l,c,t,Ip,Q),Q.delete(c)),l}function Rp(l){return Yp(l)?t:l}function kp(l,c,y,S,M,Q){var te=y&R,ue=l.length,me=c.length;if(ue!=me&&!(te&&me>ue))return!1;var Le=Q.get(l),De=Q.get(c);if(Le&&De)return Le==c&&De==l;var Ve=-1,Ze=!0,mt=y&O?new $l:t;for(Q.set(l,c),Q.set(c,l);++Ve<ue;){var Pt=l[Ve],dn=c[Ve];if(S)var Lt=te?S(dn,Pt,Ve,c,l,Q):S(Pt,dn,Ve,l,c,Q);if(Lt!==t){if(Lt)continue;Ze=!1;break}if(mt){if(!xu(c,function(Tn,Nn){if(!Hi(mt,Nn)&&(Pt===Tn||M(Pt,Tn,y,S,Q)))return mt.push(Nn)})){Ze=!1;break}}else if(!(Pt===dn||M(Pt,dn,y,S,Q))){Ze=!1;break}}return Q.delete(l),Q.delete(c),Ze}function Np(l,c,y,S,M,Q,te){switch(y){case Ut:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case wt:return!(l.byteLength!=c.byteLength||!Q(new Pc(l),new Pc(c)));case Ie:case We:case zt:return Oa(+l,+c);case Je:return l.name==c.name&&l.message==c.message;case cn:case Cn:return l==c+"";case st:var ue=$h;case hn:var me=S&R;if(ue||(ue=Qa),l.size!=c.size&&!me)return!1;var Le=te.get(l);if(Le)return Le==c;S|=O,te.set(l,c);var De=kp(ue(l),ue(c),S,M,Q,te);return te.delete(l),De;case mn:if(Vs)return Vs.call(l)==Vs.call(c)}return!1}function Hm(l,c,y,S,M,Q){var te=y&R,ue=Yc(l),me=ue.length,Le=Yc(c),De=Le.length;if(me!=De&&!te)return!1;for(var Ve=me;Ve--;){var Ze=ue[Ve];if(!(te?Ze in c:Dn.call(c,Ze)))return!1}var mt=Q.get(l),Pt=Q.get(c);if(mt&&Pt)return mt==c&&Pt==l;var dn=!0;Q.set(l,c),Q.set(c,l);for(var Lt=te;++Ve<me;){Ze=ue[Ve];var Tn=l[Ze],Nn=c[Ze];if(S)var Ro=te?S(Nn,Tn,Ze,c,l,Q):S(Tn,Nn,Ze,l,c,Q);if(!(Ro===t?Tn===Nn||M(Tn,Nn,y,S,Q):Ro)){dn=!1;break}Lt||(Lt=Ze=="constructor")}if(dn&&!Lt){var Hs=l.constructor,ko=c.constructor;Hs!=ko&&"constructor"in l&&"constructor"in c&&!(typeof Hs=="function"&&Hs instanceof Hs&&typeof ko=="function"&&ko instanceof ko)&&(dn=!1)}return Q.delete(l),Q.delete(c),dn}function ea(l){return $s(Of(l,t,Df),l+"")}function Yc(l){return cf(l,Zi,To)}function Zc(l){return cf(l,co,Wm)}var If=ef?function(l){return ef.get(l)}:u1;function ec(l){for(var c=l.name+"",y=Uu[c],S=Dn.call(Uu,c)?y.length:0;S--;){var M=y[S],Q=M.func;if(Q==null||Q==l)return M.name}return c}function Ra(l){var c=Dn.call($,"placeholder")?$:l;return c.placeholder}function bt(){var l=$.iteratee||a1;return l=l===a1?Wu:l,arguments.length?l(arguments[0],arguments[1]):l}function eh(l,c){var y=l.__data__;return tc(c)?y[typeof c=="string"?"string":"hash"]:y.map}function th(l){for(var c=Zi(l),y=c.length;y--;){var S=c[y],M=l[S];c[y]=[S,M,ih(M)]}return c}function ol(l,c){var y=ku(l,c);return up(y)?y:t}function Rf(l){var c=Dn.call(l,Vl),y=l[Vl];try{l[Vl]=t;var S=!0}catch{}var M=Nc.call(l);return S&&(c?l[Vl]=y:delete l[Vl]),M}var To=Xh?function(l){return l==null?[]:(l=Yn(l),Js(Xh(l),function(c){return Qh.call(l,c)}))}:c1,Wm=Xh?function(l){for(var c=[];l;)yo(c,To(l)),l=vo(l);return c}:c1,Pi=Ni;(Mc&&Pi(new Mc(new ArrayBuffer(1)))!=Ut||jl&&Pi(new jl)!=st||Fc&&Pi(Fc.resolve())!=ur||Xa&&Pi(new Xa)!=hn||Uc&&Pi(new Uc)!=xn)&&(Pi=function(l){var c=Ni(l),y=c==Un?l.constructor:t,S=y?al(y):"";if(S)switch(S){case rp:return Ut;case Ya:return st;case Am:return ur;case Bu:return hn;case $o:return xn}return c});function Op(l,c,y){for(var S=-1,M=y.length;++S<M;){var Q=y[S],te=Q.size;switch(Q.type){case"drop":l+=te;break;case"dropRight":c-=te;break;case"take":c=Wi(c,l+te);break;case"takeRight":l=ei(l,c-te);break}}return{start:l,end:c}}function Gm(l){var c=l.match(Jt);return c?c[1].split(qi):[]}function Pp(l,c,y){c=Yo(c,l);for(var S=-1,M=c.length,Q=!1;++S<M;){var te=Ao(c[S]);if(!(Q=l!=null&&y(l,te)))break;l=l[te]}return Q||++S!=M?Q:(M=l==null?0:l.length,!!M&&dy(M)&&Tr(te,M)&&(en(l)||fh(l)))}function nh(l){var c=l.length,y=new l.constructor(c);return c&&typeof l[0]=="string"&&Dn.call(l,"index")&&(y.index=l.index,y.input=l.input),y}function Li(l){return typeof l.constructor=="function"&&!ka(l)?Vu(vo(l)):{}}function U_(l,c,y){var S=l.constructor;switch(c){case wt:return Qc(l);case Ie:case We:return new S(+l);case Ut:return Fm(l,y);case qn:case Qt:case Hr:case Rr:case ts:case Ei:case Ti:case Bi:case Wr:return Vm(l,y);case st:return new S;case zt:case Cn:return new S(l);case cn:return Um(l);case hn:return new S;case mn:return Bm(l)}}function B_(l,c){var y=c.length;if(!y)return l;var S=y-1;return c[S]=(y>1?"& ":"")+c[S],c=c.join(y>2?", ":" "),l.replace(ui,`{
/* [wrapped with `+c+`] */
`)}function kf(l){return en(l)||fh(l)||!!(Tm&&l&&l[Tm])}function Tr(l,c){var y=typeof l;return c=c??se,!!c&&(y=="number"||y!="symbol"&&ge.test(l))&&l>-1&&l%1==0&&l<c}function ls(l,c,y){if(!jr(y))return!1;var S=typeof c;return(S=="number"?uo(y)&&Tr(c,y.length):S=="string"&&c in y)?Oa(y[c],l):!1}function it(l,c){if(en(l))return!1;var y=typeof l;return y=="number"||y=="symbol"||y=="boolean"||l==null||Io(l)?!0:Vi.test(l)||!_r.test(l)||c!=null&&l in Yn(c)}function tc(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function rh(l){var c=ec(l),y=$[c];if(typeof y!="function"||!(c in Zt.prototype))return!1;if(l===y)return!0;var S=If(y);return!!S&&l===S[0]}function Km(l){return!!Wh&&Wh in l}var V_=Pu?su:h1;function ka(l){var c=l&&l.constructor,y=typeof c=="function"&&c.prototype||jo;return l===y}function ih(l){return l===l&&!jr(l)}function Nf(l,c){return function(y){return y==null?!1:y[l]===c&&(c!==t||l in Yn(y))}}function Qm(l){var c=ze(l,function(S){return y.size===g&&y.clear(),S}),y=c.cache;return c}function Jm(l,c){var y=l[1],S=c[1],M=y|S,Q=M<(P|U|D),te=S==D&&y==C||S==D&&y==q&&l[7].length<=c[8]||S==(D|q)&&c[7].length<=c[8]&&y==C;if(!(Q||te))return l;S&P&&(l[2]=c[2],M|=y&P?0:B);var ue=c[3];if(ue){var me=l[3];l[3]=me?qm(me,ue,c[4]):ue,l[4]=me?Xs(l[3],_):c[4]}return ue=c[5],ue&&(me=l[5],l[5]=me?Tp(me,ue,c[6]):ue,l[6]=me?Xs(l[5],_):c[6]),ue=c[7],ue&&(l[7]=ue),S&D&&(l[8]=l[8]==null?c[8]:Wi(l[8],c[8])),l[9]==null&&(l[9]=c[9]),l[0]=c[0],l[1]=M,l}function Xm(l){var c=[];if(l!=null)for(var y in Yn(l))c.push(y);return c}function Lp(l){return Nc.call(l)}function Of(l,c,y){return c=ei(c===t?l.length-1:c,0),function(){for(var S=arguments,M=-1,Q=ei(S.length-c,0),te=we(Q);++M<Q;)te[M]=S[c+M];M=-1;for(var ue=we(c+1);++M<c;)ue[M]=S[M];return ue[c]=y(te),Ar(l,this,ue)}}function Ai(l,c){return c.length<2?l:ba(l,Yi(c,0,-1))}function bo(l,c){for(var y=l.length,S=Wi(c.length,y),M=os(l);S--;){var Q=c[S];l[S]=Tr(Q,y)?M[Q]:t}return l}function ta(l,c){if(!(c==="constructor"&&typeof l[c]=="function")&&c!="__proto__")return l[c]}var Dp=So(mf),nc=tp||function(l,c){return St.setTimeout(l,c)},$s=So(Xo);function Mp(l,c,y){var S=c+"";return $s(l,B_(S,Ym(Gm(S),y)))}function So(l){var c=0,y=0;return function(){var S=D_(),M=N-(S-y);if(y=S,M>0){if(++c>=j)return arguments[0]}else c=0;return l.apply(t,arguments)}}function Pf(l,c){var y=-1,S=l.length,M=S-1;for(c=c===t?S:c;++y<c;){var Q=Gu(y,M),te=l[Q];l[Q]=l[y],l[y]=te}return l.length=c,l}var Fp=Qm(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(Gt,function(y,S,M,Q){c.push(M?Q.replace(ci,"$1"):S||y)}),c});function Ao(l){if(typeof l=="string"||Io(l))return l;var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}function al(l){if(l!=null){try{return kc.call(l)}catch{}try{return l+""}catch{}}return""}function Ym(l,c){return fi(Ne,function(y){var S="_."+y[0];c&y[1]&&!Fl(l,S)&&l.push(S)}),l.sort()}function Zm(l){if(l instanceof Zt)return l.clone();var c=new Gi(l.__wrapped__,l.__chain__);return c.__actions__=os(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}function Lf(l,c,y){(y?ls(l,c,y):c===t)?c=1:c=ei(un(c),0);var S=l==null?0:l.length;if(!S||c<1)return[];for(var M=0,Q=0,te=we(ql(S/c));M<S;)te[Q++]=Yi(l,M,M+=c);return te}function Up(l){for(var c=-1,y=l==null?0:l.length,S=0,M=[];++c<y;){var Q=l[c];Q&&(M[S++]=Q)}return M}function ao(){var l=arguments.length;if(!l)return[];for(var c=we(l-1),y=arguments[0],S=l;S--;)c[S-1]=arguments[S];return yo(en(y)?os(y):[y],Lr(c,1))}var kn=ln(function(l,c){return yi(l)?Ko(l,Lr(c,1,yi,!0)):[]}),Ci=ln(function(l,c){var y=us(c);return yi(y)&&(y=t),yi(l)?Ko(l,Lr(c,1,yi,!0),bt(y,2)):[]}),ti=ln(function(l,c){var y=us(c);return yi(y)&&(y=t),yi(l)?Ko(l,Lr(c,1,yi,!0),t,y):[]});function Di(l,c,y){var S=l==null?0:l.length;return S?(c=y||c===t?1:un(c),Yi(l,c<0?0:c,S)):[]}function zs(l,c,y){var S=l==null?0:l.length;return S?(c=y||c===t?1:un(c),c=S-c,Yi(l,0,c<0?0:c)):[]}function rc(l,c){return l&&l.length?Gc(l,bt(c,3),!0,!0):[]}function gi(l,c){return l&&l.length?Gc(l,bt(c,3),!0):[]}function sh(l,c,y,S){var M=l==null?0:l.length;return M?(y&&typeof y!="number"&&ls(l,c,y)&&(y=0,S=M),Pm(l,c,y,S)):[]}function ll(l,c,y){var S=l==null?0:l.length;if(!S)return-1;var M=y==null?0:un(y);return M<0&&(M=ei(S+M,0)),Ul(l,bt(c,3),M)}function oh(l,c,y){var S=l==null?0:l.length;if(!S)return-1;var M=S-1;return y!==t&&(M=un(y),M=y<0?ei(S+M,0):Wi(M,S-1)),Ul(l,bt(c,3),M,!0)}function Df(l){var c=l==null?0:l.length;return c?Lr(l,1):[]}function ah(l){var c=l==null?0:l.length;return c?Lr(l,de):[]}function xs(l,c){var y=l==null?0:l.length;return y?(c=c===t?1:un(c),Lr(l,c)):[]}function Bp(l){for(var c=-1,y=l==null?0:l.length,S={};++c<y;){var M=l[c];S[M[0]]=M[1]}return S}function eu(l){return l&&l.length?l[0]:t}function Na(l,c,y){var S=l==null?0:l.length;if(!S)return-1;var M=y==null?0:un(y);return M<0&&(M=ei(S+M,0)),ya(l,c,M)}function Mf(l){var c=l==null?0:l.length;return c?Yi(l,0,-1):[]}var Vp=ln(function(l){var c=Wn(l,Ju);return c.length&&c[0]===l[0]?hf(c):[]}),ul=ln(function(l){var c=us(l),y=Wn(l,Ju);return c===us(y)?c=t:y.pop(),y.length&&y[0]===l[0]?hf(y,bt(c,2)):[]}),Ff=ln(function(l){var c=us(l),y=Wn(l,Ju);return c=typeof c=="function"?c:t,c&&y.pop(),y.length&&y[0]===l[0]?hf(y,t,c):[]});function cl(l,c){return l==null?"":Yh.call(l,c)}function us(l){var c=l==null?0:l.length;return c?l[c-1]:t}function lh(l,c,y){var S=l==null?0:l.length;if(!S)return-1;var M=S;return y!==t&&(M=un(y),M=M<0?ei(S+M,0):Wi(M,S-1)),c===c?N_(l,c,M):Ul(l,p,M,!0)}function qp(l,c){return l&&l.length?gf(l,un(c)):t}var Uf=ln(uh);function uh(l,c){return l&&l.length&&c&&c.length?qr(l,c):l}function cs(l,c,y){return l&&l.length&&c&&c.length?qr(l,c,bt(y,2)):l}function hl(l,c,y){return l&&l.length&&c&&c.length?qr(l,c,t,y):l}var Co=ea(function(l,c){var y=l==null?0:l.length,S=lf(l,c);return pi(l,Wn(c,function(M){return Tr(M,y)?+M:M}).sort(Ep)),S});function Is(l,c){var y=[];if(!(l&&l.length))return y;var S=-1,M=[],Q=l.length;for(c=bt(c,3);++S<Q;){var te=l[S];c(te,S,l)&&(y.push(te),M.push(S))}return pi(l,M),y}function Bf(l){return l==null?l:Zh.call(l)}function jp(l,c,y){var S=l==null?0:l.length;return S?(y&&typeof y!="number"&&ls(l,c,y)?(c=0,y=S):(c=c==null?0:un(c),y=y===t?S:un(y)),Yi(l,c,y)):[]}function $p(l,c){return Ku(l,c)}function q_(l,c,y){return yf(l,c,bt(y,2))}function fl(l,c){var y=l==null?0:l.length;if(y){var S=Ku(l,c);if(S<y&&Oa(l[S],c))return S}return-1}function ey(l,c){return Ku(l,c,!0)}function zp(l,c,y){return yf(l,c,bt(y,2),!0)}function tu(l,c){var y=l==null?0:l.length;if(y){var S=Ku(l,c,!0)-1;if(Oa(l[S],c))return S}return-1}function Hp(l){return l&&l.length?mp(l):[]}function nu(l,c){return l&&l.length?mp(l,bt(c,2)):[]}function ty(l){var c=l==null?0:l.length;return c?Yi(l,1,c):[]}function ny(l,c,y){return l&&l.length?(c=y||c===t?1:un(c),Yi(l,0,c<0?0:c)):[]}function Wp(l,c,y){var S=l==null?0:l.length;return S?(c=y||c===t?1:un(c),c=S-c,Yi(l,c<0?0:c,S)):[]}function Vf(l,c){return l&&l.length?Gc(l,bt(c,3),!1,!0):[]}function j_(l,c){return l&&l.length?Gc(l,bt(c,3)):[]}var $_=ln(function(l){return xa(Lr(l,1,yi,!0))}),ry=ln(function(l){var c=us(l);return yi(c)&&(c=t),xa(Lr(l,1,yi,!0),bt(c,2))}),iy=ln(function(l){var c=us(l);return c=typeof c=="function"?c:t,xa(Lr(l,1,yi,!0),t,c)});function ru(l){return l&&l.length?xa(l):[]}function z_(l,c){return l&&l.length?xa(l,bt(c,2)):[]}function ic(l,c){return c=typeof c=="function"?c:t,l&&l.length?xa(l,t,c):[]}function qf(l){if(!(l&&l.length))return[];var c=0;return l=Js(l,function(y){if(yi(y))return c=ei(y.length,c),!0}),Vn(c,function(y){return Wn(l,L(y))})}function xr(l,c){if(!(l&&l.length))return[];var y=qf(l);return c==null?y:Wn(y,function(S){return Ar(c,t,S)})}var H_=ln(function(l,c){return yi(l)?Ko(l,c):[]}),sy=ln(function(l){return vf(Js(l,yi))}),W_=ln(function(l){var c=us(l);return yi(c)&&(c=t),vf(Js(l,yi),bt(c,2))}),G_=ln(function(l){var c=us(l);return c=typeof c=="function"?c:t,vf(Js(l,yi),t,c)}),oy=ln(qf);function ay(l,c){return Kc(l||[],c||[],Wl)}function K_(l,c){return Kc(l||[],c||[],Xl)}var lo=ln(function(l){var c=l.length,y=c>1?l[c-1]:t;return y=typeof y=="function"?(l.pop(),y):t,xr(l,y)});function jf(l){var c=$(l);return c.__chain__=!0,c}function Q_(l,c){return c(l),l}function xo(l,c){return c(l)}var $f=ea(function(l){var c=l.length,y=c?l[0]:0,S=this.__wrapped__,M=function(Q){return lf(Q,l)};return c>1||this.__actions__.length||!(S instanceof Zt)||!Tr(y)?this.thru(M):(S=S.slice(y,+y+(c?1:0)),S.__actions__.push({func:xo,args:[M],thisArg:t}),new Gi(S,this.__chain__).thru(function(Q){return c&&!Q.length&&Q.push(t),Q}))});function iu(){return jf(this)}function zf(){return new Gi(this.value(),this.__chain__)}function Gp(){this.__values__===t&&(this.__values__=zE(this.value()));var l=this.__index__>=this.__values__.length,c=l?t:this.__values__[this.__index__++];return{done:l,value:c}}function Kp(){return this}function J_(l){for(var c,y=this;y instanceof zo;){var S=Zm(y);S.__index__=0,S.__values__=t,c?M.__wrapped__=S:c=S;var M=S;y=y.__wrapped__}return M.__wrapped__=l,c}function Qp(){var l=this.__wrapped__;if(l instanceof Zt){var c=l;return this.__actions__.length&&(c=new Zt(this)),c=c.reverse(),c.__actions__.push({func:xo,args:[Bf],thisArg:t}),new Gi(c,this.__chain__)}return this.thru(Bf)}function X_(){return Qu(this.__wrapped__,this.__actions__)}var ly=Tf(function(l,c,y){Dn.call(l,y)?++l[y]:Go(l,y,1)});function uy(l,c,y){var S=en(l)?Ml:qc;return y&&ls(l,c,y)&&(c=t),S(l,bt(c,3))}function Hf(l,c){var y=en(l)?Js:ap;return y(l,bt(c,3))}var Wf=Zl(ll),cy=Zl(oh);function Jp(l,c){return Lr(Jf(l,c),1)}function hy(l,c){return Lr(Jf(l,c),de)}function Xp(l,c,y){return y=y===t?1:un(y),Lr(Jf(l,c),y)}function ch(l,c){var y=en(l)?fi:Qo;return y(l,bt(c,3))}function Gf(l,c){var y=en(l)?Dl:Om;return y(l,bt(c,3))}var Kf=Tf(function(l,c,y){Dn.call(l,y)?l[y].push(c):Go(l,y,[c])});function fy(l,c,y,S){l=uo(l)?l:Zf(l),y=y&&!S?un(y):0;var M=l.length;return y<0&&(y=ei(M+y,0)),py(l)?y<=M&&l.indexOf(c,y)>-1:!!M&&ya(l,c,y)>-1}var Y_=ln(function(l,c,y){var S=-1,M=typeof c=="function",Q=uo(l)?we(l.length):[];return Qo(l,function(te){Q[++S]=M?Ar(c,te,y):ro(te,c,y)}),Q}),Qf=Tf(function(l,c,y){Go(l,y,c)});function Jf(l,c){var y=en(l)?Wn:hp;return y(l,bt(c,3))}function hh(l,c,y,S){return l==null?[]:(en(c)||(c=c==null?[]:[c]),y=S?t:y,en(y)||(y=y==null?[]:[y]),Hc(l,c,y))}var Z_=Tf(function(l,c,y){l[y?0:1].push(c)},function(){return[[],[]]});function Xf(l,c,y){var S=en(l)?_o:ye,M=arguments.length<3;return S(l,bt(c,4),y,M,Qo)}function s(l,c,y){var S=en(l)?qh:ye,M=arguments.length<3;return S(l,bt(c,4),y,M,Om)}function a(l,c){var y=en(l)?Js:ap;return y(l,ft(bt(c,3)))}function f(l){var c=en(l)?Wo:Xi;return c(l)}function m(l,c,y){(y?ls(l,c,y):c===t)?c=1:c=un(c);var S=en(l)?Hl:pp;return S(l,c)}function v(l){var c=en(l)?km:so;return c(l)}function b(l){if(l==null)return 0;if(uo(l))return py(l)?Bl(l):l.length;var c=Pi(l);return c==st||c==hn?l.size:Ca(l).length}function V(l,c,y){var S=en(l)?xu:gp;return y&&ls(l,c,y)&&(c=t),S(l,bt(c,3))}var Z=ln(function(l,c){if(l==null)return[];var y=c.length;return y>1&&ls(l,c[0],c[1])?c=[]:y>2&&ls(c[0],c[1],c[2])&&(c=[c[0]]),Hc(l,Lr(c,1),[])}),ae=fr||function(){return St.Date.now()};function be(l,c){if(typeof c!="function")throw new Ys(u);return l=un(l),function(){if(--l<1)return c.apply(this,arguments)}}function Be(l,c,y){return c=y?t:c,c=l&&c==null?l.length:c,Zo(l,D,t,t,t,t,c)}function $e(l,c){var y;if(typeof c!="function")throw new Ys(u);return l=un(l),function(){return--l>0&&(y=c.apply(this,arguments)),l<=1&&(c=t),y}}var Fe=ln(function(l,c,y){var S=P;if(y.length){var M=Xs(y,Ra(Fe));S|=z}return Zo(l,S,c,y,M)}),tt=ln(function(l,c,y){var S=P|U;if(y.length){var M=Xs(y,Ra(tt));S|=z}return Zo(c,S,l,y,M)});function at(l,c,y){c=y?t:c;var S=Zo(l,C,t,t,t,t,t,c);return S.placeholder=at.placeholder,S}function ht(l,c,y){c=y?t:c;var S=Zo(l,F,t,t,t,t,t,c);return S.placeholder=ht.placeholder,S}function Dr(l,c,y){var S,M,Q,te,ue,me,Le=0,De=!1,Ve=!1,Ze=!0;if(typeof l!="function")throw new Ys(u);c=na(c)||0,jr(y)&&(De=!!y.leading,Ve="maxWait"in y,Q=Ve?ei(na(y.maxWait)||0,c):Q,Ze="trailing"in y?!!y.trailing:Ze);function mt(_i){var Pa=S,au=M;return S=M=t,Le=_i,te=l.apply(au,Pa),te}function Pt(_i){return Le=_i,ue=nc(Tn,c),De?mt(_i):te}function dn(_i){var Pa=_i-me,au=_i-Le,rT=c-Pa;return Ve?Wi(rT,Q-au):rT}function Lt(_i){var Pa=_i-me,au=_i-Le;return me===t||Pa>=c||Pa<0||Ve&&au>=Q}function Tn(){var _i=ae();if(Lt(_i))return Nn(_i);ue=nc(Tn,dn(_i))}function Nn(_i){return ue=t,Ze&&S?mt(_i):(S=M=t,te)}function Ro(){ue!==t&&vp(ue),Le=0,S=me=M=ue=t}function Hs(){return ue===t?te:Nn(ae())}function ko(){var _i=ae(),Pa=Lt(_i);if(S=arguments,M=this,me=_i,Pa){if(ue===t)return Pt(me);if(Ve)return vp(ue),ue=nc(Tn,c),mt(me)}return ue===t&&(ue=nc(Tn,c)),te}return ko.cancel=Ro,ko.flush=Hs,ko}var _e=ln(function(l,c){return op(l,1,c)}),fe=ln(function(l,c,y){return op(l,na(c)||0,y)});function ve(l){return Zo(l,W)}function ze(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new Ys(u);var y=function(){var S=arguments,M=c?c.apply(this,S):S[0],Q=y.cache;if(Q.has(M))return Q.get(M);var te=l.apply(this,S);return y.cache=Q.set(M,te)||Q,te};return y.cache=new(ze.Cache||Zs),y}ze.Cache=Zs;function ft(l){if(typeof l!="function")throw new Ys(u);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}function Et(l){return $e(2,l)}var Tt=Mm(function(l,c){c=c.length==1&&en(c[0])?Wn(c[0],$n(bt())):Wn(Lr(c,1),$n(bt()));var y=c.length;return ln(function(S){for(var M=-1,Q=Wi(S.length,y);++M<Q;)S[M]=c[M].call(this,S[M]);return Ar(l,this,S)})}),Rt=ln(function(l,c){var y=Xs(c,Ra(Rt));return Zo(l,z,t,c,y)}),mi=ln(function(l,c){var y=Xs(c,Ra(mi));return Zo(l,J,t,c,y)}),Mn=ea(function(l,c){return Zo(l,q,t,t,t,c)});function dl(l,c){if(typeof l!="function")throw new Ys(u);return c=c===t?c:un(c),ln(l,c)}function e1(l,c){if(typeof l!="function")throw new Ys(u);return c=c==null?0:ei(un(c),0),ln(function(y){var S=y[c],M=Ia(y,0,c);return S&&yo(M,S),Ar(l,this,M)})}function v2(l,c,y){var S=!0,M=!0;if(typeof l!="function")throw new Ys(u);return jr(y)&&(S="leading"in y?!!y.leading:S,M="trailing"in y?!!y.trailing:M),Dr(l,c,{leading:S,maxWait:c,trailing:M})}function w2(l){return Be(l,1)}function E2(l,c){return Rt(wf(c),l)}function T2(){if(!arguments.length)return[];var l=arguments[0];return en(l)?l:[l]}function b2(l){return As(l,x)}function S2(l,c){return c=typeof c=="function"?c:t,As(l,x,c)}function A2(l){return As(l,w|x)}function C2(l,c){return c=typeof c=="function"?c:t,As(l,w|x,c)}function x2(l,c){return c==null||Vc(l,c,Zi(c))}function Oa(l,c){return l===c||l!==l&&c!==c}var I2=xf(rl),R2=xf(function(l,c){return l>=c}),fh=ff(function(){return arguments}())?ff:function(l){return ni(l)&&Dn.call(l,"callee")&&!Qh.call(l,"callee")},en=we.isArray,k2=wr?$n(wr):Lm;function uo(l){return l!=null&&dy(l.length)&&!su(l)}function yi(l){return ni(l)&&uo(l)}function N2(l){return l===!0||l===!1||ni(l)&&Ni(l)==Ie}var sc=np||h1,O2=sr?$n(sr):Aa;function P2(l){return ni(l)&&l.nodeType===1&&!Yp(l)}function L2(l){if(l==null)return!0;if(uo(l)&&(en(l)||typeof l=="string"||typeof l.splice=="function"||sc(l)||Yf(l)||fh(l)))return!l.length;var c=Pi(l);if(c==st||c==hn)return!l.size;if(ka(l))return!Ca(l).length;for(var y in l)if(Dn.call(l,y))return!1;return!0}function D2(l,c){return io(l,c)}function M2(l,c,y){y=typeof y=="function"?y:t;var S=y?y(l,c):t;return S===t?io(l,c,t,y):!!S}function t1(l){if(!ni(l))return!1;var c=Ni(l);return c==Je||c==Ye||typeof l.message=="string"&&typeof l.name=="string"&&!Yp(l)}function F2(l){return typeof l=="number"&&Du(l)}function su(l){if(!jr(l))return!1;var c=Ni(l);return c==pt||c==gt||c==je||c==Jn}function VE(l){return typeof l=="number"&&l==un(l)}function dy(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=se}function jr(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}function ni(l){return l!=null&&typeof l=="object"}var qE=Or?$n(Or):Dm;function U2(l,c){return l===c||Hu(l,c,th(c))}function B2(l,c,y){return y=typeof y=="function"?y:t,Hu(l,c,th(c),y)}function V2(l){return jE(l)&&l!=+l}function q2(l){if(V_(l))throw new Bt(o);return up(l)}function j2(l){return l===null}function $2(l){return l==null}function jE(l){return typeof l=="number"||ni(l)&&Ni(l)==zt}function Yp(l){if(!ni(l)||Ni(l)!=Un)return!1;var c=vo(l);if(c===null)return!0;var y=Dn.call(c,"constructor")&&c.constructor;return typeof y=="function"&&y instanceof y&&kc.call(y)==Gh}var n1=is?$n(is):$c;function z2(l){return VE(l)&&l>=-9007199254740991&&l<=se}var $E=ws?$n(ws):Jo;function py(l){return typeof l=="string"||!en(l)&&ni(l)&&Ni(l)==Cn}function Io(l){return typeof l=="symbol"||ni(l)&&Ni(l)==mn}var Yf=ga?$n(ga):zc;function H2(l){return l===t}function W2(l){return ni(l)&&Pi(l)==xn}function G2(l){return ni(l)&&Ni(l)==Dt}var K2=xf(il),Q2=xf(function(l,c){return l<=c});function zE(l){if(!l)return[];if(uo(l))return py(l)?Bs(l):os(l);if(wa&&l[wa])return R_(l[wa]());var c=Pi(l),y=c==st?$h:c==hn?Qa:Zf;return y(l)}function ou(l){if(!l)return l===0?l:0;if(l=na(l),l===de||l===-1/0){var c=l<0?-1:1;return c*ne}return l===l?l:0}function un(l){var c=ou(l),y=c%1;return c===c?y?c-y:c:0}function HE(l){return l?Ta(un(l),0,G):0}function na(l){if(typeof l=="number")return l;if(Io(l))return Y;if(jr(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=jr(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=En(l);var y=ki.test(l);return y||ns.test(l)?ut(l.slice(2),y?2:8):Kr.test(l)?Y:+l}function WE(l){return Eo(l,co(l))}function J2(l){return l?Ta(un(l),-9007199254740991,se):l===0?l:0}function Zn(l){return l==null?"":Cs(l)}var X2=Xu(function(l,c){if(ka(c)||uo(c)){Eo(c,Zi(c),l);return}for(var y in c)Dn.call(c,y)&&Wl(l,y,c[y])}),GE=Xu(function(l,c){Eo(c,co(c),l)}),gy=Xu(function(l,c,y,S){Eo(c,co(c),l,S)}),Y2=Xu(function(l,c,y,S){Eo(c,Zi(c),l,S)}),Z2=ea(lf);function ek(l,c){var y=Vu(l);return c==null?y:pr(y,c)}var tk=ln(function(l,c){l=Yn(l);var y=-1,S=c.length,M=S>2?c[2]:t;for(M&&ls(c[0],c[1],M)&&(S=1);++y<S;)for(var Q=c[y],te=co(Q),ue=-1,me=te.length;++ue<me;){var Le=te[ue],De=l[Le];(De===t||Oa(De,jo[Le])&&!Dn.call(l,Le))&&(l[Le]=Q[Le])}return l}),nk=ln(function(l){return l.push(t,Ip),Ar(KE,t,l)});function rk(l,c){return zi(l,bt(c,3),js)}function ik(l,c){return zi(l,bt(c,3),nl)}function sk(l,c){return l==null?l:uf(l,bt(c,3),co)}function ok(l,c){return l==null?l:jc(l,bt(c,3),co)}function ak(l,c){return l&&js(l,bt(c,3))}function lk(l,c){return l&&nl(l,bt(c,3))}function uk(l){return l==null?[]:zu(l,Zi(l))}function ck(l){return l==null?[]:zu(l,co(l))}function r1(l,c,y){var S=l==null?t:ba(l,c);return S===t?y:S}function hk(l,c){return l!=null&&Pp(l,c,no)}function i1(l,c){return l!=null&&Pp(l,c,Kl)}var fk=jm(function(l,c,y){c!=null&&typeof c.toString!="function"&&(c=Nc.call(c)),l[c]=y},o1(ho)),dk=jm(function(l,c,y){c!=null&&typeof c.toString!="function"&&(c=Nc.call(c)),Dn.call(l,c)?l[c].push(y):l[c]=[y]},bt),pk=ln(ro);function Zi(l){return uo(l)?Ho(l):Ca(l)}function co(l){return uo(l)?Ho(l,!0):cp(l)}function gk(l,c){var y={};return c=bt(c,3),js(l,function(S,M,Q){Go(y,c(S,M,Q),S)}),y}function mk(l,c){var y={};return c=bt(c,3),js(l,function(S,M,Q){Go(y,M,c(S,M,Q))}),y}var yk=Xu(function(l,c,y){Ql(l,c,y)}),KE=Xu(function(l,c,y,S){Ql(l,c,y,S)}),_k=ea(function(l,c){var y={};if(l==null)return y;var S=!1;c=Wn(c,function(Q){return Q=Yo(Q,l),S||(S=Q.length>1),Q}),Eo(l,Zc(l),y),S&&(y=As(y,w|E|x,Rp));for(var M=c.length;M--;)_f(y,c[M]);return y});function vk(l,c){return QE(l,ft(bt(c)))}var wk=ea(function(l,c){return l==null?{}:dp(l,c)});function QE(l,c){if(l==null)return{};var y=Wn(Zc(l),function(S){return[S]});return c=bt(c),sl(l,y,function(S,M){return c(S,M[0])})}function Ek(l,c,y){c=Yo(c,l);var S=-1,M=c.length;for(M||(M=1,l=t);++S<M;){var Q=l==null?t:l[Ao(c[S])];Q===t&&(S=M,Q=y),l=su(Q)?Q.call(l):Q}return l}function Tk(l,c,y){return l==null?l:Xl(l,c,y)}function bk(l,c,y,S){return S=typeof S=="function"?S:t,l==null?l:Xl(l,c,y,S)}var JE=Cp(Zi),XE=Cp(co);function Sk(l,c,y){var S=en(l),M=S||sc(l)||Yf(l);if(c=bt(c,4),y==null){var Q=l&&l.constructor;M?y=S?new Q:[]:jr(l)?y=su(Q)?Vu(vo(l)):{}:y={}}return(M?fi:js)(l,function(te,ue,me){return c(y,te,ue,me)}),y}function Ak(l,c){return l==null?!0:_f(l,c)}function Ck(l,c,y){return l==null?l:_p(l,c,wf(y))}function xk(l,c,y,S){return S=typeof S=="function"?S:t,l==null?l:_p(l,c,wf(y),S)}function Zf(l){return l==null?[]:Pr(l,Zi(l))}function Ik(l){return l==null?[]:Pr(l,co(l))}function Rk(l,c,y){return y===t&&(y=c,c=t),y!==t&&(y=na(y),y=y===y?y:0),c!==t&&(c=na(c),c=c===c?c:0),Ta(na(l),c,y)}function kk(l,c,y){return c=ou(c),y===t?(y=c,c=0):y=ou(y),l=na(l),lp(l,c,y)}function Nk(l,c,y){if(y&&typeof y!="boolean"&&ls(l,c,y)&&(c=y=t),y===t&&(typeof c=="boolean"?(y=c,c=t):typeof l=="boolean"&&(y=l,l=t)),l===t&&c===t?(l=0,c=1):(l=ou(l),c===t?(c=l,l=0):c=ou(c)),l>c){var S=l;l=c,c=S}if(y||l%1||c%1){var M=Dc();return Wi(l+M*(c-l+It("1e-"+((M+"").length-1))),c)}return Gu(l,c)}var Ok=Yl(function(l,c,y){return c=c.toLowerCase(),l+(y?YE(c):c)});function YE(l){return s1(Zn(l).toLowerCase())}function ZE(l){return l=Zn(l),l&&l.replace(Ee,pm).replace(Wa,"")}function Pk(l,c,y){l=Zn(l),c=Cs(c);var S=l.length;y=y===t?S:Ta(un(y),0,S);var M=y;return y-=c.length,y>=0&&l.slice(y,M)==c}function Lk(l){return l=Zn(l),l&&zn.test(l)?l.replace(Rn,gm):l}function Dk(l){return l=Zn(l),l&&Hn.test(l)?l.replace(nr,"\\$&"):l}var Mk=Yl(function(l,c,y){return l+(y?"-":"")+c.toLowerCase()}),Fk=Yl(function(l,c,y){return l+(y?" ":"")+c.toLowerCase()}),Uk=bp("toLowerCase");function Bk(l,c,y){l=Zn(l),c=un(c);var S=c?Bl(l):0;if(!c||S>=c)return l;var M=(c-S)/2;return Xc(Ja(M),y)+l+Xc(ql(M),y)}function Vk(l,c,y){l=Zn(l),c=un(c);var S=c?Bl(l):0;return c&&S<c?l+Xc(c-S,y):l}function qk(l,c,y){l=Zn(l),c=un(c);var S=c?Bl(l):0;return c&&S<c?Xc(c-S,y)+l:l}function jk(l,c,y){return y||c==null?c=0:c&&(c=+c),Sm(Zn(l).replace(kr,""),c||0)}function $k(l,c,y){return(y?ls(l,c,y):c===t)?c=1:c=un(c),Jl(Zn(l),c)}function zk(){var l=arguments,c=Zn(l[0]);return l.length<3?c:c.replace(l[1],l[2])}var Hk=Yl(function(l,c,y){return l+(y?"_":"")+c.toLowerCase()});function Wk(l,c,y){return y&&typeof y!="number"&&ls(l,c,y)&&(c=y=t),y=y===t?G:y>>>0,y?(l=Zn(l),l&&(typeof c=="string"||c!=null&&!n1(c))&&(c=Cs(c),!c&&Nu(l))?Ia(Bs(l),0,y):l.split(c,y)):[]}var Gk=Yl(function(l,c,y){return l+(y?" ":"")+s1(c)});function Kk(l,c,y){return l=Zn(l),y=y==null?0:Ta(un(y),0,l.length),c=Cs(c),l.slice(y,y+c.length)==c}function Qk(l,c,y){var S=$.templateSettings;y&&ls(l,c,y)&&(c=t),l=Zn(l),c=gy({},c,S,xp);var M=gy({},c.imports,S.imports,xp),Q=Zi(M),te=Pr(M,Q),ue,me,Le=0,De=c.interpolate||qe,Ve="__p += '",Ze=Rc((c.escape||qe).source+"|"+De.source+"|"+(De===Ri?Ur:qe).source+"|"+(c.evaluate||qe).source+"|$","g"),mt="//# sourceURL="+(Dn.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vo+"]")+`
`;l.replace(Ze,function(Lt,Tn,Nn,Ro,Hs,ko){return Nn||(Nn=Ro),Ve+=l.slice(Le,ko).replace(nt,mm),Tn&&(ue=!0,Ve+=`' +
__e(`+Tn+`) +
'`),Hs&&(me=!0,Ve+=`';
`+Hs+`;
__p += '`),Nn&&(Ve+=`' +
((__t = (`+Nn+`)) == null ? '' : __t) +
'`),Le=ko+Lt.length,Lt}),Ve+=`';
`;var Pt=Dn.call(c,"variable")&&c.variable;if(!Pt)Ve=`with (obj) {
`+Ve+`
}
`;else if(Gr.test(Pt))throw new Bt(h);Ve=(me?Ve.replace(yr,""):Ve).replace(or,"$1").replace(cr,"$1;"),Ve="function("+(Pt||"obj")+`) {
`+(Pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ve+`return __p
}`;var dn=tT(function(){return Ln(Q,mt+"return "+Ve).apply(t,te)});if(dn.source=Ve,t1(dn))throw dn;return dn}function Jk(l){return Zn(l).toLowerCase()}function Xk(l){return Zn(l).toUpperCase()}function Yk(l,c,y){if(l=Zn(l),l&&(y||c===t))return En(l);if(!l||!(c=Cs(c)))return l;var S=Bs(l),M=Bs(c),Q=Es(S,M),te=Ka(S,M)+1;return Ia(S,Q,te).join("")}function Zk(l,c,y){if(l=Zn(l),l&&(y||c===t))return l.slice(0,Hh(l)+1);if(!l||!(c=Cs(c)))return l;var S=Bs(l),M=Ka(S,Bs(c))+1;return Ia(S,0,M).join("")}function eN(l,c,y){if(l=Zn(l),l&&(y||c===t))return l.replace(kr,"");if(!l||!(c=Cs(c)))return l;var S=Bs(l),M=Es(S,Bs(c));return Ia(S,M).join("")}function tN(l,c){var y=I,S=k;if(jr(c)){var M="separator"in c?c.separator:M;y="length"in c?un(c.length):y,S="omission"in c?Cs(c.omission):S}l=Zn(l);var Q=l.length;if(Nu(l)){var te=Bs(l);Q=te.length}if(y>=Q)return l;var ue=y-Bl(S);if(ue<1)return S;var me=te?Ia(te,0,ue).join(""):l.slice(0,ue);if(M===t)return me+S;if(te&&(ue+=me.length-ue),n1(M)){if(l.slice(ue).search(M)){var Le,De=me;for(M.global||(M=Rc(M.source,Zn(yn.exec(M))+"g")),M.lastIndex=0;Le=M.exec(De);)var Ve=Le.index;me=me.slice(0,Ve===t?ue:Ve)}}else if(l.indexOf(Cs(M),ue)!=ue){var Ze=me.lastIndexOf(M);Ze>-1&&(me=me.slice(0,Ze))}return me+S}function nN(l){return l=Zn(l),l&&li.test(l)?l.replace(In,ym):l}var rN=Yl(function(l,c,y){return l+(y?" ":"")+c.toUpperCase()}),s1=bp("toUpperCase");function eT(l,c,y){return l=Zn(l),c=y?t:c,c===t?I_(l)?O_(l):Iu(l):l.match(c)||[]}var tT=ln(function(l,c){try{return Ar(l,t,c)}catch(y){return t1(y)?y:new Bt(y)}}),iN=ea(function(l,c){return fi(c,function(y){y=Ao(y),Go(l,y,Fe(l[y],l))}),l});function sN(l){var c=l==null?0:l.length,y=bt();return l=c?Wn(l,function(S){if(typeof S[1]!="function")throw new Ys(u);return[y(S[0]),S[1]]}):[],ln(function(S){for(var M=-1;++M<c;){var Q=l[M];if(Ar(Q[0],this,S))return Ar(Q[1],this,S)}})}function oN(l){return Nm(As(l,w))}function o1(l){return function(){return l}}function aN(l,c){return l==null||l!==l?c:l}var lN=Af(),uN=Af(!0);function ho(l){return l}function a1(l){return Wu(typeof l=="function"?l:As(l,w))}function cN(l){return pf(As(l,w))}function hN(l,c){return Er(l,As(c,w))}var fN=ln(function(l,c){return function(y){return ro(y,l,c)}}),dN=ln(function(l,c){return function(y){return ro(l,y,c)}});function l1(l,c,y){var S=Zi(c),M=zu(c,S);y==null&&!(jr(c)&&(M.length||!S.length))&&(y=c,c=l,l=this,M=zu(c,Zi(c)));var Q=!(jr(y)&&"chain"in y)||!!y.chain,te=su(l);return fi(M,function(ue){var me=c[ue];l[ue]=me,te&&(l.prototype[ue]=function(){var Le=this.__chain__;if(Q||Le){var De=l(this.__wrapped__),Ve=De.__actions__=os(this.__actions__);return Ve.push({func:me,args:arguments,thisArg:l}),De.__chain__=Le,De}return me.apply(l,yo([this.value()],arguments))})}),l}function pN(){return St._===this&&(St._=wm),this}function u1(){}function gN(l){return l=un(l),ln(function(c){return gf(c,l)})}var mN=Cf(Wn),yN=Cf(Ml),_N=Cf(xu);function nT(l){return it(l)?L(Ao(l)):Cr(l)}function vN(l){return function(c){return l==null?t:ba(l,c)}}var wN=Ap(),EN=Ap(!0);function c1(){return[]}function h1(){return!1}function TN(){return{}}function bN(){return""}function SN(){return!0}function AN(l,c){if(l=un(l),l<1||l>se)return[];var y=G,S=Wi(l,G);c=bt(c),l-=G;for(var M=Vn(S,c);++y<l;)c(y);return M}function CN(l){return en(l)?Wn(l,Ao):Io(l)?[l]:os(Fp(Zn(l)))}function xN(l){var c=++Lu;return Zn(l)+c}var IN=Jc(function(l,c){return l+c},0),RN=Oi("ceil"),kN=Jc(function(l,c){return l/c},1),NN=Oi("floor");function ON(l){return l&&l.length?Gl(l,ho,rl):t}function PN(l,c){return l&&l.length?Gl(l,bt(c,2),rl):t}function LN(l){return T(l,ho)}function DN(l,c){return T(l,bt(c,2))}function MN(l){return l&&l.length?Gl(l,ho,il):t}function FN(l,c){return l&&l.length?Gl(l,bt(c,2),il):t}var UN=Jc(function(l,c){return l*c},1),BN=Oi("round"),VN=Jc(function(l,c){return l-c},0);function qN(l){return l&&l.length?Ke(l,ho):0}function jN(l,c){return l&&l.length?Ke(l,bt(c,2)):0}return $.after=be,$.ary=Be,$.assign=X2,$.assignIn=GE,$.assignInWith=gy,$.assignWith=Y2,$.at=Z2,$.before=$e,$.bind=Fe,$.bindAll=iN,$.bindKey=tt,$.castArray=T2,$.chain=jf,$.chunk=Lf,$.compact=Up,$.concat=ao,$.cond=sN,$.conforms=oN,$.constant=o1,$.countBy=ly,$.create=ek,$.curry=at,$.curryRight=ht,$.debounce=Dr,$.defaults=tk,$.defaultsDeep=nk,$.defer=_e,$.delay=fe,$.difference=kn,$.differenceBy=Ci,$.differenceWith=ti,$.drop=Di,$.dropRight=zs,$.dropRightWhile=rc,$.dropWhile=gi,$.fill=sh,$.filter=Hf,$.flatMap=Jp,$.flatMapDeep=hy,$.flatMapDepth=Xp,$.flatten=Df,$.flattenDeep=ah,$.flattenDepth=xs,$.flip=ve,$.flow=lN,$.flowRight=uN,$.fromPairs=Bp,$.functions=uk,$.functionsIn=ck,$.groupBy=Kf,$.initial=Mf,$.intersection=Vp,$.intersectionBy=ul,$.intersectionWith=Ff,$.invert=fk,$.invertBy=dk,$.invokeMap=Y_,$.iteratee=a1,$.keyBy=Qf,$.keys=Zi,$.keysIn=co,$.map=Jf,$.mapKeys=gk,$.mapValues=mk,$.matches=cN,$.matchesProperty=hN,$.memoize=ze,$.merge=yk,$.mergeWith=KE,$.method=fN,$.methodOf=dN,$.mixin=l1,$.negate=ft,$.nthArg=gN,$.omit=_k,$.omitBy=vk,$.once=Et,$.orderBy=hh,$.over=mN,$.overArgs=Tt,$.overEvery=yN,$.overSome=_N,$.partial=Rt,$.partialRight=mi,$.partition=Z_,$.pick=wk,$.pickBy=QE,$.property=nT,$.propertyOf=vN,$.pull=Uf,$.pullAll=uh,$.pullAllBy=cs,$.pullAllWith=hl,$.pullAt=Co,$.range=wN,$.rangeRight=EN,$.rearg=Mn,$.reject=a,$.remove=Is,$.rest=dl,$.reverse=Bf,$.sampleSize=m,$.set=Tk,$.setWith=bk,$.shuffle=v,$.slice=jp,$.sortBy=Z,$.sortedUniq=Hp,$.sortedUniqBy=nu,$.split=Wk,$.spread=e1,$.tail=ty,$.take=ny,$.takeRight=Wp,$.takeRightWhile=Vf,$.takeWhile=j_,$.tap=Q_,$.throttle=v2,$.thru=xo,$.toArray=zE,$.toPairs=JE,$.toPairsIn=XE,$.toPath=CN,$.toPlainObject=WE,$.transform=Sk,$.unary=w2,$.union=$_,$.unionBy=ry,$.unionWith=iy,$.uniq=ru,$.uniqBy=z_,$.uniqWith=ic,$.unset=Ak,$.unzip=qf,$.unzipWith=xr,$.update=Ck,$.updateWith=xk,$.values=Zf,$.valuesIn=Ik,$.without=H_,$.words=eT,$.wrap=E2,$.xor=sy,$.xorBy=W_,$.xorWith=G_,$.zip=oy,$.zipObject=ay,$.zipObjectDeep=K_,$.zipWith=lo,$.entries=JE,$.entriesIn=XE,$.extend=GE,$.extendWith=gy,l1($,$),$.add=IN,$.attempt=tT,$.camelCase=Ok,$.capitalize=YE,$.ceil=RN,$.clamp=Rk,$.clone=b2,$.cloneDeep=A2,$.cloneDeepWith=C2,$.cloneWith=S2,$.conformsTo=x2,$.deburr=ZE,$.defaultTo=aN,$.divide=kN,$.endsWith=Pk,$.eq=Oa,$.escape=Lk,$.escapeRegExp=Dk,$.every=uy,$.find=Wf,$.findIndex=ll,$.findKey=rk,$.findLast=cy,$.findLastIndex=oh,$.findLastKey=ik,$.floor=NN,$.forEach=ch,$.forEachRight=Gf,$.forIn=sk,$.forInRight=ok,$.forOwn=ak,$.forOwnRight=lk,$.get=r1,$.gt=I2,$.gte=R2,$.has=hk,$.hasIn=i1,$.head=eu,$.identity=ho,$.includes=fy,$.indexOf=Na,$.inRange=kk,$.invoke=pk,$.isArguments=fh,$.isArray=en,$.isArrayBuffer=k2,$.isArrayLike=uo,$.isArrayLikeObject=yi,$.isBoolean=N2,$.isBuffer=sc,$.isDate=O2,$.isElement=P2,$.isEmpty=L2,$.isEqual=D2,$.isEqualWith=M2,$.isError=t1,$.isFinite=F2,$.isFunction=su,$.isInteger=VE,$.isLength=dy,$.isMap=qE,$.isMatch=U2,$.isMatchWith=B2,$.isNaN=V2,$.isNative=q2,$.isNil=$2,$.isNull=j2,$.isNumber=jE,$.isObject=jr,$.isObjectLike=ni,$.isPlainObject=Yp,$.isRegExp=n1,$.isSafeInteger=z2,$.isSet=$E,$.isString=py,$.isSymbol=Io,$.isTypedArray=Yf,$.isUndefined=H2,$.isWeakMap=W2,$.isWeakSet=G2,$.join=cl,$.kebabCase=Mk,$.last=us,$.lastIndexOf=lh,$.lowerCase=Fk,$.lowerFirst=Uk,$.lt=K2,$.lte=Q2,$.max=ON,$.maxBy=PN,$.mean=LN,$.meanBy=DN,$.min=MN,$.minBy=FN,$.stubArray=c1,$.stubFalse=h1,$.stubObject=TN,$.stubString=bN,$.stubTrue=SN,$.multiply=UN,$.nth=qp,$.noConflict=pN,$.noop=u1,$.now=ae,$.pad=Bk,$.padEnd=Vk,$.padStart=qk,$.parseInt=jk,$.random=Nk,$.reduce=Xf,$.reduceRight=s,$.repeat=$k,$.replace=zk,$.result=Ek,$.round=BN,$.runInContext=pe,$.sample=f,$.size=b,$.snakeCase=Hk,$.some=V,$.sortedIndex=$p,$.sortedIndexBy=q_,$.sortedIndexOf=fl,$.sortedLastIndex=ey,$.sortedLastIndexBy=zp,$.sortedLastIndexOf=tu,$.startCase=Gk,$.startsWith=Kk,$.subtract=VN,$.sum=qN,$.sumBy=jN,$.template=Qk,$.times=AN,$.toFinite=ou,$.toInteger=un,$.toLength=HE,$.toLower=Jk,$.toNumber=na,$.toSafeInteger=J2,$.toString=Zn,$.toUpper=Xk,$.trim=Yk,$.trimEnd=Zk,$.trimStart=eN,$.truncate=tN,$.unescape=nN,$.uniqueId=xN,$.upperCase=rN,$.upperFirst=s1,$.each=ch,$.eachRight=Gf,$.first=eu,l1($,function(){var l={};return js($,function(c,y){Dn.call($.prototype,y)||(l[y]=c)}),l}(),{chain:!1}),$.VERSION=r,fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){$[l].placeholder=$}),fi(["drop","take"],function(l,c){Zt.prototype[l]=function(y){y=y===t?1:ei(un(y),0);var S=this.__filtered__&&!c?new Zt(this):this.clone();return S.__filtered__?S.__takeCount__=Wi(y,S.__takeCount__):S.__views__.push({size:Wi(y,G),type:l+(S.__dir__<0?"Right":"")}),S},Zt.prototype[l+"Right"]=function(y){return this.reverse()[l](y).reverse()}}),fi(["filter","map","takeWhile"],function(l,c){var y=c+1,S=y==oe||y==re;Zt.prototype[l]=function(M){var Q=this.clone();return Q.__iteratees__.push({iteratee:bt(M,3),type:y}),Q.__filtered__=Q.__filtered__||S,Q}}),fi(["head","last"],function(l,c){var y="take"+(c?"Right":"");Zt.prototype[l]=function(){return this[y](1).value()[0]}}),fi(["initial","tail"],function(l,c){var y="drop"+(c?"":"Right");Zt.prototype[l]=function(){return this.__filtered__?new Zt(this):this[y](1)}}),Zt.prototype.compact=function(){return this.filter(ho)},Zt.prototype.find=function(l){return this.filter(l).head()},Zt.prototype.findLast=function(l){return this.reverse().find(l)},Zt.prototype.invokeMap=ln(function(l,c){return typeof l=="function"?new Zt(this):this.map(function(y){return ro(y,l,c)})}),Zt.prototype.reject=function(l){return this.filter(ft(bt(l)))},Zt.prototype.slice=function(l,c){l=un(l);var y=this;return y.__filtered__&&(l>0||c<0)?new Zt(y):(l<0?y=y.takeRight(-l):l&&(y=y.drop(l)),c!==t&&(c=un(c),y=c<0?y.dropRight(-c):y.take(c-l)),y)},Zt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Zt.prototype.toArray=function(){return this.take(G)},js(Zt.prototype,function(l,c){var y=/^(?:filter|find|map|reject)|While$/.test(c),S=/^(?:head|last)$/.test(c),M=$[S?"take"+(c=="last"?"Right":""):c],Q=S||/^find/.test(c);M&&($.prototype[c]=function(){var te=this.__wrapped__,ue=S?[1]:arguments,me=te instanceof Zt,Le=ue[0],De=me||en(te),Ve=function(Tn){var Nn=M.apply($,yo([Tn],ue));return S&&Ze?Nn[0]:Nn};De&&y&&typeof Le=="function"&&Le.length!=1&&(me=De=!1);var Ze=this.__chain__,mt=!!this.__actions__.length,Pt=Q&&!Ze,dn=me&&!mt;if(!Q&&De){te=dn?te:new Zt(this);var Lt=l.apply(te,ue);return Lt.__actions__.push({func:xo,args:[Ve],thisArg:t}),new Gi(Lt,Ze)}return Pt&&dn?l.apply(this,ue):(Lt=this.thru(Ve),Pt?S?Lt.value()[0]:Lt.value():Lt)})}),fi(["pop","push","shift","sort","splice","unshift"],function(l){var c=_a[l],y=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",S=/^(?:pop|shift)$/.test(l);$.prototype[l]=function(){var M=arguments;if(S&&!this.__chain__){var Q=this.value();return c.apply(en(Q)?Q:[],M)}return this[y](function(te){return c.apply(en(te)?te:[],M)})}}),js(Zt.prototype,function(l,c){var y=$[c];if(y){var S=y.name+"";Dn.call(Uu,S)||(Uu[S]=[]),Uu[S].push({name:c,func:y})}}),Uu[Zu(t,U).name]=[{name:"wrapper",func:t}],Zt.prototype.clone=nf,Zt.prototype.reverse=ip,Zt.prototype.value=qu,$.prototype.at=$f,$.prototype.chain=iu,$.prototype.commit=zf,$.prototype.next=Gp,$.prototype.plant=J_,$.prototype.reverse=Qp,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=X_,$.prototype.first=$.prototype.head,wa&&($.prototype[wa]=Kp),$},Ou=P_();gn?((gn.exports=Ou)._=Ou,an._=Ou):St._=Ou}).call(aV)}(pg,pg.exports)),pg.exports}var jv=lV();const wS=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"];function uV(n){const e=n.split("").reduce((t,r)=>(t=(t<<5)-t+r.charCodeAt(0),t&t),0);return wS[Math.abs(e)%wS.length]}function ES(n){return n.ops.reduce((e,t)=>typeof t.insert=="string"?e+t.insert.length:e+1,0)}function cV(n,e){const t=ES(n),r=ES(e);let i=0,o=0;for(let g=0;g<n.ops.length;g++){const _=n.ops[g],w=e.ops[g];if(jv.isEqual(_,w))i+=typeof _.insert=="string"?_.insert.length:1,o++;else{console.log("diff",_,w);break}}let u=0,h=0;for(let g=n.ops.length-1;g>=0;g--){const _=n.ops[g],w=e.ops[g];if(jv.isEqual(_,w))u+=typeof _.insert=="string"?_.insert.length:1,h++;else{console.log("diff",_,w);break}}console.log(`Keep start: ${i}, end: ${u}, length: ${r}`);let d=new lt;i>0&&(d=d.retain(i)),d=d.delete((t||0)-i-u);for(let g=o;g<e.ops.length-h;g++)d.push(e.ops[g]);return u>0&&(d=d.retain(u)),console.log(d.ops),d}class $v extends Q5{constructor(t,r){var i;super();Ge(this,"id");Ge(this,"title");Ge(this,"description");Ge(this,"content");Ge(this,"owner");Ge(this,"permissions");Ge(this,"api");Ge(this,"cursors");Ge(this,"documentRef");Ge(this,"quill",null);Ge(this,"hasLocalChanges",!1);Ge(this,"isEditing",!1);Ge(this,"unsubscribe",null);Ge(this,"throttleSave");t?(this.id=t.id,this.title=t.title,this.description=t.description,this.cursors={},this.content=t.content,this.owner=t.owner,this.permissions=t.permissions,this.documentRef=I5(r.firestore,"notes",this.id)):(this.id="",this.title="Unnamed Note",this.description="",this.cursors={},this.content=[{id:e3(),type:"text",position:null,value:"",delta:{ops:[]}}],this.owner=((i=r.user)==null?void 0:i.uid)??"",this.permissions={global:null,user:{}},this.documentRef=null),this.api=r,this.throttleSave=jv.throttle(async()=>{if(this.quill&&this.documentRef&&this.api.user){const o={};this.hasLocalChanges&&(o.content=this.export(this.quill.getContents()));const u=this.quill.getSelection();if(u&&(o.cursors={[this.api.user.uid]:{name:this.api.user.displayName,index:u.index,length:u.length,updatedAt:Date.now()}}),Object.keys(o).length===0)return;console.log("Saving content to Firestore:",o),await H5(this.documentRef,o,{merge:!0}).catch(console.error),this.emit("update",o),this.hasLocalChanges=!1}},1e3)}serialize(){return{id:this.id,title:this.title,description:this.description,content:this.content,owner:this.owner,permissions:this.permissions}}async share(t,r){return await this.api.shareNote(this.id,t,r)}async setTitle(t){var i,o;const r=(i=this.api.user)==null?void 0:i.uid;if(!r)return!1;if(this.owner!==r&&((o=this.permissions.user[r])==null?void 0:o.permission)!=="edit"&&this.permissions.global!=="edit"){alert("You do not have permission to edit this note.");return}this.title=t||"Unnamed Note",this.emit()}async save(t=!0){if(t){const r=await this.api.saveNote(this);return r!==null&&this.emit("save"),r}else console.log("Soft saving..."),this.throttleSave()}async createSession(){if(this.quill&&this.documentRef){const t=this.quill;this.unsubscribe=W5(this.documentRef,r=>{var i;if(console.log("Received Firestore snapshot"),r.exists()&&this.hasLocalChanges===!1&&!this.isEditing){const o=(i=t.container.parentElement)==null?void 0:i.scrollTop,u=t.getSelection(),h=this.import(r.data());t.updateContents(h,"silent"),u!==null&&t.setSelection(u,"silent"),t.container.parentElement&&o&&(t.container.parentElement.scrollTop=o)}}),this.quill.on("text-change",(r,i,o)=>{o==="user"&&(this.hasLocalChanges=!0,this.isEditing=!0,this.save(!1),setTimeout(()=>this.isEditing=!1,5e3))}),this.quill.on("selection-change",(r,i,o)=>{o==="user"&&this.save(!1)}),console.log("Realtime session started.")}else this.quill&&this.emit("realtime-start")}destroySession(){var t,r;this.unsubscribe&&(this.unsubscribe(),(t=this.quill)==null||t.off("text-change"),(r=this.quill)==null||r.off("selection-change"),console.log("Realtime session stopped."))}updateCursors(){var r,i;const t=(r=this.quill)==null?void 0:r.getModule("cursors");if(t!==void 0){for(const o of Object.keys(this.cursors))if(((i=this.api.user)==null?void 0:i.uid)!==o){if(new Date().getTime()-new Date(this.cursors[o].updatedAt).getTime()>3e4){t.removeCursor(o);continue}t.createCursor(o,this.cursors[o].name,uV(o)),t.moveCursor(o,{index:this.cursors[o].index,length:this.cursors[o].length})}}}export(t){let r="";for(const o of t.ops)typeof o.insert=="string"&&(r+=o.insert);const i=[{id:"1",type:"text",position:null,value:r,delta:{ops:t.ops}}];return this.content=i,this.emit(),i}import(t){if(!t)return this.importBlocks(this.content,!1);if(t.id!==this.id)throw new Error("Note ID mismatch");return this.title=t.title,this.description=t.description,this.owner=t.owner,this.cursors=t.cursors||{},this.permissions=t.permissions,setTimeout(()=>this.updateCursors(),0),this.importBlocks(t.content)}importBlocks(t,r=!0){const i=this.content.find(d=>d.type==="text"),o=i?new lt(i.delta):new lt,u=t.find(d=>d.type==="text"),h=u?new lt(u.delta):new lt;return this.content=t,r&&this.emit(),!r||o.ops.length===0?new lt(h.ops):cV(o,h)}async uploadMedia(t){const r=nV(this.api.storage,`notes/${this.id}/${t.name}`),i=await eV(r,t,{cacheControl:"public,max-age=31536000"});return console.log(i.metadata),i?await tV(r):null}toString(t){return t?t.value:this.value}get value(){return this.content.filter(r=>r.position===null).map(r=>this.toString(r)).join(`
`)}blockUpdate(){this.emit()}async search(t){return await this.api.search(this.id,t)}async generateSummary(){return await this.api.generateSummary(this.id)}async generateFlashcards(){return await this.api.generateFlashcards(this.id)}}var $1={exports:{}},lr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function hV(){if(TS)return lr;TS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),x=Symbol.for("react.client.reference");function R(O){if(typeof O=="object"&&O!==null){var P=O.$$typeof;switch(P){case n:switch(O=O.type,O){case t:case i:case r:case d:case g:return O;default:switch(O=O&&O.$$typeof,O){case u:case h:case w:case _:return O;case o:return O;default:return P}}case e:return P}}}return lr.ContextConsumer=o,lr.ContextProvider=u,lr.Element=n,lr.ForwardRef=h,lr.Fragment=t,lr.Lazy=w,lr.Memo=_,lr.Portal=e,lr.Profiler=i,lr.StrictMode=r,lr.Suspense=d,lr.SuspenseList=g,lr.isContextConsumer=function(O){return R(O)===o},lr.isContextProvider=function(O){return R(O)===u},lr.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===n},lr.isForwardRef=function(O){return R(O)===h},lr.isFragment=function(O){return R(O)===t},lr.isLazy=function(O){return R(O)===w},lr.isMemo=function(O){return R(O)===_},lr.isPortal=function(O){return R(O)===e},lr.isProfiler=function(O){return R(O)===i},lr.isStrictMode=function(O){return R(O)===r},lr.isSuspense=function(O){return R(O)===d},lr.isSuspenseList=function(O){return R(O)===g},lr.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===t||O===i||O===r||O===d||O===g||O===E||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===_||O.$$typeof===u||O.$$typeof===o||O.$$typeof===h||O.$$typeof===x||O.getModuleId!==void 0)},lr.typeOf=R,lr}var bS;function fV(){return bS||(bS=1,$1.exports=hV()),$1.exports}var FI=fV();function cu(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function UI(n){if(Qe.isValidElement(n)||FI.isValidElementType(n)||!cu(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=UI(n[t])}),e}function Do(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return cu(n)&&cu(e)&&Object.keys(e).forEach(i=>{Qe.isValidElement(e[i])||FI.isValidElementType(e[i])?r[i]=e[i]:cu(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&cu(n[i])?r[i]=Do(n[i],e[i],t):t.clone?r[i]=cu(e[i])?UI(e[i]):e[i]:r[i]=e[i]}),r}function xh(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Bd(n){if(typeof n!="string")throw new Error(xh(7));return n.charAt(0).toUpperCase()+n.slice(1)}function zv(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const d=h;t[i][d]=zv(o[d],u[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function dV(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let d=0;d<o.length;d+=1){const g=o[d];g&&(u+=(h===!0?"":" ")+e(g),h=!1,t&&t[g]&&(u+=" "+t[g]))}r[i]=u}return r}const SS=n=>n,pV=()=>{let n=SS;return{configure(e){n=e},generate(e){return n(e)},reset(){n=SS}}},gV=pV(),mV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function BI(n,e,t="Mui"){const r=mV[e];return r?`${t}-${r}`:`${gV.generate(n)}-${e}`}function yV(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=BI(n,i,t)}),r}function _V(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function VI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=VI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function vV(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=VI(n))&&(r&&(r+=" "),r+=e);return r}function Sg(n,e){return e?Do(n,e,{clone:!1}):n}function wV(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function EV(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function TV(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function bV(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const a_={xs:0,sm:600,md:900,lg:1200,xl:1536},AS={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${a_[n]}px)`},SV={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:a_[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function bu(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||AS;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||AS;return Object.keys(e).reduce((u,h)=>{if(EV(o.keys,h)){const d=TV(r.containerQueries?r:SV,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||a_).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function AV(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function CV(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function l_(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function x0(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=l_(n,t)||r,e&&(i=e(i,r,n)),i}function wi(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,g=l_(d,r)||{};return bu(u,h,w=>{let E=x0(g,i,w);return w===E&&typeof w=="string"&&(E=x0(g,i,`${e}${w==="default"?"":Bd(w)}`,w)),t===!1?E:{[t]:E}})};return o.propTypes={},o.filterProps=[e],o}function xV(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const IV={m:"margin",p:"padding"},RV={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},CS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kV=xV(n=>{if(n.length>2)if(CS[n])n=CS[n];else return[n];const[e,t]=n.split(""),r=IV[e],i=RV[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),dE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],pE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...dE,...pE];function om(n,e,t,r){const i=l_(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:`-${h}`}:typeof i=="function"?i:()=>{}}function gE(n){return om(n,"spacing",8)}function am(n,e){return typeof e=="string"||e==null?e:n(e)}function NV(n,e){return t=>n.reduce((r,i)=>(r[i]=am(e,t),r),{})}function OV(n,e,t,r){if(!e.includes(t))return null;const i=kV(t),o=NV(i,r),u=n[t];return bu(n,u,o)}function qI(n,e){const t=gE(n.theme);return Object.keys(n).map(r=>OV(n,e,r,t)).reduce(Sg,{})}function ri(n){return qI(n,dE)}ri.propTypes={};ri.filterProps=dE;function ii(n){return qI(n,pE)}ii.propTypes={};ii.filterProps=pE;function u_(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Sg(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function oa(n){return typeof n!="number"?n:`${n}px solid`}function fa(n,e){return wi({prop:n,themeKey:"borders",transform:e})}const PV=fa("border",oa),LV=fa("borderTop",oa),DV=fa("borderRight",oa),MV=fa("borderBottom",oa),FV=fa("borderLeft",oa),UV=fa("borderColor"),BV=fa("borderTopColor"),VV=fa("borderRightColor"),qV=fa("borderBottomColor"),jV=fa("borderLeftColor"),$V=fa("outline",oa),zV=fa("outlineColor"),c_=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=om(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:am(e,r)});return bu(n,n.borderRadius,t)}return null};c_.propTypes={};c_.filterProps=["borderRadius"];u_(PV,LV,DV,MV,FV,UV,BV,VV,qV,jV,c_,$V,zV);const h_=n=>{if(n.gap!==void 0&&n.gap!==null){const e=om(n.theme,"spacing",8),t=r=>({gap:am(e,r)});return bu(n,n.gap,t)}return null};h_.propTypes={};h_.filterProps=["gap"];const f_=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=om(n.theme,"spacing",8),t=r=>({columnGap:am(e,r)});return bu(n,n.columnGap,t)}return null};f_.propTypes={};f_.filterProps=["columnGap"];const d_=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=om(n.theme,"spacing",8),t=r=>({rowGap:am(e,r)});return bu(n,n.rowGap,t)}return null};d_.propTypes={};d_.filterProps=["rowGap"];const HV=wi({prop:"gridColumn"}),WV=wi({prop:"gridRow"}),GV=wi({prop:"gridAutoFlow"}),KV=wi({prop:"gridAutoColumns"}),QV=wi({prop:"gridAutoRows"}),JV=wi({prop:"gridTemplateColumns"}),XV=wi({prop:"gridTemplateRows"}),YV=wi({prop:"gridTemplateAreas"}),ZV=wi({prop:"gridArea"});u_(h_,f_,d_,HV,WV,GV,KV,QV,JV,XV,YV,ZV);function Td(n,e){return e==="grey"?e:n}const eq=wi({prop:"color",themeKey:"palette",transform:Td}),tq=wi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Td}),nq=wi({prop:"backgroundColor",themeKey:"palette",transform:Td});u_(eq,tq,nq);function No(n){return n<=1&&n!==0?`${n*100}%`:n}const rq=wi({prop:"width",transform:No}),mE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,d;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||a_[t];return r?((d=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:No(t)}};return bu(n,n.maxWidth,e)}return null};mE.filterProps=["maxWidth"];const iq=wi({prop:"minWidth",transform:No}),sq=wi({prop:"height",transform:No}),oq=wi({prop:"maxHeight",transform:No}),aq=wi({prop:"minHeight",transform:No});wi({prop:"size",cssProperty:"width",transform:No});wi({prop:"size",cssProperty:"height",transform:No});const lq=wi({prop:"boxSizing"});u_(rq,mE,iq,sq,oq,aq,lq);const p_={border:{themeKey:"borders",transform:oa},borderTop:{themeKey:"borders",transform:oa},borderRight:{themeKey:"borders",transform:oa},borderBottom:{themeKey:"borders",transform:oa},borderLeft:{themeKey:"borders",transform:oa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:oa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:c_},color:{themeKey:"palette",transform:Td},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Td},backgroundColor:{themeKey:"palette",transform:Td},p:{style:ii},pt:{style:ii},pr:{style:ii},pb:{style:ii},pl:{style:ii},px:{style:ii},py:{style:ii},padding:{style:ii},paddingTop:{style:ii},paddingRight:{style:ii},paddingBottom:{style:ii},paddingLeft:{style:ii},paddingX:{style:ii},paddingY:{style:ii},paddingInline:{style:ii},paddingInlineStart:{style:ii},paddingInlineEnd:{style:ii},paddingBlock:{style:ii},paddingBlockStart:{style:ii},paddingBlockEnd:{style:ii},m:{style:ri},mt:{style:ri},mr:{style:ri},mb:{style:ri},ml:{style:ri},mx:{style:ri},my:{style:ri},margin:{style:ri},marginTop:{style:ri},marginRight:{style:ri},marginBottom:{style:ri},marginLeft:{style:ri},marginX:{style:ri},marginY:{style:ri},marginInline:{style:ri},marginInlineStart:{style:ri},marginInlineEnd:{style:ri},marginBlock:{style:ri},marginBlockStart:{style:ri},marginBlockEnd:{style:ri},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:h_},rowGap:{style:d_},columnGap:{style:f_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:No},maxWidth:{style:mE},minWidth:{transform:No},height:{transform:No},maxHeight:{transform:No},minHeight:{transform:No},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function uq(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function cq(n,e){return typeof n=="function"?n(e):n}function hq(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:g,transform:_,style:w}=h;if(r==null)return null;if(g==="typography"&&r==="inherit")return{[t]:r};const E=l_(i,g)||{};return w?w(u):bu(u,r,R=>{let O=x0(E,_,R);return R===O&&typeof R=="string"&&(O=x0(E,_,`${t}${R==="default"?"":Bd(R)}`,R)),d===!1?O:{[d]:O}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??p_;function u(h){let d=h;if(typeof h=="function")d=h(i);else if(typeof h!="object")return h;if(!d)return null;const g=AV(i.breakpoints),_=Object.keys(g);let w=g;return Object.keys(d).forEach(E=>{const x=cq(d[E],i);if(x!=null)if(typeof x=="object")if(o[E])w=Sg(w,n(E,x,i,o));else{const R=bu({theme:i},x,O=>({[E]:O}));uq(R,x)?w[E]=e({sx:x,theme:i}):w=Sg(w,R)}else w=Sg(w,n(E,x,i,o))}),wV(i,CV(_,w))}return Array.isArray(r)?r.map(u):u(r)}return e}const Vd=hq();Vd.filterProps=["sx"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hv.apply(null,arguments)}function fq(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function dq(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var pq=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dq(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=fq(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ks="-ms-",I0="-moz-",Gn="-webkit-",jI="comm",yE="rule",_E="decl",gq="@import",$I="@keyframes",mq="@layer",yq=Math.abs,g_=String.fromCharCode,_q=Object.assign;function vq(n,e){return ds(n,0)^45?(((e<<2^ds(n,0))<<2^ds(n,1))<<2^ds(n,2))<<2^ds(n,3):0}function zI(n){return n.trim()}function wq(n,e){return(n=e.exec(n))?n[0]:n}function Kn(n,e,t){return n.replace(e,t)}function Wv(n,e){return n.indexOf(e)}function ds(n,e){return n.charCodeAt(e)|0}function qg(n,e,t){return n.slice(e,t)}function _l(n){return n.length}function vE(n){return n.length}function Ly(n,e){return e.push(n),n}function Eq(n,e){return n.map(e).join("")}var m_=1,qd=1,HI=0,mo=0,Ii=0,Kd="";function y_(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:m_,column:qd,length:u,return:""}}function rg(n,e){return _q(y_("",null,null,"",null,null,0),n,{length:-n.length},e)}function Tq(){return Ii}function bq(){return Ii=mo>0?ds(Kd,--mo):0,qd--,Ii===10&&(qd=1,m_--),Ii}function Mo(){return Ii=mo<HI?ds(Kd,mo++):0,qd++,Ii===10&&(qd=1,m_++),Ii}function Cl(){return ds(Kd,mo)}function Xy(){return mo}function lm(n,e){return qg(Kd,n,e)}function jg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WI(n){return m_=qd=1,HI=_l(Kd=n),mo=0,[]}function GI(n){return Kd="",n}function Yy(n){return zI(lm(mo-1,Gv(n===91?n+2:n===40?n+1:n)))}function Sq(n){for(;(Ii=Cl())&&Ii<33;)Mo();return jg(n)>2||jg(Ii)>3?"":" "}function Aq(n,e){for(;--e&&Mo()&&!(Ii<48||Ii>102||Ii>57&&Ii<65||Ii>70&&Ii<97););return lm(n,Xy()+(e<6&&Cl()==32&&Mo()==32))}function Gv(n){for(;Mo();)switch(Ii){case n:return mo;case 34:case 39:n!==34&&n!==39&&Gv(Ii);break;case 40:n===41&&Gv(n);break;case 92:Mo();break}return mo}function Cq(n,e){for(;Mo()&&n+Ii!==57;)if(n+Ii===84&&Cl()===47)break;return"/*"+lm(e,mo-1)+"*"+g_(n===47?n:Mo())}function xq(n){for(;!jg(Cl());)Mo();return lm(n,mo)}function Iq(n){return GI(Zy("",null,null,null,[""],n=WI(n),0,[0],n))}function Zy(n,e,t,r,i,o,u,h,d){for(var g=0,_=0,w=u,E=0,x=0,R=0,O=1,P=1,U=1,B=0,C="",F=i,z=o,J=r,D=C;P;)switch(R=B,B=Mo()){case 40:if(R!=108&&ds(D,w-1)==58){Wv(D+=Kn(Yy(B),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:D+=Yy(B);break;case 9:case 10:case 13:case 32:D+=Sq(R);break;case 92:D+=Aq(Xy()-1,7);continue;case 47:switch(Cl()){case 42:case 47:Ly(Rq(Cq(Mo(),Xy()),e,t),d);break;default:D+="/"}break;case 123*O:h[g++]=_l(D)*U;case 125*O:case 59:case 0:switch(B){case 0:case 125:P=0;case 59+_:U==-1&&(D=Kn(D,/\f/g,"")),x>0&&_l(D)-w&&Ly(x>32?IS(D+";",r,t,w-1):IS(Kn(D," ","")+";",r,t,w-2),d);break;case 59:D+=";";default:if(Ly(J=xS(D,e,t,g,_,i,h,C,F=[],z=[],w),o),B===123)if(_===0)Zy(D,e,J,J,F,o,w,h,z);else switch(E===99&&ds(D,3)===110?100:E){case 100:case 108:case 109:case 115:Zy(n,J,J,r&&Ly(xS(n,J,J,0,0,i,h,C,i,F=[],w),z),i,z,w,h,r?F:z);break;default:Zy(D,J,J,J,[""],z,0,h,z)}}g=_=x=0,O=U=1,C=D="",w=u;break;case 58:w=1+_l(D),x=R;default:if(O<1){if(B==123)--O;else if(B==125&&O++==0&&bq()==125)continue}switch(D+=g_(B),B*O){case 38:U=_>0?1:(D+="\f",-1);break;case 44:h[g++]=(_l(D)-1)*U,U=1;break;case 64:Cl()===45&&(D+=Yy(Mo())),E=Cl(),_=w=_l(C=D+=xq(Xy())),B++;break;case 45:R===45&&_l(D)==2&&(O=0)}}return o}function xS(n,e,t,r,i,o,u,h,d,g,_){for(var w=i-1,E=i===0?o:[""],x=vE(E),R=0,O=0,P=0;R<r;++R)for(var U=0,B=qg(n,w+1,w=yq(O=u[R])),C=n;U<x;++U)(C=zI(O>0?E[U]+" "+B:Kn(B,/&\f/g,E[U])))&&(d[P++]=C);return y_(n,e,t,i===0?yE:h,d,g,_)}function Rq(n,e,t){return y_(n,e,t,jI,g_(Tq()),qg(n,2,-2),0)}function IS(n,e,t,r){return y_(n,e,t,_E,qg(n,0,r),qg(n,r+1,-1),r)}function bd(n,e){for(var t="",r=vE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function kq(n,e,t,r){switch(n.type){case mq:if(n.children.length)break;case gq:case _E:return n.return=n.return||n.value;case jI:return"";case $I:return n.return=n.value+"{"+bd(n.children,r)+"}";case yE:n.value=n.props.join(",")}return _l(t=bd(n.children,r))?n.return=n.value+"{"+t+"}":""}function Nq(n){var e=vE(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function Oq(n){return function(e){e.root||(e=e.return)&&n(e)}}function KI(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Pq=function(e,t,r){for(var i=0,o=0;i=o,o=Cl(),i===38&&o===12&&(t[r]=1),!jg(o);)Mo();return lm(e,mo)},Lq=function(e,t){var r=-1,i=44;do switch(jg(i)){case 0:i===38&&Cl()===12&&(t[r]=1),e[r]+=Pq(mo-1,t,r);break;case 2:e[r]+=Yy(i);break;case 4:if(i===44){e[++r]=Cl()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=g_(i)}while(i=Mo());return e},Dq=function(e,t){return GI(Lq(WI(e),t))},RS=new WeakMap,Mq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!RS.get(r))&&!i){RS.set(e,!0);for(var o=[],u=Dq(t,o),h=r.props,d=0,g=0;d<u.length;d++)for(var _=0;_<h.length;_++,g++)e.props[g]=o[d]?u[d].replace(/&\f/g,h[_]):h[_]+" "+u[d]}}},Fq=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function QI(n,e){switch(vq(n,e)){case 5103:return Gn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+n+I0+n+ks+n+n;case 6828:case 4268:return Gn+n+ks+n+n;case 6165:return Gn+n+ks+"flex-"+n+n;case 5187:return Gn+n+Kn(n,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+ks+"flex-$1$2")+n;case 5443:return Gn+n+ks+"flex-item-"+Kn(n,/flex-|-self/,"")+n;case 4675:return Gn+n+ks+"flex-line-pack"+Kn(n,/align-content|flex-|-self/,"")+n;case 5548:return Gn+n+ks+Kn(n,"shrink","negative")+n;case 5292:return Gn+n+ks+Kn(n,"basis","preferred-size")+n;case 6060:return Gn+"box-"+Kn(n,"-grow","")+Gn+n+ks+Kn(n,"grow","positive")+n;case 4554:return Gn+Kn(n,/([^-])(transform)/g,"$1"+Gn+"$2")+n;case 6187:return Kn(Kn(Kn(n,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),n,"")+n;case 5495:case 3959:return Kn(n,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return Kn(Kn(n,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+ks+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+n+n;case 4095:case 3583:case 4068:case 2532:return Kn(n,/(.+)-inline(.+)/,Gn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_l(n)-1-e>6)switch(ds(n,e+1)){case 109:if(ds(n,e+4)!==45)break;case 102:return Kn(n,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+I0+(ds(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Wv(n,"stretch")?QI(Kn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ds(n,e+1)!==115)break;case 6444:switch(ds(n,_l(n)-3-(~Wv(n,"!important")&&10))){case 107:return Kn(n,":",":"+Gn)+n;case 101:return Kn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(ds(n,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+ks+"$2box$3")+n}break;case 5936:switch(ds(n,e+11)){case 114:return Gn+n+ks+Kn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Gn+n+ks+Kn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Gn+n+ks+Kn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Gn+n+ks+n+n}return n}var Uq=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case _E:e.return=QI(e.value,e.length);break;case $I:return bd([rg(e,{value:Kn(e.value,"@","@"+Gn)})],i);case yE:if(e.length)return Eq(e.props,function(o){switch(wq(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bd([rg(e,{props:[Kn(o,/:(read-\w+)/,":"+I0+"$1")]})],i);case"::placeholder":return bd([rg(e,{props:[Kn(o,/:(plac\w+)/,":"+Gn+"input-$1")]}),rg(e,{props:[Kn(o,/:(plac\w+)/,":"+I0+"$1")]}),rg(e,{props:[Kn(o,/:(plac\w+)/,ks+"input-$1")]})],i)}return""})}},Bq=[Uq],Vq=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(O){var P=O.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var i=e.stylisPlugins||Bq,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(O){for(var P=O.getAttribute("data-emotion").split(" "),U=1;U<P.length;U++)o[P[U]]=!0;h.push(O)});var d,g=[Mq,Fq];{var _,w=[kq,Oq(function(O){_.insert(O)})],E=Nq(g.concat(i,w)),x=function(P){return bd(Iq(P),E)};d=function(P,U,B,C){_=B,x(P?P+"{"+U.styles+"}":U.styles),C&&(R.inserted[U.name]=!0)}}var R={key:t,sheet:new pq({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return R.sheet.hydrate(h),R},qq=!0;function jq(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var JI=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||qq===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},$q=function(e,t,r){JI(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function zq(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Hq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wq=/[A-Z]|^ms/g,Gq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XI=function(e){return e.charCodeAt(1)===45},kS=function(e){return e!=null&&typeof e!="boolean"},z1=KI(function(n){return XI(n)?n:n.replace(Wq,"-$&").toLowerCase()}),NS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Gq,function(r,i,o){return vl={name:i,styles:o,next:vl},i})}return Hq[e]!==1&&!XI(e)&&typeof t=="number"&&t!==0?t+"px":t};function $g(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return vl={name:i.name,styles:i.styles,next:vl},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)vl={name:u.name,styles:u.styles,next:vl},u=u.next;var h=o.styles+";";return h}return Kq(n,e,t)}case"function":{if(n!==void 0){var d=vl,g=t(n);return vl=d,$g(n,e,g)}break}}var _=t;if(e==null)return _;var w=e[_];return w!==void 0?w:_}function Kq(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=$g(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":kS(h)&&(r+=z1(o)+":"+NS(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)kS(u[d])&&(r+=z1(o)+":"+NS(o,u[d])+";");else{var g=$g(n,e,u);switch(o){case"animation":case"animationName":{r+=z1(o)+":"+g+";";break}default:r+=o+"{"+g+"}"}}}return r}var OS=/label:\s*([^\s;{]+)\s*(;|$)/g,vl;function YI(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";vl=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=$g(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=$g(t,e,n[h]),r){var d=o;i+=d[h]}OS.lastIndex=0;for(var g="",_;(_=OS.exec(i))!==null;)g+="-"+_[1];var w=zq(i)+g;return{name:w,styles:i,next:vl}}var Qq=function(e){return e()},Jq=lT.useInsertionEffect?lT.useInsertionEffect:!1,Xq=Jq||Qq,ZI=Qe.createContext(typeof HTMLElement<"u"?Vq({key:"css"}):null);ZI.Provider;var Yq=function(e){return Qe.forwardRef(function(t,r){var i=Qe.useContext(ZI);return e(t,i,r)})},Zq=Qe.createContext({}),ej=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tj=KI(function(n){return ej.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),nj=tj,rj=function(e){return e!=="theme"},PS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nj:rj},LS=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},ij=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return JI(t,r,i),Xq(function(){return $q(t,r,i)}),null},sj=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=LS(e,t,r),d=h||PS(i),g=!d("as");return function(){var _=arguments,w=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&w.push("label:"+o+";"),_[0]==null||_[0].raw===void 0)w.push.apply(w,_);else{var E=_[0];w.push(E[0]);for(var x=_.length,R=1;R<x;R++)w.push(_[R],E[R])}var O=Yq(function(P,U,B){var C=g&&P.as||i,F="",z=[],J=P;if(P.theme==null){J={};for(var D in P)J[D]=P[D];J.theme=Qe.useContext(Zq)}typeof P.className=="string"?F=jq(U.registered,z,P.className):P.className!=null&&(F=P.className+" ");var q=YI(w.concat(z),U.registered,J);F+=U.key+"-"+q.name,u!==void 0&&(F+=" "+u);var W=g&&h===void 0?PS(C):d,I={};for(var k in P)g&&k==="as"||W(k)&&(I[k]=P[k]);return I.className=F,B&&(I.ref=B),Qe.createElement(Qe.Fragment,null,Qe.createElement(ij,{cache:U,serialized:q,isStringTag:typeof C=="string"}),Qe.createElement(C,I))});return O.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",O.defaultProps=e.defaultProps,O.__emotion_real=O,O.__emotion_base=i,O.__emotion_styles=w,O.__emotion_forwardProp=h,Object.defineProperty(O,"toString",{value:function(){return"."+u}}),O.withComponent=function(P,U){var B=n(P,Hv({},t,U,{shouldForwardProp:LS(O,U,!0)}));return B.apply(void 0,w)},O}},oj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Kv=sj.bind(null);oj.forEach(function(n){Kv[n]=Kv(n)});/**
 * @mui/styled-engine v6.4.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function aj(n,e){return Kv(n,e)}function lj(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const DS=[];function MS(n){return DS[0]=n,YI(DS)}const uj=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function cj(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=uj(e),u=Object.keys(o);function h(E){return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t})`}function d(E){return`@media (max-width:${(typeof e[E]=="number"?e[E]:E)-r/100}${t})`}function g(E,x){const R=u.indexOf(x);return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t}) and (max-width:${(R!==-1&&typeof e[u[R]]=="number"?e[u[R]]:x)-r/100}${t})`}function _(E){return u.indexOf(E)+1<u.length?g(E,u[u.indexOf(E)+1]):h(E)}function w(E){const x=u.indexOf(E);return x===0?h(u[1]):x===u.length-1?d(u[x]):g(E,u[u.indexOf(E)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:g,only:_,not:w,unit:t,...i}}const hj={borderRadius:4};function eR(n=8,e=gE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function fj(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function tR(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=cj(t),d=eR(i);let g=Do({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...hj,...o}},u);return g=bV(g),g.applyStyles=fj,g=e.reduce((_,w)=>Do(_,w),g),g.unstable_sxConfig={...p_,...u==null?void 0:u.unstable_sxConfig},g.unstable_sx=function(w){return Vd({sx:w,theme:this})},g}function nR(n){const{variants:e,...t}=n,r={variants:e,style:MS(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=MS(i.style))}),r}const dj=tR();function H1(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function pj(n){return n?(e,t)=>t[n]:null}function gj(n,e,t){n.theme=_j(n.theme)?t:n.theme[e]||n.theme}function e0(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>e0(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return rR(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function rR(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function mj(n={}){const{themeId:e,defaultTheme:t=dj,rootShouldForwardProp:r=H1,slotShouldForwardProp:i=H1}=n;function o(h){gj(h,e,t)}return(h,d={})=>{lj(h,z=>z.filter(J=>J!==Vd));const{name:g,slot:_,skipVariantsResolver:w,skipSx:E,overridesResolver:x=pj(wj(_)),...R}=d,O=w!==void 0?w:_&&_!=="Root"&&_!=="root"||!1,P=E||!1;let U=H1;_==="Root"||_==="root"?U=r:_?U=i:vj(h)&&(U=void 0);const B=aj(h,{shouldForwardProp:U,label:yj(),...R}),C=z=>{if(typeof z=="function"&&z.__emotion_real!==z)return function(D){return e0(D,z)};if(cu(z)){const J=nR(z);return J.variants?function(q){return e0(q,J)}:J.style}return z},F=(...z)=>{const J=[],D=z.map(C),q=[];if(J.push(o),g&&x&&q.push(function(j){var re,de;const oe=(de=(re=j.theme.components)==null?void 0:re[g])==null?void 0:de.styleOverrides;if(!oe)return null;const le={};for(const se in oe)le[se]=e0(j,oe[se]);return x(j,le)}),g&&!O&&q.push(function(j){var le,re;const N=j.theme,oe=(re=(le=N==null?void 0:N.components)==null?void 0:le[g])==null?void 0:re.variants;return oe?rR(j,oe):null}),P||q.push(Vd),Array.isArray(D[0])){const k=D.shift(),j=new Array(J.length).fill(""),N=new Array(q.length).fill("");let oe;oe=[...j,...k,...N],oe.raw=[...j,...k.raw,...N],J.unshift(oe)}const W=[...J,...D,...q],I=B(...W);return h.muiName&&(I.muiName=h.muiName),I};return B.withConfig&&(F.withConfig=B.withConfig),F}}function yj(n,e){return void 0}function _j(n){for(const e in n)return!1;return!0}function vj(n){return typeof n=="string"&&n.charCodeAt(0)>96}function wj(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function wE(n,e=0,t=1){return _V(n,e,t)}function Ej(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ac(n){if(n.type)return n;if(n.charAt(0)==="#")return Ac(Ej(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(xh(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(xh(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const Tj=n=>{const e=Ac(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},gg=(n,e)=>{try{return Tj(n)}catch{return n}};function __(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function iR(n){n=Ac(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(g,_=(g+t/30)%12)=>i-o*Math.max(Math.min(_-3,9-_,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),__({type:h,values:d})}function Qv(n){n=Ac(n);let e=n.type==="hsl"||n.type==="hsla"?Ac(iR(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function bj(n,e){const t=Qv(n),r=Qv(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Sj(n,e){return n=Ac(n),e=wE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,__(n)}function Dy(n,e,t){try{return Sj(n,e)}catch{return n}}function EE(n,e){if(n=Ac(n),e=wE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return __(n)}function gr(n,e,t){try{return EE(n,e)}catch{return n}}function TE(n,e){if(n=Ac(n),e=wE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return __(n)}function mr(n,e,t){try{return TE(n,e)}catch{return n}}function Aj(n,e=.15){return Qv(n)>.5?EE(n,e):TE(n,e)}function My(n,e,t){try{return Aj(n,e)}catch{return n}}const Cj=Qe.createContext(void 0);function xj(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?zv(i.defaultProps,r):!i.styleOverrides&&!i.variants?zv(i,r):r}function Ij({props:n,name:e}){const t=Qe.useContext(Cj);return xj({props:n,name:e,theme:{components:t}})}const FS={theme:void 0};function Rj(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(FS.theme=i.theme,o=nR(n(FS)),e=o,t=i.theme),o}}function kj(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const US=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},Nj=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,d])=>{(!t||!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},Oj=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function W1(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return Nj(n,(h,d,g)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const _=`--${t?`${t}-`:""}${h.join("-")}`,w=Oj(h,d);Object.assign(i,{[_]:w}),US(o,h,`var(${_})`,g),US(u,h,`var(${_}, ${w})`,g)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function Pj(n,e={}){const{getSelector:t=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...d}=n,{vars:g,css:_,varsWithDefaults:w}=W1(d,e);let E=w;const x={},{[h]:R,...O}=o;if(Object.entries(O||{}).forEach(([C,F])=>{const{vars:z,css:J,varsWithDefaults:D}=W1(F,e);E=Do(E,D),x[C]={css:J,vars:z}}),R){const{css:C,vars:F,varsWithDefaults:z}=W1(R,e);E=Do(E,z),x[h]={css:C,vars:F}}function P(C,F){var J,D;let z=i;if(i==="class"&&(z=".%s"),i==="data"&&(z="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(z=`[${i}="%s"]`),C){if(z==="media")return n.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((D=(J=o[C])==null?void 0:J.palette)==null?void 0:D.mode)||C})`]:{":root":F}};if(z)return n.defaultColorScheme===C?`:root, ${z.replace("%s",String(C))}`:z.replace("%s",String(C))}return":root"}return{vars:E,generateThemeVars:()=>{let C={...g};return Object.entries(x).forEach(([,{vars:F}])=>{C=Do(C,F)}),C},generateStyleSheets:()=>{var q,W;const C=[],F=n.defaultColorScheme||"light";function z(I,k){Object.keys(k).length&&C.push(typeof I=="string"?{[I]:{...k}}:I)}z(t(void 0,{..._}),_);const{[F]:J,...D}=x;if(J){const{css:I}=J,k=(W=(q=o[F])==null?void 0:q.palette)==null?void 0:W.mode,j=!r&&k?{colorScheme:k,...I}:{...I};z(t(F,{...j}),j)}return Object.entries(D).forEach(([I,{css:k}])=>{var oe,le;const j=(le=(oe=o[I])==null?void 0:oe.palette)==null?void 0:le.mode,N=!r&&j?{colorScheme:j,...k}:{...k};z(t(I,{...N}),N)}),C}}}function Lj(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const zg={black:"#000",white:"#fff"},Dj={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ed={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},td={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ig={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},nd={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},rd={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},id={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function sR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zg.white,default:zg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Mj=sR();function oR(){return{text:{primary:zg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const BS=oR();function VS(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=TE(n.main,i):e==="dark"&&(n.dark=EE(n.main,o)))}function Fj(n="light"){return n==="dark"?{main:nd[200],light:nd[50],dark:nd[400]}:{main:nd[700],light:nd[400],dark:nd[800]}}function Uj(n="light"){return n==="dark"?{main:ed[200],light:ed[50],dark:ed[400]}:{main:ed[500],light:ed[300],dark:ed[700]}}function Bj(n="light"){return n==="dark"?{main:td[500],light:td[300],dark:td[700]}:{main:td[700],light:td[400],dark:td[800]}}function Vj(n="light"){return n==="dark"?{main:rd[400],light:rd[300],dark:rd[700]}:{main:rd[700],light:rd[500],dark:rd[900]}}function qj(n="light"){return n==="dark"?{main:id[400],light:id[300],dark:id[700]}:{main:id[800],light:id[500],dark:id[900]}}function jj(n="light"){return n==="dark"?{main:ig[400],light:ig[300],dark:ig[700]}:{main:"#ed6c02",light:ig[500],dark:ig[900]}}function bE(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||Fj(e),u=n.secondary||Uj(e),h=n.error||Bj(e),d=n.info||Vj(e),g=n.success||qj(e),_=n.warning||jj(e);function w(O){return bj(O,BS.text.primary)>=t?BS.text.primary:Mj.text.primary}const E=({color:O,name:P,mainShade:U=500,lightShade:B=300,darkShade:C=700})=>{if(O={...O},!O.main&&O[U]&&(O.main=O[U]),!O.hasOwnProperty("main"))throw new Error(xh(11,P?` (${P})`:"",U));if(typeof O.main!="string")throw new Error(xh(12,P?` (${P})`:"",JSON.stringify(O.main)));return VS(O,"light",B,r),VS(O,"dark",C,r),O.contrastText||(O.contrastText=w(O.main)),O};let x;return e==="light"?x=sR():e==="dark"&&(x=oR()),Do({common:{...zg},mode:e,primary:E({color:o,name:"primary"}),secondary:E({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:E({color:h,name:"error"}),warning:E({color:_,name:"warning"}),info:E({color:d,name:"info"}),success:E({color:g,name:"success"}),grey:Dj,contrastThreshold:t,getContrastText:w,augmentColor:E,tonalOffset:r,...x},i)}function $j(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function zj(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Hj(n){return Math.round(n*1e5)/1e5}const qS={textTransform:"uppercase"},jS='"Roboto", "Helvetica", "Arial", sans-serif';function Wj(n,e){const{fontFamily:t=jS,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:g,pxToRem:_,...w}=typeof e=="function"?e(n):e,E=r/14,x=_||(P=>`${P/d*E}rem`),R=(P,U,B,C,F)=>({fontFamily:t,fontWeight:P,fontSize:x(U),lineHeight:B,...t===jS?{letterSpacing:`${Hj(C/U)}em`}:{},...F,...g}),O={h1:R(i,96,1.167,-1.5),h2:R(i,60,1.2,-.5),h3:R(o,48,1.167,0),h4:R(o,34,1.235,.25),h5:R(o,24,1.334,0),h6:R(u,20,1.6,.15),subtitle1:R(o,16,1.75,.15),subtitle2:R(u,14,1.57,.1),body1:R(o,16,1.5,.15),body2:R(o,14,1.43,.15),button:R(u,14,1.75,.4,qS),caption:R(o,12,1.66,.4),overline:R(o,12,2.66,1,qS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Do({htmlFontSize:d,pxToRem:x,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...O},w,{clone:!1})}const Gj=.2,Kj=.14,Qj=.12;function Mr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Gj})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Kj})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Qj})`].join(",")}const Jj=["none",Mr(0,2,1,-1,0,1,1,0,0,1,3,0),Mr(0,3,1,-2,0,2,2,0,0,1,5,0),Mr(0,3,3,-2,0,3,4,0,0,1,8,0),Mr(0,2,4,-1,0,4,5,0,0,1,10,0),Mr(0,3,5,-1,0,5,8,0,0,1,14,0),Mr(0,3,5,-1,0,6,10,0,0,1,18,0),Mr(0,4,5,-2,0,7,10,1,0,2,16,1),Mr(0,5,5,-3,0,8,10,1,0,3,14,2),Mr(0,5,6,-3,0,9,12,1,0,3,16,2),Mr(0,6,6,-3,0,10,14,1,0,4,18,3),Mr(0,6,7,-4,0,11,15,1,0,4,20,3),Mr(0,7,8,-4,0,12,17,2,0,5,22,4),Mr(0,7,8,-4,0,13,19,2,0,5,24,4),Mr(0,7,9,-4,0,14,21,2,0,5,26,4),Mr(0,8,9,-5,0,15,22,2,0,6,28,5),Mr(0,8,10,-5,0,16,24,2,0,6,30,5),Mr(0,8,11,-5,0,17,26,2,0,6,32,5),Mr(0,9,11,-5,0,18,28,2,0,7,34,6),Mr(0,9,12,-6,0,19,29,2,0,7,36,6),Mr(0,10,13,-6,0,20,31,3,0,8,38,7),Mr(0,10,13,-6,0,21,33,3,0,8,40,7),Mr(0,10,14,-6,0,22,35,3,0,8,42,7),Mr(0,11,14,-7,0,23,36,3,0,9,44,8),Mr(0,11,15,-7,0,24,38,3,0,9,46,8)],Xj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Yj={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $S(n){return`${Math.round(n)}ms`}function Zj(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function e8(n){const e={...Xj,...n.easing},t={...Yj,...n.duration};return{getAutoHeightDuration:Zj,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...g}=o;return(Array.isArray(i)?i:[i]).map(_=>`${_} ${typeof u=="string"?u:$S(u)} ${h} ${typeof d=="string"?d:$S(d)}`).join(",")},...n,easing:e,duration:t}}const t8={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function n8(n){return cu(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function aR(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!n8(h)||u.startsWith("unstable_")?delete r[u]:cu(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Jv(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:d,...g}=n;if(n.vars)throw new Error(xh(20));const _=bE(o),w=tR(n);let E=Do(w,{mixins:zj(w.breakpoints,r),palette:_,shadows:Jj.slice(),typography:Wj(_,h),transitions:e8(u),zIndex:{...t8}});return E=Do(E,g),E=e.reduce((x,R)=>Do(x,R),E),E.unstable_sxConfig={...p_,...g==null?void 0:g.unstable_sxConfig},E.unstable_sx=function(R){return Vd({sx:R,theme:this})},E.toRuntimeSource=aR,E}function r8(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const i8=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=r8(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function lR(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function uR(n){return n==="dark"?i8:[]}function s8(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=bE(e);return{palette:o,opacity:{...lR(o.mode),...t},overlays:r||uR(o.mode),...i}}function o8(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const a8=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],l8=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return a8(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function u8(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ke(n,e,t){!n[e]&&t&&(n[e]=t)}function mg(n){return typeof n!="string"||!n.startsWith("hsl")?n:iR(n)}function uu(n,e){`${e}Channel`in n||(n[`${e}Channel`]=gg(mg(n[e])))}function c8(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const pl=n=>{try{return n()}catch{}},h8=(n="mui")=>kj(n);function G1(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=s8({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=Jv({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...lR(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||uR(i)},u}function f8(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=o8,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...g}=n,_=Object.keys(t)[0],w=r||(t.light&&_!=="light"?"light":_),E=h8(o),{[w]:x,light:R,dark:O,...P}=t,U={...P};let B=x;if((w==="dark"&&!("dark"in t)||w==="light"&&!("light"in t))&&(B=!0),!B)throw new Error(xh(21,w));const C=G1(U,B,g,w);R&&!U.light&&G1(U,R,void 0,"light"),O&&!U.dark&&G1(U,O,void 0,"dark");let F={defaultColorScheme:w,...C,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:d,getCssVar:E,colorSchemes:U,font:{...$j(C.typography),...C.font},spacing:c8(g.spacing)};Object.keys(F.colorSchemes).forEach(W=>{const I=F.colorSchemes[W].palette,k=j=>{const N=j.split("-"),oe=N[1],le=N[2];return E(j,I[oe][le])};if(I.mode==="light"&&(ke(I.common,"background","#fff"),ke(I.common,"onBackground","#000")),I.mode==="dark"&&(ke(I.common,"background","#000"),ke(I.common,"onBackground","#fff")),u8(I,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),I.mode==="light"){ke(I.Alert,"errorColor",gr(I.error.light,.6)),ke(I.Alert,"infoColor",gr(I.info.light,.6)),ke(I.Alert,"successColor",gr(I.success.light,.6)),ke(I.Alert,"warningColor",gr(I.warning.light,.6)),ke(I.Alert,"errorFilledBg",k("palette-error-main")),ke(I.Alert,"infoFilledBg",k("palette-info-main")),ke(I.Alert,"successFilledBg",k("palette-success-main")),ke(I.Alert,"warningFilledBg",k("palette-warning-main")),ke(I.Alert,"errorFilledColor",pl(()=>I.getContrastText(I.error.main))),ke(I.Alert,"infoFilledColor",pl(()=>I.getContrastText(I.info.main))),ke(I.Alert,"successFilledColor",pl(()=>I.getContrastText(I.success.main))),ke(I.Alert,"warningFilledColor",pl(()=>I.getContrastText(I.warning.main))),ke(I.Alert,"errorStandardBg",mr(I.error.light,.9)),ke(I.Alert,"infoStandardBg",mr(I.info.light,.9)),ke(I.Alert,"successStandardBg",mr(I.success.light,.9)),ke(I.Alert,"warningStandardBg",mr(I.warning.light,.9)),ke(I.Alert,"errorIconColor",k("palette-error-main")),ke(I.Alert,"infoIconColor",k("palette-info-main")),ke(I.Alert,"successIconColor",k("palette-success-main")),ke(I.Alert,"warningIconColor",k("palette-warning-main")),ke(I.AppBar,"defaultBg",k("palette-grey-100")),ke(I.Avatar,"defaultBg",k("palette-grey-400")),ke(I.Button,"inheritContainedBg",k("palette-grey-300")),ke(I.Button,"inheritContainedHoverBg",k("palette-grey-A100")),ke(I.Chip,"defaultBorder",k("palette-grey-400")),ke(I.Chip,"defaultAvatarColor",k("palette-grey-700")),ke(I.Chip,"defaultIconColor",k("palette-grey-700")),ke(I.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ke(I.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ke(I.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ke(I.LinearProgress,"primaryBg",mr(I.primary.main,.62)),ke(I.LinearProgress,"secondaryBg",mr(I.secondary.main,.62)),ke(I.LinearProgress,"errorBg",mr(I.error.main,.62)),ke(I.LinearProgress,"infoBg",mr(I.info.main,.62)),ke(I.LinearProgress,"successBg",mr(I.success.main,.62)),ke(I.LinearProgress,"warningBg",mr(I.warning.main,.62)),ke(I.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.11)`),ke(I.Slider,"primaryTrack",mr(I.primary.main,.62)),ke(I.Slider,"secondaryTrack",mr(I.secondary.main,.62)),ke(I.Slider,"errorTrack",mr(I.error.main,.62)),ke(I.Slider,"infoTrack",mr(I.info.main,.62)),ke(I.Slider,"successTrack",mr(I.success.main,.62)),ke(I.Slider,"warningTrack",mr(I.warning.main,.62));const j=My(I.background.default,.8);ke(I.SnackbarContent,"bg",j),ke(I.SnackbarContent,"color",pl(()=>I.getContrastText(j))),ke(I.SpeedDialAction,"fabHoverBg",My(I.background.paper,.15)),ke(I.StepConnector,"border",k("palette-grey-400")),ke(I.StepContent,"border",k("palette-grey-400")),ke(I.Switch,"defaultColor",k("palette-common-white")),ke(I.Switch,"defaultDisabledColor",k("palette-grey-100")),ke(I.Switch,"primaryDisabledColor",mr(I.primary.main,.62)),ke(I.Switch,"secondaryDisabledColor",mr(I.secondary.main,.62)),ke(I.Switch,"errorDisabledColor",mr(I.error.main,.62)),ke(I.Switch,"infoDisabledColor",mr(I.info.main,.62)),ke(I.Switch,"successDisabledColor",mr(I.success.main,.62)),ke(I.Switch,"warningDisabledColor",mr(I.warning.main,.62)),ke(I.TableCell,"border",mr(Dy(I.divider,1),.88)),ke(I.Tooltip,"bg",Dy(I.grey[700],.92))}if(I.mode==="dark"){ke(I.Alert,"errorColor",mr(I.error.light,.6)),ke(I.Alert,"infoColor",mr(I.info.light,.6)),ke(I.Alert,"successColor",mr(I.success.light,.6)),ke(I.Alert,"warningColor",mr(I.warning.light,.6)),ke(I.Alert,"errorFilledBg",k("palette-error-dark")),ke(I.Alert,"infoFilledBg",k("palette-info-dark")),ke(I.Alert,"successFilledBg",k("palette-success-dark")),ke(I.Alert,"warningFilledBg",k("palette-warning-dark")),ke(I.Alert,"errorFilledColor",pl(()=>I.getContrastText(I.error.dark))),ke(I.Alert,"infoFilledColor",pl(()=>I.getContrastText(I.info.dark))),ke(I.Alert,"successFilledColor",pl(()=>I.getContrastText(I.success.dark))),ke(I.Alert,"warningFilledColor",pl(()=>I.getContrastText(I.warning.dark))),ke(I.Alert,"errorStandardBg",gr(I.error.light,.9)),ke(I.Alert,"infoStandardBg",gr(I.info.light,.9)),ke(I.Alert,"successStandardBg",gr(I.success.light,.9)),ke(I.Alert,"warningStandardBg",gr(I.warning.light,.9)),ke(I.Alert,"errorIconColor",k("palette-error-main")),ke(I.Alert,"infoIconColor",k("palette-info-main")),ke(I.Alert,"successIconColor",k("palette-success-main")),ke(I.Alert,"warningIconColor",k("palette-warning-main")),ke(I.AppBar,"defaultBg",k("palette-grey-900")),ke(I.AppBar,"darkBg",k("palette-background-paper")),ke(I.AppBar,"darkColor",k("palette-text-primary")),ke(I.Avatar,"defaultBg",k("palette-grey-600")),ke(I.Button,"inheritContainedBg",k("palette-grey-800")),ke(I.Button,"inheritContainedHoverBg",k("palette-grey-700")),ke(I.Chip,"defaultBorder",k("palette-grey-700")),ke(I.Chip,"defaultAvatarColor",k("palette-grey-300")),ke(I.Chip,"defaultIconColor",k("palette-grey-300")),ke(I.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ke(I.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ke(I.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ke(I.LinearProgress,"primaryBg",gr(I.primary.main,.5)),ke(I.LinearProgress,"secondaryBg",gr(I.secondary.main,.5)),ke(I.LinearProgress,"errorBg",gr(I.error.main,.5)),ke(I.LinearProgress,"infoBg",gr(I.info.main,.5)),ke(I.LinearProgress,"successBg",gr(I.success.main,.5)),ke(I.LinearProgress,"warningBg",gr(I.warning.main,.5)),ke(I.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.13)`),ke(I.Slider,"primaryTrack",gr(I.primary.main,.5)),ke(I.Slider,"secondaryTrack",gr(I.secondary.main,.5)),ke(I.Slider,"errorTrack",gr(I.error.main,.5)),ke(I.Slider,"infoTrack",gr(I.info.main,.5)),ke(I.Slider,"successTrack",gr(I.success.main,.5)),ke(I.Slider,"warningTrack",gr(I.warning.main,.5));const j=My(I.background.default,.98);ke(I.SnackbarContent,"bg",j),ke(I.SnackbarContent,"color",pl(()=>I.getContrastText(j))),ke(I.SpeedDialAction,"fabHoverBg",My(I.background.paper,.15)),ke(I.StepConnector,"border",k("palette-grey-600")),ke(I.StepContent,"border",k("palette-grey-600")),ke(I.Switch,"defaultColor",k("palette-grey-300")),ke(I.Switch,"defaultDisabledColor",k("palette-grey-600")),ke(I.Switch,"primaryDisabledColor",gr(I.primary.main,.55)),ke(I.Switch,"secondaryDisabledColor",gr(I.secondary.main,.55)),ke(I.Switch,"errorDisabledColor",gr(I.error.main,.55)),ke(I.Switch,"infoDisabledColor",gr(I.info.main,.55)),ke(I.Switch,"successDisabledColor",gr(I.success.main,.55)),ke(I.Switch,"warningDisabledColor",gr(I.warning.main,.55)),ke(I.TableCell,"border",gr(Dy(I.divider,1),.68)),ke(I.Tooltip,"bg",Dy(I.grey[700],.92))}uu(I.background,"default"),uu(I.background,"paper"),uu(I.common,"background"),uu(I.common,"onBackground"),uu(I,"divider"),Object.keys(I).forEach(j=>{const N=I[j];j!=="tonalOffset"&&N&&typeof N=="object"&&(N.main&&ke(I[j],"mainChannel",gg(mg(N.main))),N.light&&ke(I[j],"lightChannel",gg(mg(N.light))),N.dark&&ke(I[j],"darkChannel",gg(mg(N.dark))),N.contrastText&&ke(I[j],"contrastTextChannel",gg(mg(N.contrastText))),j==="text"&&(uu(I[j],"primary"),uu(I[j],"secondary")),j==="action"&&(N.active&&uu(I[j],"active"),N.selected&&uu(I[j],"selected")))})}),F=e.reduce((W,I)=>Do(W,I),F);const z={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:l8(F)},{vars:J,generateThemeVars:D,generateStyleSheets:q}=Pj(F,z);return F.vars=J,Object.entries(F.colorSchemes[F.defaultColorScheme]).forEach(([W,I])=>{F[W]=I}),F.generateThemeVars=D,F.generateStyleSheets=q,F.generateSpacing=function(){return eR(g.spacing,gE(this))},F.getColorSchemeSelector=Lj(h),F.spacing=F.generateSpacing(),F.shouldSkipGeneratingVar=u,F.unstable_sxConfig={...p_,...g==null?void 0:g.unstable_sxConfig},F.unstable_sx=function(I){return Vd({sx:I,theme:this})},F.toRuntimeSource=aR,F}function zS(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:bE({...t===!0?{}:t.palette,mode:e})})}function d8(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",d=i==null?void 0:i[h],g={...i,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Jv(n,...e);let _=t;"palette"in n||g[h]&&(g[h]!==!0?_=g[h].palette:h==="dark"&&(_={mode:"dark"}));const w=Jv({...n,palette:_},...e);return w.defaultColorScheme=h,w.colorSchemes=g,w.palette.mode==="light"&&(w.colorSchemes.light={...g.light!==!0&&g.light,palette:w.palette},zS(w,"dark",g.dark)),w.palette.mode==="dark"&&(w.colorSchemes.dark={...g.dark!==!0&&g.dark,palette:w.palette},zS(w,"light",g.light)),w}return!t&&!("light"in g)&&h==="light"&&(g.light=!0),f8({...u,colorSchemes:g,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const p8=d8(),g8="$$material";function m8(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const y8=n=>m8(n)&&n!=="classes",_8=mj({themeId:g8,defaultTheme:p8,rootShouldForwardProp:y8}),v8=Rj;function w8(n){return Ij(n)}function E8(n){return BI("MuiSvgIcon",n)}yV("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const T8=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Bd(e)}`,`fontSize${Bd(t)}`]};return dV(i,E8,r)},b8=_8("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Bd(t.color)}`],e[`fontSize${Bd(t.fontSize)}`]]}})(v8(({theme:n})=>{var e,t,r,i,o,u,h,d,g,_,w,E,x,R;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:O=>!O.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((_=(g=n.typography)==null?void 0:g.pxToRem)==null?void 0:_.call(g,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,O])=>O&&O.main).map(([O])=>{var P,U;return{props:{color:O},style:{color:(U=(P=(n.vars??n).palette)==null?void 0:P[O])==null?void 0:U.main}}}),{props:{color:"action"},style:{color:(E=(w=(n.vars??n).palette)==null?void 0:w.action)==null?void 0:E.active}},{props:{color:"disabled"},style:{color:(R=(x=(n.vars??n).palette)==null?void 0:x.action)==null?void 0:R.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Xv=Qe.forwardRef(function(e,t){const r=w8({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:g,inheritViewBox:_=!1,titleAccess:w,viewBox:E="0 0 24 24",...x}=r,R=Qe.isValidElement(i)&&i.type==="svg",O={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:_,viewBox:E,hasSvgAsChild:R},P={};_||(P.viewBox=E);const U=T8(O);return X.jsxs(b8,{as:h,className:vV(U.root,o),focusable:"false",color:g,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:t,...P,...x,...R&&i.props,ownerState:O,children:[R?i.props.children:i,w?X.jsx("title",{children:w}):null]})});Xv.muiName="SvgIcon";function Qn(n,e){function t(r,i){return X.jsx(Xv,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=Xv.muiName,Qe.memo(Qe.forwardRef(t))}const SE=Qn(X.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),S8=Qn(X.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),HS=Qn(X.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),WS=Qn(X.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),R0=Qn(X.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),A8=Qn(X.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),cR=Qn(X.jsx("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5z"}),"DescriptionOutlined"),Yv=Qn(X.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),C8=Qn(X.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),x8=Qn(X.jsx("path",{d:"M7 6h10l-5.01 6.3zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAltOutlined"),I8=Qn(X.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter"),R8=Qn(X.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft"),k8=Qn(X.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight"),N8=Qn(X.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),O8=Qn(X.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),P8=Qn(X.jsx("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"}),"FormatStrikethrough"),L8=Qn(X.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"}),"FormatUnderlined"),D8=Qn(X.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google"),M8=Qn(X.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock"),F8=Qn(X.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),U8=Qn(X.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),B8=Qn(X.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public"),V8=Qn(X.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),q8=Qn(X.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),GS=Qn(X.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),j8=Qn(X.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),$8=Qn(X.jsx("path",{d:"M2.5 4v3h5v12h3V7h5V4zm19 5h-9v3h3v7h3v-7h3z"}),"TextFields"),KS=Qn(X.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),z8=Qn(X.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),H8=Qn(X.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi"),W8=Qn(X.jsx("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53zM2 3.05 5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0"}),"WifiOff");function G8({api:n,setSettingsShown:e}){const[t,r]=Qe.useState(!1);return X.jsx("div",{className:"modal",children:X.jsx("div",{className:"modal-inner",children:X.jsxs("div",{className:"settings-container",children:[X.jsx("h2",{children:"Settings"}),X.jsxs("div",{className:"option",children:[X.jsx("label",{children:"Dark Mode"}),X.jsx("button",{className:`switch-button ${t?"on":"off"}`,onClick:()=>r(!t),children:X.jsx("div",{className:"switch-handle"})})]}),X.jsx("hr",{}),X.jsxs("div",{className:"option",children:[X.jsx("label",{children:"Sign out"}),X.jsx("button",{onClick:n.signOut,children:"Sign Out"})]}),X.jsx("button",{className:"closeBtn",onClick:()=>e(!1),children:X.jsx(R0,{})})]})})})}function K8({note:n,setStudyMode:e,api:t}){const[r,i]=Qe.useState(0),[o,u]=Qe.useState(!1),[h,d]=Qe.useState((n==null?void 0:n.title)??"Untitled Note"),[g,_]=Qe.useState(!1),[w,E]=Qe.useState(""),[x,R]=Qe.useState(!1),[O,P]=Qe.useState(null),[U,B]=Qe.useState(!1);function C(){n==null||n.setTitle(h),u(!1)}async function F(){if(n&&w&&!x){R(!0);const D=await n.search(w);P(D),R(!1)}}function z(){P(null)}function J(){O&&navigator.clipboard.writeText(O)}return Qe.useEffect(()=>{if(!n){R(!1),P(null);return}const D=q=>{q==="noteUpdate"&&i(W=>W+1),q==="save"&&_(!!n.id)};return _(!!n.id),n.addListener(D),()=>n.removeListener(D)},[n]),Qe.useEffect(()=>{d((n==null?void 0:n.title)??"Untitled Note")},[n==null?void 0:n.title]),Qe.useEffect(()=>{if(o){const D=document.querySelector(".sidebar-details input.title");D&&(D.focus(),D.addEventListener("blur",()=>u(!1)))}},[o]),X.jsxs("div",{className:"sidebar-details",children:[X.jsxs("div",{className:"sidebar-header",children:[X.jsx(cR,{fontSize:"large"}),n===null&&X.jsx("div",{style:{height:"2em"},className:"skeleton"}),n!==null&&X.jsxs("div",{className:"text",children:[!o&&X.jsx("h2",{onClick:()=>u(!0),children:n==null?void 0:n.title}),o&&X.jsx("input",{className:"title",defaultValue:h,onChange:D=>d(D.target.value),onBlur:C,onKeyDown:D=>D.key==="Enter"&&C()}),X.jsx("p",{children:n?n.description:""})]})]}),X.jsxs("div",{className:"sidebar-actions",children:[(x||O)&&X.jsx("div",{className:"search-result",children:x?X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"btn-row search-actions",children:[X.jsx("b",{children:"NoteFlow AI"}),X.jsx("span",{style:{flexGrow:1}})]}),X.jsx("span",{className:"skeleton"}),X.jsx("span",{className:"skeleton",style:{animationDelay:"0.2s"}}),X.jsx("span",{className:"skeleton",style:{animationDelay:"0.4s",width:"50%"}})]}):X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"btn-row search-actions",children:[X.jsx("b",{children:"NoteFlow AI"}),X.jsx("span",{style:{flexGrow:1}}),X.jsx("button",{onClick:J,children:X.jsx(A8,{})}),X.jsx("button",{onClick:z,children:X.jsx(R0,{})})]}),X.jsx("p",{children:O})]})}),!g&&X.jsxs("div",{className:"search disabled",children:[X.jsx("span",{children:"Save your note to search it"}),X.jsx("button",{children:X.jsx(GS,{})})]}),g&&X.jsxs("div",{className:"search "+(x||n===null?"disabled":""),children:[X.jsx("input",{type:"text",defaultValue:w,onChange:D=>E(D.target.value),onKeyUp:D=>D.key==="Enter"&&F(),placeholder:"Ask about your note..."}),X.jsx("button",{onClick:F,disabled:x,children:X.jsx(GS,{})})]}),X.jsxs("div",{className:"btn-row",children:[X.jsx("button",{onClick:()=>B(!0),children:X.jsx(j8,{})}),t!==null&&U&&X.jsx(G8,{api:t,setSettingsShown:B}),X.jsx("button",{title:"Generate flashcards",onClick:()=>e("flashcards"),disabled:n===null||!g,children:X.jsx(V8,{})}),X.jsx("button",{title:"Generate a summary",onClick:()=>e("summary"),disabled:n===null||!g,children:X.jsx(U8,{})})]})]})]})}function Q8({setId:n,note:e,api:t}){const[r,i]=Qe.useState([]),[o,u]=Qe.useState([]),[h,d]=Qe.useState(null),[g,_]=Qe.useState(!1),[w,E]=Qe.useState(""),[x,R]=Qe.useState("asc");async function O(P=!1){if(!g){_(!0);try{const U=await t.getNotes(void 0,P?void 0:h??void 0);U&&(console.log("Fetched notes:",U),i(B=>P?U.results:[...B,...U.results].filter((C,F,z)=>z.findIndex(J=>J.id===C.id)===F)),d(U.cursor))}catch(U){console.error("Error fetching notes:",U)}_(!1)}}return Qe.useEffect(()=>{let P=[...r];w&&(P=P.filter(U=>U.title.toLowerCase().includes(w.toLowerCase()))),P.sort((U,B)=>x==="asc"?U.title.localeCompare(B.title):B.title.localeCompare(U.title)),u(P)},[w,r,x]),Qe.useEffect(()=>{console.log("Loading notes"),i([]),O(!0)},[]),Qe.useEffect(()=>{function P(){console.log("Note saved, reloading notes..."),i([]),d(null),O(!0)}return document.addEventListener("noteSaved",P),()=>document.removeEventListener("noteSaved",P)},[]),X.jsxs("div",{className:"note-cards",children:[X.jsxs("div",{className:"note-filters",children:[X.jsxs("div",{className:"search",children:[X.jsx("input",{type:"text",placeholder:"Search notes",value:w,onChange:P=>E(P.target.value)}),X.jsx(q8,{})]}),X.jsx("button",{style:{flexGrow:0},onClick:()=>R(x==="asc"?"desc":"asc"),children:X.jsx(x8,{})}),X.jsx("button",{className:e&&e.id===""?"active":"",style:{flexGrow:0},onClick:()=>n(null),children:X.jsx(SE,{})})]}),X.jsxs("div",{className:"note-list",children:[o.length===0&&g&&X.jsx("div",{children:"Loading..."}),o.length===0&&!g&&X.jsx("div",{children:"No notes found"}),o.map(P=>X.jsxs("div",{className:`note-card ${P.id===((P==null?void 0:P.id)||null)?"selected":""}`,onClick:()=>n(P.id),children:[X.jsx(cR,{}),X.jsxs("div",{className:"text",children:[X.jsx("h3",{children:P.title}),X.jsx("p",{children:P.description})]})]},P.id)),!g&&h&&X.jsx("button",{onClick:()=>O(),className:"load-more-btn",children:"Load More"})]})]})}function J8({note:n,setId:e,setStudyMode:t,api:r,collapsed:i}){return X.jsx("div",{className:"sidebar-wrapper "+(i?"collapsed":""),children:X.jsxs("div",{className:"sidebar",children:[X.jsx(K8,{note:n,setStudyMode:t,api:r}),X.jsx(Q8,{setId:e,note:n,api:r})]})})}function X8({note:n}){const[e,t]=Qe.useState(0),[r,i]=Qe.useState(null),[o,u]=Qe.useState(!1);async function h(){const w=await n.generateFlashcards();w!==null&&i(w)}Qe.useEffect(()=>{h()},[n]);function d(){r!==null&&(u(!1),t(w=>(w+1)%r.length))}function g(){r!==null&&(u(!1),t(w=>(w-1+r.length)%r.length))}const _=()=>{u(!o)};return r===null?X.jsx("p",{children:"Loading..."}):r.length===0?X.jsxs("div",{className:"flashcards",children:[X.jsx("div",{className:"card disabled",children:X.jsxs("div",{className:"front",children:[X.jsx("h2",{children:"Couldn't make any flashcards."}),X.jsx("p",{children:"Add more to your note to study it!"})]})}),X.jsxs("div",{className:"nav-content",children:[X.jsx("button",{disabled:!0,children:X.jsx(HS,{})}),X.jsxs("h2",{children:["0/",r.length]}),X.jsx("button",{disabled:!0,children:X.jsx(WS,{})})]})]}):X.jsxs("div",{className:"flashcards",children:[X.jsxs("div",{className:"card "+(o?"flip":""),onClick:_,children:[X.jsx("div",{className:"front",children:X.jsx("h2",{children:r[e].term})}),X.jsx("div",{className:"back",children:X.jsx("p",{children:r[e].definition})})]},e),X.jsxs("div",{className:"nav-content",children:[X.jsx("button",{onClick:g,children:X.jsx(HS,{})}),X.jsxs("h2",{children:[e+1,"/",r.length]}),X.jsx("button",{onClick:d,children:X.jsx(WS,{})})]})]})}function Y8({note:n}){const[e,t]=Qe.useState(null);async function r(){const i=await n.generateSummary();i!==null&&t(i)}return Qe.useEffect(()=>{r()},[n]),e===null?X.jsx("p",{children:"Loading..."}):X.jsx("div",{className:"summary",children:e&&X.jsx("p",{children:e})})}function Z8({note:n,setStudyMode:e,mode:t}){return X.jsx("div",{className:"modal",onClick:()=>e(null),children:X.jsxs("div",{className:"study modal-inner",onClick:r=>r.stopPropagation(),children:[t==="flashcards"&&X.jsx(X8,{note:n}),t==="summary"&&X.jsx(Y8,{note:n})]})})}function e7({note:n,setShareShown:e}){const[t,r]=Qe.useState(Object.keys(n.permissions.user).map(C=>({email:C,name:n.permissions.user[C].name,permission:n.permissions.user[C].permission}))),[i,o]=Qe.useState(n.permissions.global),[u,h]=Qe.useState(""),d=Qe.useRef(null),[g,_]=Qe.useState(!1),[w,E]=Qe.useState(null),[x,R]=Qe.useState({successes:[],failures:[]});function O(){var F;const C=(F=d.current)==null?void 0:F.value.trim();C&&C.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(t.map(z=>z.email).includes(C)?h("Already added "+C):r([...t,{email:C,name:C,permission:"edit"}]),d.current&&(d.current.value="")):h("Invalid email address")}function P(C){u&&h(""),(C.key==="Enter"||C.key==="Space")&&O()}function U(C,F,z){if(z.target.value==="remove"){const D=t.filter((q,W)=>W!==F);r(D);return}else C.permission=z.target.value;const J=[...t];J[F]=C,r(J)}async function B(){_(!0);const C={};t.forEach(z=>{C[z.email]=z.permission});const F=await n.share(C,i);_(!1),F?(n.permissions=F.permissions,E(!0),R({successes:F.successes,failures:F.failures})):E(!1)}return w===!0?X.jsx("div",{className:"modal",onClick:()=>e(!1),children:X.jsxs("div",{className:"modal-inner",onClick:C=>C.stopPropagation(),children:[X.jsxs("div",{className:"header-cont",children:[X.jsxs("h2",{children:['Share "',n.title,'"']}),X.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:X.jsx(R0,{})})]}),X.jsxs("div",{className:"btn-row",children:[X.jsx(S8,{}),X.jsxs("span",{children:["Shared with ",x.successes.length," account(s)."]})]}),x.failures.length>0&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"btn-row",children:[X.jsx(z8,{}),X.jsxs("p",{children:["Could not share to ",x.failures.length," email(s). Check if they have an account on NoteFlow."]})]}),X.jsx("div",{className:"email-list",children:x.failures.map(C=>X.jsxs("div",{className:"email",children:[X.jsx("span",{children:C}),X.jsx("b",{children:"Could not share"})]},C))})]})]})}):X.jsx("div",{className:"modal",onClick:()=>e(!1),children:X.jsxs("div",{className:"modal-inner",onClick:C=>C.stopPropagation(),children:[X.jsxs("div",{className:"header-cont",children:[X.jsxs("h2",{children:['Share "',n.title,'"']}),X.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:X.jsx(R0,{})})]}),X.jsx("label",{htmlFor:"email-input",children:"Enter email addresses"}),X.jsxs("div",{className:"btn-row",children:[X.jsx("input",{ref:d,id:"email-input",placeholder:"john@mail.com",onKeyUp:P,className:"email-input"}),X.jsx("button",{style:{flexGrow:0,width:"auto"},onClick:O,children:X.jsx(SE,{})})]}),X.jsx("p",{style:{height:"1em"},className:"error",children:u}),X.jsx("hr",{}),X.jsxs("div",{className:"email-list",children:[t.map((C,F)=>X.jsxs("div",{className:"email",children:[X.jsx("span",{children:C.name}),X.jsxs("select",{defaultValue:C.permission,onChange:U.bind(null,C,F),children:[X.jsx("option",{value:"edit",children:"Edit"}),X.jsx("option",{value:"view",children:"View"}),X.jsx("option",{value:"remove",children:"Remove"})]}),C.permission==="edit"&&X.jsx(Yv,{}),C.permission==="view"&&X.jsx(KS,{})]},C.email)),t.length===0&&X.jsx("p",{style:{margin:"8px",fontStyle:"italic"},children:"Enter an email to share with a specific user..."})]}),X.jsxs("div",{className:"email",children:[X.jsx(B8,{}),X.jsx("span",{children:"Anyone with the link"}),X.jsxs("select",{defaultValue:(i==null?void 0:i.toString())??"null",onChange:C=>o(C.target.value==="null"?null:C.target.value),children:[X.jsx("option",{value:"edit",children:"Edit"}),X.jsx("option",{value:"view",children:"View"}),X.jsx("option",{value:"null",children:"No access"})]}),i==="edit"&&X.jsx(Yv,{}),i==="view"&&X.jsx(KS,{}),i===null&&X.jsx(M8,{})]}),w===!1&&X.jsx("p",{className:"error",children:"Failed to share note. Try again later."}),X.jsx("div",{className:"cont",children:X.jsx("button",{id:"submitBtn",onClick:B,disabled:g,children:"Save"})})]})})}function t7({quill:n}){const[e,t]=Qe.useState([]),[r,i]=Qe.useState("left");Qe.useEffect(()=>{if(n){const h=()=>{if(n.getSelection()===null){t([]),i("left");return}const d=n.getFormat();t(Object.keys(d)),d.align?i(d.align):i("left")};return n.on("editor-change",h),n.container.addEventListener("keydown",h),()=>{n.off("editor-change",h),n.container.removeEventListener("keydown",h)}}},[n]);function o(h){if(n){const d=n.getSelection();n.getFormat(d??void 0)[h]?(n.format(h,!1),t(e.filter(_=>_!==h))):(n.format(h,!0),t([...e,h]))}}function u(h){n&&(h==="left"?n.format("align",!1):n.format("align",h))}return X.jsxs("div",{className:"tools text",children:[X.jsx("div",{className:"tool-label",children:X.jsx($8,{})}),X.jsxs("div",{className:"group",children:[X.jsx("button",{onClick:()=>o("bold"),className:"format "+(e.includes("bold")?"active":""),children:X.jsx(N8,{})}),X.jsx("button",{onClick:()=>o("italic"),className:"format "+(e.includes("italic")?"active":""),children:X.jsx(O8,{})}),X.jsx("button",{onClick:()=>o("underline"),className:"format "+(e.includes("underline")?"active":""),children:X.jsx(L8,{})}),X.jsx("button",{onClick:()=>o("strike"),className:"format "+(e.includes("strike")?"active":""),children:X.jsx(P8,{})})]}),X.jsxs("div",{className:"group",children:[X.jsx("button",{onClick:()=>u("left"),className:"format "+(r==="left"?"active":""),children:X.jsx(R8,{})}),X.jsx("button",{onClick:()=>u("center"),className:"format "+(r==="center"?"active":""),children:X.jsx(I8,{})}),X.jsx("button",{onClick:()=>u("right"),className:"format "+(r==="right"?"active":""),children:X.jsx(k8,{})})]})]})}function n7({note:n,quill:e,setShareShown:t,toggleSidebarCollapsed:r}){const[i,o]=Qe.useState(!1),[u,h]=Qe.useState(!1);async function d(){e&&(o(!0),n.export(e.getContents()),await n.save(),o(!1),h(!0),document.dispatchEvent(new CustomEvent("noteSaved")))}Qe.useEffect(()=>{var _;n.owner===((_=n.api.user)==null?void 0:_.uid)?h(!0):h(!1)},[n.id]);function g(){if(!e)return;const _=document.createElement("input");_.type="file",_.accept="image/*",_.click(),_.onchange=async()=>{var x,R;const w=(x=_.files)==null?void 0:x[0];if(!w||!n||!e)return;const E=await n.uploadMedia(w);E!==null?e.insertEmbed(((R=e.getSelection())==null?void 0:R.index)??0,"image",E,"user"):alert("Failed to upload media. Try again later."),_.remove()}}return X.jsxs("div",{className:"toolbar",children:[X.jsx("button",{className:"transparentBtn",onClick:r,children:X.jsx(F8,{})}),X.jsx("hr",{}),X.jsx("p",{children:n.documentRef?X.jsx(H8,{}):X.jsx(W8,{})}),e&&X.jsx(t7,{quill:e}),X.jsx("div",{className:"tools scribble",children:X.jsx("button",{children:X.jsx(Yv,{})})}),X.jsx("div",{className:"tools media",children:X.jsx("button",{onClick:g,children:X.jsx(SE,{})})}),X.jsx("div",{style:{flexGrow:"1"}}),X.jsxs("div",{className:"tools-share",children:[u&&X.jsx("button",{disabled:!n.documentRef,onClick:()=>t(!0),children:"Share"}),X.jsx("button",{onClick:d,disabled:i,children:"Save"})]})]})}var K1={exports:{}},QS;function r7(){return QS||(QS=1,function(n){var e=function(t){var r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(ne,Y,G){ne[Y]=G.value},u,h=typeof Symbol=="function"?Symbol:{},d=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",_=h.toStringTag||"@@toStringTag";function w(ne,Y,G){return Object.defineProperty(ne,Y,{value:G,enumerable:!0,configurable:!0,writable:!0}),ne[Y]}try{w({},"")}catch{w=function(Y,G,ie){return Y[G]=ie}}function E(ne,Y,G,ie){var he=Y&&Y.prototype instanceof C?Y:C,Ne=Object.create(he.prototype),Ce=new re(ie||[]);return o(Ne,"_invoke",{value:j(ne,G,Ce)}),Ne}t.wrap=E;function x(ne,Y,G){try{return{type:"normal",arg:ne.call(Y,G)}}catch(ie){return{type:"throw",arg:ie}}}var R="suspendedStart",O="suspendedYield",P="executing",U="completed",B={};function C(){}function F(){}function z(){}var J={};w(J,d,function(){return this});var D=Object.getPrototypeOf,q=D&&D(D(de([])));q&&q!==r&&i.call(q,d)&&(J=q);var W=z.prototype=C.prototype=Object.create(J);F.prototype=z,o(W,"constructor",{value:z,configurable:!0}),o(z,"constructor",{value:F,configurable:!0}),F.displayName=w(z,_,"GeneratorFunction");function I(ne){["next","throw","return"].forEach(function(Y){w(ne,Y,function(G){return this._invoke(Y,G)})})}t.isGeneratorFunction=function(ne){var Y=typeof ne=="function"&&ne.constructor;return Y?Y===F||(Y.displayName||Y.name)==="GeneratorFunction":!1},t.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,z):(ne.__proto__=z,w(ne,_,"GeneratorFunction")),ne.prototype=Object.create(W),ne},t.awrap=function(ne){return{__await:ne}};function k(ne,Y){function G(Ne,Ce,Pe,je){var Ie=x(ne[Ne],ne,Ce);if(Ie.type==="throw")je(Ie.arg);else{var We=Ie.arg,Ye=We.value;return Ye&&typeof Ye=="object"&&i.call(Ye,"__await")?Y.resolve(Ye.__await).then(function(Je){G("next",Je,Pe,je)},function(Je){G("throw",Je,Pe,je)}):Y.resolve(Ye).then(function(Je){We.value=Je,Pe(We)},function(Je){return G("throw",Je,Pe,je)})}}var ie;function he(Ne,Ce){function Pe(){return new Y(function(je,Ie){G(Ne,Ce,je,Ie)})}return ie=ie?ie.then(Pe,Pe):Pe()}o(this,"_invoke",{value:he})}I(k.prototype),w(k.prototype,g,function(){return this}),t.AsyncIterator=k,t.async=function(ne,Y,G,ie,he){he===void 0&&(he=Promise);var Ne=new k(E(ne,Y,G,ie),he);return t.isGeneratorFunction(Y)?Ne:Ne.next().then(function(Ce){return Ce.done?Ce.value:Ne.next()})};function j(ne,Y,G){var ie=R;return function(Ne,Ce){if(ie===P)throw new Error("Generator is already running");if(ie===U){if(Ne==="throw")throw Ce;return se()}for(G.method=Ne,G.arg=Ce;;){var Pe=G.delegate;if(Pe){var je=N(Pe,G);if(je){if(je===B)continue;return je}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(ie===R)throw ie=U,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);ie=P;var Ie=x(ne,Y,G);if(Ie.type==="normal"){if(ie=G.done?U:O,Ie.arg===B)continue;return{value:Ie.arg,done:G.done}}else Ie.type==="throw"&&(ie=U,G.method="throw",G.arg=Ie.arg)}}}function N(ne,Y){var G=Y.method,ie=ne.iterator[G];if(ie===u)return Y.delegate=null,G==="throw"&&ne.iterator.return&&(Y.method="return",Y.arg=u,N(ne,Y),Y.method==="throw")||G!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+G+"' method")),B;var he=x(ie,ne.iterator,Y.arg);if(he.type==="throw")return Y.method="throw",Y.arg=he.arg,Y.delegate=null,B;var Ne=he.arg;if(!Ne)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,B;if(Ne.done)Y[ne.resultName]=Ne.value,Y.next=ne.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=u);else return Ne;return Y.delegate=null,B}I(W),w(W,_,"Generator"),w(W,d,function(){return this}),w(W,"toString",function(){return"[object Generator]"});function oe(ne){var Y={tryLoc:ne[0]};1 in ne&&(Y.catchLoc=ne[1]),2 in ne&&(Y.finallyLoc=ne[2],Y.afterLoc=ne[3]),this.tryEntries.push(Y)}function le(ne){var Y=ne.completion||{};Y.type="normal",delete Y.arg,ne.completion=Y}function re(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(oe,this),this.reset(!0)}t.keys=function(ne){var Y=Object(ne),G=[];for(var ie in Y)G.push(ie);return G.reverse(),function he(){for(;G.length;){var Ne=G.pop();if(Ne in Y)return he.value=Ne,he.done=!1,he}return he.done=!0,he}};function de(ne){if(ne){var Y=ne[d];if(Y)return Y.call(ne);if(typeof ne.next=="function")return ne;if(!isNaN(ne.length)){var G=-1,ie=function he(){for(;++G<ne.length;)if(i.call(ne,G))return he.value=ne[G],he.done=!1,he;return he.value=u,he.done=!0,he};return ie.next=ie}}return{next:se}}t.values=de;function se(){return{value:u,done:!0}}return re.prototype={constructor:re,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(le),!ne)for(var Y in this)Y.charAt(0)==="t"&&i.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=u)},stop:function(){this.done=!0;var ne=this.tryEntries[0],Y=ne.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var Y=this;function G(je,Ie){return Ne.type="throw",Ne.arg=ne,Y.next=je,Ie&&(Y.method="next",Y.arg=u),!!Ie}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var he=this.tryEntries[ie],Ne=he.completion;if(he.tryLoc==="root")return G("end");if(he.tryLoc<=this.prev){var Ce=i.call(he,"catchLoc"),Pe=i.call(he,"finallyLoc");if(Ce&&Pe){if(this.prev<he.catchLoc)return G(he.catchLoc,!0);if(this.prev<he.finallyLoc)return G(he.finallyLoc)}else if(Ce){if(this.prev<he.catchLoc)return G(he.catchLoc,!0)}else if(Pe){if(this.prev<he.finallyLoc)return G(he.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ne,Y){for(var G=this.tryEntries.length-1;G>=0;--G){var ie=this.tryEntries[G];if(ie.tryLoc<=this.prev&&i.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var he=ie;break}}he&&(ne==="break"||ne==="continue")&&he.tryLoc<=Y&&Y<=he.finallyLoc&&(he=null);var Ne=he?he.completion:{};return Ne.type=ne,Ne.arg=Y,he?(this.method="next",this.next=he.finallyLoc,B):this.complete(Ne)},complete:function(ne,Y){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&Y&&(this.next=Y),B},finish:function(ne){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var G=this.tryEntries[Y];if(G.finallyLoc===ne)return this.complete(G.completion,G.afterLoc),le(G),B}},catch:function(ne){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var G=this.tryEntries[Y];if(G.tryLoc===ne){var ie=G.completion;if(ie.type==="throw"){var he=ie.arg;le(G)}return he}}throw new Error("illegal catch attempt")},delegateYield:function(ne,Y,G){return this.delegate={iterator:de(ne),resultName:Y,nextLoc:G},this.method==="next"&&(this.arg=u),B}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(K1)),K1.exports}r7();const i7=n=>({applyHtmlTags:["h1","h2","h3","h4","h5","h6","header"].map(e=>e.toLowerCase())});class Gs{_getCustomPatternOrDefault(e,t,r){return e.tags&&e.tags[t]&&e.tags[t].pattern?e.tags[t].pattern:r}_getActiveTagsWithoutIgnore(e,t){return Array.isArray(t)?e.reduce((r,i)=>(t.includes(i)||r.push(i.toLowerCase()),r),[]):e}}class JS extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="header",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(#){1,6}\s/g),this.getAction.bind(this),this._meta=i7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length||!this.activeTags.find(g=>g==="header")){i(!1);return}const u=o[0].length,[h]=this.quillJS.getLine(t.index),d=this.quillJS.getIndex(h);if(!this.activeTags.includes(`h${u-1}`))return i(!1);setTimeout(()=>{this.quillJS.formatLine(d,0,"header",u-1),this.quillJS.deleteText(d,u),i(!0)},0)})}}}const hR=n=>({applyHtmlTags:["blockquote"].map(e=>e.toLowerCase())});let s7=class extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="blockquote",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(>)\s/g),this.getAction.bind(this),this._meta=hR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const u=o[0]||"";setTimeout(()=>{this.quillJS.formatText(t.index,o.input.length-1,"blockquote",!0),this.quillJS.deleteText(t.index-u.length,u.length),i(!0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,[,t]=this.quillJS.getLine(e);t===0&&this.quillJS.format("blockquote",!1)},0)}}}};class o7 extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="blockquote",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,99}(>)\s/g),this.getAction.bind(this),this._meta=hR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const u=o[0]||"";setTimeout(()=>{const h=t.index-1;this.quillJS.deleteText(h,2),setTimeout(()=>{this.quillJS.formatLine(h,u.length-3,"blockquote",!0),i(!0)},0)},0)})}}}const a7=n=>({applyHtmlTags:["bold"].map(e=>e.toLowerCase())});let XS=class extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="bold",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(\*|_){2}(.+?)(?:\1){2}/g),this.getAction.bind(this),this._meta=a7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let u=r.exec(e);const[h,,d]=u,g=i+u.index;if(e.match(/^([*_ \n]+)$/g)||!this.activeTags.length){o(!1);return}setTimeout(()=>{this.quillJS.deleteText(g,h.length),setTimeout(()=>{this.quillJS.insertText(g,d,{bold:!0}),this.quillJS.format("bold",!1),o(!0)})},0)})}}};const fR=n=>({applyHtmlTags:["checkbox"].map(e=>e.toLowerCase())});let l7=class extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="checkbox-checked",this.pattern=this._getCustomPatternOrDefault(t,"checkbox",/^(\[x\])+\s/g),this.getAction.bind(this),this._meta=fR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[u]=this.quillJS.getLine(t.index),h=this.quillJS.getIndex(u);setTimeout(()=>{const d=e.split("[x] ").splice(1,1).join("");this.quillJS.insertText(h,d),this.quillJS.deleteText(h+d.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(h,0,"list","checked"),i(!0)})},0)})}}};class u7 extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="checkbox-unchecked",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(\[\s?\])+\s/g),this.getAction.bind(this),this._meta=fR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[u]=this.quillJS.getLine(t.index),h=this.quillJS.getIndex(u);setTimeout(()=>{let d=e.split("[ ] ").length>1?e.split("[ ] ").splice(1,1).join(""):e;d=d.split("[] ").length>1?d.split("[] ").splice(1,1).join(""):d,this.quillJS.insertText(h,d),this.quillJS.deleteText(h+d.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(h,0,"list","unchecked"),i(!0)})},0)})}}}const c7=n=>({applyHtmlTags:["code"].map(e=>e.toLowerCase())});class YS extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="code",this.pattern=this._getCustomPatternOrDefault(t,this.name,r=>/(`){1}(.+)(`){1}/g.test(r)&&!/```.*/.test(r)?r:null),this.getAction.bind(this),this._meta=c7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let u=/(`){1}(.+)(`){1}/g.exec(e);if(!u||!this.activeTags.length){o(!1);return}const[h]=u,d=i+u.index;setTimeout(()=>{this.quillJS.deleteText(d,h.length),setTimeout(()=>{const g=h.replace(/`/g,"");this.quillJS.insertText(d,g,{code:!0}),this.quillJS.insertText(d+g.length," ",{code:!1}),o(!0)},0)},0)})}}}const h7=n=>({applyHtmlTags:["italics"].map(e=>e.toLowerCase())});let ZS=class extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="italic",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:^|\s)(?:(\*|_)\s*(?<text1>[^*_]+)\s*?\1|(\*|_){3}\s*(?<text3>[^*_]*)\s*\1{3})(?:$|(?=\s))/g),this.getAction.bind(this),this._meta=h7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let u=r.exec(e);if(!u||!this.activeTags.length){o(!1);return}const[h,d,g]=u,_=this.quillJS.getText()[i+u.index],w=this.quillJS.getText()[i+u.index+1];if(d===_&&_===w){o(!1);return}const E=i+u.index;setTimeout(()=>{const x=!u.index,R=x?E:E+1,O=x?h.length:h.length-1;this.quillJS.deleteText(R,O),this.quillJS.insertText(R,g,{italic:!0}),this.quillJS.format("italic",!1),o(!0)},0)})}}};const dR=n=>({applyHtmlTags:["link"].map(e=>e.toLowerCase())});let f7=class extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="link",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:\[(.+?)\])(?:\((.+?)\))/g),this.getAction.bind(this),this._meta=dR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{const u=r.exec(e),h=i+u.index,d=e.search(r),g=e.match(r)[0],_=e.match(/(?:\[(.*?)\])/g)[0],w=e.match(/(?:\((.*?)\))/g)[0];if(!this.activeTags.length){o(!1);return}d!==-1?setTimeout(()=>{const E=h;this.quillJS.deleteText(E,g.length),this.quillJS.insertText(E,_.slice(1,_.length-1),"link",w.slice(1,w.length-1)),o(!0)},0):o(!1)})}}},d7=class extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="link",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:\[(.+?)\])(?:\((.+?)\))/g),this.getAction.bind(this),this._meta=dR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=e.search(r),u=e.match(r)[0],h=e.match(/(?:\[(.*?)\])/g)[0],d=e.match(/(?:\((.*?)\))/g)[0],g=t.index-1+o;if(!this.activeTags.length){i(!1);return}o!==-1?setTimeout(()=>{const w=this.quillJS.getText(g-u.length,u.length)===u?g-u.length:g;this.quillJS.deleteText(w,u.length),this.quillJS.insertText(w,h.slice(1,h.length-1),"link",d.slice(1,d.length-1)),i(!0)},0):i(!1)})}}};const p7=n=>({applyHtmlTags:["li"].map(e=>e.toLowerCase())});let g7=class extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="li",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,9}(\d)+\.\s/g),this.getAction.bind(this),this._meta=p7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[u]=this.quillJS.getLine(t.index),h=this.quillJS.getIndex(u);setTimeout(()=>{const d=e.split(". ")[0].split("").filter(_=>/\s/gi.test(_)).length,g=e.split(". ").splice(1,1).join("");this.quillJS.insertText(h,g),this.quillJS.deleteText(h+g.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(h,0,{list:"ordered",indent:d}),i(!0)},0)},0)})}}};const m7=n=>({applyHtmlTags:["ul"].map(e=>e.toLowerCase())});class y7 extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="ul",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,9}(-|\*){1}\s/),this.getAction.bind(this),this._meta=m7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}if(!e.split("- ")[1]&&!e.split("* ")[1]){i(!1);return}const[u]=this.quillJS.getLine(t.index),h=this.quillJS.getIndex(u);setTimeout(()=>{let d=/^\s{0,9}(\*){1}\s/.test(e)?e.replace("*","-"):e;const g=d.split("- ")[0].split("").filter(w=>/\s/gi.test(w)).length;let _=d.split("- ").length>1?d.split("- ").splice(1,1).join(""):d;this.quillJS.insertText(h,_),this.quillJS.deleteText(h+_.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(h,0,{list:"bullet",indent:g}),i(!0)},0)},0)})}}}const pR=n=>({applyHtmlTags:["pre"].map(e=>e.toLowerCase())});let _7=class extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="pre",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(```).*/g),this.getAction.bind(this),this._meta=pR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const u=o[0]||"";setTimeout(()=>{const h=t.index-u.length;this.quillJS.deleteText(h,u.length),setTimeout(()=>{this.quillJS.insertText(h,`
`);const d=h+1+1+1;this.quillJS.insertText(d-1,`
`),this.quillJS.formatLine(d-2,1,"code-block",!0),i(!0)},0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,t=this.quillJS.getLine(e)[0],r=t.domNode.textContent;t&&r&&r.replace(`
`,"").length<=0&&this.quillJS.format("code-block",!1)},0)}}}};class v7 extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="pre",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(```)/g),this.getAction.bind(this),this._meta=pR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const u=o[0]||"",[h]=this.quillJS.getLine(t.index);setTimeout(()=>{const d=this.quillJS.getIndex(h);this.quillJS.deleteText(d,u.length+1),setTimeout(()=>{let g=this.quillJS.getLine(d)[0];for(;g;){const _=this.quillJS.getIndex(g),w=g.domNode.textContent,E=g.domNode.textContent.length;if(this.pattern.test(w)){this.quillJS.deleteText(_,w.length),i(!0);return}this.quillJS.formatLine(_,0,"code-block",!0),g=this.quillJS.getLine(_+E+1)[0]}i(!0)},0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,t=this.quillJS.getLine(e)[0],r=t.domNode.textContent;t&&r&&r.replace(`
`,"").length<=0&&this.quillJS.format("code-block",!1)},0)}}}}const w7=n=>({applyHtmlTags:["strikethrough"].map(e=>e.toLowerCase())});class eA extends Gs{constructor(e,t={}){super(),this.quillJS=e,this.name="strikethrough",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:~|_){2}(.+?)(?:~|_){2}/g),this.getAction.bind(this),this._meta=w7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let u=r.exec(e);if(!this.activeTags.length){o(!1);return}const h=u[0],d=u[1],g=i+u.index;if(e.match(/^([~_ \n]+)$/g)){o(!1);return}setTimeout(()=>{this.quillJS.deleteText(g,h.length),this.quillJS.insertText(g,d,{strike:!0}),this.quillJS.format("strike",!1),o(!0)},0)})}}}class E7{constructor(e,t={tags:{}}){this.quillJS=e,this.getOperatorsAll.bind(this),this.supportInlineTags=[new JS(this.quillJS,t).getAction(),new s7(this.quillJS,t).getAction(),new XS(this.quillJS,t).getAction(),new _7(this.quillJS,t).getAction(),new YS(this.quillJS,t).getAction(),new eA(this.quillJS,t).getAction(),new ZS(this.quillJS,t).getAction(),new f7(this.quillJS,t).getAction()],this.supportfullTextTags=[new JS(this.quillJS,t).getAction(),new l7(this.quillJS,t).getAction(),new u7(this.quillJS,t).getAction(),new g7(this.quillJS,t).getAction(),new y7(this.quillJS,t).getAction(),new o7(this.quillJS,t).getAction(),new v7(this.quillJS,t).getAction(),new XS(this.quillJS,t).getAction(),new d7(this.quillJS,t).getAction(),new YS(this.quillJS,t).getAction(),new eA(this.quillJS,t).getAction(),new ZS(this.quillJS,t).getAction()],this.tags=[...this.supportInlineTags],this.fullTextTags=[...this.supportfullTextTags]}getOperatorsAll(){return this.tags}getFullTextOperatorsAll(){return this.fullTextTags}}class gR{constructor(e,t={}){this.quillJS=e,this.options=t,this.onTextChangeBound=this.onTextChange.bind(this),this.quillJS.on("text-change",this.onTextChangeBound),this.actionCharacters={whiteSpace:" ",newLine:`
`,asterisk:"*",rightParenthesis:")",grave:"`",tilde:"~",underscore:"_"},this.ignoreTags=["PRE",...t.ignoreTags||[]],this.tags=new E7(this.quillJS,t),this.matches=this.tags.getOperatorsAll(),this.fullMatches=this.tags.getFullTextOperatorsAll()}destroy(){this.quillJS.off("text-change",this.onTextChangeBound)}onTextChange(e,t,r){if(r!=="user")return;const i=e.ops[0]&&e.ops[0].retain||0,o=e.ops[0].insert||e.ops[1]&&e.ops[1].insert,[u]=this.quillJS.getLine(i),h=e.ops.find(g=>g.hasOwnProperty("insert"))||{};if((e.ops.find(g=>g.hasOwnProperty("delete"))||h.insert===`
`)&&u.domNode.textContent.length<=1&&["PRE","BLOCKQUOTE"].includes(u.domNode.tagName)&&this.onRemoveElement({delete:1}),!!o){if(o.length>1){setTimeout(async()=>{const g=i,_=o.split(`
`);let w=g;for(let E of _){const[x]=this.quillJS.getLine(w);if(!x)return 0;const R=this.quillJS.getIndex(x);let O="",P=await this.onFullTextExecute.bind(this)({index:R,delta:e,length:0});if(P)for(;P;){const[U]=this.quillJS.getLine(w),B=this.quillJS.getIndex(U);if(!U||!U.domNode){P=!1;break}O=U.domNode.textContent||"",P=await this.onFullTextExecute.bind(this)({index:B,delta:e,length:0})}else O=x.domNode.textContent||"";w+=O.length+1}},0);return}e.ops.filter(g=>g.hasOwnProperty("insert")).forEach(g=>{switch(g.insert){case this.actionCharacters.whiteSpace:case this.actionCharacters.rightParenthesis:case this.actionCharacters.asterisk:case this.actionCharacters.grave:case this.actionCharacters.newLine:case this.actionCharacters.tilde:case this.actionCharacters.underscore:this.onInlineExecute.bind(this)();break}}),e.ops.filter(g=>g.hasOwnProperty("delete")).forEach(g=>{this.onRemoveElement(g)})}}onInlineExecute(){const e=this.quillJS.getSelection();if(!e)return;const[t,r]=this.quillJS.getLine(e.index),i=t.domNode.textContent,o=e.index-r,u=this.quillJS.getFormat(o);if(!(u["code-block"]||u.code)){for(let h of this.matches)if(typeof h.pattern=="function"?h.pattern(i):i.match(h.pattern)){h.action(i,e,h.pattern,o);return}}}async onFullTextExecute(e){let t=e||this.quillJS.getSelection();const r=e.delta;if(!t)return!1;const[i,o]=this.quillJS.getLine(t.index);if(!i||o<0)return!1;const u=r&&r.ops&&r.ops[0].retain||0,h=t.index-o,d=u?u-1:h,g=this.quillJS.getFormat(d);if(g["code-block"]||g.code){if(g.code){const x=r.ops.filter(R=>R.insert).map(R=>R.insert).join("");this.quillJS.deleteText(u,x.length),this.quillJS.insertText(u,x.replace(/\n/g,""),{code:!0}),this.quillJS.format("code",!1)}return!1}const _=this.quillJS.getLine(h-1)[0],w=_&&_.domNode.textContent,E=i.domNode.textContent+" ";if(t.length=t.index++,typeof w=="string"&&w.length>0&&E===" "){const x=this.fullMatches.find(R=>R.name===i.domNode.tagName.toLowerCase());if(x&&x.release)return x.release(t),!1}for(let x of this.fullMatches)if(typeof x.pattern=="function"?x.pattern(E):E.match(x.pattern))return await x.action(E,t,x.pattern,h);return!1}onRemoveElement(e){const t=this.quillJS.getSelection();if(e&&e.delete===1){const i=this.quillJS.getLine(t.index)[0],o=this.matches.find(u=>u.name===i.domNode.tagName.toLowerCase());o&&o.release&&o.release(t)}}}typeof window<"u"&&(window.QuillMarkdown=gR);var Q1={exports:{}};/*! For license information please see quill-cursors.js.LICENSE.txt */var tA;function T7(){return tA||(tA=1,function(n,e){(function(t,r){n.exports=r()})(self,()=>(()=>{var t={582:(u,h,d)=>{d.d(h,{Z:()=>x});var g=d(81),_=d.n(g),w=d(645),E=d.n(w)()(_());E.push([u.id,".ql-container{position:relative;overflow:hidden}@media(pointer: coarse){.ql-cursor-caret-container{z-index:-1}}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{cursor:text;margin-left:-9px;padding:0 9px}.ql-cursor .ql-cursor-caret-container.hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-caret-container.no-pointer{pointer-events:none}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const x=E},645:u=>{u.exports=function(h){var d=[];return d.toString=function(){return this.map(function(g){var _="",w=g[5]!==void 0;return g[4]&&(_+="@supports (".concat(g[4],") {")),g[2]&&(_+="@media ".concat(g[2]," {")),w&&(_+="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {")),_+=h(g),w&&(_+="}"),g[2]&&(_+="}"),g[4]&&(_+="}"),_}).join("")},d.i=function(g,_,w,E,x){typeof g=="string"&&(g=[[null,g,void 0]]);var R={};if(w)for(var O=0;O<this.length;O++){var P=this[O][0];P!=null&&(R[P]=!0)}for(var U=0;U<g.length;U++){var B=[].concat(g[U]);w&&R[B[0]]||(x!==void 0&&(B[5]===void 0||(B[1]="@layer".concat(B[5].length>0?" ".concat(B[5]):""," {").concat(B[1],"}")),B[5]=x),_&&(B[2]&&(B[1]="@media ".concat(B[2]," {").concat(B[1],"}")),B[2]=_),E&&(B[4]?(B[1]="@supports (".concat(B[4],") {").concat(B[1],"}"),B[4]=E):B[4]="".concat(E)),d.push(B))}},d}},81:u=>{u.exports=function(h){return h[1]}},529:u=>{var h=-1;function d(C,F,z,J){if(C===F)return C?[[0,C]]:[];if(z!=null){var D=function(j,N,oe){var le=typeof oe=="number"?{index:oe,length:0}:oe.oldRange,re=typeof oe=="number"?null:oe.newRange,de=j.length,se=N.length;if(le.length===0&&(re===null||re.length===0)){var ne=le.index,Y=j.slice(0,ne),G=j.slice(ne),ie=re?re.index:null,he=ne+se-de;if((ie===null||ie===he)&&!(he<0||he>se)){var Ne=N.slice(0,he);if((je=N.slice(he))===G){var Ce=Math.min(ne,he);if((We=Y.slice(0,Ce))===(Je=Ne.slice(0,Ce)))return U(We,Y.slice(Ce),Ne.slice(Ce),G)}}if(ie===null||ie===ne){var Pe=ne,je=(Ne=N.slice(0,Pe),N.slice(Pe));if(Ne===Y){var Ie=Math.min(de-Pe,se-Pe);if((Ye=G.slice(G.length-Ie))===(pt=je.slice(je.length-Ie)))return U(Y,G.slice(0,G.length-Ie),je.slice(0,je.length-Ie),Ye)}}}if(le.length>0&&re&&re.length===0){var We=j.slice(0,le.index),Ye=j.slice(le.index+le.length);if(!(se<(Ce=We.length)+(Ie=Ye.length))){var Je=N.slice(0,Ce),pt=N.slice(se-Ie);if(We===Je&&Ye===pt)return U(We,j.slice(Ce,de-Ie),N.slice(Ce,se-Ie),Ye)}}return null}(C,F,z);if(D)return D}var q=_(C,F),W=C.substring(0,q);q=w(C=C.substring(q),F=F.substring(q));var I=C.substring(C.length-q),k=function(j,N){var oe;if(!j)return[[1,N]];if(!N)return[[h,j]];var le=j.length>N.length?j:N,re=j.length>N.length?N:j,de=le.indexOf(re);if(de!==-1)return oe=[[1,le.substring(0,de)],[0,re],[1,le.substring(de+re.length)]],j.length>N.length&&(oe[0][0]=oe[2][0]=h),oe;if(re.length===1)return[[h,j],[1,N]];var se=function(Pe,je){var Ie=Pe.length>je.length?Pe:je,We=Pe.length>je.length?je:Pe;if(Ie.length<4||2*We.length<Ie.length)return null;function Ye(ur,Jn,cn){for(var hn,Cn,mn,Ht,xn=ur.substring(cn,cn+Math.floor(ur.length/4)),Dt=-1,wt="";(Dt=Jn.indexOf(xn,Dt+1))!==-1;){var Ut=_(ur.substring(cn),Jn.substring(Dt)),qn=w(ur.substring(0,cn),Jn.substring(0,Dt));wt.length<qn+Ut&&(wt=Jn.substring(Dt-qn,Dt)+Jn.substring(Dt,Dt+Ut),hn=ur.substring(0,cn-qn),Cn=ur.substring(cn+Ut),mn=Jn.substring(0,Dt-qn),Ht=Jn.substring(Dt+Ut))}return 2*wt.length>=ur.length?[hn,Cn,mn,Ht,wt]:null}var Je,pt,gt,st,zt,tr=Ye(Ie,We,Math.ceil(Ie.length/4)),Un=Ye(Ie,We,Math.ceil(Ie.length/2));return tr||Un?(Je=Un?tr&&tr[4].length>Un[4].length?tr:Un:tr,Pe.length>je.length?(pt=Je[0],gt=Je[1],st=Je[2],zt=Je[3]):(st=Je[0],zt=Je[1],pt=Je[2],gt=Je[3]),[pt,gt,st,zt,Je[4]]):null}(j,N);if(se){var ne=se[0],Y=se[1],G=se[2],ie=se[3],he=se[4],Ne=d(ne,G),Ce=d(Y,ie);return Ne.concat([[0,he]],Ce)}return function(Pe,je){for(var Ie=Pe.length,We=je.length,Ye=Math.ceil((Ie+We)/2),Je=Ye,pt=2*Ye,gt=new Array(pt),st=new Array(pt),zt=0;zt<pt;zt++)gt[zt]=-1,st[zt]=-1;gt[Je+1]=0,st[Je+1]=0;for(var tr=Ie-We,Un=tr%2!=0,ur=0,Jn=0,cn=0,hn=0,Cn=0;Cn<Ye;Cn++){for(var mn=-Cn+ur;mn<=Cn-Jn;mn+=2){for(var Ht=Je+mn,xn=(Qt=mn===-Cn||mn!==Cn&&gt[Ht-1]<gt[Ht+1]?gt[Ht+1]:gt[Ht-1]+1)-mn;Qt<Ie&&xn<We&&Pe.charAt(Qt)===je.charAt(xn);)Qt++,xn++;if(gt[Ht]=Qt,Qt>Ie)Jn+=2;else if(xn>We)ur+=2;else if(Un&&(Ut=Je+tr-mn)>=0&&Ut<pt&&st[Ut]!==-1&&Qt>=(wt=Ie-st[Ut]))return g(Pe,je,Qt,xn)}for(var Dt=-Cn+cn;Dt<=Cn-hn;Dt+=2){for(var wt,Ut=Je+Dt,qn=(wt=Dt===-Cn||Dt!==Cn&&st[Ut-1]<st[Ut+1]?st[Ut+1]:st[Ut-1]+1)-Dt;wt<Ie&&qn<We&&Pe.charAt(Ie-wt-1)===je.charAt(We-qn-1);)wt++,qn++;if(st[Ut]=wt,wt>Ie)hn+=2;else if(qn>We)cn+=2;else if(!Un){var Qt;if((Ht=Je+tr-Dt)>=0&&Ht<pt&&gt[Ht]!==-1&&(xn=Je+(Qt=gt[Ht])-Ht,Qt>=(wt=Ie-wt)))return g(Pe,je,Qt,xn)}}}return[[h,Pe],[1,je]]}(j,N)}(C=C.substring(0,C.length-q),F=F.substring(0,F.length-q));return W&&k.unshift([0,W]),I&&k.push([0,I]),E(k,J),k}function g(C,F,z,J){var D=C.substring(0,z),q=F.substring(0,J),W=C.substring(z),I=F.substring(J),k=d(D,q),j=d(W,I);return k.concat(j)}function _(C,F){if(!C||!F||C.charAt(0)!==F.charAt(0))return 0;for(var z=0,J=Math.min(C.length,F.length),D=J,q=0;z<D;)C.substring(q,D)==F.substring(q,D)?q=z=D:J=D,D=Math.floor((J-z)/2+z);return x(C.charCodeAt(D-1))&&D--,D}function w(C,F){if(!C||!F||C.slice(-1)!==F.slice(-1))return 0;for(var z=0,J=Math.min(C.length,F.length),D=J,q=0;z<D;)C.substring(C.length-D,C.length-q)==F.substring(F.length-D,F.length-q)?q=z=D:J=D,D=Math.floor((J-z)/2+z);return R(C.charCodeAt(C.length-D))&&D--,D}function E(C,F){C.push([0,""]);for(var z,J=0,D=0,q=0,W="",I="";J<C.length;)if(J<C.length-1&&!C[J][1])C.splice(J,1);else switch(C[J][0]){case 1:q++,I+=C[J][1],J++;break;case h:D++,W+=C[J][1],J++;break;case 0:var k=J-q-D-1;if(F){if(k>=0&&P(C[k][1])){var j=C[k][1].slice(-1);if(C[k][1]=C[k][1].slice(0,-1),W=j+W,I=j+I,!C[k][1]){C.splice(k,1),J--;var N=k-1;C[N]&&C[N][0]===1&&(q++,I=C[N][1]+I,N--),C[N]&&C[N][0]===h&&(D++,W=C[N][1]+W,N--),k=N}}O(C[J][1])&&(j=C[J][1].charAt(0),C[J][1]=C[J][1].slice(1),W+=j,I+=j)}if(J<C.length-1&&!C[J][1]){C.splice(J,1);break}if(W.length>0||I.length>0){W.length>0&&I.length>0&&((z=_(I,W))!==0&&(k>=0?C[k][1]+=I.substring(0,z):(C.splice(0,0,[0,I.substring(0,z)]),J++),I=I.substring(z),W=W.substring(z)),(z=w(I,W))!==0&&(C[J][1]=I.substring(I.length-z)+C[J][1],I=I.substring(0,I.length-z),W=W.substring(0,W.length-z)));var oe=q+D;W.length===0&&I.length===0?(C.splice(J-oe,oe),J-=oe):W.length===0?(C.splice(J-oe,oe,[1,I]),J=J-oe+1):I.length===0?(C.splice(J-oe,oe,[h,W]),J=J-oe+1):(C.splice(J-oe,oe,[h,W],[1,I]),J=J-oe+2)}J!==0&&C[J-1][0]===0?(C[J-1][1]+=C[J][1],C.splice(J,1)):J++,q=0,D=0,W="",I=""}C[C.length-1][1]===""&&C.pop();var le=!1;for(J=1;J<C.length-1;)C[J-1][0]===0&&C[J+1][0]===0&&(C[J][1].substring(C[J][1].length-C[J-1][1].length)===C[J-1][1]?(C[J][1]=C[J-1][1]+C[J][1].substring(0,C[J][1].length-C[J-1][1].length),C[J+1][1]=C[J-1][1]+C[J+1][1],C.splice(J-1,1),le=!0):C[J][1].substring(0,C[J+1][1].length)==C[J+1][1]&&(C[J-1][1]+=C[J+1][1],C[J][1]=C[J][1].substring(C[J+1][1].length)+C[J+1][1],C.splice(J+1,1),le=!0)),J++;le&&E(C,F)}function x(C){return C>=55296&&C<=56319}function R(C){return C>=56320&&C<=57343}function O(C){return R(C.charCodeAt(0))}function P(C){return x(C.charCodeAt(C.length-1))}function U(C,F,z,J){return P(C)||O(J)?null:function(D){for(var q=[],W=0;W<D.length;W++)D[W][1].length>0&&q.push(D[W]);return q}([[0,C],[h,F],[1,z],[0,J]])}function B(C,F,z){return d(C,F,z,!0)}B.INSERT=1,B.DELETE=h,B.EQUAL=0,u.exports=B},465:(u,h,d)=>{u=d.nmd(u);var g="__lodash_hash_undefined__",_=9007199254740991,w="[object Arguments]",E="[object Boolean]",x="[object Date]",R="[object Function]",O="[object GeneratorFunction]",P="[object Map]",U="[object Number]",B="[object Object]",C="[object Promise]",F="[object RegExp]",z="[object Set]",J="[object String]",D="[object Symbol]",q="[object WeakMap]",W="[object ArrayBuffer]",I="[object DataView]",k="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",oe="[object Int16Array]",le="[object Int32Array]",re="[object Uint8Array]",de="[object Uint8ClampedArray]",se="[object Uint16Array]",ne="[object Uint32Array]",Y=/\w*$/,G=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,he={};he[w]=he["[object Array]"]=he[W]=he[I]=he[E]=he[x]=he[k]=he[j]=he[N]=he[oe]=he[le]=he[P]=he[U]=he[B]=he[F]=he[z]=he[J]=he[D]=he[re]=he[de]=he[se]=he[ne]=!0,he["[object Error]"]=he[R]=he[q]=!1;var Ne=typeof d.g=="object"&&d.g&&d.g.Object===Object&&d.g,Ce=typeof self=="object"&&self&&self.Object===Object&&self,Pe=Ne||Ce||Function("return this")(),je=h&&!h.nodeType&&h,Ie=je&&u&&!u.nodeType&&u,We=Ie&&Ie.exports===je;function Ye(ce,Te){return ce.set(Te[0],Te[1]),ce}function Je(ce,Te){return ce.add(Te),ce}function pt(ce,Te,Ue,Xe){var _t=-1,qt=ce?ce.length:0;for(Xe;++_t<qt;)Ue=Te(Ue,ce[_t],_t,ce);return Ue}function gt(ce){var Te=!1;if(ce!=null&&typeof ce.toString!="function")try{Te=!!(ce+"")}catch{}return Te}function st(ce){var Te=-1,Ue=Array(ce.size);return ce.forEach(function(Xe,_t){Ue[++Te]=[_t,Xe]}),Ue}function zt(ce,Te){return function(Ue){return ce(Te(Ue))}}function tr(ce){var Te=-1,Ue=Array(ce.size);return ce.forEach(function(Xe){Ue[++Te]=Xe}),Ue}var Un,ur=Array.prototype,Jn=Function.prototype,cn=Object.prototype,hn=Pe["__core-js_shared__"],Cn=(Un=/[^.]+$/.exec(hn&&hn.keys&&hn.keys.IE_PROTO||""))?"Symbol(src)_1."+Un:"",mn=Jn.toString,Ht=cn.hasOwnProperty,xn=cn.toString,Dt=RegExp("^"+mn.call(Ht).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=We?Pe.Buffer:void 0,Ut=Pe.Symbol,qn=Pe.Uint8Array,Qt=zt(Object.getPrototypeOf,Object),Hr=Object.create,Rr=cn.propertyIsEnumerable,ts=ur.splice,Ei=Object.getOwnPropertySymbols,Ti=wt?wt.isBuffer:void 0,Bi=zt(Object.keys,Object),Wr=ci(Pe,"DataView"),yr=ci(Pe,"Map"),or=ci(Pe,"Promise"),cr=ci(Pe,"Set"),In=ci(Pe,"WeakMap"),Rn=ci(Object,"create"),li=Qr(Wr),zn=Qr(yr),bi=Qr(or),Fr=Qr(cr),Ri=Qr(In),_r=Ut?Ut.prototype:void 0,Vi=_r?_r.valueOf:void 0;function Gt(ce){var Te=-1,Ue=ce?ce.length:0;for(this.clear();++Te<Ue;){var Xe=ce[Te];this.set(Xe[0],Xe[1])}}function nr(ce){var Te=-1,Ue=ce?ce.length:0;for(this.clear();++Te<Ue;){var Xe=ce[Te];this.set(Xe[0],Xe[1])}}function Hn(ce){var Te=-1,Ue=ce?ce.length:0;for(this.clear();++Te<Ue;){var Xe=ce[Te];this.set(Xe[0],Xe[1])}}function kr(ce){this.__data__=new nr(ce)}function vr(ce,Te,Ue){var Xe=ce[Te];Ht.call(ce,Te)&&ns(Xe,Ue)&&(Ue!==void 0||Te in ce)||(ce[Te]=Ue)}function ui(ce,Te){for(var Ue=ce.length;Ue--;)if(ns(ce[Ue][0],Te))return Ue;return-1}function Jt(ce,Te,Ue,Xe,_t,qt,Xt){var Mt;if(Xe&&(Mt=qt?Xe(ce,_t,qt,Xt):Xe(ce)),Mt!==void 0)return Mt;if(!rt(ce))return ce;var Yt=ge(ce);if(Yt){if(Mt=function(ct){var Ft=ct.length,pn=ct.constructor(Ft);return Ft&&typeof ct[0]=="string"&&Ht.call(ct,"index")&&(pn.index=ct.index,pn.input=ct.input),pn}(ce),!Te)return function(ct,Ft){var pn=-1,Ot=ct.length;for(Ft||(Ft=Array(Ot));++pn<Ot;)Ft[pn]=ct[pn];return Ft}(ce,Mt)}else{var bn=yn(ce),Jr=bn==R||bn==O;if(qe(ce))return function(ct,Ft){if(Ft)return ct.slice();var pn=new ct.constructor(ct.length);return ct.copy(pn),pn}(ce,Te);if(bn==B||bn==w||Jr&&!qt){if(gt(ce))return qt?ce:{};if(Mt=function(ct){return typeof ct.constructor!="function"||ki(ct)?{}:rt(Ft=Qt(ct))?Hr(Ft):{};var Ft}(Jr?{}:ce),!Te)return function(ct,Ft){return Ks(ct,Ur(ct),Ft)}(ce,function(ct,Ft){return ct&&Ks(Ft,At(Ft),ct)}(Mt,ce))}else{if(!he[bn])return qt?ce:{};Mt=function(ct,Ft,pn,Ot){var Ct,jn=ct.constructor;switch(Ft){case W:return qi(ct);case E:case x:return new jn(+ct);case I:return function(xt,vn){var wn=vn?qi(xt.buffer):xt.buffer;return new xt.constructor(wn,xt.byteOffset,xt.byteLength)}(ct,Ot);case k:case j:case N:case oe:case le:case re:case de:case se:case ne:return function(xt,vn){var wn=vn?qi(xt.buffer):xt.buffer;return new xt.constructor(wn,xt.byteOffset,xt.length)}(ct,Ot);case P:return function(xt,vn,wn){return pt(vn?wn(st(xt),!0):st(xt),Ye,new xt.constructor)}(ct,Ot,pn);case U:case J:return new jn(ct);case F:return function(xt){var vn=new xt.constructor(xt.source,Y.exec(xt));return vn.lastIndex=xt.lastIndex,vn}(ct);case z:return function(xt,vn,wn){return pt(vn?wn(tr(xt),!0):tr(xt),Je,new xt.constructor)}(ct,Ot,pn);case D:return Ct=ct,Vi?Object(Vi.call(Ct)):{}}}(ce,bn,Jt,Te)}}Xt||(Xt=new kr);var Nr=Xt.get(ce);if(Nr)return Nr;if(Xt.set(ce,Mt),!Yt)var Sr=Ue?function(ct){return function(Ft,pn,Ot){var Ct=pn(Ft);return ge(Ft)?Ct:function(jn,xt){for(var vn=-1,wn=xt.length,jt=jn.length;++vn<wn;)jn[jt+vn]=xt[vn];return jn}(Ct,Ot(Ft))}(ct,At,Ur)}(ce):At(ce);return function(ct,Ft){for(var pn=-1,Ot=ct?ct.length:0;++pn<Ot&&Ft(ct[pn],pn)!==!1;);}(Sr||ce,function(ct,Ft){Sr&&(ct=ce[Ft=ct]),vr(Mt,Ft,Jt(ct,Te,Ue,Xe,Ft,ce,Xt))}),Mt}function qi(ce){var Te=new ce.constructor(ce.byteLength);return new qn(Te).set(new qn(ce)),Te}function Ks(ce,Te,Ue,Xe){Ue||(Ue={});for(var _t=-1,qt=Te.length;++_t<qt;){var Xt=Te[_t],Mt=void 0;vr(Ue,Xt,Mt===void 0?ce[Xt]:Mt)}return Ue}function Gr(ce,Te){var Ue,Xe,_t=ce.__data__;return((Xe=typeof(Ue=Te))=="string"||Xe=="number"||Xe=="symbol"||Xe=="boolean"?Ue!=="__proto__":Ue===null)?_t[typeof Te=="string"?"string":"hash"]:_t.map}function ci(ce,Te){var Ue=function(Xe,_t){return Xe==null?void 0:Xe[_t]}(ce,Te);return function(Xe){return!(!rt(Xe)||(_t=Xe,Cn&&Cn in _t))&&(nt(Xe)||gt(Xe)?Dt:G).test(Qr(Xe));var _t}(Ue)?Ue:void 0}Gt.prototype.clear=function(){this.__data__=Rn?Rn(null):{}},Gt.prototype.delete=function(ce){return this.has(ce)&&delete this.__data__[ce]},Gt.prototype.get=function(ce){var Te=this.__data__;if(Rn){var Ue=Te[ce];return Ue===g?void 0:Ue}return Ht.call(Te,ce)?Te[ce]:void 0},Gt.prototype.has=function(ce){var Te=this.__data__;return Rn?Te[ce]!==void 0:Ht.call(Te,ce)},Gt.prototype.set=function(ce,Te){return this.__data__[ce]=Rn&&Te===void 0?g:Te,this},nr.prototype.clear=function(){this.__data__=[]},nr.prototype.delete=function(ce){var Te=this.__data__,Ue=ui(Te,ce);return!(Ue<0||(Ue==Te.length-1?Te.pop():ts.call(Te,Ue,1),0))},nr.prototype.get=function(ce){var Te=this.__data__,Ue=ui(Te,ce);return Ue<0?void 0:Te[Ue][1]},nr.prototype.has=function(ce){return ui(this.__data__,ce)>-1},nr.prototype.set=function(ce,Te){var Ue=this.__data__,Xe=ui(Ue,ce);return Xe<0?Ue.push([ce,Te]):Ue[Xe][1]=Te,this},Hn.prototype.clear=function(){this.__data__={hash:new Gt,map:new(yr||nr),string:new Gt}},Hn.prototype.delete=function(ce){return Gr(this,ce).delete(ce)},Hn.prototype.get=function(ce){return Gr(this,ce).get(ce)},Hn.prototype.has=function(ce){return Gr(this,ce).has(ce)},Hn.prototype.set=function(ce,Te){return Gr(this,ce).set(ce,Te),this},kr.prototype.clear=function(){this.__data__=new nr},kr.prototype.delete=function(ce){return this.__data__.delete(ce)},kr.prototype.get=function(ce){return this.__data__.get(ce)},kr.prototype.has=function(ce){return this.__data__.has(ce)},kr.prototype.set=function(ce,Te){var Ue=this.__data__;if(Ue instanceof nr){var Xe=Ue.__data__;if(!yr||Xe.length<199)return Xe.push([ce,Te]),this;Ue=this.__data__=new Hn(Xe)}return Ue.set(ce,Te),this};var Ur=Ei?zt(Ei,Object):function(){return[]},yn=function(ce){return xn.call(ce)};function Kr(ce,Te){return!!(Te=Te??_)&&(typeof ce=="number"||ie.test(ce))&&ce>-1&&ce%1==0&&ce<Te}function ki(ce){var Te=ce&&ce.constructor;return ce===(typeof Te=="function"&&Te.prototype||cn)}function Qr(ce){if(ce!=null){try{return mn.call(ce)}catch{}try{return ce+""}catch{}}return""}function ns(ce,Te){return ce===Te||ce!=ce&&Te!=Te}(Wr&&yn(new Wr(new ArrayBuffer(1)))!=I||yr&&yn(new yr)!=P||or&&yn(or.resolve())!=C||cr&&yn(new cr)!=z||In&&yn(new In)!=q)&&(yn=function(ce){var Te=xn.call(ce),Ue=Te==B?ce.constructor:void 0,Xe=Ue?Qr(Ue):void 0;if(Xe)switch(Xe){case li:return I;case zn:return P;case bi:return C;case Fr:return z;case Ri:return q}return Te});var ge=Array.isArray;function Ee(ce){return ce!=null&&function(Te){return typeof Te=="number"&&Te>-1&&Te%1==0&&Te<=_}(ce.length)&&!nt(ce)}var qe=Ti||function(){return!1};function nt(ce){var Te=rt(ce)?xn.call(ce):"";return Te==R||Te==O}function rt(ce){var Te=typeof ce;return!!ce&&(Te=="object"||Te=="function")}function At(ce){return Ee(ce)?function(Te,Ue){var Xe=ge(Te)||function(Mt){return function(Yt){return function(bn){return!!bn&&typeof bn=="object"}(Yt)&&Ee(Yt)}(Mt)&&Ht.call(Mt,"callee")&&(!Rr.call(Mt,"callee")||xn.call(Mt)==w)}(Te)?function(Mt,Yt){for(var bn=-1,Jr=Array(Mt);++bn<Mt;)Jr[bn]=Yt(bn);return Jr}(Te.length,String):[],_t=Xe.length,qt=!!_t;for(var Xt in Te)!Ht.call(Te,Xt)||qt&&(Xt=="length"||Kr(Xt,_t))||Xe.push(Xt);return Xe}(ce):function(Te){if(!ki(Te))return Bi(Te);var Ue=[];for(var Xe in Object(Te))Ht.call(Te,Xe)&&Xe!="constructor"&&Ue.push(Xe);return Ue}(ce)}u.exports=function(ce){return Jt(ce,!0,!0)}},307:(u,h,d)=>{u=d.nmd(u);var g="__lodash_hash_undefined__",_=9007199254740991,w="[object Arguments]",E="[object Array]",x="[object Boolean]",R="[object Date]",O="[object Error]",P="[object Function]",U="[object Map]",B="[object Number]",C="[object Object]",F="[object Promise]",z="[object RegExp]",J="[object Set]",D="[object String]",q="[object WeakMap]",W="[object ArrayBuffer]",I="[object DataView]",k=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[w]=N[E]=N[W]=N[x]=N[I]=N[R]=N[O]=N[P]=N[U]=N[B]=N[C]=N[z]=N[J]=N[D]=N[q]=!1;var oe=typeof d.g=="object"&&d.g&&d.g.Object===Object&&d.g,le=typeof self=="object"&&self&&self.Object===Object&&self,re=oe||le||Function("return this")(),de=h&&!h.nodeType&&h,se=de&&u&&!u.nodeType&&u,ne=se&&se.exports===de,Y=ne&&oe.process,G=function(){try{return Y&&Y.binding&&Y.binding("util")}catch{}}(),ie=G&&G.isTypedArray;function he(ge,Ee){for(var qe=-1,nt=ge==null?0:ge.length;++qe<nt;)if(Ee(ge[qe],qe,ge))return!0;return!1}function Ne(ge){var Ee=-1,qe=Array(ge.size);return ge.forEach(function(nt,rt){qe[++Ee]=[rt,nt]}),qe}function Ce(ge){var Ee=-1,qe=Array(ge.size);return ge.forEach(function(nt){qe[++Ee]=nt}),qe}var Pe,je,Ie,We=Array.prototype,Ye=Function.prototype,Je=Object.prototype,pt=re["__core-js_shared__"],gt=Ye.toString,st=Je.hasOwnProperty,zt=(Pe=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||""))?"Symbol(src)_1."+Pe:"",tr=Je.toString,Un=RegExp("^"+gt.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ur=ne?re.Buffer:void 0,Jn=re.Symbol,cn=re.Uint8Array,hn=Je.propertyIsEnumerable,Cn=We.splice,mn=Jn?Jn.toStringTag:void 0,Ht=Object.getOwnPropertySymbols,xn=ur?ur.isBuffer:void 0,Dt=(je=Object.keys,Ie=Object,function(ge){return je(Ie(ge))}),wt=Hn(re,"DataView"),Ut=Hn(re,"Map"),qn=Hn(re,"Promise"),Qt=Hn(re,"Set"),Hr=Hn(re,"WeakMap"),Rr=Hn(Object,"create"),ts=Jt(wt),Ei=Jt(Ut),Ti=Jt(qn),Bi=Jt(Qt),Wr=Jt(Hr),yr=Jn?Jn.prototype:void 0,or=yr?yr.valueOf:void 0;function cr(ge){var Ee=-1,qe=ge==null?0:ge.length;for(this.clear();++Ee<qe;){var nt=ge[Ee];this.set(nt[0],nt[1])}}function In(ge){var Ee=-1,qe=ge==null?0:ge.length;for(this.clear();++Ee<qe;){var nt=ge[Ee];this.set(nt[0],nt[1])}}function Rn(ge){var Ee=-1,qe=ge==null?0:ge.length;for(this.clear();++Ee<qe;){var nt=ge[Ee];this.set(nt[0],nt[1])}}function li(ge){var Ee=-1,qe=ge==null?0:ge.length;for(this.__data__=new Rn;++Ee<qe;)this.add(ge[Ee])}function zn(ge){var Ee=this.__data__=new In(ge);this.size=Ee.size}function bi(ge,Ee){for(var qe=ge.length;qe--;)if(qi(ge[qe][0],Ee))return qe;return-1}function Fr(ge){return ge==null?ge===void 0?"[object Undefined]":"[object Null]":mn&&mn in Object(ge)?function(Ee){var qe=st.call(Ee,mn),nt=Ee[mn];try{Ee[mn]=void 0;var rt=!0}catch{}var At=tr.call(Ee);return rt&&(qe?Ee[mn]=nt:delete Ee[mn]),At}(ge):function(Ee){return tr.call(Ee)}(ge)}function Ri(ge){return ki(ge)&&Fr(ge)==w}function _r(ge,Ee,qe,nt,rt){return ge===Ee||(ge==null||Ee==null||!ki(ge)&&!ki(Ee)?ge!=ge&&Ee!=Ee:function(At,ce,Te,Ue,Xe,_t){var qt=Gr(At),Xt=Gr(ce),Mt=qt?E:vr(At),Yt=Xt?E:vr(ce),bn=(Mt=Mt==w?C:Mt)==C,Jr=(Yt=Yt==w?C:Yt)==C,Nr=Mt==Yt;if(Nr&&ci(At)){if(!ci(ce))return!1;qt=!0,bn=!1}if(Nr&&!bn)return _t||(_t=new zn),qt||Qr(At)?Vi(At,ce,Te,Ue,Xe,_t):function(Ot,Ct,jn,xt,vn,wn,jt){switch(jn){case I:if(Ot.byteLength!=Ct.byteLength||Ot.byteOffset!=Ct.byteOffset)return!1;Ot=Ot.buffer,Ct=Ct.buffer;case W:return!(Ot.byteLength!=Ct.byteLength||!wn(new cn(Ot),new cn(Ct)));case x:case R:case B:return qi(+Ot,+Ct);case O:return Ot.name==Ct.name&&Ot.message==Ct.message;case z:case D:return Ot==Ct+"";case U:var rr=Ne;case J:var vt=1&xt;if(rr||(rr=Ce),Ot.size!=Ct.size&&!vt)return!1;var Bn=jt.get(Ot);if(Bn)return Bn==Ct;xt|=2,jt.set(Ot,Ct);var hr=Vi(rr(Ot),rr(Ct),xt,vn,wn,jt);return jt.delete(Ot),hr;case"[object Symbol]":if(or)return or.call(Ot)==or.call(Ct)}return!1}(At,ce,Mt,Te,Ue,Xe,_t);if(!(1&Te)){var Sr=bn&&st.call(At,"__wrapped__"),ct=Jr&&st.call(ce,"__wrapped__");if(Sr||ct){var Ft=Sr?At.value():At,pn=ct?ce.value():ce;return _t||(_t=new zn),Xe(Ft,pn,Te,Ue,_t)}}return!!Nr&&(_t||(_t=new zn),function(Ot,Ct,jn,xt,vn,wn){var jt=1&jn,rr=Gt(Ot),vt=rr.length;if(vt!=Gt(Ct).length&&!jt)return!1;for(var Bn=vt;Bn--;){var hr=rr[Bn];if(!(jt?hr in Ct:st.call(Ct,hr)))return!1}var ys=wn.get(Ot);if(ys&&wn.get(Ct))return ys==Ct;var Xr=!0;wn.set(Ot,Ct),wn.set(Ct,Ot);for(var Us=jt;++Bn<vt;){var _s=Ot[hr=rr[Bn]],rs=Ct[hr];if(xt)var Si=jt?xt(rs,_s,hr,Ct,Ot,wn):xt(_s,rs,hr,Ot,Ct,wn);if(!(Si===void 0?_s===rs||vn(_s,rs,jn,xt,wn):Si)){Xr=!1;break}Us||(Us=hr=="constructor")}if(Xr&&!Us){var ir=Ot.constructor,Pn=Ct.constructor;ir==Pn||!("constructor"in Ot)||!("constructor"in Ct)||typeof ir=="function"&&ir instanceof ir&&typeof Pn=="function"&&Pn instanceof Pn||(Xr=!1)}return wn.delete(Ot),wn.delete(Ct),Xr}(At,ce,Te,Ue,Xe,_t))}(ge,Ee,qe,nt,_r,rt))}function Vi(ge,Ee,qe,nt,rt,At){var ce=1&qe,Te=ge.length,Ue=Ee.length;if(Te!=Ue&&!(ce&&Ue>Te))return!1;var Xe=At.get(ge);if(Xe&&At.get(Ee))return Xe==Ee;var _t=-1,qt=!0,Xt=2&qe?new li:void 0;for(At.set(ge,Ee),At.set(Ee,ge);++_t<Te;){var Mt=ge[_t],Yt=Ee[_t];if(nt)var bn=ce?nt(Yt,Mt,_t,Ee,ge,At):nt(Mt,Yt,_t,ge,Ee,At);if(bn!==void 0){if(bn)continue;qt=!1;break}if(Xt){if(!he(Ee,function(Jr,Nr){if(Sr=Nr,!Xt.has(Sr)&&(Mt===Jr||rt(Mt,Jr,qe,nt,At)))return Xt.push(Nr);var Sr})){qt=!1;break}}else if(Mt!==Yt&&!rt(Mt,Yt,qe,nt,At)){qt=!1;break}}return At.delete(ge),At.delete(Ee),qt}function Gt(ge){return function(Ee,qe,nt){var rt=qe(Ee);return Gr(Ee)?rt:function(At,ce){for(var Te=-1,Ue=ce.length,Xe=At.length;++Te<Ue;)At[Xe+Te]=ce[Te];return At}(rt,nt(Ee))}(ge,ns,kr)}function nr(ge,Ee){var qe,nt,rt=ge.__data__;return((nt=typeof(qe=Ee))=="string"||nt=="number"||nt=="symbol"||nt=="boolean"?qe!=="__proto__":qe===null)?rt[typeof Ee=="string"?"string":"hash"]:rt.map}function Hn(ge,Ee){var qe=function(nt,rt){return nt==null?void 0:nt[rt]}(ge,Ee);return function(nt){return!(!Kr(nt)||function(rt){return!!zt&&zt in rt}(nt))&&(Ur(nt)?Un:k).test(Jt(nt))}(qe)?qe:void 0}cr.prototype.clear=function(){this.__data__=Rr?Rr(null):{},this.size=0},cr.prototype.delete=function(ge){var Ee=this.has(ge)&&delete this.__data__[ge];return this.size-=Ee?1:0,Ee},cr.prototype.get=function(ge){var Ee=this.__data__;if(Rr){var qe=Ee[ge];return qe===g?void 0:qe}return st.call(Ee,ge)?Ee[ge]:void 0},cr.prototype.has=function(ge){var Ee=this.__data__;return Rr?Ee[ge]!==void 0:st.call(Ee,ge)},cr.prototype.set=function(ge,Ee){var qe=this.__data__;return this.size+=this.has(ge)?0:1,qe[ge]=Rr&&Ee===void 0?g:Ee,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(ge){var Ee=this.__data__,qe=bi(Ee,ge);return!(qe<0||(qe==Ee.length-1?Ee.pop():Cn.call(Ee,qe,1),--this.size,0))},In.prototype.get=function(ge){var Ee=this.__data__,qe=bi(Ee,ge);return qe<0?void 0:Ee[qe][1]},In.prototype.has=function(ge){return bi(this.__data__,ge)>-1},In.prototype.set=function(ge,Ee){var qe=this.__data__,nt=bi(qe,ge);return nt<0?(++this.size,qe.push([ge,Ee])):qe[nt][1]=Ee,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new cr,map:new(Ut||In),string:new cr}},Rn.prototype.delete=function(ge){var Ee=nr(this,ge).delete(ge);return this.size-=Ee?1:0,Ee},Rn.prototype.get=function(ge){return nr(this,ge).get(ge)},Rn.prototype.has=function(ge){return nr(this,ge).has(ge)},Rn.prototype.set=function(ge,Ee){var qe=nr(this,ge),nt=qe.size;return qe.set(ge,Ee),this.size+=qe.size==nt?0:1,this},li.prototype.add=li.prototype.push=function(ge){return this.__data__.set(ge,g),this},li.prototype.has=function(ge){return this.__data__.has(ge)},zn.prototype.clear=function(){this.__data__=new In,this.size=0},zn.prototype.delete=function(ge){var Ee=this.__data__,qe=Ee.delete(ge);return this.size=Ee.size,qe},zn.prototype.get=function(ge){return this.__data__.get(ge)},zn.prototype.has=function(ge){return this.__data__.has(ge)},zn.prototype.set=function(ge,Ee){var qe=this.__data__;if(qe instanceof In){var nt=qe.__data__;if(!Ut||nt.length<199)return nt.push([ge,Ee]),this.size=++qe.size,this;qe=this.__data__=new Rn(nt)}return qe.set(ge,Ee),this.size=qe.size,this};var kr=Ht?function(ge){return ge==null?[]:(ge=Object(ge),function(Ee,qe){for(var nt=-1,rt=Ee==null?0:Ee.length,At=0,ce=[];++nt<rt;){var Te=Ee[nt];Ue=Te,hn.call(ge,Ue)&&(ce[At++]=Te)}var Ue;return ce}(Ht(ge)))}:function(){return[]},vr=Fr;function ui(ge,Ee){return!!(Ee=Ee??_)&&(typeof ge=="number"||j.test(ge))&&ge>-1&&ge%1==0&&ge<Ee}function Jt(ge){if(ge!=null){try{return gt.call(ge)}catch{}try{return ge+""}catch{}}return""}function qi(ge,Ee){return ge===Ee||ge!=ge&&Ee!=Ee}(wt&&vr(new wt(new ArrayBuffer(1)))!=I||Ut&&vr(new Ut)!=U||qn&&vr(qn.resolve())!=F||Qt&&vr(new Qt)!=J||Hr&&vr(new Hr)!=q)&&(vr=function(ge){var Ee=Fr(ge),qe=Ee==C?ge.constructor:void 0,nt=qe?Jt(qe):"";if(nt)switch(nt){case ts:return I;case Ei:return U;case Ti:return F;case Bi:return J;case Wr:return q}return Ee});var Ks=Ri(function(){return arguments}())?Ri:function(ge){return ki(ge)&&st.call(ge,"callee")&&!hn.call(ge,"callee")},Gr=Array.isArray,ci=xn||function(){return!1};function Ur(ge){if(!Kr(ge))return!1;var Ee=Fr(ge);return Ee==P||Ee=="[object GeneratorFunction]"||Ee=="[object AsyncFunction]"||Ee=="[object Proxy]"}function yn(ge){return typeof ge=="number"&&ge>-1&&ge%1==0&&ge<=_}function Kr(ge){var Ee=typeof ge;return ge!=null&&(Ee=="object"||Ee=="function")}function ki(ge){return ge!=null&&typeof ge=="object"}var Qr=ie?function(ge){return function(Ee){return ge(Ee)}}(ie):function(ge){return ki(ge)&&yn(ge.length)&&!!N[Fr(ge)]};function ns(ge){return(Ee=ge)!=null&&yn(Ee.length)&&!Ur(Ee)?function(qe,nt){var rt=Gr(qe),At=!rt&&Ks(qe),ce=!rt&&!At&&ci(qe),Te=!rt&&!At&&!ce&&Qr(qe),Ue=rt||At||ce||Te,Xe=Ue?function(Xt,Mt){for(var Yt=-1,bn=Array(Xt);++Yt<Xt;)bn[Yt]=Mt(Yt);return bn}(qe.length,String):[],_t=Xe.length;for(var qt in qe)!st.call(qe,qt)||Ue&&(qt=="length"||ce&&(qt=="offset"||qt=="parent")||Te&&(qt=="buffer"||qt=="byteLength"||qt=="byteOffset")||ui(qt,_t))||Xe.push(qt);return Xe}(ge):function(qe){if(rt=(nt=qe)&&nt.constructor,nt!==(typeof rt=="function"&&rt.prototype||Je))return Dt(qe);var nt,rt,At=[];for(var ce in Object(qe))st.call(qe,ce)&&ce!="constructor"&&At.push(ce);return At}(ge);var Ee}u.exports=function(ge,Ee){return _r(ge,Ee)}},210:function(u,h,d){var g=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(h,"__esModule",{value:!0});var _,w=g(d(465)),E=g(d(307));(function(x){x.compose=function(R,O,P){R===void 0&&(R={}),O===void 0&&(O={}),typeof R!="object"&&(R={}),typeof O!="object"&&(O={});var U=w.default(O);for(var B in P||(U=Object.keys(U).reduce(function(C,F){return U[F]!=null&&(C[F]=U[F]),C},{})),R)R[B]!==void 0&&O[B]===void 0&&(U[B]=R[B]);return Object.keys(U).length>0?U:void 0},x.diff=function(R,O){R===void 0&&(R={}),O===void 0&&(O={}),typeof R!="object"&&(R={}),typeof O!="object"&&(O={});var P=Object.keys(R).concat(Object.keys(O)).reduce(function(U,B){return E.default(R[B],O[B])||(U[B]=O[B]===void 0?null:O[B]),U},{});return Object.keys(P).length>0?P:void 0},x.invert=function(R,O){R===void 0&&(R={}),O===void 0&&(O={}),R=R||{};var P=Object.keys(O).reduce(function(U,B){return O[B]!==R[B]&&R[B]!==void 0&&(U[B]=O[B]),U},{});return Object.keys(R).reduce(function(U,B){return R[B]!==O[B]&&O[B]===void 0&&(U[B]=null),U},P)},x.transform=function(R,O,P){if(P===void 0&&(P=!1),typeof R!="object")return O;if(typeof O=="object"){if(!P)return O;var U=Object.keys(O).reduce(function(B,C){return R[C]===void 0&&(B[C]=O[C]),B},{});return Object.keys(U).length>0?U:void 0}}})(_||(_={})),h.default=_},895:function(u,h,d){var g=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}},_=g(d(529)),w=g(d(465)),E=g(d(307)),x=g(d(210)),R=g(d(430)),O="\0",P=function(){function U(B){Array.isArray(B)?this.ops=B:B!=null&&Array.isArray(B.ops)?this.ops=B.ops:this.ops=[]}return U.prototype.insert=function(B,C){var F={};return typeof B=="string"&&B.length===0?this:(F.insert=B,C!=null&&typeof C=="object"&&Object.keys(C).length>0&&(F.attributes=C),this.push(F))},U.prototype.delete=function(B){return B<=0?this:this.push({delete:B})},U.prototype.retain=function(B,C){if(B<=0)return this;var F={retain:B};return C!=null&&typeof C=="object"&&Object.keys(C).length>0&&(F.attributes=C),this.push(F)},U.prototype.push=function(B){var C=this.ops.length,F=this.ops[C-1];if(B=w.default(B),typeof F=="object"){if(typeof B.delete=="number"&&typeof F.delete=="number")return this.ops[C-1]={delete:F.delete+B.delete},this;if(typeof F.delete=="number"&&B.insert!=null&&(C-=1,typeof(F=this.ops[C-1])!="object"))return this.ops.unshift(B),this;if(E.default(B.attributes,F.attributes)){if(typeof B.insert=="string"&&typeof F.insert=="string")return this.ops[C-1]={insert:F.insert+B.insert},typeof B.attributes=="object"&&(this.ops[C-1].attributes=B.attributes),this;if(typeof B.retain=="number"&&typeof F.retain=="number")return this.ops[C-1]={retain:F.retain+B.retain},typeof B.attributes=="object"&&(this.ops[C-1].attributes=B.attributes),this}}return C===this.ops.length?this.ops.push(B):this.ops.splice(C,0,B),this},U.prototype.chop=function(){var B=this.ops[this.ops.length-1];return B&&B.retain&&!B.attributes&&this.ops.pop(),this},U.prototype.filter=function(B){return this.ops.filter(B)},U.prototype.forEach=function(B){this.ops.forEach(B)},U.prototype.map=function(B){return this.ops.map(B)},U.prototype.partition=function(B){var C=[],F=[];return this.forEach(function(z){(B(z)?C:F).push(z)}),[C,F]},U.prototype.reduce=function(B,C){return this.ops.reduce(B,C)},U.prototype.changeLength=function(){return this.reduce(function(B,C){return C.insert?B+R.default.length(C):C.delete?B-C.delete:B},0)},U.prototype.length=function(){return this.reduce(function(B,C){return B+R.default.length(C)},0)},U.prototype.slice=function(B,C){B===void 0&&(B=0),C===void 0&&(C=1/0);for(var F=[],z=R.default.iterator(this.ops),J=0;J<C&&z.hasNext();){var D=void 0;J<B?D=z.next(B-J):(D=z.next(C-J),F.push(D)),J+=R.default.length(D)}return new U(F)},U.prototype.compose=function(B){var C=R.default.iterator(this.ops),F=R.default.iterator(B.ops),z=[],J=F.peek();if(J!=null&&typeof J.retain=="number"&&J.attributes==null){for(var D=J.retain;C.peekType()==="insert"&&C.peekLength()<=D;)D-=C.peekLength(),z.push(C.next());J.retain-D>0&&F.next(J.retain-D)}for(var q=new U(z);C.hasNext()||F.hasNext();)if(F.peekType()==="insert")q.push(F.next());else if(C.peekType()==="delete")q.push(C.next());else{var W=Math.min(C.peekLength(),F.peekLength()),I=C.next(W),k=F.next(W);if(typeof k.retain=="number"){var j={};typeof I.retain=="number"?j.retain=W:j.insert=I.insert;var N=x.default.compose(I.attributes,k.attributes,typeof I.retain=="number");if(N&&(j.attributes=N),q.push(j),!F.hasNext()&&E.default(q.ops[q.ops.length-1],j)){var oe=new U(C.rest());return q.concat(oe).chop()}}else typeof k.delete=="number"&&typeof I.retain=="number"&&q.push(k)}return q.chop()},U.prototype.concat=function(B){var C=new U(this.ops.slice());return B.ops.length>0&&(C.push(B.ops[0]),C.ops=C.ops.concat(B.ops.slice(1))),C},U.prototype.diff=function(B,C){if(this.ops===B.ops)return new U;var F=[this,B].map(function(W){return W.map(function(I){if(I.insert!=null)return typeof I.insert=="string"?I.insert:O;throw new Error("diff() called "+(W===B?"on":"with")+" non-document")}).join("")}),z=new U,J=_.default(F[0],F[1],C),D=R.default.iterator(this.ops),q=R.default.iterator(B.ops);return J.forEach(function(W){for(var I=W[1].length;I>0;){var k=0;switch(W[0]){case _.default.INSERT:k=Math.min(q.peekLength(),I),z.push(q.next(k));break;case _.default.DELETE:k=Math.min(I,D.peekLength()),D.next(k),z.delete(k);break;case _.default.EQUAL:k=Math.min(D.peekLength(),q.peekLength(),I);var j=D.next(k),N=q.next(k);E.default(j.insert,N.insert)?z.retain(k,x.default.diff(j.attributes,N.attributes)):z.push(N).delete(k)}I-=k}}),z.chop()},U.prototype.eachLine=function(B,C){C===void 0&&(C=`
`);for(var F=R.default.iterator(this.ops),z=new U,J=0;F.hasNext();){if(F.peekType()!=="insert")return;var D=F.peek(),q=R.default.length(D)-F.peekLength(),W=typeof D.insert=="string"?D.insert.indexOf(C,q)-q:-1;if(W<0)z.push(F.next());else if(W>0)z.push(F.next(W));else{if(B(z,F.next(1).attributes||{},J)===!1)return;J+=1,z=new U}}z.length()>0&&B(z,{},J)},U.prototype.invert=function(B){var C=new U;return this.reduce(function(F,z){if(z.insert)C.delete(R.default.length(z));else{if(z.retain&&z.attributes==null)return C.retain(z.retain),F+z.retain;if(z.delete||z.retain&&z.attributes){var J=z.delete||z.retain;return B.slice(F,F+J).forEach(function(D){z.delete?C.push(D):z.retain&&z.attributes&&C.retain(R.default.length(D),x.default.invert(z.attributes,D.attributes))}),F+J}}return F},0),C.chop()},U.prototype.transform=function(B,C){if(C===void 0&&(C=!1),C=!!C,typeof B=="number")return this.transformPosition(B,C);for(var F=B,z=R.default.iterator(this.ops),J=R.default.iterator(F.ops),D=new U;z.hasNext()||J.hasNext();)if(z.peekType()!=="insert"||!C&&J.peekType()==="insert")if(J.peekType()==="insert")D.push(J.next());else{var q=Math.min(z.peekLength(),J.peekLength()),W=z.next(q),I=J.next(q);if(W.delete)continue;I.delete?D.push(I):D.retain(q,x.default.transform(W.attributes,I.attributes,C))}else D.retain(R.default.length(z.next()));return D.chop()},U.prototype.transformPosition=function(B,C){C===void 0&&(C=!1),C=!!C;for(var F=R.default.iterator(this.ops),z=0;F.hasNext()&&z<=B;){var J=F.peekLength(),D=F.peekType();F.next(),D!=="delete"?(D==="insert"&&(z<B||!C)&&(B+=J),z+=J):B-=Math.min(J,B-z)}return B},U.Op=R.default,U.AttributeMap=x.default,U}();u.exports=P},977:function(u,h,d){var g=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(h,"__esModule",{value:!0});var _=g(d(430)),w=function(){function E(x){this.ops=x,this.index=0,this.offset=0}return E.prototype.hasNext=function(){return this.peekLength()<1/0},E.prototype.next=function(x){x||(x=1/0);var R=this.ops[this.index];if(R){var O=this.offset,P=_.default.length(R);if(x>=P-O?(x=P-O,this.index+=1,this.offset=0):this.offset+=x,typeof R.delete=="number")return{delete:x};var U={};return R.attributes&&(U.attributes=R.attributes),typeof R.retain=="number"?U.retain=x:typeof R.insert=="string"?U.insert=R.insert.substr(O,x):U.insert=R.insert,U}return{retain:1/0}},E.prototype.peek=function(){return this.ops[this.index]},E.prototype.peekLength=function(){return this.ops[this.index]?_.default.length(this.ops[this.index])-this.offset:1/0},E.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},E.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var x=this.offset,R=this.index,O=this.next(),P=this.ops.slice(this.index);return this.offset=x,this.index=R,[O].concat(P)}return[]},E}();h.default=w},430:function(u,h,d){var g=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(h,"__esModule",{value:!0});var _,w=g(d(977));(function(E){E.iterator=function(x){return new w.default(x)},E.length=function(x){return typeof x.delete=="number"?x.delete:typeof x.retain=="number"?x.retain:typeof x.insert=="string"?x.insert.length:1}})(_||(_={})),h.default=_},165:function(u,h,d){var g,_;(_=typeof(g=function(){var w,E={};function x(P,U,B){var C=P.getClientRects();if(C.length===2){var F=P.getBoundingClientRect();return C[U][B]<F[B]}return!1}function R(P){if(!P||screen.deviceXDPI===screen.logicalXDPI)return P;if("length"in P)return Array.prototype.map.call(P,R);var U=screen.deviceXDPI/screen.logicalXDPI;return{top:P.top/U,bottom:P.bottom/U,left:P.left/U,right:P.right/U,width:P.width/U,height:P.height/U}}function O(P,U){var B,C=0,F=1024;if(F>=U.length)return Array.prototype.push.apply(P,U);for(;C<U.length;)B=Array.prototype.push.apply(P,Array.prototype.slice.call(U,C,C+F)),C+=F;return B}return E.isBroken=function(){if(w===void 0){var P=document.createElement("p"),U=document.createElement("span"),B=document.createTextNode("aa"),C=document.createTextNode("aa"),F=document.createElement("img");F.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=");var z=document.createRange();if(w={},P.appendChild(B),P.appendChild(U),U.appendChild(F),U.appendChild(C),document.body.appendChild(P),z.setStart(B,1),z.setEnd(U,0),w.getClientRects=w.getBoundingClientRect=z.getClientRects().length>1,w.getClientRects||(z.setEnd(C,1),w.getClientRects=w.getBoundingClientRect=z.getClientRects().length===2),!w.getBoundingClientRect){z.setEnd(z.startContainer,z.startOffset);var J=z.getBoundingClientRect();w.getBoundingClientRect=J.top===0&&J.left===0}if(document.body.removeChild(P),!w.getBoundingClientRect){var D=document.createElement("p");D.style.width="0px",D.style.fontSize="20px",D.style.whiteSpace="normal",D.style.wordBreak="normal";var q=document.createTextNode("m mm");D.appendChild(q),document.body.appendChild(D),z.setStart(q,1),z.setEnd(q,2),x(z,1,"left")?w.getBoundingClientRect=!0:(z.setStart(q,1),z.setEnd(q,3),x(z,0,"top")&&(w.getBoundingClientRect=!0)),document.body.removeChild(D)}var W=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")();w.ieZoom=!!W&&W<=10}return w},E.getClientRects=function(P){var U=this.isBroken();if(U.ieZoom)return R(P.getClientRects());if(!U.getClientRects)return P.getClientRects();var B=[],C=[],F=P.endContainer,z=P.endOffset,J=document.createRange();function D(q){for(var W=0;q=q.previousSibling;)W++;return W}for(;F!==P.commonAncestorContainer;)J.setStart(F,0),J.setEnd(F,z),O(C,J.getClientRects()),z=D(F),F=F.parentNode;return(J=P.cloneRange()).setEnd(F,z),O(B,J.getClientRects()),O(B,C),B},E.getBoundingClientRect=function(P){var U=this.getClientRects(P);if(U.length===0)return null;var B,C=P.getBoundingClientRect(),F=this.isBroken();if(F.ieZoom)return R(C);if(!F.getBoundingClientRect)return C;if(C.width===0&&C.height===0)return U[0];for(var z=0,J=U.length;z<J;z++){var D=U[z];B?(B.left=Math.min(B.left,D.left),B.top=Math.min(B.top,D.top),B.right=Math.max(B.right,D.right),B.bottom=Math.max(B.bottom,D.bottom)):B={left:D.left,top:D.top,right:D.right,bottom:D.bottom}}return B&&(B.width=B.right-B.left,B.height=B.bottom-B.top),B},E})=="function"?g.call(h,d,h,u):g)===void 0||(u.exports=_)},33:(u,h,d)=>{d.r(h),d.d(h,{default:()=>N});var g=function(){if(typeof Map<"u")return Map;function oe(le,re){var de=-1;return le.some(function(se,ne){return se[0]===re&&(de=ne,!0)}),de}return function(){function le(){this.__entries__=[]}return Object.defineProperty(le.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),le.prototype.get=function(re){var de=oe(this.__entries__,re),se=this.__entries__[de];return se&&se[1]},le.prototype.set=function(re,de){var se=oe(this.__entries__,re);~se?this.__entries__[se][1]=de:this.__entries__.push([re,de])},le.prototype.delete=function(re){var de=this.__entries__,se=oe(de,re);~se&&de.splice(se,1)},le.prototype.has=function(re){return!!~oe(this.__entries__,re)},le.prototype.clear=function(){this.__entries__.splice(0)},le.prototype.forEach=function(re,de){de===void 0&&(de=null);for(var se=0,ne=this.__entries__;se<ne.length;se++){var Y=ne[se];re.call(de,Y[1],Y[0])}},le}()}(),_=typeof window<"u"&&typeof document<"u"&&window.document===document,w=d.g!==void 0&&d.g.Math===Math?d.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),E=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(w):function(oe){return setTimeout(function(){return oe(Date.now())},1e3/60)},x=["top","right","bottom","left","width","height","size","weight"],R=typeof MutationObserver<"u",O=function(){function oe(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(le,re){var de=!1,se=!1,ne=0;function Y(){de&&(de=!1,le()),se&&ie()}function G(){E(Y)}function ie(){var he=Date.now();if(de){if(he-ne<2)return;se=!0}else de=!0,se=!1,setTimeout(G,20);ne=he}return ie}(this.refresh.bind(this))}return oe.prototype.addObserver=function(le){~this.observers_.indexOf(le)||this.observers_.push(le),this.connected_||this.connect_()},oe.prototype.removeObserver=function(le){var re=this.observers_,de=re.indexOf(le);~de&&re.splice(de,1),!re.length&&this.connected_&&this.disconnect_()},oe.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},oe.prototype.updateObservers_=function(){var le=this.observers_.filter(function(re){return re.gatherActive(),re.hasActive()});return le.forEach(function(re){return re.broadcastActive()}),le.length>0},oe.prototype.connect_=function(){_&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),R?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},oe.prototype.disconnect_=function(){_&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},oe.prototype.onTransitionEnd_=function(le){var re=le.propertyName,de=re===void 0?"":re;x.some(function(se){return!!~de.indexOf(se)})&&this.refresh()},oe.getInstance=function(){return this.instance_||(this.instance_=new oe),this.instance_},oe.instance_=null,oe}(),P=function(oe,le){for(var re=0,de=Object.keys(le);re<de.length;re++){var se=de[re];Object.defineProperty(oe,se,{value:le[se],enumerable:!1,writable:!1,configurable:!0})}return oe},U=function(oe){return oe&&oe.ownerDocument&&oe.ownerDocument.defaultView||w},B=D(0,0,0,0);function C(oe){return parseFloat(oe)||0}function F(oe){for(var le=[],re=1;re<arguments.length;re++)le[re-1]=arguments[re];return le.reduce(function(de,se){return de+C(oe["border-"+se+"-width"])},0)}var z=typeof SVGGraphicsElement<"u"?function(oe){return oe instanceof U(oe).SVGGraphicsElement}:function(oe){return oe instanceof U(oe).SVGElement&&typeof oe.getBBox=="function"};function J(oe){return _?z(oe)?function(le){var re=le.getBBox();return D(0,0,re.width,re.height)}(oe):function(le){var re=le.clientWidth,de=le.clientHeight;if(!re&&!de)return B;var se=U(le).getComputedStyle(le),ne=function(Pe){for(var je={},Ie=0,We=["top","right","bottom","left"];Ie<We.length;Ie++){var Ye=We[Ie],Je=Pe["padding-"+Ye];je[Ye]=C(Je)}return je}(se),Y=ne.left+ne.right,G=ne.top+ne.bottom,ie=C(se.width),he=C(se.height);if(se.boxSizing==="border-box"&&(Math.round(ie+Y)!==re&&(ie-=F(se,"left","right")+Y),Math.round(he+G)!==de&&(he-=F(se,"top","bottom")+G)),!function(Pe){return Pe===U(Pe).document.documentElement}(le)){var Ne=Math.round(ie+Y)-re,Ce=Math.round(he+G)-de;Math.abs(Ne)!==1&&(ie-=Ne),Math.abs(Ce)!==1&&(he-=Ce)}return D(ne.left,ne.top,ie,he)}(oe):B}function D(oe,le,re,de){return{x:oe,y:le,width:re,height:de}}var q=function(){function oe(le){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=D(0,0,0,0),this.target=le}return oe.prototype.isActive=function(){var le=J(this.target);return this.contentRect_=le,le.width!==this.broadcastWidth||le.height!==this.broadcastHeight},oe.prototype.broadcastRect=function(){var le=this.contentRect_;return this.broadcastWidth=le.width,this.broadcastHeight=le.height,le},oe}(),W=function(oe,le){var re,de,se,ne,Y,G,ie,he=(de=(re=le).x,se=re.y,ne=re.width,Y=re.height,G=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,ie=Object.create(G.prototype),P(ie,{x:de,y:se,width:ne,height:Y,top:se,right:de+ne,bottom:Y+se,left:de}),ie);P(this,{target:oe,contentRect:he})},I=function(){function oe(le,re,de){if(this.activeObservations_=[],this.observations_=new g,typeof le!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=le,this.controller_=re,this.callbackCtx_=de}return oe.prototype.observe=function(le){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(le instanceof U(le).Element))throw new TypeError('parameter 1 is not of type "Element".');var re=this.observations_;re.has(le)||(re.set(le,new q(le)),this.controller_.addObserver(this),this.controller_.refresh())}},oe.prototype.unobserve=function(le){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(le instanceof U(le).Element))throw new TypeError('parameter 1 is not of type "Element".');var re=this.observations_;re.has(le)&&(re.delete(le),re.size||this.controller_.removeObserver(this))}},oe.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},oe.prototype.gatherActive=function(){var le=this;this.clearActive(),this.observations_.forEach(function(re){re.isActive()&&le.activeObservations_.push(re)})},oe.prototype.broadcastActive=function(){if(this.hasActive()){var le=this.callbackCtx_,re=this.activeObservations_.map(function(de){return new W(de.target,de.broadcastRect())});this.callback_.call(le,re,le),this.clearActive()}},oe.prototype.clearActive=function(){this.activeObservations_.splice(0)},oe.prototype.hasActive=function(){return this.activeObservations_.length>0},oe}(),k=typeof WeakMap<"u"?new WeakMap:new g,j=function oe(le){if(!(this instanceof oe))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var re=O.getInstance(),de=new I(le,re,this);k.set(this,de)};["observe","unobserve","disconnect"].forEach(function(oe){j.prototype[oe]=function(){var le;return(le=k.get(this))[oe].apply(le,arguments)}});const N=w.ResizeObserver!==void 0?w.ResizeObserver:j},413:(u,h,d)=>{d.r(h),d.d(h,{default:()=>D});var g=d(379),_=d.n(g),w=d(795),E=d.n(w),x=d(569),R=d.n(x),O=d(565),P=d.n(O),U=d(216),B=d.n(U),C=d(589),F=d.n(C),z=d(582),J={};J.styleTagTransform=F(),J.setAttributes=P(),J.insert=R().bind(null,"head"),J.domAPI=E(),J.insertStyleElement=B(),_()(z.Z,J);const D=z.Z&&z.Z.locals?z.Z.locals:void 0},379:u=>{var h=[];function d(w){for(var E=-1,x=0;x<h.length;x++)if(h[x].identifier===w){E=x;break}return E}function g(w,E){for(var x={},R=[],O=0;O<w.length;O++){var P=w[O],U=E.base?P[0]+E.base:P[0],B=x[U]||0,C="".concat(U," ").concat(B);x[U]=B+1;var F=d(C),z={css:P[1],media:P[2],sourceMap:P[3],supports:P[4],layer:P[5]};if(F!==-1)h[F].references++,h[F].updater(z);else{var J=_(z,E);E.byIndex=O,h.splice(O,0,{identifier:C,updater:J,references:1})}R.push(C)}return R}function _(w,E){var x=E.domAPI(E);return x.update(w),function(R){if(R){if(R.css===w.css&&R.media===w.media&&R.sourceMap===w.sourceMap&&R.supports===w.supports&&R.layer===w.layer)return;x.update(w=R)}else x.remove()}}u.exports=function(w,E){var x=g(w=w||[],E=E||{});return function(R){R=R||[];for(var O=0;O<x.length;O++){var P=d(x[O]);h[P].references--}for(var U=g(R,E),B=0;B<x.length;B++){var C=d(x[B]);h[C].references===0&&(h[C].updater(),h.splice(C,1))}x=U}}},569:u=>{var h={};u.exports=function(d,g){var _=function(w){if(h[w]===void 0){var E=document.querySelector(w);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}h[w]=E}return h[w]}(d);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");_.appendChild(g)}},216:u=>{u.exports=function(h){var d=document.createElement("style");return h.setAttributes(d,h.attributes),h.insert(d,h.options),d}},565:(u,h,d)=>{u.exports=function(g){var _=d.nc;_&&g.setAttribute("nonce",_)}},795:u=>{u.exports=function(h){var d=h.insertStyleElement(h);return{update:function(g){(function(_,w,E){var x="";E.supports&&(x+="@supports (".concat(E.supports,") {")),E.media&&(x+="@media ".concat(E.media," {"));var R=E.layer!==void 0;R&&(x+="@layer".concat(E.layer.length>0?" ".concat(E.layer):""," {")),x+=E.css,R&&(x+="}"),E.media&&(x+="}"),E.supports&&(x+="}");var O=E.sourceMap;O&&typeof btoa<"u"&&(x+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),w.styleTagTransform(x,_,w.options)})(d,h,g)},remove:function(){(function(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g)})(d)}}}},589:u=>{u.exports=function(h,d){if(d.styleSheet)d.styleSheet.cssText=h;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(h))}}},607:function(u,h,d){var g=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(h,"__esModule",{value:!0}),h.Cursor=h.default=void 0;var _=g(d(678));h.default=_.default;var w=g(d(353));h.Cursor=w.default,d(413)},353:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0});var d=function(){function g(_,w,E){this.id=_,this.name=w,this.color=E,this.toggleNearCursor=this.toggleNearCursor.bind(this),this._toggleOpenedCursor=this._toggleOpenedCursor.bind(this),this._setHoverState=this._setHoverState.bind(this)}return g.prototype.build=function(_){var w=document.createElement(g.CONTAINER_ELEMENT_TAG);w.classList.add(g.CURSOR_CLASS),w.id="ql-cursor-".concat(this.id),w.innerHTML=_.template;var E=w.getElementsByClassName(g.SELECTION_CLASS)[0],x=w.getElementsByClassName(g.CARET_CONTAINER_CLASS)[0],R=x.getElementsByClassName(g.CARET_CLASS)[0],O=w.getElementsByClassName(g.FLAG_CLASS)[0];return O.style.backgroundColor=this.color,R.style.backgroundColor=this.color,w.getElementsByClassName(g.NAME_CLASS)[0].textContent=this.name,this._hideDelay="".concat(_.hideDelayMs,"ms"),this._hideSpeedMs=_.hideSpeedMs,this._positionFlag=_.positionFlag,O.style.transitionDelay=this._hideDelay,O.style.transitionDuration="".concat(this._hideSpeedMs,"ms"),this._el=w,this._selectionEl=E,this._caretEl=x,this._flagEl=O,x.addEventListener("mouseover",this._setHoverState,{passive:!0}),this._el},g.prototype.show=function(){this._el.classList.remove(g.HIDDEN_CLASS)},g.prototype.hide=function(){this._el.classList.add(g.HIDDEN_CLASS)},g.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},g.prototype.toggleNearCursor=function(_,w){var E=this._getCoordinates(),x=E.left,R=E.right,O=E.top,P=E.bottom,U=_>=x&&_<=R&&w>=O&&w<=P;return this._caretEl.classList.toggle(g.CONTAINER_HOVER_CLASS,U),U},g.prototype.toggleFlag=function(_){var w=this;this._caretEl.classList.toggle(g.CONTAINER_HOVER_CLASS,_)||(this._flagEl.classList.add(g.NO_DELAY_CLASS),setTimeout(function(){return w._flagEl.classList.remove(g.NO_DELAY_CLASS)},this._hideSpeedMs))},g.prototype.updateCaret=function(_,w){this._caretEl.style.top="".concat(_.top,"px"),this._caretEl.style.left="".concat(_.left,"px"),this._caretEl.style.height="".concat(_.height,"px"),this._positionFlag?this._positionFlag(this._flagEl,_,w):this._updateCaretFlag(_,w)},g.prototype.updateSelection=function(_,w){var E=this;this._clearSelection(),_=_||[],_=Array.from(_),_=this._sanitize(_),(_=this._sortByDomPosition(_)).forEach(function(x){return E._addSelection(x,w)})},g.prototype._setHoverState=function(){document.addEventListener("mousemove",this._toggleOpenedCursor,{passive:!0})},g.prototype._toggleOpenedCursor=function(_){var w=this.toggleNearCursor(_.clientX,_.clientY);this._caretEl.classList.toggle(g.CONTAINER_NO_POINTER_CLASS,w),w||document.removeEventListener("mousemove",this._toggleOpenedCursor)},g.prototype._getCoordinates=function(){return this._caretEl.getBoundingClientRect()},g.prototype._updateCaretFlag=function(_,w){this._flagEl.style.width="";var E=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(g.FLAG_FLIPPED_CLASS),_.left>w.width-E.width&&this._flagEl.classList.add(g.FLAG_FLIPPED_CLASS),this._flagEl.style.left="".concat(_.left,"px"),this._flagEl.style.top="".concat(_.top,"px"),this._flagEl.style.width="".concat(Math.ceil(E.width),"px")},g.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},g.prototype._addSelection=function(_,w){var E=this._selectionBlock(_,w);this._selectionEl.appendChild(E)},g.prototype._selectionBlock=function(_,w){var E=document.createElement(g.SELECTION_ELEMENT_TAG);return E.classList.add(g.SELECTION_BLOCK_CLASS),E.style.top="".concat(_.top-w.top,"px"),E.style.left="".concat(_.left-w.left,"px"),E.style.width="".concat(_.width,"px"),E.style.height="".concat(_.height,"px"),E.style.backgroundColor=this.color,E.style.opacity="0.3",E},g.prototype._sortByDomPosition=function(_){return _.sort(function(w,E){return w.top===E.top?w.left-E.left:w.top-E.top})},g.prototype._sanitize=function(_){var w=this,E=new Set;return _.filter(function(x){if(!x.width||!x.height)return!1;var R=w._serialize(x);return!E.has(R)&&(E.add(R),!0)})},g.prototype._serialize=function(_){return["top:".concat(_.top),"right:".concat(_.right),"bottom:".concat(_.bottom),"left:".concat(_.left)].join(";")},g.CONTAINER_ELEMENT_TAG="SPAN",g.SELECTION_ELEMENT_TAG="SPAN",g.CURSOR_CLASS="ql-cursor",g.SELECTION_CLASS="ql-cursor-selections",g.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",g.CARET_CLASS="ql-cursor-caret",g.CARET_CONTAINER_CLASS="ql-cursor-caret-container",g.CONTAINER_HOVER_CLASS="hover",g.CONTAINER_NO_POINTER_CLASS="no-pointer",g.FLAG_CLASS="ql-cursor-flag",g.FLAG_FLIPPED_CLASS="flag-flipped",g.NAME_CLASS="ql-cursor-name",g.HIDDEN_CLASS="hidden",g.NO_DELAY_CLASS="no-delay",g}();h.default=d},678:function(u,h,d){var g=this&&this.__createBinding||(Object.create?function(C,F,z,J){J===void 0&&(J=z);var D=Object.getOwnPropertyDescriptor(F,z);D&&!("get"in D?!F.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return F[z]}}),Object.defineProperty(C,J,D)}:function(C,F,z,J){J===void 0&&(J=z),C[J]=F[z]}),_=this&&this.__setModuleDefault||(Object.create?function(C,F){Object.defineProperty(C,"default",{enumerable:!0,value:F})}:function(C,F){C.default=F}),w=this&&this.__importStar||function(C){if(C&&C.__esModule)return C;var F={};if(C!=null)for(var z in C)z!=="default"&&Object.prototype.hasOwnProperty.call(C,z)&&g(F,C,z);return _(F,C),F},E=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(h,"__esModule",{value:!0});var x=E(d(353)),R=w(d(165)),O=E(d(338)),P=E(d(33)),U=d(895),B=function(){function C(F,z){z===void 0&&(z={}),this._cursors={},this._isObserving=!1,this._handleCursorTouch=this._handleCursorTouch.bind(this),this.quill=F,this.options=this._setDefaults(z),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return C.prototype.createCursor=function(F,z,J){var D=this._cursors[F];if(!D){D=new x.default(F,z,J),this._cursors[F]=D;var q=D.build(this.options);this._container.appendChild(q)}return D},C.prototype.moveCursor=function(F,z){var J=this._cursors[F];J&&(J.range=z,this._updateCursor(J))},C.prototype.removeCursor=function(F){var z=this._cursors[F];z&&(z.remove(),delete this._cursors[F])},C.prototype.update=function(){var F=this;this.cursors().forEach(function(z){return F._updateCursor(z)})},C.prototype.clearCursors=function(){var F=this;this.cursors().forEach(function(z){return F.removeCursor(z.id)})},C.prototype.toggleFlag=function(F,z){var J=this._cursors[F];J&&J.toggleFlag(z)},C.prototype.cursors=function(){var F=this;return Object.keys(this._cursors).map(function(z){return F._cursors[z]})},C.prototype._registerSelectionChangeListeners=function(){var F=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(z){F._currentSelection=z})},C.prototype._registerTextChangeListener=function(){var F=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(z){return F._handleTextChange(z)})},C.prototype._registerDomListeners=function(){var F=this,z=this.quill.container.getElementsByClassName("ql-editor")[0];z.addEventListener("scroll",function(){return F.update()},{passive:!0}),z.addEventListener("touchstart",this._handleCursorTouch,{passive:!0})},C.prototype._handleCursorTouch=function(F){var z=this;this.cursors().forEach(function(J){J.toggleNearCursor(F.pageX,F.pageY),setTimeout(function(){return J.toggleFlag(!1)},z.options.hideDelayMs)})},C.prototype._registerResizeObserver=function(){var F=this;if(!this._isObserving){var z=this.quill.container.getElementsByClassName("ql-editor")[0],J=new P.default(function(D){if(!D[0].target.isConnected)return J.disconnect(),void(F._isObserving=!1);F.update()});J.observe(z),this._isObserving=!0}},C.prototype._updateCursor=function(F){if(this._registerResizeObserver(),!F.range)return F.hide();var z=this._indexWithinQuillBounds(F.range.index),J=this._indexWithinQuillBounds(F.range.index+F.range.length),D=this.quill.getLeaf(z),q=this.quill.getLeaf(J);if(!this._leafIsValid(D)||!this._leafIsValid(q))return F.hide();F.show();var W=this._boundsContainer.getBoundingClientRect(),I=this.quill.getBounds(J);F.updateCaret(I,W);var k=this._lineRanges(F,D,q).reduce(function(j,N){return j.concat(Array.from(R.getClientRects(N)))},[]);F.updateSelection(k,W)},C.prototype._indexWithinQuillBounds=function(F){var z=this.quill.getLength(),J=z?z-1:0;return F=Math.max(F,0),Math.min(F,J)},C.prototype._leafIsValid=function(F){return F&&F[0]&&F[0].domNode&&F[1]>=0},C.prototype._handleTextChange=function(F){var z=this;window.setTimeout(function(){z.options.transformOnTextChange&&z._transformCursors(F),z.options.selectionChangeSource&&(z._emitSelection(),z.update())})},C.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},C.prototype._setDefaults=function(F){return(F=Object.assign({},F)).template||(F.template=C.DEFAULTS.template),F.containerClass||(F.containerClass=C.DEFAULTS.containerClass),F.selectionChangeSource!==null&&(F.selectionChangeSource||(F.selectionChangeSource=C.DEFAULTS.selectionChangeSource)),F.hideDelayMs=Number.isInteger(F.hideDelayMs)?F.hideDelayMs:C.DEFAULTS.hideDelayMs,F.hideSpeedMs=Number.isInteger(F.hideSpeedMs)?F.hideSpeedMs:C.DEFAULTS.hideSpeedMs,F.transformOnTextChange=!!F.transformOnTextChange,F},C.prototype._lineRanges=function(F,z,J){var D=this.quill.getLines(F.range);return D.reduce(function(q,W,I){if(!W.children){var k=document.createRange();return k.selectNode(W.domNode),q.concat(k)}var j=I===0?z:W.path(0).pop(),N=j[0],oe=j[1],le=I===D.length-1?J:W.path(W.length()-1).pop(),re=le[0],de=le[1],se=document.createRange();return N.domNode.nodeType===Node.TEXT_NODE?se.setStart(N.domNode,oe):se.setStartBefore(N.domNode),re.domNode.nodeType===Node.TEXT_NODE?se.setEnd(re.domNode,de):se.setEndAfter(re.domNode),q.concat(se)},[])},C.prototype._transformCursors=function(F){var z=this;F=new U(F),this.cursors().filter(function(J){return J.range}).forEach(function(J){J.range.index=F.transformPosition(J.range.index),z._updateCursor(J)})},C.DEFAULTS={template:O.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},C}();h.default=B},338:function(u,h,d){var g=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(h,"__esModule",{value:!0});var _=g(d(353)),w=`
  <span class="`.concat(_.default.SELECTION_CLASS,`"></span>
  <span class="`).concat(_.default.CARET_CONTAINER_CLASS,`">
    <span class="`).concat(_.default.CARET_CLASS,`"></span>
  </span>
  <div class="`).concat(_.default.FLAG_CLASS,`">
    <small class="`).concat(_.default.NAME_CLASS,`"></small>
  </div>
`);h.default=w}},r={};function i(u){var h=r[u];if(h!==void 0)return h.exports;var d=r[u]={id:u,loaded:!1,exports:{}};return t[u].call(d.exports,d,d.exports,i),d.loaded=!0,d.exports}i.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return i.d(h,{a:h}),h},i.d=(u,h)=>{for(var d in h)i.o(h,d)&&!i.o(u,d)&&Object.defineProperty(u,d,{enumerable:!0,get:h[d]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),i.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},i.nmd=u=>(u.paths=[],u.children||(u.children=[]),u),i.nc=void 0;var o=i(607);return o.default})())}(Q1)),Q1.exports}var b7=T7();const S7=F0(b7);Oe.register("modules/cursors",S7);function A7({readOnly:n,defaultValue:e,placeholder:t,onTextChange:r,onSelectionChange:i},o){const u=Qe.useRef(null),h=Qe.useRef(e??[]),d=Qe.useRef(r),g=Qe.useRef(i);Qe.useLayoutEffect(()=>{d.current=r,g.current=i});function _(E){typeof o=="function"?o(E):o!==null&&(o.current=E)}function w(){return typeof o=="function"?null:o?o.current:null}return Qe.useEffect(()=>{var E;(E=w())==null||E.enable(!n)},[o,n]),Qe.useEffect(()=>{const E=u.current;if(!E)return;const x=E.appendChild(E.ownerDocument.createElement("div")),R=new Oe(x,{theme:"snow",placeholder:t,modules:{cursors:!0,toolbar:!1}});_(R);const O=new gR(R);return h.current&&R.setContents(h.current),R.on(Oe.events.TEXT_CHANGE,(...P)=>{var U;(U=d.current)==null||U.call(d,...P)}),R.on(Oe.events.SELECTION_CHANGE,(...P)=>{var U;(U=g.current)==null||U.call(g,...P)}),()=>{_(null),O.destroy(),E.innerHTML=""}},[o]),X.jsx("div",{className:"ql-wrapper",ref:u})}const mR=Qe.forwardRef(A7);mR.displayName="QuillEditor";function C7({note:n,setShareShown:e,toggleSidebarCollapsed:t}){const[r,i]=Qe.useState(null),o=Qe.useCallback(h=>{i(h)},[]);function u(){if(!r)return;console.log("Focusing first line");const h=r.getLines(0,1);r.setSelection(Math.max(0,h[0].length()-1),"silent"),console.log(h[0]),r.focus()}return Qe.useEffect(()=>{if(r)return n.quill=r,n.createSession(),n.addListener(h=>{h==="realtime-start"&&u()}),()=>n.destroySession()},[r,n.documentRef]),X.jsxs("main",{children:[X.jsx(n7,{note:n,quill:r,setShareShown:e,toggleSidebarCollapsed:t}),X.jsx(mR,{placeholder:"Write something new...",defaultValue:n.import(),ref:o},n.id)]})}function x7({api:n}){const[e,t]=Qe.useState(null),[r,i]=Qe.useState(null),[o,u]=Qe.useState(null),[h,d]=Qe.useState(!1),[g,_]=Qe.useState(!1);return Qe.useEffect(()=>{r!==null&&e&&e.id!==r?(t(null),n.getNote(r).then(t).catch(console.error)):r===null&&e===null?t(new $v(null,n)):r===null&&e&&e.id!==null&&t(new $v(null,n))},[r]),X.jsxs("div",{className:"note-editor",children:[X.jsx(J8,{note:e,setStudyMode:u,setId:i,api:n,collapsed:h}),e!==null&&o&&X.jsx(Z8,{note:e,mode:o,setStudyMode:u}),e!==null&&g&&X.jsx(e7,{note:e,setShareShown:_}),e===null&&X.jsxs("main",{children:[X.jsx("div",{className:"toolbar"}),X.jsx("p",{style:{marginLeft:16},children:"Loading..."})]}),e!==null&&X.jsx(C7,{note:e,setShareShown:_,toggleSidebarCollapsed:()=>d(!h)})]})}function yR(n,e){return function(){return n.apply(e,arguments)}}const{toString:I7}=Object.prototype,{getPrototypeOf:AE}=Object,v_=(n=>e=>{const t=I7.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ha=n=>(n=n.toLowerCase(),e=>v_(e)===n),w_=n=>e=>typeof e===n,{isArray:Qd}=Array,Hg=w_("undefined");function R7(n){return n!==null&&!Hg(n)&&n.constructor!==null&&!Hg(n.constructor)&&Fo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const _R=Ha("ArrayBuffer");function k7(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&_R(n.buffer),e}const N7=w_("string"),Fo=w_("function"),vR=w_("number"),E_=n=>n!==null&&typeof n=="object",O7=n=>n===!0||n===!1,t0=n=>{if(v_(n)!=="object")return!1;const e=AE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},P7=Ha("Date"),L7=Ha("File"),D7=Ha("Blob"),M7=Ha("FileList"),F7=n=>E_(n)&&Fo(n.pipe),U7=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Fo(n.append)&&((e=v_(n))==="formdata"||e==="object"&&Fo(n.toString)&&n.toString()==="[object FormData]"))},B7=Ha("URLSearchParams"),[V7,q7,j7,$7]=["ReadableStream","Request","Response","Headers"].map(Ha),z7=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function um(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Qd(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function wR(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const gh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ER=n=>!Hg(n)&&n!==gh;function Zv(){const{caseless:n}=ER(this)&&this||{},e={},t=(r,i)=>{const o=n&&wR(e,i)||i;t0(e[o])&&t0(r)?e[o]=Zv(e[o],r):t0(r)?e[o]=Zv({},r):Qd(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&um(arguments[r],t);return e}const H7=(n,e,t,{allOwnKeys:r}={})=>(um(e,(i,o)=>{t&&Fo(i)?n[o]=yR(i,t):n[o]=i},{allOwnKeys:r}),n),W7=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),G7=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},K7=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&AE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Q7=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},J7=n=>{if(!n)return null;if(Qd(n))return n;let e=n.length;if(!vR(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},X7=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&AE(Uint8Array)),Y7=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},Z7=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},e$=Ha("HTMLFormElement"),t$=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),nA=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),n$=Ha("RegExp"),TR=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};um(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},r$=n=>{TR(n,(e,t)=>{if(Fo(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Fo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},i$=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Qd(n)?r(n):r(String(n).split(e)),t},s$=()=>{},o$=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,J1="abcdefghijklmnopqrstuvwxyz",rA="0123456789",bR={DIGIT:rA,ALPHA:J1,ALPHA_DIGIT:J1+J1.toUpperCase()+rA},a$=(n=16,e=bR.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function l$(n){return!!(n&&Fo(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const u$=n=>{const e=new Array(10),t=(r,i)=>{if(E_(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Qd(r)?[]:{};return um(r,(u,h)=>{const d=t(u,i+1);!Hg(d)&&(o[h]=d)}),e[i]=void 0,o}}return r};return t(n,0)},c$=Ha("AsyncFunction"),h$=n=>n&&(E_(n)||Fo(n))&&Fo(n.then)&&Fo(n.catch),SR=((n,e)=>n?setImmediate:e?((t,r)=>(gh.addEventListener("message",({source:i,data:o})=>{i===gh&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),gh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Fo(gh.postMessage)),f$=typeof queueMicrotask<"u"?queueMicrotask.bind(gh):typeof process<"u"&&process.nextTick||SR,Ae={isArray:Qd,isArrayBuffer:_R,isBuffer:R7,isFormData:U7,isArrayBufferView:k7,isString:N7,isNumber:vR,isBoolean:O7,isObject:E_,isPlainObject:t0,isReadableStream:V7,isRequest:q7,isResponse:j7,isHeaders:$7,isUndefined:Hg,isDate:P7,isFile:L7,isBlob:D7,isRegExp:n$,isFunction:Fo,isStream:F7,isURLSearchParams:B7,isTypedArray:X7,isFileList:M7,forEach:um,merge:Zv,extend:H7,trim:z7,stripBOM:W7,inherits:G7,toFlatObject:K7,kindOf:v_,kindOfTest:Ha,endsWith:Q7,toArray:J7,forEachEntry:Y7,matchAll:Z7,isHTMLForm:e$,hasOwnProperty:nA,hasOwnProp:nA,reduceDescriptors:TR,freezeMethods:r$,toObjectSet:i$,toCamelCase:t$,noop:s$,toFiniteNumber:o$,findKey:wR,global:gh,isContextDefined:ER,ALPHABET:bR,generateString:a$,isSpecCompliantForm:l$,toJSONObject:u$,isAsyncFn:c$,isThenable:h$,setImmediate:SR,asap:f$};function rn(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ae.inherits(rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const AR=rn.prototype,CR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{CR[n]={value:n}});Object.defineProperties(rn,CR);Object.defineProperty(AR,"isAxiosError",{value:!0});rn.from=(n,e,t,r,i,o)=>{const u=Object.create(AR);return Ae.toFlatObject(n,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),rn.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const d$=null;function ew(n){return Ae.isPlainObject(n)||Ae.isArray(n)}function xR(n){return Ae.endsWith(n,"[]")?n.slice(0,-2):n}function iA(n,e,t){return n?n.concat(e).map(function(i,o){return i=xR(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function p$(n){return Ae.isArray(n)&&!n.some(ew)}const g$=Ae.toFlatObject(Ae,{},null,function(e){return/^is[A-Z]/.test(e)});function T_(n,e,t){if(!Ae.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ae.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,P){return!Ae.isUndefined(P[O])});const r=t.metaTokens,i=t.visitor||_,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(e);if(!Ae.isFunction(i))throw new TypeError("visitor must be a function");function g(R){if(R===null)return"";if(Ae.isDate(R))return R.toISOString();if(!d&&Ae.isBlob(R))throw new rn("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(R)||Ae.isTypedArray(R)?d&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function _(R,O,P){let U=R;if(R&&!P&&typeof R=="object"){if(Ae.endsWith(O,"{}"))O=r?O:O.slice(0,-2),R=JSON.stringify(R);else if(Ae.isArray(R)&&p$(R)||(Ae.isFileList(R)||Ae.endsWith(O,"[]"))&&(U=Ae.toArray(R)))return O=xR(O),U.forEach(function(C,F){!(Ae.isUndefined(C)||C===null)&&e.append(u===!0?iA([O],F,o):u===null?O:O+"[]",g(C))}),!1}return ew(R)?!0:(e.append(iA(P,O,o),g(R)),!1)}const w=[],E=Object.assign(g$,{defaultVisitor:_,convertValue:g,isVisitable:ew});function x(R,O){if(!Ae.isUndefined(R)){if(w.indexOf(R)!==-1)throw Error("Circular reference detected in "+O.join("."));w.push(R),Ae.forEach(R,function(U,B){(!(Ae.isUndefined(U)||U===null)&&i.call(e,U,Ae.isString(B)?B.trim():B,O,E))===!0&&x(U,O?O.concat(B):[B])}),w.pop()}}if(!Ae.isObject(n))throw new TypeError("data must be an object");return x(n),e}function sA(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function CE(n,e){this._pairs=[],n&&T_(n,this,e)}const IR=CE.prototype;IR.append=function(e,t){this._pairs.push([e,t])};IR.toString=function(e){const t=e?function(r){return e.call(this,r,sA)}:sA;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function m$(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RR(n,e,t){if(!e)return n;const r=t&&t.encode||m$;Ae.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=Ae.isURLSearchParams(e)?e.toString():new CE(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class oA{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ae.forEach(this.handlers,function(r){r!==null&&e(r)})}}const kR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y$=typeof URLSearchParams<"u"?URLSearchParams:CE,_$=typeof FormData<"u"?FormData:null,v$=typeof Blob<"u"?Blob:null,w$={isBrowser:!0,classes:{URLSearchParams:y$,FormData:_$,Blob:v$},protocols:["http","https","file","blob","url","data"]},xE=typeof window<"u"&&typeof document<"u",tw=typeof navigator=="object"&&navigator||void 0,E$=xE&&(!tw||["ReactNative","NativeScript","NS"].indexOf(tw.product)<0),T$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",b$=xE&&window.location.href||"http://localhost",S$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xE,hasStandardBrowserEnv:E$,hasStandardBrowserWebWorkerEnv:T$,navigator:tw,origin:b$},Symbol.toStringTag,{value:"Module"})),Ls={...S$,...w$};function A$(n,e){return T_(n,new Ls.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Ls.isNode&&Ae.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function C$(n){return Ae.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function x$(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function NR(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&Ae.isArray(i)?i.length:u,d?(Ae.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!Ae.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&Ae.isArray(i[u])&&(i[u]=x$(i[u])),!h)}if(Ae.isFormData(n)&&Ae.isFunction(n.entries)){const t={};return Ae.forEachEntry(n,(r,i)=>{e(C$(r),i,t,0)}),t}return null}function I$(n,e,t){if(Ae.isString(n))try{return(e||JSON.parse)(n),Ae.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const cm={transitional:kR,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ae.isObject(e);if(o&&Ae.isHTMLForm(e)&&(e=new FormData(e)),Ae.isFormData(e))return i?JSON.stringify(NR(e)):e;if(Ae.isArrayBuffer(e)||Ae.isBuffer(e)||Ae.isStream(e)||Ae.isFile(e)||Ae.isBlob(e)||Ae.isReadableStream(e))return e;if(Ae.isArrayBufferView(e))return e.buffer;if(Ae.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return A$(e,this.formSerializer).toString();if((h=Ae.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return T_(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),I$(e)):e}],transformResponse:[function(e){const t=this.transitional||cm.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Ae.isResponse(e)||Ae.isReadableStream(e))return e;if(e&&Ae.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?rn.from(h,rn.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ls.classes.FormData,Blob:Ls.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],n=>{cm.headers[n]={}});const R$=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k$=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&R$[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},aA=Symbol("internals");function sg(n){return n&&String(n).trim().toLowerCase()}function n0(n){return n===!1||n==null?n:Ae.isArray(n)?n.map(n0):String(n)}function N$(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const O$=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function X1(n,e,t,r,i){if(Ae.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Ae.isString(e)){if(Ae.isString(r))return e.indexOf(r)!==-1;if(Ae.isRegExp(r))return r.test(e)}}function P$(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function L$(n,e){const t=Ae.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}class go{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,d,g){const _=sg(d);if(!_)throw new Error("header name must be a non-empty string");const w=Ae.findKey(i,_);(!w||i[w]===void 0||g===!0||g===void 0&&i[w]!==!1)&&(i[w||d]=n0(h))}const u=(h,d)=>Ae.forEach(h,(g,_)=>o(g,_,d));if(Ae.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(Ae.isString(e)&&(e=e.trim())&&!O$(e))u(k$(e),t);else if(Ae.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=sg(e),e){const r=Ae.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return N$(i);if(Ae.isFunction(t))return t.call(this,i,r);if(Ae.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=sg(e),e){const r=Ae.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||X1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=sg(u),u){const h=Ae.findKey(r,u);h&&(!t||X1(r,r[h],h,t))&&(delete r[h],i=!0)}}return Ae.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||X1(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return Ae.forEach(this,(i,o)=>{const u=Ae.findKey(r,o);if(u){t[u]=n0(i),delete t[o];return}const h=e?P$(o):String(o).trim();h!==o&&delete t[o],t[h]=n0(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ae.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Ae.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[aA]=this[aA]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=sg(u);r[h]||(L$(i,u),r[h]=!0)}return Ae.isArray(e)?e.forEach(o):o(e),this}}go.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.reduceDescriptors(go.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Ae.freezeMethods(go);function Y1(n,e){const t=this||cm,r=e||t,i=go.from(r.headers);let o=r.data;return Ae.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function OR(n){return!!(n&&n.__CANCEL__)}function Jd(n,e,t){rn.call(this,n??"canceled",rn.ERR_CANCELED,e,t),this.name="CanceledError"}Ae.inherits(Jd,rn,{__CANCEL__:!0});function PR(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new rn("Request failed with status code "+t.status,[rn.ERR_BAD_REQUEST,rn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function D$(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function M$(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const g=Date.now(),_=r[o];u||(u=g),t[i]=d,r[i]=g;let w=o,E=0;for(;w!==i;)E+=t[w++],w=w%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),g-u<e)return;const x=_&&g-_;return x?Math.round(E*1e3/x):void 0}}function F$(n,e){let t=0,r=1e3/e,i,o;const u=(g,_=Date.now())=>{t=_,i=null,o&&(clearTimeout(o),o=null),n.apply(null,g)};return[(...g)=>{const _=Date.now(),w=_-t;w>=r?u(g,_):(i=g,o||(o=setTimeout(()=>{o=null,u(i)},r-w)))},()=>i&&u(i)]}const k0=(n,e,t=3)=>{let r=0;const i=M$(50,250);return F$(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,g=i(d),_=u<=h;r=u;const w={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:g||void 0,estimated:g&&h&&_?(h-u)/g:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(w)},t)},lA=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},uA=n=>(...e)=>Ae.asap(()=>n(...e)),U$=Ls.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ls.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ls.origin),Ls.navigator&&/(msie|trident)/i.test(Ls.navigator.userAgent)):()=>!0,B$=Ls.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];Ae.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),Ae.isString(r)&&u.push("path="+r),Ae.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function V$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function q$(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function LR(n,e){return n&&!V$(e)?q$(n,e):e}const cA=n=>n instanceof go?{...n}:n;function Ih(n,e){e=e||{};const t={};function r(g,_,w,E){return Ae.isPlainObject(g)&&Ae.isPlainObject(_)?Ae.merge.call({caseless:E},g,_):Ae.isPlainObject(_)?Ae.merge({},_):Ae.isArray(_)?_.slice():_}function i(g,_,w,E){if(Ae.isUndefined(_)){if(!Ae.isUndefined(g))return r(void 0,g,w,E)}else return r(g,_,w,E)}function o(g,_){if(!Ae.isUndefined(_))return r(void 0,_)}function u(g,_){if(Ae.isUndefined(_)){if(!Ae.isUndefined(g))return r(void 0,g)}else return r(void 0,_)}function h(g,_,w){if(w in e)return r(g,_);if(w in n)return r(void 0,g)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(g,_,w)=>i(cA(g),cA(_),w,!0)};return Ae.forEach(Object.keys(Object.assign({},n,e)),function(_){const w=d[_]||i,E=w(n[_],e[_],_);Ae.isUndefined(E)&&w!==h||(t[_]=E)}),t}const DR=n=>{const e=Ih({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=go.from(u),e.url=RR(LR(e.baseURL,e.url),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(Ae.isFormData(t)){if(Ls.hasStandardBrowserEnv||Ls.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[g,..._]=d?d.split(";").map(w=>w.trim()).filter(Boolean):[];u.setContentType([g||"multipart/form-data",..._].join("; "))}}if(Ls.hasStandardBrowserEnv&&(r&&Ae.isFunction(r)&&(r=r(e)),r||r!==!1&&U$(e.url))){const g=i&&o&&B$.read(o);g&&u.set(i,g)}return e},j$=typeof XMLHttpRequest<"u",$$=j$&&function(n){return new Promise(function(t,r){const i=DR(n);let o=i.data;const u=go.from(i.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:g}=i,_,w,E,x,R;function O(){x&&x(),R&&R(),i.cancelToken&&i.cancelToken.unsubscribe(_),i.signal&&i.signal.removeEventListener("abort",_)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function U(){if(!P)return;const C=go.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),z={data:!h||h==="text"||h==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:C,config:n,request:P};PR(function(D){t(D),O()},function(D){r(D),O()},z),P=null}"onloadend"in P?P.onloadend=U:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(U)},P.onabort=function(){P&&(r(new rn("Request aborted",rn.ECONNABORTED,n,P)),P=null)},P.onerror=function(){r(new rn("Network Error",rn.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let F=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||kR;i.timeoutErrorMessage&&(F=i.timeoutErrorMessage),r(new rn(F,z.clarifyTimeoutError?rn.ETIMEDOUT:rn.ECONNABORTED,n,P)),P=null},o===void 0&&u.setContentType(null),"setRequestHeader"in P&&Ae.forEach(u.toJSON(),function(F,z){P.setRequestHeader(z,F)}),Ae.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),h&&h!=="json"&&(P.responseType=i.responseType),g&&([E,R]=k0(g,!0),P.addEventListener("progress",E)),d&&P.upload&&([w,x]=k0(d),P.upload.addEventListener("progress",w),P.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(_=C=>{P&&(r(!C||C.type?new Jd(null,n,P):C),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(_),i.signal&&(i.signal.aborted?_():i.signal.addEventListener("abort",_)));const B=D$(i.url);if(B&&Ls.protocols.indexOf(B)===-1){r(new rn("Unsupported protocol "+B+":",rn.ERR_BAD_REQUEST,n));return}P.send(o||null)})},z$=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(g){if(!i){i=!0,h();const _=g instanceof Error?g:this.reason;r.abort(_ instanceof rn?_:new Jd(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,o(new rn(`timeout ${e} of ms exceeded`,rn.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),n=null)};n.forEach(g=>g.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>Ae.asap(h),d}},H$=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},W$=async function*(n,e){for await(const t of G$(n))yield*H$(t,e)},G$=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},hA=(n,e,t,r)=>{const i=W$(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:g,value:_}=await i.next();if(g){h(),d.close();return}let w=_.byteLength;if(t){let E=o+=w;t(E)}d.enqueue(new Uint8Array(_))}catch(g){throw h(g),g}},cancel(d){return h(d),i.return()}},{highWaterMark:2})},b_=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",MR=b_&&typeof ReadableStream=="function",K$=b_&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),FR=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Q$=MR&&FR(()=>{let n=!1;const e=new Request(Ls.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),fA=64*1024,nw=MR&&FR(()=>Ae.isReadableStream(new Response("").body)),N0={stream:nw&&(n=>n.body)};b_&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!N0[e]&&(N0[e]=Ae.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new rn(`Response type '${e}' is not supported`,rn.ERR_NOT_SUPPORT,r)})})})(new Response);const J$=async n=>{if(n==null)return 0;if(Ae.isBlob(n))return n.size;if(Ae.isSpecCompliantForm(n))return(await new Request(Ls.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ae.isArrayBufferView(n)||Ae.isArrayBuffer(n))return n.byteLength;if(Ae.isURLSearchParams(n)&&(n=n+""),Ae.isString(n))return(await K$(n)).byteLength},X$=async(n,e)=>{const t=Ae.toFiniteNumber(n.getContentLength());return t??J$(e)},Y$=b_&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:g,headers:_,withCredentials:w="same-origin",fetchOptions:E}=DR(n);g=g?(g+"").toLowerCase():"text";let x=z$([i,o&&o.toAbortSignal()],u),R;const O=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let P;try{if(d&&Q$&&t!=="get"&&t!=="head"&&(P=await X$(_,r))!==0){let z=new Request(e,{method:"POST",body:r,duplex:"half"}),J;if(Ae.isFormData(r)&&(J=z.headers.get("content-type"))&&_.setContentType(J),z.body){const[D,q]=lA(P,k0(uA(d)));r=hA(z.body,fA,D,q)}}Ae.isString(w)||(w=w?"include":"omit");const U="credentials"in Request.prototype;R=new Request(e,{...E,signal:x,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:U?w:void 0});let B=await fetch(R);const C=nw&&(g==="stream"||g==="response");if(nw&&(h||C&&O)){const z={};["status","statusText","headers"].forEach(W=>{z[W]=B[W]});const J=Ae.toFiniteNumber(B.headers.get("content-length")),[D,q]=h&&lA(J,k0(uA(h),!0))||[];B=new Response(hA(B.body,fA,D,()=>{q&&q(),O&&O()}),z)}g=g||"text";let F=await N0[Ae.findKey(N0,g)||"text"](B,n);return!C&&O&&O(),await new Promise((z,J)=>{PR(z,J,{data:F,headers:go.from(B.headers),status:B.status,statusText:B.statusText,config:n,request:R})})}catch(U){throw O&&O(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new rn("Network Error",rn.ERR_NETWORK,n,R),{cause:U.cause||U}):rn.from(U,U&&U.code,n,R)}}),rw={http:d$,xhr:$$,fetch:Y$};Ae.forEach(rw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const dA=n=>`- ${n}`,Z$=n=>Ae.isFunction(n)||n===null||n===!1,UR={getAdapter:n=>{n=Ae.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!Z$(t)&&(r=rw[(u=String(t)).toLowerCase()],r===void 0))throw new rn(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(dA).join(`
`):" "+dA(o[0]):"as no adapter specified";throw new rn("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:rw};function Z1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Jd(null,n)}function pA(n){return Z1(n),n.headers=go.from(n.headers),n.data=Y1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),UR.getAdapter(n.adapter||cm.adapter)(n).then(function(r){return Z1(n),r.data=Y1.call(n,n.transformResponse,r),r.headers=go.from(r.headers),r},function(r){return OR(r)||(Z1(n),r&&r.response&&(r.response.data=Y1.call(n,n.transformResponse,r.response),r.response.headers=go.from(r.response.headers))),Promise.reject(r)})}const BR="1.7.9",S_={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{S_[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const gA={};S_.transitional=function(e,t,r){function i(o,u){return"[Axios v"+BR+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new rn(i(u," has been removed"+(t?" in "+t:"")),rn.ERR_DEPRECATED);return t&&!gA[u]&&(gA[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};S_.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function ez(n,e,t){if(typeof n!="object")throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new rn("option "+o+" must be "+d,rn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new rn("Unknown option "+o,rn.ERR_BAD_OPTION)}}const r0={assertOptions:ez,validators:S_},gl=r0.validators;class vh{constructor(e){this.defaults=e,this.interceptors={request:new oA,response:new oA}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ih(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&r0.assertOptions(r,{silentJSONParsing:gl.transitional(gl.boolean),forcedJSONParsing:gl.transitional(gl.boolean),clarifyTimeoutError:gl.transitional(gl.boolean)},!1),i!=null&&(Ae.isFunction(i)?t.paramsSerializer={serialize:i}:r0.assertOptions(i,{encode:gl.function,serialize:gl.function},!0)),r0.assertOptions(t,{baseUrl:gl.spelling("baseURL"),withXsrfToken:gl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&Ae.merge(o.common,o[t.method]);o&&Ae.forEach(["delete","get","head","post","put","patch","common"],R=>{delete o[R]}),t.headers=go.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(t)===!1||(d=d&&O.synchronous,h.unshift(O.fulfilled,O.rejected))});const g=[];this.interceptors.response.forEach(function(O){g.push(O.fulfilled,O.rejected)});let _,w=0,E;if(!d){const R=[pA.bind(this),void 0];for(R.unshift.apply(R,h),R.push.apply(R,g),E=R.length,_=Promise.resolve(t);w<E;)_=_.then(R[w++],R[w++]);return _}E=h.length;let x=t;for(w=0;w<E;){const R=h[w++],O=h[w++];try{x=R(x)}catch(P){O.call(this,P);break}}try{_=pA.call(this,x)}catch(R){return Promise.reject(R)}for(w=0,E=g.length;w<E;)_=_.then(g[w++],g[w++]);return _}getUri(e){e=Ih(this.defaults,e);const t=LR(e.baseURL,e.url);return RR(t,e.params,e.paramsSerializer)}}Ae.forEach(["delete","get","head","options"],function(e){vh.prototype[e]=function(t,r){return this.request(Ih(r||{},{method:e,url:t,data:(r||{}).data}))}});Ae.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(Ih(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}vh.prototype[e]=t(),vh.prototype[e+"Form"]=t(!0)});class IE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Jd(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new IE(function(i){e=i}),cancel:e}}}function tz(n){return function(t){return n.apply(null,t)}}function nz(n){return Ae.isObject(n)&&n.isAxiosError===!0}const iw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iw).forEach(([n,e])=>{iw[e]=n});function VR(n){const e=new vh(n),t=yR(vh.prototype.request,e);return Ae.extend(t,vh.prototype,e,{allOwnKeys:!0}),Ae.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return VR(Ih(n,i))},t}const $r=VR(cm);$r.Axios=vh;$r.CanceledError=Jd;$r.CancelToken=IE;$r.isCancel=OR;$r.VERSION=BR;$r.toFormData=T_;$r.AxiosError=rn;$r.Cancel=$r.CanceledError;$r.all=function(e){return Promise.all(e)};$r.spread=tz;$r.isAxiosError=nz;$r.mergeConfig=Ih;$r.AxiosHeaders=go;$r.formToJSON=n=>NR(Ae.isHTMLForm(n)?new FormData(n):n);$r.getAdapter=UR.getAdapter;$r.HttpStatusCode=iw;$r.default=$r;function RE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function qR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rz=qR,jR=new Gg("auth","Firebase",qR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new uw("@firebase/auth");function iz(n,...e){O0.logLevel<=Sn.WARN&&O0.warn(`Auth (${kh}): ${n}`,...e)}function i0(n,...e){O0.logLevel<=Sn.ERROR&&O0.error(`Auth (${kh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n,...e){throw NE(n,...e)}function Va(n,...e){return NE(n,...e)}function kE(n,e,t){const r=Object.assign(Object.assign({},rz()),{[e]:t});return new Gg("auth","Firebase",r).create(e,{appName:n.name})}function wh(n){return kE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sz(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ol(n,"argument-error"),kE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function NE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jR.create(n,...e)}function $t(n,e,...t){if(!n)throw NE(e,...t)}function du(n){const e="INTERNAL ASSERTION FAILED: "+n;throw i0(e),new Error(e)}function Su(n,e){n||du(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function oz(){return mA()==="http:"||mA()==="https:"}function mA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oz()||pO()||"connection"in navigator)?navigator.onLine:!0}function lz(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Su(t>e,"Short delay should be less than long delay!"),this.isMobile=hO()||gO()}get(){return az()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,e){Su(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;du("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;du("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;du("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new hm(3e4,6e4);function PE(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xd(n,e,t,r,i={}){return zR(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Kg(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:d},o);return dO()||(g.referrerPolicy="no-referrer"),$R.fetch()(HR(n,n.config.apiHost,t,h),g)})}async function zR(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},uz),e);try{const i=new fz(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Fy(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,g]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fy(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Fy(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Fy(n,"user-disabled",u);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kE(n,_,g);Ol(n,_)}}catch(i){if(i instanceof Pl)throw i;Ol(n,"network-request-failed",{message:String(i)})}}async function hz(n,e,t,r,i={}){const o=await Xd(n,e,t,r,i);return"mfaPendingCredential"in o&&Ol(n,"multi-factor-auth-required",{_serverResponse:o}),o}function HR(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?OE(n.config,i):`${n.config.apiScheme}://${i}`}class fz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Va(this.auth,"network-request-failed")),cz.get())})}}function Fy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Va(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(n,e){return Xd(n,"POST","/v1/accounts:delete",e)}async function WR(n,e){return Xd(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pz(n,e=!1){const t=Fs(n),r=await t.getIdToken(e),i=LE(r);$t(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ag(ev(i.auth_time)),issuedAtTime:Ag(ev(i.iat)),expirationTime:Ag(ev(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ev(n){return Number(n)*1e3}function LE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return i0("JWT malformed, contained fewer than 3 sections"),null;try{const i=DA(t);return i?JSON.parse(i):(i0("Failed to decode base64 JWT payload"),null)}catch(i){return i0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yA(n){const e=LE(n);return $t(e,"internal-error"),$t(typeof e.exp<"u","internal-error"),$t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Pl&&gz(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function gz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ag(this.lastLoginAt),this.creationTime=Ag(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Wg(n,WR(t,{idToken:r}));$t(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GR(o.providerUserInfo):[],h=_z(n.providerData,u),d=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),_=d?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ow(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function yz(n){const e=Fs(n);await P0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _z(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GR(n){return n.map(e=>{var{providerId:t}=e,r=RE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(n,e){const t=await zR(n,{},async()=>{const r=Kg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=HR(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",$R.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wz(n,e){return Xd(n,"POST","/v2/accounts:revokeToken",PE(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$t(e.idToken,"internal-error"),$t(typeof e.idToken<"u","internal-error"),$t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$t(e.length!==0,"internal-error");const t=yA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await vz(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Sd;return r&&($t(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&($t(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&($t(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sd,this.toJSON())}_performRefresh(){return du("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n,e){$t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=RE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ow(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wg(this,this.stsTokenManager.getToken(this.auth,e));return $t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pz(this,e)}reload(){return yz(this)}_assign(e){this!==e&&($t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await P0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fu(this.auth.app))return Promise.reject(wh(this.auth));const e=await this.getIdToken();return await Wg(this,dz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,d,g,_;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,O=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,U=(g=t.createdAt)!==null&&g!==void 0?g:void 0,B=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:C,emailVerified:F,isAnonymous:z,providerData:J,stsTokenManager:D}=t;$t(C&&D,e,"internal-error");const q=Sd.fromJSON(this.name,D);$t(typeof C=="string",e,"internal-error"),oc(w,e.name),oc(E,e.name),$t(typeof F=="boolean",e,"internal-error"),$t(typeof z=="boolean",e,"internal-error"),oc(x,e.name),oc(R,e.name),oc(O,e.name),oc(P,e.name),oc(U,e.name),oc(B,e.name);const W=new pu({uid:C,auth:e,email:E,emailVerified:F,displayName:w,isAnonymous:z,photoURL:R,phoneNumber:x,tenantId:O,stsTokenManager:q,createdAt:U,lastLoginAt:B});return J&&Array.isArray(J)&&(W.providerData=J.map(I=>Object.assign({},I))),P&&(W._redirectEventId=P),W}static async _fromIdTokenResponse(e,t,r=!1){const i=new Sd;i.updateFromServerResponse(t);const o=new pu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await P0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];$t(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?GR(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Sd;h.updateFromIdToken(r);const d=new pu({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ow(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new Map;function gu(n){Su(n instanceof Function,"Expected a class definition");let e=_A.get(n);return e?(Su(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_A.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KR.type="NONE";const vA=KR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e,t){return`firebase:${n}:${e}:${t}`}class Ad{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=s0(this.userKey,i.apiKey,o),this.fullPersistenceKey=s0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ad(gu(vA),e,r);const i=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=i[0]||gu(vA);const u=s0(r,e.config.apiKey,e.name);let h=null;for(const g of t)try{const _=await g._get(u);if(_){const w=pu._fromJSON(e,_);g!==o&&(h=w),o=g;break}}catch{}const d=i.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ad(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new Ad(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e2(e))return"Blackberry";if(t2(e))return"Webos";if(JR(e))return"Safari";if((e.includes("chrome/")||XR(e))&&!e.includes("edge/"))return"Chrome";if(ZR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QR(n=Ms()){return/firefox\//i.test(n)}function JR(n=Ms()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XR(n=Ms()){return/crios\//i.test(n)}function YR(n=Ms()){return/iemobile/i.test(n)}function ZR(n=Ms()){return/android/i.test(n)}function e2(n=Ms()){return/blackberry/i.test(n)}function t2(n=Ms()){return/webos/i.test(n)}function DE(n=Ms()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ez(n=Ms()){var e;return DE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tz(){return mO()&&document.documentMode===10}function n2(n=Ms()){return DE(n)||ZR(n)||t2(n)||e2(n)||/windows phone/i.test(n)||YR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n,e=[]){let t;switch(n){case"Browser":t=wA(Ms());break;case"Worker":t=`${wA(Ms())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${kh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(n,e={}){return Xd(n,"GET","/v2/passwordPolicy",PE(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=6;class Cz{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Az,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EA(this),this.idTokenSubscription=new EA(this),this.beforeStateQueue=new bz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gu(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ad.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await WR(this,{idToken:e}),r=await pu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fu(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await P0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fu(this.app))return Promise.reject(wh(this));const t=e?Fs(e):null;return t&&$t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fu(this.app)?Promise.reject(wh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fu(this.app)?Promise.reject(wh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sz(this),t=new Cz(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await wz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gu(e)||this._popupRedirectResolver;$t(t,this,"argument-error"),this.redirectPersistenceManager=await Ad.create(this,[gu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if($t(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&iz(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function A_(n){return Fs(n)}class EA{constructor(e){this.auth=e,this.observer=null,this.addObserver=SO(t=>this.observer=t)}get next(){return $t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Iz(n){ME=n}function Rz(n){return ME.loadJS(n)}function kz(){return ME.gapiScript}function Nz(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(n,e){const t=B0(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(u0(o,e??{}))return i;Ol(i,"already-initialized")}return t.initialize({options:e})}function Pz(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(gu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Lz(n,e,t){const r=A_(n);$t(r._canInitEmulator,r,"emulator-config-failed"),$t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=i2(e),{host:u,port:h}=Dz(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Mz()}function i2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Dz(n){const e=i2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:TA(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:TA(u)}}}function TA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Mz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return du("not implemented")}_getIdTokenResponse(e){return du("not implemented")}_linkToIdToken(e,t){return du("not implemented")}_getReauthenticationResolver(e){return du("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(n,e){return hz(n,"POST","/v1/accounts:signInWithIdp",PE(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="http://localhost";class Rh extends s2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ol("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=RE(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Rh(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Cd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Cd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cd(e,t)}buildRequest(){const e={requestUri:Fz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends FE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends fm{constructor(){super("facebook.com")}static credential(e){return Rh._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uc.credentialFromTaggedObject(e)}static credentialFromError(e){return uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uc.credential(e.oauthAccessToken)}catch{return null}}}uc.FACEBOOK_SIGN_IN_METHOD="facebook.com";uc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends fm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rh._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hu.credentialFromTaggedObject(e)}static credentialFromError(e){return hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hu.credential(t,r)}catch{return null}}}hu.GOOGLE_SIGN_IN_METHOD="google.com";hu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends fm{constructor(){super("github.com")}static credential(e){return Rh._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cc.credentialFromTaggedObject(e)}static credentialFromError(e){return cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cc.credential(e.oauthAccessToken)}catch{return null}}}cc.GITHUB_SIGN_IN_METHOD="github.com";cc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends fm{constructor(){super("twitter.com")}static credential(e,t){return Rh._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hc.credentialFromTaggedObject(e)}static credentialFromError(e){return hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return hc.credential(t,r)}catch{return null}}}hc.TWITTER_SIGN_IN_METHOD="twitter.com";hc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await pu._fromIdTokenResponse(e,r,i),u=bA(r);return new jd({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=bA(r);return new jd({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function bA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends Pl{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,L0.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new L0(e,t,r,i)}}function o2(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?L0._fromErrorAndOperation(n,o,e,r):o})}async function Uz(n,e,t=!1){const r=await Wg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jd._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(n,e,t=!1){const{auth:r}=n;if(fu(r.app))return Promise.reject(wh(r));const i="reauthenticate";try{const o=await Wg(n,o2(r,i,e,n),t);$t(o.idToken,r,"internal-error");const u=LE(o.idToken);$t(u,r,"internal-error");const{sub:h}=u;return $t(n.uid===h,r,"user-mismatch"),jd._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ol(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(n,e,t=!1){if(fu(n.app))return Promise.reject(wh(n));const r="signIn",i=await o2(n,r,e),o=await jd._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function qz(n,e,t,r){return Fs(n).onIdTokenChanged(e,t,r)}function jz(n,e,t){return Fs(n).beforeAuthStateChanged(e,t)}function $z(n,e,t,r){return Fs(n).onAuthStateChanged(e,t,r)}const D0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(D0,"1"),this.storage.removeItem(D0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=1e3,Hz=10;class l2 extends a2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);Tz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Hz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},zz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}l2.type="LOCAL";const Wz=l2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2 extends a2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}u2.type="SESSION";const c2=u2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new C_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async g=>g(t.origin,o)),d=await Gz(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}C_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const g=UE("",20);i.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(w){const E=w;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(){return window}function Qz(n){xl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return typeof xl().WorkerGlobalScope<"u"&&typeof xl().importScripts=="function"}async function Jz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Yz(){return h2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebaseLocalStorageDb",Zz=1,M0="firebaseLocalStorage",d2="fbase_key";class dm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function x_(n,e){return n.transaction([M0],e?"readwrite":"readonly").objectStore(M0)}function eH(){const n=indexedDB.deleteDatabase(f2);return new dm(n).toPromise()}function aw(){const n=indexedDB.open(f2,Zz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(M0,{keyPath:d2})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(M0)?e(r):(r.close(),await eH(),e(await aw()))})})}async function SA(n,e,t){const r=x_(n,!0).put({[d2]:e,value:t});return new dm(r).toPromise()}async function tH(n,e){const t=x_(n,!1).get(e),r=await new dm(t).toPromise();return r===void 0?null:r.value}function AA(n,e){const t=x_(n,!0).delete(e);return new dm(t).toPromise()}const nH=800,rH=3;class p2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=C_._getInstance(Yz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Jz(),!this.activeServiceWorker)return;this.sender=new Kz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aw();return await SA(e,D0,"1"),await AA(e,D0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>SA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tH(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>AA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=x_(i,!1).getAll();return new dm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p2.type="LOCAL";const iH=p2;new hm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n,e){return e?gu(e):($t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends s2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sH(n){return Vz(n.auth,new BE(n),n.bypassAuthState)}function oH(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),Bz(t,new BE(n),n.bypassAuthState)}async function aH(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),Uz(t,new BE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sH;case"linkViaPopup":case"linkViaRedirect":return aH;case"reauthViaPopup":case"reauthViaRedirect":return oH;default:Ol(this.auth,"internal-error")}}resolve(e){Su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=new hm(2e3,1e4);async function uH(n,e,t){if(fu(n.app))return Promise.reject(Va(n,"operation-not-supported-in-this-environment"));const r=A_(n);sz(n,e,FE);const i=g2(r,t);return new mh(r,"signInViaPopup",e,i).executeNotNull()}class mh extends m2{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,mh.currentPopupAction&&mh.currentPopupAction.cancel(),mh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $t(e,this.auth,"internal-error"),e}async onExecution(){Su(this.filter.length===1,"Popup operations only handle one event");const e=UE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lH.get())};e()}}mh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="pendingRedirect",o0=new Map;class hH extends m2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=o0.get(this.auth._key());if(!e){try{const r=await fH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}o0.set(this.auth._key(),e)}return this.bypassAuthState||o0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fH(n,e){const t=gH(e),r=pH(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function dH(n,e){o0.set(n._key(),e)}function pH(n){return gu(n._redirectPersistence)}function gH(n){return s0(cH,n.config.apiKey,n.name)}async function mH(n,e,t=!1){if(fu(n.app))return Promise.reject(wh(n));const r=A_(n),i=g2(r,e),u=await new hH(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH=10*60*1e3;class _H{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!y2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Va(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yH&&this.cachedEventUids.clear(),this.cachedEventUids.has(CA(e))}saveEventToCache(e){this.cachedEventUids.add(CA(e)),this.lastProcessedEventTime=Date.now()}}function CA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function y2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(n,e={}){return Xd(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TH=/^https?/;async function bH(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wH(n);for(const t of e)try{if(SH(t))return}catch{}Ol(n,"unauthorized-domain")}function SH(n){const e=sw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!TH.test(t))return!1;if(EH.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=new hm(3e4,6e4);function xA(){const n=xl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CH(n){return new Promise((e,t)=>{var r,i,o;function u(){xA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xA(),t(Va(n,"network-request-failed"))},timeout:AH.get()})}if(!((i=(r=xl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xl().gapi)===null||o===void 0)&&o.load)u();else{const h=Nz("iframefcb");return xl()[h]=()=>{gapi.load?u():t(Va(n,"network-request-failed"))},Rz(`${kz()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw a0=null,e})}let a0=null;function xH(n){return a0=a0||CH(n),a0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new hm(5e3,15e3),RH="__/auth/iframe",kH="emulator/auth/iframe",NH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PH(n){const e=n.config;$t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?OE(e,kH):`https://${n.config.authDomain}/${RH}`,r={apiKey:e.apiKey,appName:n.name,v:kh},i=OH.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Kg(r).slice(1)}`}async function LH(n){const e=await xH(n),t=xl().gapi;return $t(t,n,"internal-error"),e.open({where:document.body,url:PH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=Va(n,"network-request-failed"),h=xl().setTimeout(()=>{o(u)},IH.get());function d(){xl().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MH=500,FH=600,UH="_blank",BH="http://localhost";class IA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VH(n,e,t,r=MH,i=FH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},DH),{width:r.toString(),height:i.toString(),top:o,left:u}),g=Ms().toLowerCase();t&&(h=XR(g)?UH:t),QR(g)&&(e=e||BH,d.scrollbars="yes");const _=Object.entries(d).reduce((E,[x,R])=>`${E}${x}=${R},`,"");if(Ez(g)&&h!=="_self")return qH(e||"",h),new IA(null);const w=window.open(e||"",h,_);$t(w,n,"popup-blocked");try{w.focus()}catch{}return new IA(w)}function qH(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="__/auth/handler",$H="emulator/auth/handler",zH=encodeURIComponent("fac");async function RA(n,e,t,r,i,o){$t(n.config.authDomain,n,"auth-domain-config-required"),$t(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:kh,eventId:i};if(e instanceof FE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",bO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof fm){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),g=d?`#${zH}=${encodeURIComponent(d)}`:"";return`${HH(n)}?${Kg(h).slice(1)}${g}`}function HH({config:n}){return n.emulator?OE(n,$H):`https://${n.authDomain}/${jH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="webStorageSupport";class WH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c2,this._completeRedirectFn=mH,this._overrideRedirectResult=dH}async _openPopup(e,t,r,i){var o;Su((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await RA(e,t,r,sw(),i);return VH(e,u,UE())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await RA(e,t,r,sw(),i);return Qz(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Su(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await LH(e),r=new _H(e);return t.register("authEvent",i=>($t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tv,{type:tv},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[tv];u!==void 0&&t(!!u),Ol(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return n2()||JR()||DE()}}const GH=WH;var kA="@firebase/auth",NA="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JH(n){Eh(new _c("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;$t(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r2(n)},g=new xz(r,i,o,d);return Pz(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Eh(new _c("auth-internal",e=>{const t=A_(e.getProvider("auth").getImmediate());return(r=>new KH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),El(kA,NA,QH(n)),El(kA,NA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=5*60,YH=BA("authIdTokenMaxAge")||XH;let OA=null;const ZH=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YH)return;const i=t==null?void 0:t.token;OA!==i&&(OA=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eW(n=hw()){const e=B0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Oz(n,{popupRedirectResolver:GH,persistence:[iH,Wz,c2]}),r=BA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=ZH(o.toString());jz(t,u,()=>u(t.currentUser)),qz(t,h=>u(h))}}const i=MA("auth");return i&&Lz(t,`http://${i}`),t}function tW(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Iz({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Va("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",tW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JH("Browser");const og="https://server-212131836065.us-west1.run.app";class nW{constructor(e){Ge(this,"app");Ge(this,"firestore");Ge(this,"storage");this.app=e,this.firestore=R5(e),this.storage=rV(e)}async POST(e,t,r){const i=await $r.post(og+e,t,{headers:{Authorization:"Bearer "+await this.token,...r}});return i.status!==200?[i.status,null]:[i.status,i.data]}async PUT(e,t,r){const i=await $r.put(og+e,t,{headers:{Authorization:"Bearer "+await this.token,...r}});return i.status!==200?[i.status,null]:[i.status,i.data]}async DELETE(e,t){const r=await $r.delete(og+e,{headers:{Authorization:"Bearer "+await this.token,...t}});return r.status!==200?[r.status,null]:[r.status,r.data]}async GET(e,t){const r=await $r.get(og+e,{headers:{Authorization:"Bearer "+await this.token,...t}});return r.status!==200?[r.status,null]:[r.status,r.data]}get user(){return this.auth.currentUser}get token(){return this.user?this.user.getIdToken():""}get auth(){return eW(this.app)}async signInWithGoogle(){console.log("Signing in with Google...");const e=new hu;e.setCustomParameters({prompt:"select_account"});try{return console.log("Signing in...",this.user),await uH(this.auth,e),console.log("Signed in!"),!0}catch(t){console.error("Error signing in: ",t)}return!1}signOut(){return this.user?(this.auth.signOut(),!0):!1}async getNotes(e,t){let r="/notes";const i=[];e&&i.push(`q=${encodeURIComponent(e)}`),t&&i.push(`cursor=${t}`),i.length&&(r+="?"+i.join("&"));const[o,u]=await this.GET(r);return o!==200?null:u}async getNote(e){const t=await this.GET(`/notes/${e}`);return t[0]!==200?null:new $v(t[1].data,this)}async saveNote(e){var t,r;if(e.id){const i=(t=e.api.user)==null?void 0:t.uid;if(!i)return null;if(e.owner!==i&&((r=e.permissions.user[i])==null?void 0:r.permission)!=="edit"&&e.permissions.global!=="edit")return alert("You do not have permission to edit this note."),null;if((await this.PUT(`/notes/${e.id}`,e.serialize()))[0]!==200)return null}else{const i=await this.POST("/notes",e.serialize());if(i[0]!==200)return null;e.id=i[1].id}return e}async deleteNote(e){return(await this.DELETE(`/notes/${e}`))[0]===200}async shareNote(e,t,r){const i=await this.POST(`/notes/${e}/share`,{user:t,global:r});return i[0]!==200?null:i[1]}getMediaURL(e){return og+"/media/"+e}async searchNotes(e){return(await this.GET(`/search?q=${encodeURIComponent(e)}`))[1].results}async search(e,t){return(await this.GET(`/notes/${e}/search?q=${encodeURIComponent(t)}`))[1].data}async generateSummary(e,t){const r=await this.POST("/ai/summarize",{id:e,value:t});return r[0]!==200?null:r[1].data}async generateFlashcards(e,t){const r=await this.POST("/ai/flashcards",{id:e,value:t});return r[0]!==200?null:r[1].data}async hasPermission(e,t){var i,o;const r=(i=this.user)==null?void 0:i.uid;if(!r)return!1;try{const u=await this.getNoteById(e);return u?u.owner===r||u.permissions.global===t||((o=u.permissions.user[r])==null?void 0:o.permission)===t:!1}catch(u){return console.error("Error checking permissions:",u),!1}}async getNoteById(e){try{const[t,r]=await this.GET(`/notes/${e}`);return t!==200||!r?null:r}catch(t){return console.error("Error fetching note:",t),null}}}var rW="firebase",iW="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */El(rW,iW,"app");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function sW(n,e,t,r){function i(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function h(_){try{g(r.next(_))}catch(w){u(w)}}function d(_){try{g(r.throw(_))}catch(w){u(w)}}function g(_){_.done?o(_.value):i(_.value).then(h,d)}g((r=r.apply(n,[])).next())})}function oW(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(_){return d([g,_])}}function d(g){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,i=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){t.label=g[1];break}if(g[0]===6&&t.label<o[1]){t.label=o[1],o=g;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(g);break}o[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(_){g=[6,_],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var md=function(){return md=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},md.apply(this,arguments)},_2=function(n){return{loading:n==null,value:n}},aW=function(){return function(n,e){switch(e.type){case"error":return md(md({},n),{error:e.error,loading:!1,value:void 0});case"reset":return _2(e.defaultValue);case"value":return md(md({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},lW=function(n){var e=n(),t=Qe.useReducer(aW(),_2(e)),r=t[0],i=t[1],o=Qe.useCallback(function(){var d=n();i({type:"reset",defaultValue:d})},[n]),u=Qe.useCallback(function(d){i({type:"error",error:d})},[]),h=Qe.useCallback(function(d){i({type:"value",value:d})},[]);return Qe.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:h,value:r.value}},[r.error,r.loading,o,u,h,r.value])},uW=function(n,e){var t=lW(function(){return n.currentUser}),r=t.error,i=t.loading,o=t.setError,u=t.setValue,h=t.value;return Qe.useEffect(function(){var d=$z(n,function(g){return sW(void 0,void 0,void 0,function(){var _;return oW(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return w.sent(),[3,4];case 3:return _=w.sent(),o(_),[3,4];case 4:return u(g),[2]}})})},o);return function(){d()}},[n]),[h,i,r]};function cW({api:n}){const[e,t]=Qe.useState(!1),r=()=>{t(i=>!i)};return X.jsxs("div",{className:"container",children:[X.jsxs("div",{className:"left",children:[X.jsx("div",{className:"logo",children:"NoteFlow"}),X.jsxs("div",{className:"title-cont-outer",children:[X.jsx("h2",{children:"Note-taking,"}),X.jsx("div",{className:"title-cont-inner",children:"Enhanced."}),X.jsx("div",{className:"info-icon",children:X.jsx(C8,{onClick:r})}),X.jsx("div",{className:`info-box ${e?"expanded":""}`,children:"NoteFlow is note-taking application that integrates Retrieval Augmented Generation (RAG) to retrieve information from notes faster. Notes are LLM-enhanced for quick summarization and flashcard generation."})]})]}),X.jsx("div",{className:"right",children:X.jsxs("div",{className:"login",children:[X.jsx("h3",{children:"Sign in to start writing better notes."}),X.jsxs("button",{onClick:()=>n.signInWithGoogle(),children:[X.jsx(D8,{className:"g-icon"}),"Sign in with Google"]})]})})]})}const hW={apiKey:"AIzaSyBT8w1img6usS8Bx4LSlFza_DD3-G2RWBk",authDomain:"noteflow-77eb6.firebaseapp.com",projectId:"noteflow-77eb6",storageBucket:"noteflow-77eb6.firebasestorage.app",messagingSenderId:"212131836065",appId:"1:212131836065:web:328e7d473d67a1279fc0e0",measurementId:"G-4BQNZ69GHR"},fW=$A(hW);function dW(){const[n]=Qe.useState(new nW(fW)),[e]=uW(n.auth),[t,r]=Qe.useState(!1);return Qe.useEffect(()=>{const i=n.auth.onAuthStateChanged(()=>{r(!0),i()})}),console.log("User:",e),!e&&t?X.jsx(cW,{api:n}):e?X.jsx(x7,{api:n}):X.jsx("div",{children:"Loading..."})}nO.createRoot(document.getElementById("root")).render(X.jsx(Qe.StrictMode,{children:X.jsx(dW,{})}))});export default pW();
