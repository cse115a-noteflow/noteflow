var JP=Object.defineProperty;var QP=(n,e,t)=>e in n?JP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var XP=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Ke=(n,e,t)=>QP(n,typeof e!="symbol"?e+"":e,t);var QK=XP((Lo,Do)=>{function YP(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mv={exports:{}},cg={},Fv={exports:{}},_n={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function ZP(){if(VT)return _n;VT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function w(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function N(K,ie,fe){this.props=K,this.context=ie,this.refs=R,this.updater=fe||b}N.prototype.isReactComponent={},N.prototype.setState=function(K,ie){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ie,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function D(){}D.prototype=N.prototype;function F(K,ie,fe){this.props=K,this.context=ie,this.refs=R,this.updater=fe||b}var x=F.prototype=new D;x.constructor=F,A(x,N.prototype),x.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,G={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function j(K,ie,fe){var Pe,xe={},Le=null,$e=null;if(ie!=null)for(Pe in ie.ref!==void 0&&($e=ie.ref),ie.key!==void 0&&(Le=""+ie.key),ie)$.call(ie,Pe)&&!U.hasOwnProperty(Pe)&&(xe[Pe]=ie[Pe]);var Re=arguments.length-2;if(Re===1)xe.children=fe;else if(1<Re){for(var Ge=Array(Re),Ye=0;Ye<Re;Ye++)Ge[Ye]=arguments[Ye+2];xe.children=Ge}if(K&&K.defaultProps)for(Pe in Re=K.defaultProps,Re)xe[Pe]===void 0&&(xe[Pe]=Re[Pe]);return{$$typeof:n,type:K,key:Le,ref:$e,props:xe,_owner:G.current}}function q(K,ie){return{$$typeof:n,type:K.type,key:ie,ref:K.ref,props:K.props,_owner:K._owner}}function k(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function P(K){var ie={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(fe){return ie[fe]})}var z=/\/+/g;function O(K,ie){return typeof K=="object"&&K!==null&&K.key!=null?P(""+K.key):ie.toString(36)}function oe(K,ie,fe,Pe,xe){var Le=typeof K;(Le==="undefined"||Le==="boolean")&&(K=null);var $e=!1;if(K===null)$e=!0;else switch(Le){case"string":case"number":$e=!0;break;case"object":switch(K.$$typeof){case n:case e:$e=!0}}if($e)return $e=K,xe=xe($e),K=Pe===""?"."+O($e,0):Pe,M(xe)?(fe="",K!=null&&(fe=K.replace(z,"$&/")+"/"),oe(xe,ie,fe,"",function(Ye){return Ye})):xe!=null&&(k(xe)&&(xe=q(xe,fe+(!xe.key||$e&&$e.key===xe.key?"":(""+xe.key).replace(z,"$&/")+"/")+K)),ie.push(xe)),1;if($e=0,Pe=Pe===""?".":Pe+":",M(K))for(var Re=0;Re<K.length;Re++){Le=K[Re];var Ge=Pe+O(Le,Re);$e+=oe(Le,ie,fe,Ge,xe)}else if(Ge=w(K),typeof Ge=="function")for(K=Ge.call(K),Re=0;!(Le=K.next()).done;)Le=Le.value,Ge=Pe+O(Le,Re++),$e+=oe(Le,ie,fe,Ge,xe);else if(Le==="object")throw ie=String(K),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return $e}function le(K,ie,fe){if(K==null)return K;var Pe=[],xe=0;return oe(K,Pe,"","",function(Le){return ie.call(fe,Le,xe++)}),Pe}function re(K){if(K._status===-1){var ie=K._result;ie=ie(),ie.then(function(fe){(K._status===0||K._status===-1)&&(K._status=1,K._result=fe)},function(fe){(K._status===0||K._status===-1)&&(K._status=2,K._result=fe)}),K._status===-1&&(K._status=0,K._result=ie)}if(K._status===1)return K._result.default;throw K._result}var pe={current:null},se={transition:null},ne={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:se,ReactCurrentOwner:G};function Y(){throw Error("act(...) is not supported in production builds of React.")}return _n.Children={map:le,forEach:function(K,ie,fe){le(K,function(){ie.apply(this,arguments)},fe)},count:function(K){var ie=0;return le(K,function(){ie++}),ie},toArray:function(K){return le(K,function(ie){return ie})||[]},only:function(K){if(!k(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},_n.Component=N,_n.Fragment=t,_n.Profiler=i,_n.PureComponent=F,_n.StrictMode=r,_n.Suspense=d,_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,_n.act=Y,_n.cloneElement=function(K,ie,fe){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Pe=A({},K.props),xe=K.key,Le=K.ref,$e=K._owner;if(ie!=null){if(ie.ref!==void 0&&(Le=ie.ref,$e=G.current),ie.key!==void 0&&(xe=""+ie.key),K.type&&K.type.defaultProps)var Re=K.type.defaultProps;for(Ge in ie)$.call(ie,Ge)&&!U.hasOwnProperty(Ge)&&(Pe[Ge]=ie[Ge]===void 0&&Re!==void 0?Re[Ge]:ie[Ge])}var Ge=arguments.length-2;if(Ge===1)Pe.children=fe;else if(1<Ge){Re=Array(Ge);for(var Ye=0;Ye<Ge;Ye++)Re[Ye]=arguments[Ye+2];Pe.children=Re}return{$$typeof:n,type:K.type,key:xe,ref:Le,props:Pe,_owner:$e}},_n.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:o,_context:K},K.Consumer=K},_n.createElement=j,_n.createFactory=function(K){var ie=j.bind(null,K);return ie.type=K,ie},_n.createRef=function(){return{current:null}},_n.forwardRef=function(K){return{$$typeof:c,render:K}},_n.isValidElement=k,_n.lazy=function(K){return{$$typeof:_,_payload:{_status:-1,_result:K},_init:re}},_n.memo=function(K,ie){return{$$typeof:p,type:K,compare:ie===void 0?null:ie}},_n.startTransition=function(K){var ie=se.transition;se.transition={};try{K()}finally{se.transition=ie}},_n.unstable_act=Y,_n.useCallback=function(K,ie){return pe.current.useCallback(K,ie)},_n.useContext=function(K){return pe.current.useContext(K)},_n.useDebugValue=function(){},_n.useDeferredValue=function(K){return pe.current.useDeferredValue(K)},_n.useEffect=function(K,ie){return pe.current.useEffect(K,ie)},_n.useId=function(){return pe.current.useId()},_n.useImperativeHandle=function(K,ie,fe){return pe.current.useImperativeHandle(K,ie,fe)},_n.useInsertionEffect=function(K,ie){return pe.current.useInsertionEffect(K,ie)},_n.useLayoutEffect=function(K,ie){return pe.current.useLayoutEffect(K,ie)},_n.useMemo=function(K,ie){return pe.current.useMemo(K,ie)},_n.useReducer=function(K,ie,fe){return pe.current.useReducer(K,ie,fe)},_n.useRef=function(K){return pe.current.useRef(K)},_n.useState=function(K){return pe.current.useState(K)},_n.useSyncExternalStore=function(K,ie,fe){return pe.current.useSyncExternalStore(K,ie,fe)},_n.useTransition=function(){return pe.current.useTransition()},_n.version="18.3.1",_n}var jT;function Dw(){return jT||(jT=1,Fv.exports=ZP()),Fv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function eO(){if(qT)return cg;qT=1;var n=Dw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var _,v={},w=null,b=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(b=d.ref);for(_ in d)r.call(d,_)&&!o.hasOwnProperty(_)&&(v[_]=d[_]);if(c&&c.defaultProps)for(_ in d=c.defaultProps,d)v[_]===void 0&&(v[_]=d[_]);return{$$typeof:e,type:c,key:w,ref:b,props:v,_owner:i.current}}return cg.Fragment=t,cg.jsx=l,cg.jsxs=l,cg}var $T;function tO(){return $T||($T=1,Mv.exports=eO()),Mv.exports}var X=tO(),ce=Dw();const nO=s_(ce),zT=YP({__proto__:null,default:nO},[ce]);var Dy={},Uv={exports:{}},po={},Bv={exports:{}},Vv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function rO(){return HT||(HT=1,function(n){function e(se,ne){var Y=se.length;se.push(ne);e:for(;0<Y;){var K=Y-1>>>1,ie=se[K];if(0<i(ie,ne))se[K]=ne,se[Y]=ie,Y=K;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ne=se[0],Y=se.pop();if(Y!==ne){se[0]=Y;e:for(var K=0,ie=se.length,fe=ie>>>1;K<fe;){var Pe=2*(K+1)-1,xe=se[Pe],Le=Pe+1,$e=se[Le];if(0>i(xe,Y))Le<ie&&0>i($e,xe)?(se[K]=$e,se[Le]=Y,K=Le):(se[K]=xe,se[Pe]=Y,K=Pe);else if(Le<ie&&0>i($e,Y))se[K]=$e,se[Le]=Y,K=Le;else break e}}return ne}function i(se,ne){var Y=se.sortIndex-ne.sortIndex;return Y!==0?Y:se.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],_=1,v=null,w=3,b=!1,A=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(se){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=se)r(p),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=t(p)}}function M(se){if(R=!1,x(se),!A)if(t(d)!==null)A=!0,re($);else{var ne=t(p);ne!==null&&pe(M,ne.startTime-se)}}function $(se,ne){A=!1,R&&(R=!1,D(j),j=-1),b=!0;var Y=w;try{for(x(ne),v=t(d);v!==null&&(!(v.expirationTime>ne)||se&&!P());){var K=v.callback;if(typeof K=="function"){v.callback=null,w=v.priorityLevel;var ie=K(v.expirationTime<=ne);ne=n.unstable_now(),typeof ie=="function"?v.callback=ie:v===t(d)&&r(d),x(ne)}else r(d);v=t(d)}if(v!==null)var fe=!0;else{var Pe=t(p);Pe!==null&&pe(M,Pe.startTime-ne),fe=!1}return fe}finally{v=null,w=Y,b=!1}}var G=!1,U=null,j=-1,q=5,k=-1;function P(){return!(n.unstable_now()-k<q)}function z(){if(U!==null){var se=n.unstable_now();k=se;var ne=!0;try{ne=U(!0,se)}finally{ne?O():(G=!1,U=null)}}else G=!1}var O;if(typeof F=="function")O=function(){F(z)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,le=oe.port2;oe.port1.onmessage=z,O=function(){le.postMessage(null)}}else O=function(){N(z,0)};function re(se){U=se,G||(G=!0,O())}function pe(se,ne){j=N(function(){se(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){A||b||(A=!0,re($))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(se){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var Y=w;w=ne;try{return se()}finally{w=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ne){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Y=w;w=se;try{return ne()}finally{w=Y}},n.unstable_scheduleCallback=function(se,ne,Y){var K=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,se){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Y+ie,se={id:_++,callback:ne,priorityLevel:se,startTime:Y,expirationTime:ie,sortIndex:-1},Y>K?(se.sortIndex=Y,e(p,se),t(d)===null&&se===t(p)&&(R?(D(j),j=-1):R=!0,pe(M,Y-K))):(se.sortIndex=ie,e(d,se),A||b||(A=!0,re($))),se},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(se){var ne=w;return function(){var Y=w;w=ne;try{return se.apply(this,arguments)}finally{w=Y}}}}(Vv)),Vv}var WT;function iO(){return WT||(WT=1,Bv.exports=rO()),Bv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function sO(){if(GT)return po;GT=1;var n=Dw(),e=iO();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},v={};function w(s){return d.call(v,s)?!0:d.call(_,s)?!1:p.test(s)?v[s]=!0:(_[s]=!0,!1)}function b(s,a,f,m){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,a,f,m){if(a===null||typeof a>"u"||b(s,a,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(s,a,f,m,E,S,V){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=E,this.mustUseProperty=f,this.propertyName=s,this.type=a,this.sanitizeURL=S,this.removeEmptyString=V}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];N[a]=new R(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(D,F);N[a]=new R(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(D,F);N[a]=new R(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(D,F);N[a]=new R(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function x(s,a,f,m){var E=N.hasOwnProperty(a)?N[a]:null;(E!==null?E.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(A(a,f,E,m)&&(f=null),m||E===null?w(a)&&(f===null?s.removeAttribute(a):s.setAttribute(a,""+f)):E.mustUseProperty?s[E.propertyName]=f===null?E.type===3?!1:"":f:(a=E.attributeName,m=E.attributeNamespace,f===null?s.removeAttribute(a):(E=E.type,f=E===3||E===4&&f===!0?"":""+f,m?s.setAttributeNS(m,a,f):s.setAttribute(a,f))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),G=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),se=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Object.assign,K;function ie(s){if(K===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);K=a&&a[1]||""}return`
`+K+s}var fe=!1;function Pe(s,a){if(!s||fe)return"";fe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Se){var m=Se}Reflect.construct(s,[],a)}else{try{a.call()}catch(Se){m=Se}s.call(a.prototype)}else{try{throw Error()}catch(Se){m=Se}s()}}catch(Se){if(Se&&m&&typeof Se.stack=="string"){for(var E=Se.stack.split(`
`),S=m.stack.split(`
`),V=E.length-1,Z=S.length-1;1<=V&&0<=Z&&E[V]!==S[Z];)Z--;for(;1<=V&&0<=Z;V--,Z--)if(E[V]!==S[Z]){if(V!==1||Z!==1)do if(V--,Z--,0>Z||E[V]!==S[Z]){var ae=`
`+E[V].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=V&&0<=Z);break}}}finally{fe=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?ie(s):""}function xe(s){switch(s.tag){case 5:return ie(s.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return s=Pe(s.type,!1),s;case 11:return s=Pe(s.type.render,!1),s;case 1:return s=Pe(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case G:return"Portal";case q:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case P:return(s.displayName||"Context")+".Consumer";case k:return(s._context.displayName||"Context")+".Provider";case z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case le:return a=s.displayName||null,a!==null?a:Le(s.type)||"Memo";case re:a=s._payload,s=s._init;try{return Le(s(a))}catch{}}return null}function $e(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(a);case 8:return a===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Re(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ye(s){var a=Ge(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var E=f.get,S=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return E.call(this)},set:function(V){m=""+V,S.call(this,V)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Qe(s){s._valueTracker||(s._valueTracker=Ye(s))}function pt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return s&&(m=Ge(s)?s.checked?"true":"false":s.value),s=m,s!==f?(a.setValue(s),!0):!1}function gt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function st(s,a){var f=a.checked;return Y({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function zt(s,a){var f=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;f=Re(a.value!=null?a.value:f),s._wrapperState={initialChecked:m,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function tr(s,a){a=a.checked,a!=null&&x(s,"checked",a,!1)}function Bn(s,a){tr(s,a);var f=Re(a.value),m=a.type;if(f!=null)m==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Qn(s,a.type,f):a.hasOwnProperty("defaultValue")&&Qn(s,a.type,Re(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ur(s,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,f||a===s.value||(s.value=a),s.defaultValue=a}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function Qn(s,a,f){(a!=="number"||gt(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var cn=Array.isArray;function hn(s,a,f,m){if(s=s.options,a){a={};for(var E=0;E<f.length;E++)a["$"+f[E]]=!0;for(f=0;f<s.length;f++)E=a.hasOwnProperty("$"+s[f].value),s[f].selected!==E&&(s[f].selected=E),E&&m&&(s[f].defaultSelected=!0)}else{for(f=""+Re(f),a=null,E=0;E<s.length;E++){if(s[E].value===f){s[E].selected=!0,m&&(s[E].defaultSelected=!0);return}a!==null||s[E].disabled||(a=s[E])}a!==null&&(a.selected=!0)}}function Cn(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function mn(s,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(t(92));if(cn(f)){if(1<f.length)throw Error(t(93));f=f[0]}a=f}a==null&&(a=""),f=a}s._wrapperState={initialValue:Re(f)}}function Ht(s,a){var f=Re(a.value),m=Re(a.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),a.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),m!=null&&(s.defaultValue=""+m)}function xn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Dt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Dt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ut,qn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,m,E){MSApp.execUnsafeLocalFunction(function(){return s(a,f,m,E)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ut.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Jt(s,a){if(a){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=a;return}}s.textContent=a}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rr=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(s){Rr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Wr[a]=Wr[s]})});function ns(s,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||Wr.hasOwnProperty(s)&&Wr[s]?(""+a).trim():a+"px"}function Ti(s,a){s=s.style;for(var f in a)if(a.hasOwnProperty(f)){var m=f.indexOf("--")===0,E=ns(f,a[f],m);f==="float"&&(f="cssFloat"),m?s.setProperty(f,E):s[f]=E}}var bi=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vi(s,a){if(a){if(bi[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Gr(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=null;function or(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var cr=null,In=null,Rn=null;function ui(s){if(s=Ki(s)){if(typeof cr!="function")throw Error(t(280));var a=s.stateNode;a&&(a=ff(a),cr(s.stateNode,s.type,a))}}function Hn(s){In?Rn?Rn.push(s):Rn=[s]:In=s}function Si(){if(In){var s=In,a=Rn;if(Rn=In=null,ui(s),a)for(s=0;s<a.length;s++)ui(a[s])}}function Ur(s,a){return s(a)}function ki(){}var _r=!1;function ji(s,a,f){if(_r)return s(a,f);_r=!0;try{return Ur(s,a,f)}finally{_r=!1,(In!==null||Rn!==null)&&(ki(),Si())}}function Gt(s,a){var f=s.stateNode;if(f===null)return null;var m=ff(f);if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(t(231,a,typeof f));return f}var nr=!1;if(c)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{nr=!1}function kr(s,a,f,m,E,S,V,Z,ae){var Se=Array.prototype.slice.call(arguments,3);try{a.apply(f,Se)}catch(Ve){this.onError(Ve)}}var vr=!1,ci=null,Qt=!1,qi=null,Js={onError:function(s){vr=!0,ci=s}};function Kr(s,a,f,m,E,S,V,Z,ae){vr=!1,ci=null,kr.apply(Js,arguments)}function hi(s,a,f,m,E,S,V,Z,ae){if(Kr.apply(this,arguments),vr){if(vr){var Se=ci;vr=!1,ci=null}else throw Error(t(198));Qt||(Qt=!0,qi=Se)}}function Br(s){var a=s,f=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(f=a.return),s=a.return;while(s)}return a.tag===3?f:null}function yn(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Jr(s){if(Br(s)!==s)throw Error(t(188))}function Ni(s){var a=s.alternate;if(!a){if(a=Br(s),a===null)throw Error(t(188));return a!==s?null:s}for(var f=s,m=a;;){var E=f.return;if(E===null)break;var S=E.alternate;if(S===null){if(m=E.return,m!==null){f=m;continue}break}if(E.child===S.child){for(S=E.child;S;){if(S===f)return Jr(E),s;if(S===m)return Jr(E),a;S=S.sibling}throw Error(t(188))}if(f.return!==m.return)f=E,m=S;else{for(var V=!1,Z=E.child;Z;){if(Z===f){V=!0,f=E,m=S;break}if(Z===m){V=!0,m=E,f=S;break}Z=Z.sibling}if(!V){for(Z=S.child;Z;){if(Z===f){V=!0,f=S,m=E;break}if(Z===m){V=!0,m=S,f=E;break}Z=Z.sibling}if(!V)throw Error(t(189))}}if(f.alternate!==m)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?s:a}function Qr(s){return s=Ni(s),s!==null?rs(s):null}function rs(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=rs(s);if(a!==null)return a;s=s.sibling}return null}var me=e.unstable_scheduleCallback,Te=e.unstable_cancelCallback,qe=e.unstable_shouldYield,nt=e.unstable_requestPaint,rt=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,he=e.unstable_ImmediatePriority,be=e.unstable_UserBlockingPriority,Be=e.unstable_NormalPriority,Xe=e.unstable_LowPriority,_t=e.unstable_IdlePriority,jt=null,Xt=null;function Mt(s){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(jt,s,void 0,(s.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Nr,bn=Math.log,Xr=Math.LN2;function Nr(s){return s>>>=0,s===0?32:31-(bn(s)/Xr|0)|0}var Sr=64,ct=4194304;function Ft(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function pn(s,a){var f=s.pendingLanes;if(f===0)return 0;var m=0,E=s.suspendedLanes,S=s.pingedLanes,V=f&268435455;if(V!==0){var Z=V&~E;Z!==0?m=Ft(Z):(S&=V,S!==0&&(m=Ft(S)))}else V=f&~E,V!==0?m=Ft(V):S!==0&&(m=Ft(S));if(m===0)return 0;if(a!==0&&a!==m&&!(a&E)&&(E=m&-m,S=a&-a,E>=S||E===16&&(S&4194240)!==0))return a;if(m&4&&(m|=f&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)f=31-Yt(a),E=1<<f,m|=s[f],a&=~E;return m}function Pt(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(s,a){for(var f=s.suspendedLanes,m=s.pingedLanes,E=s.expirationTimes,S=s.pendingLanes;0<S;){var V=31-Yt(S),Z=1<<V,ae=E[V];ae===-1?(!(Z&f)||Z&m)&&(E[V]=Pt(Z,a)):ae<=a&&(s.expiredLanes|=Z),S&=~Z}}function $n(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xt(){var s=Sr;return Sr<<=1,!(Sr&4194240)&&(Sr=64),s}function vn(s){for(var a=[],f=0;31>f;f++)a.push(s);return a}function wn(s,a,f){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Yt(a),s[a]=f}function qt(s,a){var f=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<f;){var E=31-Yt(f),S=1<<E;a[E]=0,m[E]=-1,s[E]=-1,f&=~S}}function rr(s,a){var f=s.entangledLanes|=a;for(s=s.entanglements;f;){var m=31-Yt(f),E=1<<m;E&a|s[m]&a&&(s[m]|=a),f&=~E}}var vt=0;function Vn(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var hr,_s,Yr,Bs,vs,is=!1,Ai=[],ir=null,On=null,$i=null,ws=new Map,fi=new Map,zi=[],Vo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(s,a){switch(s){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":ws.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(a.pointerId)}}function Vr(s,a,f,m,E,S){return s===null||s.nativeEvent!==S?(s={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[E]},a!==null&&(a=Ki(a),a!==null&&_s(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,E!==null&&a.indexOf(E)===-1&&a.push(E),s)}function ma(s,a,f,m,E){switch(a){case"focusin":return ir=Vr(ir,s,a,f,m,E),!0;case"dragenter":return On=Vr(On,s,a,f,m,E),!0;case"mouseover":return $i=Vr($i,s,a,f,m,E),!0;case"pointerover":var S=E.pointerId;return ws.set(S,Vr(ws.get(S)||null,s,a,f,m,E)),!0;case"gotpointercapture":return S=E.pointerId,fi.set(S,Vr(fi.get(S)||null,s,a,f,m,E)),!0}return!1}function ya(s){var a=Ho(s.target);if(a!==null){var f=Br(a);if(f!==null){if(a=f.tag,a===13){if(a=yn(f),a!==null){s.blockedOn=a,vs(s.priority,function(){Yr(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var f=nn(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);yr=m,f.target.dispatchEvent(m),yr=null}else return a=Ki(f),a!==null&&_s(a),s.blockedOn=f,!1;a.shift()}return!0}function Qs(s,a,f){Zr(s)&&f.delete(a)}function jo(){is=!1,ir!==null&&Zr(ir)&&(ir=null),On!==null&&Zr(On)&&(On=null),$i!==null&&Zr($i)&&($i=null),ws.forEach(Qs),fi.forEach(Qs)}function sn(s,a){s.blockedOn===a&&(s.blockedOn=null,is||(is=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jo)))}function tn(s){function a(E){return sn(E,s)}if(0<Ai.length){sn(Ai[0],s);for(var f=1;f<Ai.length;f++){var m=Ai[f];m.blockedOn===s&&(m.blockedOn=null)}}for(ir!==null&&sn(ir,s),On!==null&&sn(On,s),$i!==null&&sn($i,s),ws.forEach(a),fi.forEach(a),f=0;f<zi.length;f++)m=zi[f],m.blockedOn===s&&(m.blockedOn=null);for(;0<zi.length&&(f=zi[0],f.blockedOn===null);)ya(f),f.blockedOn===null&&zi.shift()}var I=M.ReactCurrentBatchConfig,W=!0;function ee(s,a,f,m){var E=vt,S=I.transition;I.transition=null;try{vt=1,It(s,a,f,m)}finally{vt=E,I.transition=S}}function Ie(s,a,f,m){var E=vt,S=I.transition;I.transition=null;try{vt=4,It(s,a,f,m)}finally{vt=E,I.transition=S}}function It(s,a,f,m){if(W){var E=nn(s,a,f,m);if(E===null)dp(s,a,m,ut,f),Qa(s,m);else if(ma(E,s,a,f,m))m.stopPropagation();else if(Qa(s,m),a&4&&-1<Vo.indexOf(s)){for(;E!==null;){var S=Ki(E);if(S!==null&&hr(S),S=nn(s,a,f,m),S===null&&dp(s,a,m,ut,f),S===E)break;E=S}E!==null&&m.stopPropagation()}else dp(s,a,m,null,f)}}var ut=null;function nn(s,a,f,m){if(ut=null,s=or(m),s=Ho(s),s!==null)if(a=Br(s),a===null)s=null;else if(f=a.tag,f===13){if(s=yn(a),s!==null)return s;s=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ut=s,null}function on(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case he:return 1;case be:return 4;case Be:case Xe:return 16;case _t:return 536870912;default:return 16}default:return 16}}var St=null,an=null,gn=null;function jr(){if(gn)return gn;var s,a=an,f=a.length,m,E="value"in St?St.value:St.textContent,S=E.length;for(s=0;s<f&&a[s]===E[s];s++);var V=f-s;for(m=1;m<=V&&a[f-m]===E[S-m];m++);return gn=E.slice(s,1<m?1-m:void 0)}function Xn(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function fn(){return!0}function wr(){return!1}function sr(s){function a(f,m,E,S,V){this._reactName=f,this._targetInst=E,this.type=m,this.nativeEvent=S,this.target=V,this.currentTarget=null;for(var Z in s)s.hasOwnProperty(Z)&&(f=s[Z],this[Z]=f?f(S):S[Z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?fn:wr,this.isPropagationStopped=wr,this}return Y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=fn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=fn)},persist:function(){},isPersistent:fn}),a}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=sr(Pr),Es=Y({},Pr,{view:0,detail:0}),_a=sr(Es),Ar,va,di,Bl=Y({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==di&&(di&&s.type==="mousemove"?(Ar=s.screenX-di.screenX,va=s.screenY-di.screenY):va=Ar=0,di=s),Ar)},movementY:function(s){return"movementY"in s?s.movementY:va}}),Vl=sr(Bl),Xs=Y({},Bl,{dataTransfer:0}),jl=sr(Xs),Xa=Y({},Es,{relatedTarget:0}),Gn=sr(Xa),_o=Y({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),vo=sr(_o),Qh=Y({},Pr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pu=sr(Qh),Xh=Y({},Pr,{data:0}),Dc=sr(Xh),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wa(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ql[s])?!!a[s]:!1}function qo(){return wa}var g=Y({},Es,{key:function(s){if(s.key){var a=Ou[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Xn(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hi[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(s){return s.type==="keypress"?Xn(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xn(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T=sr(g),L=Y({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J=sr(L),_e=Y({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),Ae=sr(_e),Je=Y({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),jn=sr(Je),pi=Y({},Bl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),En=sr(pi),zn=[9,13,27,32],Or=c&&"CompositionEvent"in window,Wi=null;c&&"documentMode"in document&&(Wi=document.documentMode);var Ts=c&&"TextEvent"in window&&!Wi,Ya=c&&(!Or||Wi&&8<Wi&&11>=Wi),Lu=" ",Om=!1;function Lm(s,a){switch(s){case"keyup":return zn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Du=!1;function Mu(s,a){switch(s){case"compositionend":return Dm(a);case"keypress":return a.which!==32?null:(Om=!0,Lu);case"textInput":return s=a.data,s===Lu&&Om?null:s;default:return null}}function Y_(s,a){if(Du)return s==="compositionend"||!Or&&Lm(s,a)?(s=jr(),gn=an=St=null,Du=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ya&&a.locale!=="ko"?null:a.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Z_[s.type]:a==="textarea"}function up(s,a,f,m){Hn(m),a=lf(a,"onChange"),0<a.length&&(f=new ss("onChange","change",null,f,m),s.push({event:f,listeners:a}))}var Ys=null,Za=null;function ev(s){qm(s,0)}function Zh(s){var a=Zt(s);if(pt(a))return s}function tv(s,a){if(s==="change")return a}var $l=!1;if(c){var Vs;if(c){var ef="oninput"in document;if(!ef){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),ef=typeof Mm.oninput=="function"}Vs=ef}else Vs=!1;$l=Vs&&(!document.documentMode||9<document.documentMode)}function Fm(){Ys&&(Ys.detachEvent("onpropertychange",Um),Za=Ys=null)}function Um(s){if(s.propertyName==="value"&&Zh(Za)){var a=[];up(a,Za,s,or(s)),ji(ev,a)}}function nv(s,a,f){s==="focusin"?(Fm(),Ys=a,Za=f,Ys.attachEvent("onpropertychange",Um)):s==="focusout"&&Fm()}function rv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zh(Za)}function Fu(s,a){if(s==="click")return Zh(a)}function ge(s,a){if(s==="input"||s==="change")return Zh(a)}function ke(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ee=typeof Object.is=="function"?Object.is:ke;function et(s,a){if(Ee(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var f=Object.keys(s),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var E=f[m];if(!d.call(a,E)||!Ee(s[E],a[E]))return!1}return!0}function Bt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ln(s,a){var f=Bt(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=a&&m>=a)return{node:f,offset:a-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Bt(f)}}function ei(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?ei(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Yn(){for(var s=window,a=gt();a instanceof s.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)s=a.contentWindow;else break;a=gt(s.document)}return a}function Mc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function iv(s){var a=Yn(),f=s.focusedElem,m=s.selectionRange;if(a!==f&&f&&f.ownerDocument&&ei(f.ownerDocument.documentElement,f)){if(m!==null&&Mc(f)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(s,f.value.length);else if(s=(a=f.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var E=f.textContent.length,S=Math.min(m.start,E);m=m.end===void 0?S:Math.min(m.end,E),!s.extend&&S>m&&(E=m,m=S,S=E),E=Ln(f,S);var V=Ln(f,m);E&&V&&(s.rangeCount!==1||s.anchorNode!==E.node||s.anchorOffset!==E.offset||s.focusNode!==V.node||s.focusOffset!==V.offset)&&(a=a.createRange(),a.setStart(E.node,E.offset),s.removeAllRanges(),S>m?(s.addRange(a),s.extend(V.node,V.offset)):(a.setEnd(V.node,V.offset),s.addRange(a)))}}for(a=[],s=f;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)s=a[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Zs=c&&"documentMode"in document&&11>=document.documentMode,Ea=null,cp=null,$o=null,Uu=!1;function Fc(s,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Uu||Ea==null||Ea!==gt(m)||(m=Ea,"selectionStart"in m&&Mc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$o&&et($o,m)||($o=m,m=lf(cp,"onSelect"),0<m.length&&(a=new ss("onSelect","select",null,a,f),s.push({event:a,listeners:m}),a.target=Ea)))}function Dn(s,a){var f={};return f[s.toLowerCase()]=a.toLowerCase(),f["Webkit"+s]="webkit"+a,f["Moz"+s]="moz"+a,f}var Bu={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionend:Dn("Transition","TransitionEnd")},tf={},Uc={};c&&(Uc=document.createElement("div").style,"AnimationEvent"in window||(delete Bu.animationend.animation,delete Bu.animationiteration.animation,delete Bu.animationstart.animation),"TransitionEvent"in window||delete Bu.transitionend.transition);function nf(s){if(tf[s])return tf[s];if(!Bu[s])return s;var a=Bu[s],f;for(f in a)if(a.hasOwnProperty(f)&&f in Uc)return tf[s]=a[f];return s}var Bm=nf("animationend"),Vm=nf("animationiteration"),Bc=nf("animationstart"),Ta=nf("transitionend"),Vc=new Map,hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(s,a){Vc.set(s,a),o(a,[s])}for(var rf=0;rf<hp.length;rf++){var sf=hp[rf],of=sf.toLowerCase(),jm=sf[0].toUpperCase()+sf.slice(1);wo(of,"on"+jm)}wo(Bm,"onAnimationEnd"),wo(Vm,"onAnimationIteration"),wo(Bc,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(Ta,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zl=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function jc(s,a,f){var m=s.type||"unknown-event";s.currentTarget=f,hi(m,a,void 0,s),s.currentTarget=null}function qm(s,a){a=(a&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],E=m.event;m=m.listeners;e:{var S=void 0;if(a)for(var V=m.length-1;0<=V;V--){var Z=m[V],ae=Z.instance,Se=Z.currentTarget;if(Z=Z.listener,ae!==S&&E.isPropagationStopped())break e;jc(E,Z,Se),S=ae}else for(V=0;V<m.length;V++){if(Z=m[V],ae=Z.instance,Se=Z.currentTarget,Z=Z.listener,ae!==S&&E.isPropagationStopped())break e;jc(E,Z,Se),S=ae}}}if(Qt)throw s=qi,Qt=!1,qi=null,s}function fr(s,a){var f=a[hf];f===void 0&&(f=a[hf]=new Set);var m=s+"__bubble";f.has(m)||(af(a,s,2,!1),f.add(m))}function fp(s,a,f){var m=0;a&&(m|=4),af(f,s,m,a)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function el(s){if(!s[Hl]){s[Hl]=!0,r.forEach(function(f){f!=="selectionchange"&&(zl.has(f)||fp(f,!1,s),fp(f,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Hl]||(a[Hl]=!0,fp("selectionchange",!1,a))}}function af(s,a,f,m){switch(on(a)){case 1:var E=ee;break;case 4:E=Ie;break;default:E=It}f=E.bind(null,a,f,s),E=void 0,!nr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(E=!0),m?E!==void 0?s.addEventListener(a,f,{capture:!0,passive:E}):s.addEventListener(a,f,!0):E!==void 0?s.addEventListener(a,f,{passive:E}):s.addEventListener(a,f,!1)}function dp(s,a,f,m,E){var S=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var Z=m.stateNode.containerInfo;if(Z===E||Z.nodeType===8&&Z.parentNode===E)break;if(V===4)for(V=m.return;V!==null;){var ae=V.tag;if((ae===3||ae===4)&&(ae=V.stateNode.containerInfo,ae===E||ae.nodeType===8&&ae.parentNode===E))return;V=V.return}for(;Z!==null;){if(V=Ho(Z),V===null)return;if(ae=V.tag,ae===5||ae===6){m=S=V;continue e}Z=Z.parentNode}}m=m.return}ji(function(){var Se=S,Ve=or(f),ze=[];e:{var Ue=Vc.get(s);if(Ue!==void 0){var tt=ss,at=s;switch(s){case"keypress":if(Xn(f)===0)break e;case"keydown":case"keyup":tt=T;break;case"focusin":at="focus",tt=Gn;break;case"focusout":at="blur",tt=Gn;break;case"beforeblur":case"afterblur":tt=Gn;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Ae;break;case Bm:case Vm:case Bc:tt=vo;break;case Ta:tt=jn;break;case"scroll":tt=_a;break;case"wheel":tt=En;break;case"copy":case"cut":case"paste":tt=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=J}var ht=(a&4)!==0,Dr=!ht&&s==="scroll",ve=ht?Ue!==null?Ue+"Capture":null:Ue;ht=[];for(var de=Se,we;de!==null;){we=de;var He=we.stateNode;if(we.tag===5&&He!==null&&(we=He,ve!==null&&(He=Gt(de,ve),He!=null&&ht.push(Vu(de,He,we)))),Dr)break;de=de.return}0<ht.length&&(Ue=new tt(Ue,at,null,f,Ve),ze.push({event:Ue,listeners:ht}))}}if(!(a&7)){e:{if(Ue=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Ue&&f!==yr&&(at=f.relatedTarget||f.fromElement)&&(Ho(at)||at[js]))break e;if((tt||Ue)&&(Ue=Ve.window===Ve?Ve:(Ue=Ve.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,tt?(at=f.relatedTarget||f.toElement,tt=Se,at=at?Ho(at):null,at!==null&&(Dr=Br(at),at!==Dr||at.tag!==5&&at.tag!==6)&&(at=null)):(tt=null,at=Se),tt!==at)){if(ht=Vl,He="onMouseLeave",ve="onMouseEnter",de="mouse",(s==="pointerout"||s==="pointerover")&&(ht=J,He="onPointerLeave",ve="onPointerEnter",de="pointer"),Dr=tt==null?Ue:Zt(tt),we=at==null?Ue:Zt(at),Ue=new ht(He,de+"leave",tt,f,Ve),Ue.target=Dr,Ue.relatedTarget=we,He=null,Ho(Ve)===Se&&(ht=new ht(ve,de+"enter",at,f,Ve),ht.target=we,ht.relatedTarget=Dr,He=ht),Dr=He,tt&&at)t:{for(ht=tt,ve=at,de=0,we=ht;we;we=ju(we))de++;for(we=0,He=ve;He;He=ju(He))we++;for(;0<de-we;)ht=ju(ht),de--;for(;0<we-de;)ve=ju(ve),we--;for(;de--;){if(ht===ve||ve!==null&&ht===ve.alternate)break t;ht=ju(ht),ve=ju(ve)}ht=null}else ht=null;tt!==null&&ti(ze,Ue,tt,ht,!1),at!==null&&Dr!==null&&ti(ze,Dr,at,ht,!0)}}e:{if(Ue=Se?Zt(Se):window,tt=Ue.nodeName&&Ue.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Ue.type==="file")var ft=tv;else if(Yh(Ue))if($l)ft=ge;else{ft=rv;var Et=nv}else(tt=Ue.nodeName)&&tt.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(ft=Fu);if(ft&&(ft=ft(s,Se))){up(ze,ft,f,Ve);break e}Et&&Et(s,Ue,Se),s==="focusout"&&(Et=Ue._wrapperState)&&Et.controlled&&Ue.type==="number"&&Qn(Ue,"number",Ue.value)}switch(Et=Se?Zt(Se):window,s){case"focusin":(Yh(Et)||Et.contentEditable==="true")&&(Ea=Et,cp=Se,$o=null);break;case"focusout":$o=cp=Ea=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Fc(ze,f,Ve);break;case"selectionchange":if(Zs)break;case"keydown":case"keyup":Fc(ze,f,Ve)}var Tt;if(Or)e:{switch(s){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else Du?Lm(s,f)&&(Rt="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Rt="onCompositionStart");Rt&&(Ya&&f.locale!=="ko"&&(Du||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Du&&(Tt=jr()):(St=Ve,an="value"in St?St.value:St.textContent,Du=!0)),Et=lf(Se,Rt),0<Et.length&&(Rt=new Dc(Rt,s,null,f,Ve),ze.push({event:Rt,listeners:Et}),Tt?Rt.data=Tt:(Tt=Dm(f),Tt!==null&&(Rt.data=Tt)))),(Tt=Ts?Mu(s,f):Y_(s,f))&&(Se=lf(Se,"onBeforeInput"),0<Se.length&&(Ve=new Dc("onBeforeInput","beforeinput",null,f,Ve),ze.push({event:Ve,listeners:Se}),Ve.data=Tt))}qm(ze,a)})}function Vu(s,a,f){return{instance:s,listener:a,currentTarget:f}}function lf(s,a){for(var f=a+"Capture",m=[];s!==null;){var E=s,S=E.stateNode;E.tag===5&&S!==null&&(E=S,S=Gt(s,f),S!=null&&m.unshift(Vu(s,S,E)),S=Gt(s,a),S!=null&&m.push(Vu(s,S,E))),s=s.return}return m}function ju(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ti(s,a,f,m,E){for(var S=a._reactName,V=[];f!==null&&f!==m;){var Z=f,ae=Z.alternate,Se=Z.stateNode;if(ae!==null&&ae===m)break;Z.tag===5&&Se!==null&&(Z=Se,E?(ae=Gt(f,S),ae!=null&&V.unshift(Vu(f,ae,Z))):E||(ae=Gt(f,S),ae!=null&&V.push(Vu(f,ae,Z)))),f=f.return}V.length!==0&&s.push({event:a,listeners:V})}var Gi=/\r\n?/g,sv=/\u0000|\uFFFD/g;function $m(s){return(typeof s=="string"?s:""+s).replace(Gi,`
`).replace(sv,"")}function qc(s,a,f){if(a=$m(a),$m(s)!==a&&f)throw Error(t(425))}function uf(){}var $c=null,Wl=null;function zc(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,Hc=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,cf=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(s){return qu.resolve(null).then(s).catch($u)}:tl;function $u(s){setTimeout(function(){throw s})}function pp(s,a){var f=a,m=0;do{var E=f.nextSibling;if(s.removeChild(f),E&&E.nodeType===8)if(f=E.data,f==="/$"){if(m===0){s.removeChild(E),tn(a);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=E}while(f);tn(a)}function nl(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function zm(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return s;a--}else f==="/$"&&a++}s=s.previousSibling}return null}var zu=Math.random().toString(36).slice(2),zo="__reactFiber$"+zu,rl="__reactProps$"+zu,js="__reactContainer$"+zu,hf="__reactEvents$"+zu,H="__reactListeners$"+zu,Hu="__reactHandles$"+zu;function Ho(s){var a=s[zo];if(a)return a;for(var f=s.parentNode;f;){if(a=f[js]||f[zo]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(s=zm(s);s!==null;){if(f=s[zo])return f;s=zm(s)}return a}s=f,f=s.parentNode}return null}function Ki(s){return s=s[zo]||s[js],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Zt(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ff(s){return s[rl]||null}var gp=[],Wu=-1;function bs(s){return{current:s}}function dr(s){0>Wu||(s.current=gp[Wu],gp[Wu]=null,Wu--)}function ar(s,a){Wu++,gp[Wu]=s.current,s.current=a}var il={},Ji=bs(il),Ss=bs(!1),os=il;function Gu(s,a){var f=s.type.contextTypes;if(!f)return il;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var E={},S;for(S in f)E[S]=a[S];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=E),E}function As(s){return s=s.childContextTypes,s!=null}function df(){dr(Ss),dr(Ji)}function Hm(s,a,f){if(Ji.current!==il)throw Error(t(168));ar(Ji,a),ar(Ss,f)}function Wm(s,a,f){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var E in m)if(!(E in a))throw Error(t(108,$e(s)||"Unknown",E));return Y({},f,m)}function eo(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||il,os=Ji.current,ar(Ji,s),ar(Ss,Ss.current),!0}function Gm(s,a,f){var m=s.stateNode;if(!m)throw Error(t(169));f?(s=Wm(s,a,os),m.__reactInternalMemoizedMergedChildContext=s,dr(Ss),dr(Ji),ar(Ji,s)):dr(Ss),ar(Ss,f)}var Sa=null,pf=!1,mp=!1;function Km(s){Sa===null?Sa=[s]:Sa.push(s)}function Gl(s){pf=!0,Km(s)}function sl(){if(!mp&&Sa!==null){mp=!0;var s=0,a=vt;try{var f=Sa;for(vt=1;s<f.length;s++){var m=f[s];do m=m(!0);while(m!==null)}Sa=null,pf=!1}catch(E){throw Sa!==null&&(Sa=Sa.slice(s+1)),me(he,sl),E}finally{vt=a,mp=!1}}return null}var Ku=[],Qi=0,gf=null,mf=0,to=[],no=0,Kl=null,Wo=1,Go="";function Jl(s,a){Ku[Qi++]=mf,Ku[Qi++]=gf,gf=s,mf=a}function Jm(s,a,f){to[no++]=Wo,to[no++]=Go,to[no++]=Kl,Kl=s;var m=Wo;s=Go;var E=32-Yt(m)-1;m&=~(1<<E),f+=1;var S=32-Yt(a)+E;if(30<S){var V=E-E%5;S=(m&(1<<V)-1).toString(32),m>>=V,E-=V,Wo=1<<32-Yt(a)+E|f<<E|m,Go=S+s}else Wo=1<<S|f<<E|m,Go=s}function Wc(s){s.return!==null&&(Jl(s,1),Jm(s,1,0))}function Ql(s){for(;s===gf;)gf=Ku[--Qi],Ku[Qi]=null,mf=Ku[--Qi],Ku[Qi]=null;for(;s===Kl;)Kl=to[--no],to[no]=null,Go=to[--no],to[no]=null,Wo=to[--no],to[no]=null}var Xi=null,qs=null,pr=!1,Eo=null;function Ko(s,a){var f=uo(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=s,a=s.deletions,a===null?(s.deletions=[f],s.flags|=16):a.push(f)}function yf(s,a){switch(s.tag){case 5:var f=s.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Xi=s,qs=nl(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Xi=s,qs=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=Kl!==null?{id:Wo,overflow:Go}:null,s.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=uo(18,null,null,0),f.stateNode=a,f.return=s,s.child=f,Xi=s,qs=null,!0):!1;default:return!1}}function Aa(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cs(s){if(pr){var a=qs;if(a){var f=a;if(!yf(s,a)){if(Aa(s))throw Error(t(418));a=nl(f.nextSibling);var m=Xi;a&&yf(s,a)?Ko(m,f):(s.flags=s.flags&-4097|2,pr=!1,Xi=s)}}else{if(Aa(s))throw Error(t(418));s.flags=s.flags&-4097|2,pr=!1,Xi=s}}}function Qm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xi=s}function Gc(s){if(s!==Xi)return!1;if(!pr)return Qm(s),pr=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!zc(s.type,s.memoizedProps)),a&&(a=qs)){if(Aa(s))throw yp(),Error(t(418));for(;a;)Ko(s,a),a=nl(a.nextSibling)}if(Qm(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(a===0){qs=nl(s.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}s=s.nextSibling}qs=null}}else qs=Xi?nl(s.stateNode.nextSibling):null;return!0}function yp(){for(var s=qs;s;)s=nl(s.nextSibling)}function Jo(){qs=Xi=null,pr=!1}function Qo(s){Eo===null?Eo=[s]:Eo.push(s)}var Xm=M.ReactCurrentBatchConfig;function Kc(s,a,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var m=f.stateNode}if(!m)throw Error(t(147,s));var E=m,S=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(V){var Z=E.refs;V===null?delete Z[S]:Z[S]=V},a._stringRef=S,a)}if(typeof s!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,s))}return s}function Xl(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Ym(s){var a=s._init;return a(s._payload)}function _p(s){function a(ve,de){if(s){var we=ve.deletions;we===null?(ve.deletions=[de],ve.flags|=16):we.push(de)}}function f(ve,de){if(!s)return null;for(;de!==null;)a(ve,de),de=de.sibling;return null}function m(ve,de){for(ve=new Map;de!==null;)de.key!==null?ve.set(de.key,de):ve.set(de.index,de),de=de.sibling;return ve}function E(ve,de){return ve=Io(ve,de),ve.index=0,ve.sibling=null,ve}function S(ve,de,we){return ve.index=we,s?(we=ve.alternate,we!==null?(we=we.index,we<de?(ve.flags|=2,de):we):(ve.flags|=2,de)):(ve.flags|=1048576,de)}function V(ve){return s&&ve.alternate===null&&(ve.flags|=2),ve}function Z(ve,de,we,He){return de===null||de.tag!==6?(de=ig(we,ve.mode,He),de.return=ve,de):(de=E(de,we),de.return=ve,de)}function ae(ve,de,we,He){var ft=we.type;return ft===U?Ve(ve,de,we.props.children,He,we.key):de!==null&&(de.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===re&&Ym(ft)===de.type)?(He=E(de,we.props),He.ref=Kc(ve,de,we),He.return=ve,He):(He=Yf(we.type,we.key,we.props,null,ve.mode,He),He.ref=Kc(ve,de,we),He.return=ve,He)}function Se(ve,de,we,He){return de===null||de.tag!==4||de.stateNode.containerInfo!==we.containerInfo||de.stateNode.implementation!==we.implementation?(de=sg(we,ve.mode,He),de.return=ve,de):(de=E(de,we.children||[]),de.return=ve,de)}function Ve(ve,de,we,He,ft){return de===null||de.tag!==7?(de=lu(we,ve.mode,He,ft),de.return=ve,de):(de=E(de,we),de.return=ve,de)}function ze(ve,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return de=ig(""+de,ve.mode,we),de.return=ve,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case $:return we=Yf(de.type,de.key,de.props,null,ve.mode,we),we.ref=Kc(ve,null,de),we.return=ve,we;case G:return de=sg(de,ve.mode,we),de.return=ve,de;case re:var He=de._init;return ze(ve,He(de._payload),we)}if(cn(de)||ne(de))return de=lu(de,ve.mode,we,null),de.return=ve,de;Xl(ve,de)}return null}function Ue(ve,de,we,He){var ft=de!==null?de.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return ft!==null?null:Z(ve,de,""+we,He);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case $:return we.key===ft?ae(ve,de,we,He):null;case G:return we.key===ft?Se(ve,de,we,He):null;case re:return ft=we._init,Ue(ve,de,ft(we._payload),He)}if(cn(we)||ne(we))return ft!==null?null:Ve(ve,de,we,He,null);Xl(ve,we)}return null}function tt(ve,de,we,He,ft){if(typeof He=="string"&&He!==""||typeof He=="number")return ve=ve.get(we)||null,Z(de,ve,""+He,ft);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case $:return ve=ve.get(He.key===null?we:He.key)||null,ae(de,ve,He,ft);case G:return ve=ve.get(He.key===null?we:He.key)||null,Se(de,ve,He,ft);case re:var Et=He._init;return tt(ve,de,we,Et(He._payload),ft)}if(cn(He)||ne(He))return ve=ve.get(we)||null,Ve(de,ve,He,ft,null);Xl(de,He)}return null}function at(ve,de,we,He){for(var ft=null,Et=null,Tt=de,Rt=de=0,yi=null;Tt!==null&&Rt<we.length;Rt++){Tt.index>Rt?(yi=Tt,Tt=null):yi=Tt.sibling;var Mn=Ue(ve,Tt,we[Rt],He);if(Mn===null){Tt===null&&(Tt=yi);break}s&&Tt&&Mn.alternate===null&&a(ve,Tt),de=S(Mn,de,Rt),Et===null?ft=Mn:Et.sibling=Mn,Et=Mn,Tt=yi}if(Rt===we.length)return f(ve,Tt),pr&&Jl(ve,Rt),ft;if(Tt===null){for(;Rt<we.length;Rt++)Tt=ze(ve,we[Rt],He),Tt!==null&&(de=S(Tt,de,Rt),Et===null?ft=Tt:Et.sibling=Tt,Et=Tt);return pr&&Jl(ve,Rt),ft}for(Tt=m(ve,Tt);Rt<we.length;Rt++)yi=tt(Tt,ve,Rt,we[Rt],He),yi!==null&&(s&&yi.alternate!==null&&Tt.delete(yi.key===null?Rt:yi.key),de=S(yi,de,Rt),Et===null?ft=yi:Et.sibling=yi,Et=yi);return s&&Tt.forEach(function(yl){return a(ve,yl)}),pr&&Jl(ve,Rt),ft}function ht(ve,de,we,He){var ft=ne(we);if(typeof ft!="function")throw Error(t(150));if(we=ft.call(we),we==null)throw Error(t(151));for(var Et=ft=null,Tt=de,Rt=de=0,yi=null,Mn=we.next();Tt!==null&&!Mn.done;Rt++,Mn=we.next()){Tt.index>Rt?(yi=Tt,Tt=null):yi=Tt.sibling;var yl=Ue(ve,Tt,Mn.value,He);if(yl===null){Tt===null&&(Tt=yi);break}s&&Tt&&yl.alternate===null&&a(ve,Tt),de=S(yl,de,Rt),Et===null?ft=yl:Et.sibling=yl,Et=yl,Tt=yi}if(Mn.done)return f(ve,Tt),pr&&Jl(ve,Rt),ft;if(Tt===null){for(;!Mn.done;Rt++,Mn=we.next())Mn=ze(ve,Mn.value,He),Mn!==null&&(de=S(Mn,de,Rt),Et===null?ft=Mn:Et.sibling=Mn,Et=Mn);return pr&&Jl(ve,Rt),ft}for(Tt=m(ve,Tt);!Mn.done;Rt++,Mn=we.next())Mn=tt(Tt,ve,Rt,Mn.value,He),Mn!==null&&(s&&Mn.alternate!==null&&Tt.delete(Mn.key===null?Rt:Mn.key),de=S(Mn,de,Rt),Et===null?ft=Mn:Et.sibling=Mn,Et=Mn);return s&&Tt.forEach(function(Sv){return a(ve,Sv)}),pr&&Jl(ve,Rt),ft}function Dr(ve,de,we,He){if(typeof we=="object"&&we!==null&&we.type===U&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case $:e:{for(var ft=we.key,Et=de;Et!==null;){if(Et.key===ft){if(ft=we.type,ft===U){if(Et.tag===7){f(ve,Et.sibling),de=E(Et,we.props.children),de.return=ve,ve=de;break e}}else if(Et.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===re&&Ym(ft)===Et.type){f(ve,Et.sibling),de=E(Et,we.props),de.ref=Kc(ve,Et,we),de.return=ve,ve=de;break e}f(ve,Et);break}else a(ve,Et);Et=Et.sibling}we.type===U?(de=lu(we.props.children,ve.mode,He,we.key),de.return=ve,ve=de):(He=Yf(we.type,we.key,we.props,null,ve.mode,He),He.ref=Kc(ve,de,we),He.return=ve,ve=He)}return V(ve);case G:e:{for(Et=we.key;de!==null;){if(de.key===Et)if(de.tag===4&&de.stateNode.containerInfo===we.containerInfo&&de.stateNode.implementation===we.implementation){f(ve,de.sibling),de=E(de,we.children||[]),de.return=ve,ve=de;break e}else{f(ve,de);break}else a(ve,de);de=de.sibling}de=sg(we,ve.mode,He),de.return=ve,ve=de}return V(ve);case re:return Et=we._init,Dr(ve,de,Et(we._payload),He)}if(cn(we))return at(ve,de,we,He);if(ne(we))return ht(ve,de,we,He);Xl(ve,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,de!==null&&de.tag===6?(f(ve,de.sibling),de=E(de,we),de.return=ve,ve=de):(f(ve,de),de=ig(we,ve.mode,He),de.return=ve,ve=de),V(ve)):f(ve,de)}return Dr}var Lr=_p(!0),_f=_p(!1),Jc=bs(null),$s=null,ol=null,Ju=null;function Ca(){Ju=ol=$s=null}function vf(s){var a=Jc.current;dr(Jc),s._currentValue=a}function Pi(s,a,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===f)break;s=s.return}}function al(s,a){$s=s,Ju=ol=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(ls=!0),s.firstContext=null)}function ro(s){var a=s._currentValue;if(Ju!==s)if(s={context:s,memoizedValue:a,next:null},ol===null){if($s===null)throw Error(t(308));ol=s,$s.dependencies={lanes:0,firstContext:s}}else ol=ol.next=s;return a}var Yl=null;function vp(s){Yl===null?Yl=[s]:Yl.push(s)}function wf(s,a,f,m){var E=a.interleaved;return E===null?(f.next=f,vp(a)):(f.next=E.next,E.next=f),a.interleaved=f,xa(s,m)}function xa(s,a){s.lanes|=a;var f=s.alternate;for(f!==null&&(f.lanes|=a),f=s,s=s.return;s!==null;)s.childLanes|=a,f=s.alternate,f!==null&&(f.childLanes|=a),f=s,s=s.return;return f.tag===3?f.stateNode:null}var io=!1;function Ef(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ia(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function so(s,a,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,kn&2){var E=m.pending;return E===null?a.next=a:(a.next=E.next,E.next=a),m.pending=a,xa(s,f)}return E=m.interleaved,E===null?(a.next=a,vp(m)):(a.next=E.next,E.next=a),m.interleaved=a,xa(s,f)}function Tf(s,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,f|=m,a.lanes=f,rr(s,f)}}function ey(s,a){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var E=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?E=S=V:S=S.next=V,f=f.next}while(f!==null);S===null?E=S=a:S=S.next=a}else E=S=a;f={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:S,shared:m.shared,effects:m.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=a:s.next=a,f.lastBaseUpdate=a}function Qu(s,a,f,m){var E=s.updateQueue;io=!1;var S=E.firstBaseUpdate,V=E.lastBaseUpdate,Z=E.shared.pending;if(Z!==null){E.shared.pending=null;var ae=Z,Se=ae.next;ae.next=null,V===null?S=Se:V.next=Se,V=ae;var Ve=s.alternate;Ve!==null&&(Ve=Ve.updateQueue,Z=Ve.lastBaseUpdate,Z!==V&&(Z===null?Ve.firstBaseUpdate=Se:Z.next=Se,Ve.lastBaseUpdate=ae))}if(S!==null){var ze=E.baseState;V=0,Ve=Se=ae=null,Z=S;do{var Ue=Z.lane,tt=Z.eventTime;if((m&Ue)===Ue){Ve!==null&&(Ve=Ve.next={eventTime:tt,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var at=s,ht=Z;switch(Ue=a,tt=f,ht.tag){case 1:if(at=ht.payload,typeof at=="function"){ze=at.call(tt,ze,Ue);break e}ze=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ht.payload,Ue=typeof at=="function"?at.call(tt,ze,Ue):at,Ue==null)break e;ze=Y({},ze,Ue);break e;case 2:io=!0}}Z.callback!==null&&Z.lane!==0&&(s.flags|=64,Ue=E.effects,Ue===null?E.effects=[Z]:Ue.push(Z))}else tt={eventTime:tt,lane:Ue,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ve===null?(Se=Ve=tt,ae=ze):Ve=Ve.next=tt,V|=Ue;if(Z=Z.next,Z===null){if(Z=E.shared.pending,Z===null)break;Ue=Z,Z=Ue.next,Ue.next=null,E.lastBaseUpdate=Ue,E.shared.pending=null}}while(!0);if(Ve===null&&(ae=ze),E.baseState=ae,E.firstBaseUpdate=Se,E.lastBaseUpdate=Ve,a=E.shared.interleaved,a!==null){E=a;do V|=E.lane,E=E.next;while(E!==a)}else S===null&&(E.shared.lanes=0);fl|=V,s.lanes=V,s.memoizedState=ze}}function wp(s,a,f){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],E=m.callback;if(E!==null){if(m.callback=null,m=f,typeof E!="function")throw Error(t(191,E));E.call(m)}}}var Qc={},Xo=bs(Qc),Xc=bs(Qc),Xu=bs(Qc);function Ra(s){if(s===Qc)throw Error(t(174));return s}function Ep(s,a){switch(ar(Xu,a),ar(Xc,s),ar(Xo,Qc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:wt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=wt(a,s)}dr(Xo),ar(Xo,a)}function ll(){dr(Xo),dr(Xc),dr(Xu)}function Tp(s){Ra(Xu.current);var a=Ra(Xo.current),f=wt(a,s.type);a!==f&&(ar(Xc,s),ar(Xo,f))}function bf(s){Xc.current===s&&(dr(Xo),dr(Xc))}var Er=bs(0);function Zl(s){for(var a=s;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bp=[];function Sf(){for(var s=0;s<bp.length;s++)bp[s]._workInProgressVersionPrimary=null;bp.length=0}var Yc=M.ReactCurrentDispatcher,Sp=M.ReactCurrentBatchConfig,ul=0,Cr=null,qr=null,gi=null,Yu=!1,Zc=!1,eu=0,ln=0;function Yi(){throw Error(t(321))}function Ap(s,a){if(a===null)return!1;for(var f=0;f<a.length&&f<s.length;f++)if(!Ee(s[f],a[f]))return!1;return!0}function tu(s,a,f,m,E,S){if(ul=S,Cr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Yc.current=s===null||s.memoizedState===null?av:Nf,s=f(m,E),Zc){S=0;do{if(Zc=!1,eu=0,25<=S)throw Error(t(301));S+=1,gi=qr=null,a.updateQueue=null,Yc.current=nc,s=f(m,E)}while(Zc)}if(Yc.current=kf,a=qr!==null&&qr.next!==null,ul=0,gi=qr=Cr=null,Yu=!1,a)throw Error(t(300));return s}function Af(){var s=eu!==0;return eu=0,s}function Yo(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?Cr.memoizedState=gi=s:gi=gi.next=s,gi}function oo(){if(qr===null){var s=Cr.alternate;s=s!==null?s.memoizedState:null}else s=qr.next;var a=gi===null?Cr.memoizedState:gi.next;if(a!==null)gi=a,qr=s;else{if(s===null)throw Error(t(310));qr=s,s={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},gi===null?Cr.memoizedState=gi=s:gi=gi.next=s}return gi}function Zi(s,a){return typeof a=="function"?a(s):a}function Cp(s){var a=oo(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=qr,E=m.baseQueue,S=f.pending;if(S!==null){if(E!==null){var V=E.next;E.next=S.next,S.next=V}m.baseQueue=E=S,f.pending=null}if(E!==null){S=E.next,m=m.baseState;var Z=V=null,ae=null,Se=S;do{var Ve=Se.lane;if((ul&Ve)===Ve)ae!==null&&(ae=ae.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),m=Se.hasEagerState?Se.eagerState:s(m,Se.action);else{var ze={lane:Ve,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};ae===null?(Z=ae=ze,V=m):ae=ae.next=ze,Cr.lanes|=Ve,fl|=Ve}Se=Se.next}while(Se!==null&&Se!==S);ae===null?V=m:ae.next=Z,Ee(m,a.memoizedState)||(ls=!0),a.memoizedState=m,a.baseState=V,a.baseQueue=ae,f.lastRenderedState=m}if(s=f.interleaved,s!==null){E=s;do S=E.lane,Cr.lanes|=S,fl|=S,E=E.next;while(E!==s)}else E===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function Zu(s){var a=oo(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=f.dispatch,E=f.pending,S=a.memoizedState;if(E!==null){f.pending=null;var V=E=E.next;do S=s(S,V.action),V=V.next;while(V!==E);Ee(S,a.memoizedState)||(ls=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),f.lastRenderedState=S}return[S,m]}function Cf(){}function xp(s,a){var f=Cr,m=oo(),E=a(),S=!Ee(m.memoizedState,E);if(S&&(m.memoizedState=E,ls=!0),m=m.queue,Zo(ka.bind(null,f,m,s),[s]),m.getSnapshot!==a||S||gi!==null&&gi.memoizedState.tag&1){if(f.flags|=2048,ec(9,xs.bind(null,f,m,E,a),void 0,null),xi===null)throw Error(t(349));ul&30||Ip(f,a,E)}return E}function Ip(s,a,f){s.flags|=16384,s={getSnapshot:a,value:f},a=Cr.updateQueue,a===null?(a={lastEffect:null,stores:null},Cr.updateQueue=a,a.stores=[s]):(f=a.stores,f===null?a.stores=[s]:f.push(s))}function xs(s,a,f,m){a.value=f,a.getSnapshot=m,xf(a)&&Rp(s)}function ka(s,a,f){return f(function(){xf(a)&&Rp(s)})}function xf(s){var a=s.getSnapshot;s=s.value;try{var f=a();return!Ee(s,f)}catch{return!0}}function Rp(s){var a=xa(s,1);a!==null&&xo(a,s,1,-1)}function eh(s){var a=Yo();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},a.queue=s,s=s.dispatch=oy.bind(null,Cr,s),[a.memoizedState,s]}function ec(s,a,f,m){return s={tag:s,create:a,destroy:f,deps:m,next:null},a=Cr.updateQueue,a===null?(a={lastEffect:null,stores:null},Cr.updateQueue=a,a.lastEffect=s.next=s):(f=a.lastEffect,f===null?a.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,a.lastEffect=s)),s}function If(){return oo().memoizedState}function th(s,a,f,m){var E=Yo();Cr.flags|=s,E.memoizedState=ec(1|a,f,void 0,m===void 0?null:m)}function tc(s,a,f,m){var E=oo();m=m===void 0?null:m;var S=void 0;if(qr!==null){var V=qr.memoizedState;if(S=V.destroy,m!==null&&Ap(m,V.deps)){E.memoizedState=ec(a,f,S,m);return}}Cr.flags|=s,E.memoizedState=ec(1|a,f,S,m)}function Rf(s,a){return th(8390656,8,s,a)}function Zo(s,a){return tc(2048,8,s,a)}function ty(s,a){return tc(4,2,s,a)}function Na(s,a){return tc(4,4,s,a)}function kp(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Np(s,a,f){return f=f!=null?f.concat([s]):null,tc(4,4,kp.bind(null,a,s),f)}function nh(){}function ny(s,a){var f=oo();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&Ap(a,m[1])?m[0]:(f.memoizedState=[s,a],s)}function ry(s,a){var f=oo();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&Ap(a,m[1])?m[0]:(s=s(),f.memoizedState=[s,a],s)}function iy(s,a,f){return ul&21?(Ee(f,a)||(f=xt(),Cr.lanes|=f,fl|=f,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,ls=!0),s.memoizedState=f)}function sy(s,a){var f=vt;vt=f!==0&&4>f?f:4,s(!0);var m=Sp.transition;Sp.transition={};try{s(!1),a()}finally{vt=f,Sp.transition=m}}function Pp(){return oo().memoizedState}function ov(s,a,f){var m=gl(s);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},Op(s))as(a,f);else if(f=wf(s,a,f,m),f!==null){var E=hs();xo(f,s,m,E),To(f,a,m)}}function oy(s,a,f){var m=gl(s),E={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(Op(s))as(a,E);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var V=a.lastRenderedState,Z=S(V,f);if(E.hasEagerState=!0,E.eagerState=Z,Ee(Z,V)){var ae=a.interleaved;ae===null?(E.next=E,vp(a)):(E.next=ae.next,ae.next=E),a.interleaved=E;return}}catch{}finally{}f=wf(s,a,E,m),f!==null&&(E=hs(),xo(f,s,m,E),To(f,a,m))}}function Op(s){var a=s.alternate;return s===Cr||a!==null&&a===Cr}function as(s,a){Zc=Yu=!0;var f=s.pending;f===null?a.next=a:(a.next=f.next,f.next=a),s.pending=a}function To(s,a,f){if(f&4194240){var m=a.lanes;m&=s.pendingLanes,f|=m,a.lanes=f,rr(s,f)}}var kf={readContext:ro,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},av={readContext:ro,useCallback:function(s,a){return Yo().memoizedState=[s,a===void 0?null:a],s},useContext:ro,useEffect:Rf,useImperativeHandle:function(s,a,f){return f=f!=null?f.concat([s]):null,th(4194308,4,kp.bind(null,a,s),f)},useLayoutEffect:function(s,a){return th(4194308,4,s,a)},useInsertionEffect:function(s,a){return th(4,2,s,a)},useMemo:function(s,a){var f=Yo();return a=a===void 0?null:a,s=s(),f.memoizedState=[s,a],s},useReducer:function(s,a,f){var m=Yo();return a=f!==void 0?f(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=ov.bind(null,Cr,s),[m.memoizedState,s]},useRef:function(s){var a=Yo();return s={current:s},a.memoizedState=s},useState:eh,useDebugValue:nh,useDeferredValue:function(s){return Yo().memoizedState=s},useTransition:function(){var s=eh(!1),a=s[0];return s=sy.bind(null,s[1]),Yo().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,f){var m=Cr,E=Yo();if(pr){if(f===void 0)throw Error(t(407));f=f()}else{if(f=a(),xi===null)throw Error(t(349));ul&30||Ip(m,a,f)}E.memoizedState=f;var S={value:f,getSnapshot:a};return E.queue=S,Rf(ka.bind(null,m,S,s),[s]),m.flags|=2048,ec(9,xs.bind(null,m,S,f,a),void 0,null),f},useId:function(){var s=Yo(),a=xi.identifierPrefix;if(pr){var f=Go,m=Wo;f=(m&~(1<<32-Yt(m)-1)).toString(32)+f,a=":"+a+"R"+f,f=eu++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=ln++,a=":"+a+"r"+f.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Nf={readContext:ro,useCallback:ny,useContext:ro,useEffect:Zo,useImperativeHandle:Np,useInsertionEffect:ty,useLayoutEffect:Na,useMemo:ry,useReducer:Cp,useRef:If,useState:function(){return Cp(Zi)},useDebugValue:nh,useDeferredValue:function(s){var a=oo();return iy(a,qr.memoizedState,s)},useTransition:function(){var s=Cp(Zi)[0],a=oo().memoizedState;return[s,a]},useMutableSource:Cf,useSyncExternalStore:xp,useId:Pp,unstable_isNewReconciler:!1},nc={readContext:ro,useCallback:ny,useContext:ro,useEffect:Zo,useImperativeHandle:Np,useInsertionEffect:ty,useLayoutEffect:Na,useMemo:ry,useReducer:Zu,useRef:If,useState:function(){return Zu(Zi)},useDebugValue:nh,useDeferredValue:function(s){var a=oo();return qr===null?a.memoizedState=s:iy(a,qr.memoizedState,s)},useTransition:function(){var s=Zu(Zi)[0],a=oo().memoizedState;return[s,a]},useMutableSource:Cf,useSyncExternalStore:xp,useId:Pp,unstable_isNewReconciler:!1};function ao(s,a){if(s&&s.defaultProps){a=Y({},a),s=s.defaultProps;for(var f in s)a[f]===void 0&&(a[f]=s[f]);return a}return a}function Pf(s,a,f,m){a=s.memoizedState,f=f(m,a),f=f==null?a:Y({},a,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Of={isMounted:function(s){return(s=s._reactInternals)?Br(s)===s:!1},enqueueSetState:function(s,a,f){s=s._reactInternals;var m=hs(),E=gl(s),S=Ia(m,E);S.payload=a,f!=null&&(S.callback=f),a=so(s,S,E),a!==null&&(xo(a,s,E,m),Tf(a,s,E))},enqueueReplaceState:function(s,a,f){s=s._reactInternals;var m=hs(),E=gl(s),S=Ia(m,E);S.tag=1,S.payload=a,f!=null&&(S.callback=f),a=so(s,S,E),a!==null&&(xo(a,s,E,m),Tf(a,s,E))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var f=hs(),m=gl(s),E=Ia(f,m);E.tag=2,a!=null&&(E.callback=a),a=so(s,E,m),a!==null&&(xo(a,s,m,f),Tf(a,s,m))}};function Lp(s,a,f,m,E,S,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,V):a.prototype&&a.prototype.isPureReactComponent?!et(f,m)||!et(E,S):!0}function nu(s,a,f){var m=!1,E=il,S=a.contextType;return typeof S=="object"&&S!==null?S=ro(S):(E=As(a)?os:Ji.current,m=a.contextTypes,S=(m=m!=null)?Gu(s,E):il),a=new a(f,S),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Of,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=E,s.__reactInternalMemoizedMaskedChildContext=S),a}function rc(s,a,f,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==s&&Of.enqueueReplaceState(a,a.state,null)}function Dp(s,a,f,m){var E=s.stateNode;E.props=f,E.state=s.memoizedState,E.refs={},Ef(s);var S=a.contextType;typeof S=="object"&&S!==null?E.context=ro(S):(S=As(a)?os:Ji.current,E.context=Gu(s,S)),E.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Pf(s,a,S,f),E.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(a=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),a!==E.state&&Of.enqueueReplaceState(E,E.state,null),Qu(s,f,E,m),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308)}function ru(s,a){try{var f="",m=a;do f+=xe(m),m=m.return;while(m);var E=f}catch(S){E=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:a,stack:E,digest:null}}function Lf(s,a,f){return{value:s,source:null,stack:f??null,digest:a??null}}function ic(s,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var ay=typeof WeakMap=="function"?WeakMap:Map;function rh(s,a,f){f=Ia(-1,f),f.tag=3,f.payload={element:null};var m=a.value;return f.callback=function(){Hf||(Hf=!0,Xp=m),ic(s,a)},f}function Df(s,a,f){f=Ia(-1,f),f.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var E=a.value;f.payload=function(){return m(E)},f.callback=function(){ic(s,a)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){ic(s,a),typeof m!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var V=a.stack;this.componentDidCatch(a.value,{componentStack:V!==null?V:""})}),f}function ih(s,a,f){var m=s.pingCache;if(m===null){m=s.pingCache=new ay;var E=new Set;m.set(a,E)}else E=m.get(a),E===void 0&&(E=new Set,m.set(a,E));E.has(f)||(E.add(f),s=gv.bind(null,s,a,f),a.then(s,s))}function ly(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Mp(s,a,f,m,E){return s.mode&1?(s.flags|=65536,s.lanes=E,s):(s===a?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=Ia(-1,1),a.tag=2,so(f,a,1))),f.lanes|=1),s)}var Mf=M.ReactCurrentOwner,ls=!1;function Oi(s,a,f,m){a.child=s===null?_f(a,null,f,m):Lr(a,s.child,f,m)}function uy(s,a,f,m,E){f=f.render;var S=a.ref;return al(a,E),m=tu(s,a,f,m,S,E),f=Af(),s!==null&&!ls?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~E,bo(s,a,E)):(pr&&f&&Wc(a),a.flags|=1,Oi(s,a,m,E),a.child)}function Fp(s,a,f,m,E){if(s===null){var S=f.type;return typeof S=="function"&&!Xf(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=S,ea(s,a,S,m,E)):(s=Yf(f.type,null,m,a,a.mode,E),s.ref=a.ref,s.return=a,a.child=s)}if(S=s.child,!(s.lanes&E)){var V=S.memoizedProps;if(f=f.compare,f=f!==null?f:et,f(V,m)&&s.ref===a.ref)return bo(s,a,E)}return a.flags|=1,s=Io(S,m),s.ref=a.ref,s.return=a,a.child=s}function ea(s,a,f,m,E){if(s!==null){var S=s.memoizedProps;if(et(S,m)&&s.ref===a.ref)if(ls=!1,a.pendingProps=m=S,(s.lanes&E)!==0)s.flags&131072&&(ls=!0);else return a.lanes=s.lanes,bo(s,a,E)}return Vp(s,a,f,m,E)}function Up(s,a,f){var m=a.pendingProps,E=m.children,S=s!==null?s.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(lc,Hs),Hs|=f;else{if(!(f&1073741824))return s=S!==null?S.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ar(lc,Hs),Hs|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:f,ar(lc,Hs),Hs|=m}else S!==null?(m=S.baseLanes|f,a.memoizedState=null):m=f,ar(lc,Hs),Hs|=m;return Oi(s,a,E,f),a.child}function Bp(s,a){var f=a.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function Vp(s,a,f,m,E){var S=As(f)?os:Ji.current;return S=Gu(a,S),al(a,E),f=tu(s,a,f,m,S,E),m=Af(),s!==null&&!ls?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~E,bo(s,a,E)):(pr&&m&&Wc(a),a.flags|=1,Oi(s,a,f,E),a.child)}function jp(s,a,f,m,E){if(As(f)){var S=!0;eo(a)}else S=!1;if(al(a,E),a.stateNode===null)Uf(s,a),nu(a,f,m),Dp(a,f,m,E),m=!0;else if(s===null){var V=a.stateNode,Z=a.memoizedProps;V.props=Z;var ae=V.context,Se=f.contextType;typeof Se=="object"&&Se!==null?Se=ro(Se):(Se=As(f)?os:Ji.current,Se=Gu(a,Se));var Ve=f.getDerivedStateFromProps,ze=typeof Ve=="function"||typeof V.getSnapshotBeforeUpdate=="function";ze||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Z!==m||ae!==Se)&&rc(a,V,m,Se),io=!1;var Ue=a.memoizedState;V.state=Ue,Qu(a,m,V,E),ae=a.memoizedState,Z!==m||Ue!==ae||Ss.current||io?(typeof Ve=="function"&&(Pf(a,f,Ve,m),ae=a.memoizedState),(Z=io||Lp(a,f,Z,m,Ue,ae,Se))?(ze||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(a.flags|=4194308)):(typeof V.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=ae),V.props=m,V.state=ae,V.context=Se,m=Z):(typeof V.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{V=a.stateNode,Zm(s,a),Z=a.memoizedProps,Se=a.type===a.elementType?Z:ao(a.type,Z),V.props=Se,ze=a.pendingProps,Ue=V.context,ae=f.contextType,typeof ae=="object"&&ae!==null?ae=ro(ae):(ae=As(f)?os:Ji.current,ae=Gu(a,ae));var tt=f.getDerivedStateFromProps;(Ve=typeof tt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Z!==ze||Ue!==ae)&&rc(a,V,m,ae),io=!1,Ue=a.memoizedState,V.state=Ue,Qu(a,m,V,E);var at=a.memoizedState;Z!==ze||Ue!==at||Ss.current||io?(typeof tt=="function"&&(Pf(a,f,tt,m),at=a.memoizedState),(Se=io||Lp(a,f,Se,m,Ue,at,ae)||!1)?(Ve||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(m,at,ae),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(m,at,ae)),typeof V.componentDidUpdate=="function"&&(a.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof V.componentDidUpdate!="function"||Z===s.memoizedProps&&Ue===s.memoizedState||(a.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Z===s.memoizedProps&&Ue===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=at),V.props=m,V.state=at,V.context=ae,m=Se):(typeof V.componentDidUpdate!="function"||Z===s.memoizedProps&&Ue===s.memoizedState||(a.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Z===s.memoizedProps&&Ue===s.memoizedState||(a.flags|=1024),m=!1)}return qp(s,a,f,m,S,E)}function qp(s,a,f,m,E,S){Bp(s,a);var V=(a.flags&128)!==0;if(!m&&!V)return E&&Gm(a,f,!1),bo(s,a,S);m=a.stateNode,Mf.current=a;var Z=V&&typeof f.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&V?(a.child=Lr(a,s.child,null,S),a.child=Lr(a,null,Z,S)):Oi(s,a,Z,S),a.memoizedState=m.state,E&&Gm(a,f,!0),a.child}function cy(s){var a=s.stateNode;a.pendingContext?Hm(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Hm(s,a.context,!1),Ep(s,a.containerInfo)}function ta(s,a,f,m,E){return Jo(),Qo(E),a.flags|=256,Oi(s,a,f,m),a.child}var sh={dehydrated:null,treeContext:null,retryLane:0};function oh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ff(s,a,f){var m=a.pendingProps,E=Er.current,S=!1,V=(a.flags&128)!==0,Z;if((Z=V)||(Z=s!==null&&s.memoizedState===null?!1:(E&2)!==0),Z?(S=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(E|=1),ar(Er,E&1),s===null)return Cs(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(V=m.children,s=m.fallback,S?(m=a.mode,S=a.child,V={mode:"hidden",children:V},!(m&1)&&S!==null?(S.childLanes=0,S.pendingProps=V):S=Zf(V,m,0,null),s=lu(s,m,f,null),S.return=a,s.return=a,S.sibling=s,a.child=S,a.child.memoizedState=oh(f),a.memoizedState=sh,s):sc(a,V));if(E=s.memoizedState,E!==null&&(Z=E.dehydrated,Z!==null))return bt(s,a,V,m,Z,E,f);if(S){S=m.fallback,V=a.mode,E=s.child,Z=E.sibling;var ae={mode:"hidden",children:m.children};return!(V&1)&&a.child!==E?(m=a.child,m.childLanes=0,m.pendingProps=ae,a.deletions=null):(m=Io(E,ae),m.subtreeFlags=E.subtreeFlags&14680064),Z!==null?S=Io(Z,S):(S=lu(S,V,f,null),S.flags|=2),S.return=a,m.return=a,m.sibling=S,a.child=m,m=S,S=a.child,V=s.child.memoizedState,V=V===null?oh(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},S.memoizedState=V,S.childLanes=s.childLanes&~f,a.memoizedState=sh,m}return S=s.child,s=S.sibling,m=Io(S,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=f),m.return=a,m.sibling=null,s!==null&&(f=a.deletions,f===null?(a.deletions=[s],a.flags|=16):f.push(s)),a.child=m,a.memoizedState=null,m}function sc(s,a){return a=Zf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Pa(s,a,f,m){return m!==null&&Qo(m),Lr(a,s.child,null,f),s=sc(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function bt(s,a,f,m,E,S,V){if(f)return a.flags&256?(a.flags&=-257,m=Lf(Error(t(422))),Pa(s,a,V,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(S=m.fallback,E=a.mode,m=Zf({mode:"visible",children:m.children},E,0,null),S=lu(S,E,V,null),S.flags|=2,m.return=a,S.return=a,m.sibling=S,a.child=m,a.mode&1&&Lr(a,s.child,null,V),a.child.memoizedState=oh(V),a.memoizedState=sh,S);if(!(a.mode&1))return Pa(s,a,V,null);if(E.data==="$!"){if(m=E.nextSibling&&E.nextSibling.dataset,m)var Z=m.dgst;return m=Z,S=Error(t(419)),m=Lf(S,m,void 0),Pa(s,a,V,m)}if(Z=(V&s.childLanes)!==0,ls||Z){if(m=xi,m!==null){switch(V&-V){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=E&(m.suspendedLanes|V)?0:E,E!==0&&E!==S.retryLane&&(S.retryLane=E,xa(s,E),xo(m,s,E,-1))}return rg(),m=Lf(Error(t(421))),Pa(s,a,V,m)}return E.data==="$?"?(a.flags|=128,a.child=s.child,a=mv.bind(null,s),E._reactRetry=a,null):(s=S.treeContext,qs=nl(E.nextSibling),Xi=a,pr=!0,Eo=null,s!==null&&(to[no++]=Wo,to[no++]=Go,to[no++]=Kl,Wo=s.id,Go=s.overflow,Kl=a),a=sc(a,m.children),a.flags|=4096,a)}function ah(s,a,f){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Pi(s.return,a,f)}function lh(s,a,f,m,E){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:E}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=E)}function cl(s,a,f){var m=a.pendingProps,E=m.revealOrder,S=m.tail;if(Oi(s,a,m.children,f),m=Er.current,m&2)m=m&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ah(s,f,a);else if(s.tag===19)ah(s,f,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(ar(Er,m),!(a.mode&1))a.memoizedState=null;else switch(E){case"forwards":for(f=a.child,E=null;f!==null;)s=f.alternate,s!==null&&Zl(s)===null&&(E=f),f=f.sibling;f=E,f===null?(E=a.child,a.child=null):(E=f.sibling,f.sibling=null),lh(a,!1,E,f,S);break;case"backwards":for(f=null,E=a.child,a.child=null;E!==null;){if(s=E.alternate,s!==null&&Zl(s)===null){a.child=E;break}s=E.sibling,E.sibling=f,f=E,E=s}lh(a,!0,f,null,S);break;case"together":lh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Uf(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function bo(s,a,f){if(s!==null&&(a.dependencies=s.dependencies),fl|=a.lanes,!(f&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,f=Io(s,s.pendingProps),a.child=f,f.return=a;s.sibling!==null;)s=s.sibling,f=f.sibling=Io(s,s.pendingProps),f.return=a;f.sibling=null}return a.child}function hy(s,a,f){switch(a.tag){case 3:cy(a),Jo();break;case 5:Tp(a);break;case 1:As(a.type)&&eo(a);break;case 4:Ep(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,E=a.memoizedProps.value;ar(Jc,m._currentValue),m._currentValue=E;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ar(Er,Er.current&1),a.flags|=128,null):f&a.child.childLanes?Ff(s,a,f):(ar(Er,Er.current&1),s=bo(s,a,f),s!==null?s.sibling:null);ar(Er,Er.current&1);break;case 19:if(m=(f&a.childLanes)!==0,s.flags&128){if(m)return cl(s,a,f);a.flags|=128}if(E=a.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ar(Er,Er.current),m)break;return null;case 22:case 23:return a.lanes=0,Up(s,a,f)}return bo(s,a,f)}var Li,$p,fy,zp;Li=function(s,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},$p=function(){},fy=function(s,a,f,m){var E=s.memoizedProps;if(E!==m){s=a.stateNode,Ra(Xo.current);var S=null;switch(f){case"input":E=st(s,E),m=st(s,m),S=[];break;case"select":E=Y({},E,{value:void 0}),m=Y({},m,{value:void 0}),S=[];break;case"textarea":E=Cn(s,E),m=Cn(s,m),S=[];break;default:typeof E.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=uf)}Vi(f,m);var V;f=null;for(Se in E)if(!m.hasOwnProperty(Se)&&E.hasOwnProperty(Se)&&E[Se]!=null)if(Se==="style"){var Z=E[Se];for(V in Z)Z.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?S||(S=[]):(S=S||[]).push(Se,null));for(Se in m){var ae=m[Se];if(Z=E!=null?E[Se]:void 0,m.hasOwnProperty(Se)&&ae!==Z&&(ae!=null||Z!=null))if(Se==="style")if(Z){for(V in Z)!Z.hasOwnProperty(V)||ae&&ae.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in ae)ae.hasOwnProperty(V)&&Z[V]!==ae[V]&&(f||(f={}),f[V]=ae[V])}else f||(S||(S=[]),S.push(Se,f)),f=ae;else Se==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,Z=Z?Z.__html:void 0,ae!=null&&Z!==ae&&(S=S||[]).push(Se,ae)):Se==="children"?typeof ae!="string"&&typeof ae!="number"||(S=S||[]).push(Se,""+ae):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(ae!=null&&Se==="onScroll"&&fr("scroll",s),S||Z===ae||(S=[])):(S=S||[]).push(Se,ae))}f&&(S=S||[]).push("style",f);var Se=S;(a.updateQueue=Se)&&(a.flags|=4)}},zp=function(s,a,f,m){f!==m&&(a.flags|=4)};function uh(s,a){if(!pr)switch(s.tailMode){case"hidden":a=s.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Di(s){var a=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(a)for(var E=s.child;E!==null;)f|=E.lanes|E.childLanes,m|=E.subtreeFlags&14680064,m|=E.flags&14680064,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)f|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=m,s.childLanes=f,a}function lv(s,a,f){var m=a.pendingProps;switch(Ql(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(a),null;case 1:return As(a.type)&&df(),Di(a),null;case 3:return m=a.stateNode,ll(),dr(Ss),dr(Ji),Sf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Gc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Eo!==null&&(eg(Eo),Eo=null))),$p(s,a),Di(a),null;case 5:bf(a);var E=Ra(Xu.current);if(f=a.type,s!==null&&a.stateNode!=null)fy(s,a,f,m,E),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return Di(a),null}if(s=Ra(Xo.current),Gc(a)){m=a.stateNode,f=a.type;var S=a.memoizedProps;switch(m[zo]=a,m[rl]=S,s=(a.mode&1)!==0,f){case"dialog":fr("cancel",m),fr("close",m);break;case"iframe":case"object":case"embed":fr("load",m);break;case"video":case"audio":for(E=0;E<ba.length;E++)fr(ba[E],m);break;case"source":fr("error",m);break;case"img":case"image":case"link":fr("error",m),fr("load",m);break;case"details":fr("toggle",m);break;case"input":zt(m,S),fr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},fr("invalid",m);break;case"textarea":mn(m,S),fr("invalid",m)}Vi(f,S),E=null;for(var V in S)if(S.hasOwnProperty(V)){var Z=S[V];V==="children"?typeof Z=="string"?m.textContent!==Z&&(S.suppressHydrationWarning!==!0&&qc(m.textContent,Z,s),E=["children",Z]):typeof Z=="number"&&m.textContent!==""+Z&&(S.suppressHydrationWarning!==!0&&qc(m.textContent,Z,s),E=["children",""+Z]):i.hasOwnProperty(V)&&Z!=null&&V==="onScroll"&&fr("scroll",m)}switch(f){case"input":Qe(m),ur(m,S,!0);break;case"textarea":Qe(m),xn(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=uf)}m=E,a.updateQueue=m,m!==null&&(a.flags|=4)}else{V=E.nodeType===9?E:E.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Dt(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=V.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=V.createElement(f,{is:m.is}):(s=V.createElement(f),f==="select"&&(V=s,m.multiple?V.multiple=!0:m.size&&(V.size=m.size))):s=V.createElementNS(s,f),s[zo]=a,s[rl]=m,Li(s,a,!1,!1),a.stateNode=s;e:{switch(V=Gr(f,m),f){case"dialog":fr("cancel",s),fr("close",s),E=m;break;case"iframe":case"object":case"embed":fr("load",s),E=m;break;case"video":case"audio":for(E=0;E<ba.length;E++)fr(ba[E],s);E=m;break;case"source":fr("error",s),E=m;break;case"img":case"image":case"link":fr("error",s),fr("load",s),E=m;break;case"details":fr("toggle",s),E=m;break;case"input":zt(s,m),E=st(s,m),fr("invalid",s);break;case"option":E=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},E=Y({},m,{value:void 0}),fr("invalid",s);break;case"textarea":mn(s,m),E=Cn(s,m),fr("invalid",s);break;default:E=m}Vi(f,E),Z=E;for(S in Z)if(Z.hasOwnProperty(S)){var ae=Z[S];S==="style"?Ti(s,ae):S==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&qn(s,ae)):S==="children"?typeof ae=="string"?(f!=="textarea"||ae!=="")&&Jt(s,ae):typeof ae=="number"&&Jt(s,""+ae):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?ae!=null&&S==="onScroll"&&fr("scroll",s):ae!=null&&x(s,S,ae,V))}switch(f){case"input":Qe(s),ur(s,m,!1);break;case"textarea":Qe(s),xn(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Re(m.value));break;case"select":s.multiple=!!m.multiple,S=m.value,S!=null?hn(s,!!m.multiple,S,!1):m.defaultValue!=null&&hn(s,!!m.multiple,m.defaultValue,!0);break;default:typeof E.onClick=="function"&&(s.onclick=uf)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Di(a),null;case 6:if(s&&a.stateNode!=null)zp(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(f=Ra(Xu.current),Ra(Xo.current),Gc(a)){if(m=a.stateNode,f=a.memoizedProps,m[zo]=a,(S=m.nodeValue!==f)&&(s=Xi,s!==null))switch(s.tag){case 3:qc(m.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&qc(m.nodeValue,f,(s.mode&1)!==0)}S&&(a.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[zo]=a,a.stateNode=m}return Di(a),null;case 13:if(dr(Er),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(pr&&qs!==null&&a.mode&1&&!(a.flags&128))yp(),Jo(),a.flags|=98560,S=!1;else if(S=Gc(a),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(t(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[zo]=a}else Jo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Di(a),S=!1}else Eo!==null&&(eg(Eo),Eo=null),S=!0;if(!S)return a.flags&65536?a:null}return a.flags&128?(a.lanes=f,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(s===null||Er.current&1?mi===0&&(mi=3):rg())),a.updateQueue!==null&&(a.flags|=4),Di(a),null);case 4:return ll(),$p(s,a),s===null&&el(a.stateNode.containerInfo),Di(a),null;case 10:return vf(a.type._context),Di(a),null;case 17:return As(a.type)&&df(),Di(a),null;case 19:if(dr(Er),S=a.memoizedState,S===null)return Di(a),null;if(m=(a.flags&128)!==0,V=S.rendering,V===null)if(m)uh(S,!1);else{if(mi!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(V=Zl(s),V!==null){for(a.flags|=128,uh(S,!1),m=V.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=f,f=a.child;f!==null;)S=f,s=m,S.flags&=14680066,V=S.alternate,V===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=V.childLanes,S.lanes=V.lanes,S.child=V.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=V.memoizedProps,S.memoizedState=V.memoizedState,S.updateQueue=V.updateQueue,S.type=V.type,s=V.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return ar(Er,Er.current&1|2),a.child}s=s.sibling}S.tail!==null&&rt()>iu&&(a.flags|=128,m=!0,uh(S,!1),a.lanes=4194304)}else{if(!m)if(s=Zl(V),s!==null){if(a.flags|=128,m=!0,f=s.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),uh(S,!0),S.tail===null&&S.tailMode==="hidden"&&!V.alternate&&!pr)return Di(a),null}else 2*rt()-S.renderingStartTime>iu&&f!==1073741824&&(a.flags|=128,m=!0,uh(S,!1),a.lanes=4194304);S.isBackwards?(V.sibling=a.child,a.child=V):(f=S.last,f!==null?f.sibling=V:a.child=V,S.last=V)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=rt(),a.sibling=null,f=Er.current,ar(Er,m?f&1|2:f&1),a):(Di(a),null);case 22:case 23:return ng(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?Hs&1073741824&&(Di(a),a.subtreeFlags&6&&(a.flags|=8192)):Di(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function uv(s,a){switch(Ql(a),a.tag){case 1:return As(a.type)&&df(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ll(),dr(Ss),dr(Ji),Sf(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return bf(a),null;case 13:if(dr(Er),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Jo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return dr(Er),null;case 4:return ll(),null;case 10:return vf(a.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var Bf=!1,Tr=!1,us=typeof WeakSet=="function"?WeakSet:Set,it=null;function oc(s,a){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){xr(s,a,m)}else f.current=null}function ch(s,a,f){try{f()}catch(m){xr(s,a,m)}}var dy=!1;function cv(s,a){if($c=W,s=Yn(),Mc(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var E=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var V=0,Z=-1,ae=-1,Se=0,Ve=0,ze=s,Ue=null;t:for(;;){for(var tt;ze!==f||E!==0&&ze.nodeType!==3||(Z=V+E),ze!==S||m!==0&&ze.nodeType!==3||(ae=V+m),ze.nodeType===3&&(V+=ze.nodeValue.length),(tt=ze.firstChild)!==null;)Ue=ze,ze=tt;for(;;){if(ze===s)break t;if(Ue===f&&++Se===E&&(Z=V),Ue===S&&++Ve===m&&(ae=V),(tt=ze.nextSibling)!==null)break;ze=Ue,Ue=ze.parentNode}ze=tt}f=Z===-1||ae===-1?null:{start:Z,end:ae}}else f=null}f=f||{start:0,end:0}}else f=null;for(Wl={focusedElem:s,selectionRange:f},W=!1,it=a;it!==null;)if(a=it,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,it=s;else for(;it!==null;){a=it;try{var at=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var ht=at.memoizedProps,Dr=at.memoizedState,ve=a.stateNode,de=ve.getSnapshotBeforeUpdate(a.elementType===a.type?ht:ao(a.type,ht),Dr);ve.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var we=a.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(He){xr(a,a.return,He)}if(s=a.sibling,s!==null){s.return=a.return,it=s;break}it=a.return}return at=dy,dy=!1,at}function Oa(s,a,f){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var E=m=m.next;do{if((E.tag&s)===s){var S=E.destroy;E.destroy=void 0,S!==void 0&&ch(a,f,S)}E=E.next}while(E!==m)}}function hh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&s)===s){var m=f.create;f.destroy=m()}f=f.next}while(f!==a)}}function Vf(s){var a=s.ref;if(a!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof a=="function"?a(s):a.current=s}}function py(s){var a=s.alternate;a!==null&&(s.alternate=null,py(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zo],delete a[rl],delete a[hf],delete a[H],delete a[Hu])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function gy(s){return s.tag===5||s.tag===3||s.tag===4}function my(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hp(s,a,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(s,a):f.insertBefore(s,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(s,f)):(a=f,a.appendChild(s)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=uf));else if(m!==4&&(s=s.child,s!==null))for(Hp(s,a,f),s=s.sibling;s!==null;)Hp(s,a,f),s=s.sibling}function jf(s,a,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?f.insertBefore(s,a):f.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(jf(s,a,f),s=s.sibling;s!==null;)jf(s,a,f),s=s.sibling}var Ci=null,So=!1;function na(s,a,f){for(f=f.child;f!==null;)Wp(s,a,f),f=f.sibling}function Wp(s,a,f){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(jt,f)}catch{}switch(f.tag){case 5:Tr||oc(f,a);case 6:var m=Ci,E=So;Ci=null,na(s,a,f),Ci=m,So=E,Ci!==null&&(So?(s=Ci,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Ci.removeChild(f.stateNode));break;case 18:Ci!==null&&(So?(s=Ci,f=f.stateNode,s.nodeType===8?pp(s.parentNode,f):s.nodeType===1&&pp(s,f),tn(s)):pp(Ci,f.stateNode));break;case 4:m=Ci,E=So,Ci=f.stateNode.containerInfo,So=!0,na(s,a,f),Ci=m,So=E;break;case 0:case 11:case 14:case 15:if(!Tr&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){E=m=m.next;do{var S=E,V=S.destroy;S=S.tag,V!==void 0&&(S&2||S&4)&&ch(f,a,V),E=E.next}while(E!==m)}na(s,a,f);break;case 1:if(!Tr&&(oc(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(Z){xr(f,a,Z)}na(s,a,f);break;case 21:na(s,a,f);break;case 22:f.mode&1?(Tr=(m=Tr)||f.memoizedState!==null,na(s,a,f),Tr=m):na(s,a,f);break;default:na(s,a,f)}}function ac(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new us),a.forEach(function(m){var E=yv.bind(null,s,m);f.has(m)||(f.add(m),m.then(E,E))})}}function zs(s,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var E=f[m];try{var S=s,V=a,Z=V;e:for(;Z!==null;){switch(Z.tag){case 5:Ci=Z.stateNode,So=!1;break e;case 3:Ci=Z.stateNode.containerInfo,So=!0;break e;case 4:Ci=Z.stateNode.containerInfo,So=!0;break e}Z=Z.return}if(Ci===null)throw Error(t(160));Wp(S,V,E),Ci=null,So=!1;var ae=E.alternate;ae!==null&&(ae.return=null),E.return=null}catch(Se){xr(E,a,Se)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Gp(a,s),a=a.sibling}function Gp(s,a){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(zs(a,s),Ao(s),m&4){try{Oa(3,s,s.return),hh(3,s)}catch(ht){xr(s,s.return,ht)}try{Oa(5,s,s.return)}catch(ht){xr(s,s.return,ht)}}break;case 1:zs(a,s),Ao(s),m&512&&f!==null&&oc(f,f.return);break;case 5:if(zs(a,s),Ao(s),m&512&&f!==null&&oc(f,f.return),s.flags&32){var E=s.stateNode;try{Jt(E,"")}catch(ht){xr(s,s.return,ht)}}if(m&4&&(E=s.stateNode,E!=null)){var S=s.memoizedProps,V=f!==null?f.memoizedProps:S,Z=s.type,ae=s.updateQueue;if(s.updateQueue=null,ae!==null)try{Z==="input"&&S.type==="radio"&&S.name!=null&&tr(E,S),Gr(Z,V);var Se=Gr(Z,S);for(V=0;V<ae.length;V+=2){var Ve=ae[V],ze=ae[V+1];Ve==="style"?Ti(E,ze):Ve==="dangerouslySetInnerHTML"?qn(E,ze):Ve==="children"?Jt(E,ze):x(E,Ve,ze,Se)}switch(Z){case"input":Bn(E,S);break;case"textarea":Ht(E,S);break;case"select":var Ue=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!S.multiple;var tt=S.value;tt!=null?hn(E,!!S.multiple,tt,!1):Ue!==!!S.multiple&&(S.defaultValue!=null?hn(E,!!S.multiple,S.defaultValue,!0):hn(E,!!S.multiple,S.multiple?[]:"",!1))}E[rl]=S}catch(ht){xr(s,s.return,ht)}}break;case 6:if(zs(a,s),Ao(s),m&4){if(s.stateNode===null)throw Error(t(162));E=s.stateNode,S=s.memoizedProps;try{E.nodeValue=S}catch(ht){xr(s,s.return,ht)}}break;case 3:if(zs(a,s),Ao(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{tn(a.containerInfo)}catch(ht){xr(s,s.return,ht)}break;case 4:zs(a,s),Ao(s);break;case 13:zs(a,s),Ao(s),E=s.child,E.flags&8192&&(S=E.memoizedState!==null,E.stateNode.isHidden=S,!S||E.alternate!==null&&E.alternate.memoizedState!==null||(Qp=rt())),m&4&&ac(s);break;case 22:if(Ve=f!==null&&f.memoizedState!==null,s.mode&1?(Tr=(Se=Tr)||Ve,zs(a,s),Tr=Se):zs(a,s),Ao(s),m&8192){if(Se=s.memoizedState!==null,(s.stateNode.isHidden=Se)&&!Ve&&s.mode&1)for(it=s,Ve=s.child;Ve!==null;){for(ze=it=Ve;it!==null;){switch(Ue=it,tt=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:Oa(4,Ue,Ue.return);break;case 1:oc(Ue,Ue.return);var at=Ue.stateNode;if(typeof at.componentWillUnmount=="function"){m=Ue,f=Ue.return;try{a=m,at.props=a.memoizedProps,at.state=a.memoizedState,at.componentWillUnmount()}catch(ht){xr(m,f,ht)}}break;case 5:oc(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){hl(ze);continue}}tt!==null?(tt.return=Ue,it=tt):hl(ze)}Ve=Ve.sibling}e:for(Ve=null,ze=s;;){if(ze.tag===5){if(Ve===null){Ve=ze;try{E=ze.stateNode,Se?(S=E.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(Z=ze.stateNode,ae=ze.memoizedProps.style,V=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,Z.style.display=ns("display",V))}catch(ht){xr(s,s.return,ht)}}}else if(ze.tag===6){if(Ve===null)try{ze.stateNode.nodeValue=Se?"":ze.memoizedProps}catch(ht){xr(s,s.return,ht)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===s)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===s)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===s)break e;Ve===ze&&(Ve=null),ze=ze.return}Ve===ze&&(Ve=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:zs(a,s),Ao(s),m&4&&ac(s);break;case 21:break;default:zs(a,s),Ao(s)}}function Ao(s){var a=s.flags;if(a&2){try{e:{for(var f=s.return;f!==null;){if(gy(f)){var m=f;break e}f=f.return}throw Error(t(160))}switch(m.tag){case 5:var E=m.stateNode;m.flags&32&&(Jt(E,""),m.flags&=-33);var S=my(s);jf(s,S,E);break;case 3:case 4:var V=m.stateNode.containerInfo,Z=my(s);Hp(s,Z,V);break;default:throw Error(t(161))}}catch(ae){xr(s,s.return,ae)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function qf(s,a,f){it=s,Kp(s)}function Kp(s,a,f){for(var m=(s.mode&1)!==0;it!==null;){var E=it,S=E.child;if(E.tag===22&&m){var V=E.memoizedState!==null||Bf;if(!V){var Z=E.alternate,ae=Z!==null&&Z.memoizedState!==null||Tr;Z=Bf;var Se=Tr;if(Bf=V,(Tr=ae)&&!Se)for(it=E;it!==null;)V=it,ae=V.child,V.tag===22&&V.memoizedState!==null?yy(E):ae!==null?(ae.return=V,it=ae):yy(E);for(;S!==null;)it=S,Kp(S),S=S.sibling;it=E,Bf=Z,Tr=Se}Co(s)}else E.subtreeFlags&8772&&S!==null?(S.return=E,it=S):Co(s)}}function Co(s){for(;it!==null;){var a=it;if(a.flags&8772){var f=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Tr||hh(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Tr)if(f===null)m.componentDidMount();else{var E=a.elementType===a.type?f.memoizedProps:ao(a.type,f.memoizedProps);m.componentDidUpdate(E,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&wp(a,S,m);break;case 3:var V=a.updateQueue;if(V!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}wp(a,V,f)}break;case 5:var Z=a.stateNode;if(f===null&&a.flags&4){f=Z;var ae=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&f.focus();break;case"img":ae.src&&(f.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Se=a.alternate;if(Se!==null){var Ve=Se.memoizedState;if(Ve!==null){var ze=Ve.dehydrated;ze!==null&&tn(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Tr||a.flags&512&&Vf(a)}catch(Ue){xr(a,a.return,Ue)}}if(a===s){it=null;break}if(f=a.sibling,f!==null){f.return=a.return,it=f;break}it=a.return}}function hl(s){for(;it!==null;){var a=it;if(a===s){it=null;break}var f=a.sibling;if(f!==null){f.return=a.return,it=f;break}it=a.return}}function yy(s){for(;it!==null;){var a=it;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{hh(4,a)}catch(ae){xr(a,f,ae)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var E=a.return;try{m.componentDidMount()}catch(ae){xr(a,E,ae)}}var S=a.return;try{Vf(a)}catch(ae){xr(a,S,ae)}break;case 5:var V=a.return;try{Vf(a)}catch(ae){xr(a,V,ae)}}}catch(ae){xr(a,a.return,ae)}if(a===s){it=null;break}var Z=a.sibling;if(Z!==null){Z.return=a.return,it=Z;break}it=a.return}}var _y=Math.ceil,$f=M.ReactCurrentDispatcher,Jp=M.ReactCurrentOwner,lo=M.ReactCurrentBatchConfig,kn=0,xi=null,ni=null,Mi=0,Hs=0,lc=bs(0),mi=0,fh=null,fl=0,dh=0,zf=0,ph=null,Is=null,Qp=0,iu=1/0,La=null,Hf=!1,Xp=null,dl=null,Wf=!1,pl=null,cs=0,gh=0,Yp=null,Gf=-1,mh=0;function hs(){return kn&6?rt():Gf!==-1?Gf:Gf=rt()}function gl(s){return s.mode&1?kn&2&&Mi!==0?Mi&-Mi:Xm.transition!==null?(mh===0&&(mh=xt()),mh):(s=vt,s!==0||(s=window.event,s=s===void 0?16:on(s.type)),s):1}function xo(s,a,f,m){if(50<gh)throw gh=0,Yp=null,Error(t(185));wn(s,f,m),(!(kn&2)||s!==xi)&&(s===xi&&(!(kn&2)&&(dh|=f),mi===4&&ml(s,Mi)),Rs(s,m),f===1&&kn===0&&!(a.mode&1)&&(iu=rt()+500,pf&&sl()))}function Rs(s,a){var f=s.callbackNode;Ct(s,a);var m=pn(s,s===xi?Mi:0);if(m===0)f!==null&&Te(f),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(f!=null&&Te(f),a===1)s.tag===0?Gl(vy.bind(null,s)):Km(vy.bind(null,s)),cf(function(){!(kn&6)&&sl()}),f=null;else{switch(Vn(m)){case 1:f=he;break;case 4:f=be;break;case 16:f=Be;break;case 536870912:f=_t;break;default:f=Be}f=Cy(f,Kf.bind(null,s))}s.callbackPriority=a,s.callbackNode=f}}function Kf(s,a){if(Gf=-1,mh=0,kn&6)throw Error(t(327));var f=s.callbackNode;if(uc()&&s.callbackNode!==f)return null;var m=pn(s,s===xi?Mi:0);if(m===0)return null;if(m&30||m&s.expiredLanes||a)a=Jf(s,m);else{a=m;var E=kn;kn|=2;var S=Ey();(xi!==s||Mi!==a)&&(La=null,iu=rt()+500,ou(s,a));do try{dv();break}catch(Z){wy(s,Z)}while(!0);Ca(),$f.current=S,kn=E,ni!==null?a=0:(xi=null,Mi=0,a=mi)}if(a!==0){if(a===2&&(E=$n(s),E!==0&&(m=E,a=Zp(s,E))),a===1)throw f=fh,ou(s,0),ml(s,m),Rs(s,rt()),f;if(a===6)ml(s,m);else{if(E=s.current.alternate,!(m&30)&&!hv(E)&&(a=Jf(s,m),a===2&&(S=$n(s),S!==0&&(m=S,a=Zp(s,S))),a===1))throw f=fh,ou(s,0),ml(s,m),Rs(s,rt()),f;switch(s.finishedWork=E,s.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:au(s,Is,La);break;case 3:if(ml(s,m),(m&130023424)===m&&(a=Qp+500-rt(),10<a)){if(pn(s,0)!==0)break;if(E=s.suspendedLanes,(E&m)!==m){hs(),s.pingedLanes|=s.suspendedLanes&E;break}s.timeoutHandle=tl(au.bind(null,s,Is,La),a);break}au(s,Is,La);break;case 4:if(ml(s,m),(m&4194240)===m)break;for(a=s.eventTimes,E=-1;0<m;){var V=31-Yt(m);S=1<<V,V=a[V],V>E&&(E=V),m&=~S}if(m=E,m=rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*_y(m/1960))-m,10<m){s.timeoutHandle=tl(au.bind(null,s,Is,La),m);break}au(s,Is,La);break;case 5:au(s,Is,La);break;default:throw Error(t(329))}}}return Rs(s,rt()),s.callbackNode===f?Kf.bind(null,s):null}function Zp(s,a){var f=ph;return s.current.memoizedState.isDehydrated&&(ou(s,a).flags|=256),s=Jf(s,a),s!==2&&(a=Is,Is=f,a!==null&&eg(a)),s}function eg(s){Is===null?Is=s:Is.push.apply(Is,s)}function hv(s){for(var a=s;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var E=f[m],S=E.getSnapshot;E=E.value;try{if(!Ee(S(),E))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ml(s,a){for(a&=~zf,a&=~dh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var f=31-Yt(a),m=1<<f;s[f]=-1,a&=~m}}function vy(s){if(kn&6)throw Error(t(327));uc();var a=pn(s,0);if(!(a&1))return Rs(s,rt()),null;var f=Jf(s,a);if(s.tag!==0&&f===2){var m=$n(s);m!==0&&(a=m,f=Zp(s,m))}if(f===1)throw f=fh,ou(s,0),ml(s,a),Rs(s,rt()),f;if(f===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,au(s,Is,La),Rs(s,rt()),null}function tg(s,a){var f=kn;kn|=1;try{return s(a)}finally{kn=f,kn===0&&(iu=rt()+500,pf&&sl())}}function su(s){pl!==null&&pl.tag===0&&!(kn&6)&&uc();var a=kn;kn|=1;var f=lo.transition,m=vt;try{if(lo.transition=null,vt=1,s)return s()}finally{vt=m,lo.transition=f,kn=a,!(kn&6)&&sl()}}function ng(){Hs=lc.current,dr(lc)}function ou(s,a){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,Hc(f)),ni!==null)for(f=ni.return;f!==null;){var m=f;switch(Ql(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&df();break;case 3:ll(),dr(Ss),dr(Ji),Sf();break;case 5:bf(m);break;case 4:ll();break;case 13:dr(Er);break;case 19:dr(Er);break;case 10:vf(m.type._context);break;case 22:case 23:ng()}f=f.return}if(xi=s,ni=s=Io(s.current,null),Mi=Hs=a,mi=0,fh=null,zf=dh=fl=0,Is=ph=null,Yl!==null){for(a=0;a<Yl.length;a++)if(f=Yl[a],m=f.interleaved,m!==null){f.interleaved=null;var E=m.next,S=f.pending;if(S!==null){var V=S.next;S.next=E,m.next=V}f.pending=m}Yl=null}return s}function wy(s,a){do{var f=ni;try{if(Ca(),Yc.current=kf,Yu){for(var m=Cr.memoizedState;m!==null;){var E=m.queue;E!==null&&(E.pending=null),m=m.next}Yu=!1}if(ul=0,gi=qr=Cr=null,Zc=!1,eu=0,Jp.current=null,f===null||f.return===null){mi=1,fh=a,ni=null;break}e:{var S=s,V=f.return,Z=f,ae=a;if(a=Mi,Z.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Se=ae,Ve=Z,ze=Ve.tag;if(!(Ve.mode&1)&&(ze===0||ze===11||ze===15)){var Ue=Ve.alternate;Ue?(Ve.updateQueue=Ue.updateQueue,Ve.memoizedState=Ue.memoizedState,Ve.lanes=Ue.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var tt=ly(V);if(tt!==null){tt.flags&=-257,Mp(tt,V,Z,S,a),tt.mode&1&&ih(S,Se,a),a=tt,ae=Se;var at=a.updateQueue;if(at===null){var ht=new Set;ht.add(ae),a.updateQueue=ht}else at.add(ae);break e}else{if(!(a&1)){ih(S,Se,a),rg();break e}ae=Error(t(426))}}else if(pr&&Z.mode&1){var Dr=ly(V);if(Dr!==null){!(Dr.flags&65536)&&(Dr.flags|=256),Mp(Dr,V,Z,S,a),Qo(ru(ae,Z));break e}}S=ae=ru(ae,Z),mi!==4&&(mi=2),ph===null?ph=[S]:ph.push(S),S=V;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var ve=rh(S,ae,a);ey(S,ve);break e;case 1:Z=ae;var de=S.type,we=S.stateNode;if(!(S.flags&128)&&(typeof de.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(dl===null||!dl.has(we)))){S.flags|=65536,a&=-a,S.lanes|=a;var He=Df(S,Z,a);ey(S,He);break e}}S=S.return}while(S!==null)}by(f)}catch(ft){a=ft,ni===f&&f!==null&&(ni=f=f.return);continue}break}while(!0)}function Ey(){var s=$f.current;return $f.current=kf,s===null?kf:s}function rg(){(mi===0||mi===3||mi===2)&&(mi=4),xi===null||!(fl&268435455)&&!(dh&268435455)||ml(xi,Mi)}function Jf(s,a){var f=kn;kn|=2;var m=Ey();(xi!==s||Mi!==a)&&(La=null,ou(s,a));do try{fv();break}catch(E){wy(s,E)}while(!0);if(Ca(),kn=f,$f.current=m,ni!==null)throw Error(t(261));return xi=null,Mi=0,mi}function fv(){for(;ni!==null;)Ty(ni)}function dv(){for(;ni!==null&&!qe();)Ty(ni)}function Ty(s){var a=Ay(s.alternate,s,Hs);s.memoizedProps=s.pendingProps,a===null?by(s):ni=a,Jp.current=null}function by(s){var a=s;do{var f=a.alternate;if(s=a.return,a.flags&32768){if(f=uv(f,a),f!==null){f.flags&=32767,ni=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{mi=6,ni=null;return}}else if(f=lv(f,a,Hs),f!==null){ni=f;return}if(a=a.sibling,a!==null){ni=a;return}ni=a=s}while(a!==null);mi===0&&(mi=5)}function au(s,a,f){var m=vt,E=lo.transition;try{lo.transition=null,vt=1,pv(s,a,f,m)}finally{lo.transition=E,vt=m}return null}function pv(s,a,f,m){do uc();while(pl!==null);if(kn&6)throw Error(t(327));f=s.finishedWork;var E=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var S=f.lanes|f.childLanes;if(qt(s,S),s===xi&&(ni=xi=null,Mi=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Wf||(Wf=!0,Cy(Be,function(){return uc(),null})),S=(f.flags&15990)!==0,f.subtreeFlags&15990||S){S=lo.transition,lo.transition=null;var V=vt;vt=1;var Z=kn;kn|=4,Jp.current=null,cv(s,f),Gp(f,s),iv(Wl),W=!!$c,Wl=$c=null,s.current=f,qf(f),nt(),kn=Z,vt=V,lo.transition=S}else s.current=f;if(Wf&&(Wf=!1,pl=s,cs=E),S=s.pendingLanes,S===0&&(dl=null),Mt(f.stateNode),Rs(s,rt()),a!==null)for(m=s.onRecoverableError,f=0;f<a.length;f++)E=a[f],m(E.value,{componentStack:E.stack,digest:E.digest});if(Hf)throw Hf=!1,s=Xp,Xp=null,s;return cs&1&&s.tag!==0&&uc(),S=s.pendingLanes,S&1?s===Yp?gh++:(gh=0,Yp=s):gh=0,sl(),null}function uc(){if(pl!==null){var s=Vn(cs),a=lo.transition,f=vt;try{if(lo.transition=null,vt=16>s?16:s,pl===null)var m=!1;else{if(s=pl,pl=null,cs=0,kn&6)throw Error(t(331));var E=kn;for(kn|=4,it=s.current;it!==null;){var S=it,V=S.child;if(it.flags&16){var Z=S.deletions;if(Z!==null){for(var ae=0;ae<Z.length;ae++){var Se=Z[ae];for(it=Se;it!==null;){var Ve=it;switch(Ve.tag){case 0:case 11:case 15:Oa(8,Ve,S)}var ze=Ve.child;if(ze!==null)ze.return=Ve,it=ze;else for(;it!==null;){Ve=it;var Ue=Ve.sibling,tt=Ve.return;if(py(Ve),Ve===Se){it=null;break}if(Ue!==null){Ue.return=tt,it=Ue;break}it=tt}}}var at=S.alternate;if(at!==null){var ht=at.child;if(ht!==null){at.child=null;do{var Dr=ht.sibling;ht.sibling=null,ht=Dr}while(ht!==null)}}it=S}}if(S.subtreeFlags&2064&&V!==null)V.return=S,it=V;else e:for(;it!==null;){if(S=it,S.flags&2048)switch(S.tag){case 0:case 11:case 15:Oa(9,S,S.return)}var ve=S.sibling;if(ve!==null){ve.return=S.return,it=ve;break e}it=S.return}}var de=s.current;for(it=de;it!==null;){V=it;var we=V.child;if(V.subtreeFlags&2064&&we!==null)we.return=V,it=we;else e:for(V=de;it!==null;){if(Z=it,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:hh(9,Z)}}catch(ft){xr(Z,Z.return,ft)}if(Z===V){it=null;break e}var He=Z.sibling;if(He!==null){He.return=Z.return,it=He;break e}it=Z.return}}if(kn=E,sl(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(jt,s)}catch{}m=!0}return m}finally{vt=f,lo.transition=a}}return!1}function Qf(s,a,f){a=ru(f,a),a=rh(s,a,1),s=so(s,a,1),a=hs(),s!==null&&(wn(s,1,a),Rs(s,a))}function xr(s,a,f){if(s.tag===3)Qf(s,s,f);else for(;a!==null;){if(a.tag===3){Qf(a,s,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(dl===null||!dl.has(m))){s=ru(f,s),s=Df(a,s,1),a=so(a,s,1),s=hs(),a!==null&&(wn(a,1,s),Rs(a,s));break}}a=a.return}}function gv(s,a,f){var m=s.pingCache;m!==null&&m.delete(a),a=hs(),s.pingedLanes|=s.suspendedLanes&f,xi===s&&(Mi&f)===f&&(mi===4||mi===3&&(Mi&130023424)===Mi&&500>rt()-Qp?ou(s,0):zf|=f),Rs(s,a)}function Sy(s,a){a===0&&(s.mode&1?(a=ct,ct<<=1,!(ct&130023424)&&(ct=4194304)):a=1);var f=hs();s=xa(s,a),s!==null&&(wn(s,a,f),Rs(s,f))}function mv(s){var a=s.memoizedState,f=0;a!==null&&(f=a.retryLane),Sy(s,f)}function yv(s,a){var f=0;switch(s.tag){case 13:var m=s.stateNode,E=s.memoizedState;E!==null&&(f=E.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),Sy(s,f)}var Ay;Ay=function(s,a,f){if(s!==null)if(s.memoizedProps!==a.pendingProps||Ss.current)ls=!0;else{if(!(s.lanes&f)&&!(a.flags&128))return ls=!1,hy(s,a,f);ls=!!(s.flags&131072)}else ls=!1,pr&&a.flags&1048576&&Jm(a,mf,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Uf(s,a),s=a.pendingProps;var E=Gu(a,Ji.current);al(a,f),E=tu(null,a,m,s,E,f);var S=Af();return a.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,As(m)?(S=!0,eo(a)):S=!1,a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Ef(a),E.updater=Of,a.stateNode=E,E._reactInternals=a,Dp(a,m,s,f),a=qp(null,a,m,!0,S,f)):(a.tag=0,pr&&S&&Wc(a),Oi(null,a,E,f),a=a.child),a;case 16:m=a.elementType;e:{switch(Uf(s,a),s=a.pendingProps,E=m._init,m=E(m._payload),a.type=m,E=a.tag=vv(m),s=ao(m,s),E){case 0:a=Vp(null,a,m,s,f);break e;case 1:a=jp(null,a,m,s,f);break e;case 11:a=uy(null,a,m,s,f);break e;case 14:a=Fp(null,a,m,ao(m.type,s),f);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,E=a.pendingProps,E=a.elementType===m?E:ao(m,E),Vp(s,a,m,E,f);case 1:return m=a.type,E=a.pendingProps,E=a.elementType===m?E:ao(m,E),jp(s,a,m,E,f);case 3:e:{if(cy(a),s===null)throw Error(t(387));m=a.pendingProps,S=a.memoizedState,E=S.element,Zm(s,a),Qu(a,m,null,f);var V=a.memoizedState;if(m=V.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){E=ru(Error(t(423)),a),a=ta(s,a,m,f,E);break e}else if(m!==E){E=ru(Error(t(424)),a),a=ta(s,a,m,f,E);break e}else for(qs=nl(a.stateNode.containerInfo.firstChild),Xi=a,pr=!0,Eo=null,f=_f(a,null,m,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Jo(),m===E){a=bo(s,a,f);break e}Oi(s,a,m,f)}a=a.child}return a;case 5:return Tp(a),s===null&&Cs(a),m=a.type,E=a.pendingProps,S=s!==null?s.memoizedProps:null,V=E.children,zc(m,E)?V=null:S!==null&&zc(m,S)&&(a.flags|=32),Bp(s,a),Oi(s,a,V,f),a.child;case 6:return s===null&&Cs(a),null;case 13:return Ff(s,a,f);case 4:return Ep(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Lr(a,null,m,f):Oi(s,a,m,f),a.child;case 11:return m=a.type,E=a.pendingProps,E=a.elementType===m?E:ao(m,E),uy(s,a,m,E,f);case 7:return Oi(s,a,a.pendingProps,f),a.child;case 8:return Oi(s,a,a.pendingProps.children,f),a.child;case 12:return Oi(s,a,a.pendingProps.children,f),a.child;case 10:e:{if(m=a.type._context,E=a.pendingProps,S=a.memoizedProps,V=E.value,ar(Jc,m._currentValue),m._currentValue=V,S!==null)if(Ee(S.value,V)){if(S.children===E.children&&!Ss.current){a=bo(s,a,f);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var Z=S.dependencies;if(Z!==null){V=S.child;for(var ae=Z.firstContext;ae!==null;){if(ae.context===m){if(S.tag===1){ae=Ia(-1,f&-f),ae.tag=2;var Se=S.updateQueue;if(Se!==null){Se=Se.shared;var Ve=Se.pending;Ve===null?ae.next=ae:(ae.next=Ve.next,Ve.next=ae),Se.pending=ae}}S.lanes|=f,ae=S.alternate,ae!==null&&(ae.lanes|=f),Pi(S.return,f,a),Z.lanes|=f;break}ae=ae.next}}else if(S.tag===10)V=S.type===a.type?null:S.child;else if(S.tag===18){if(V=S.return,V===null)throw Error(t(341));V.lanes|=f,Z=V.alternate,Z!==null&&(Z.lanes|=f),Pi(V,f,a),V=S.sibling}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===a){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}Oi(s,a,E.children,f),a=a.child}return a;case 9:return E=a.type,m=a.pendingProps.children,al(a,f),E=ro(E),m=m(E),a.flags|=1,Oi(s,a,m,f),a.child;case 14:return m=a.type,E=ao(m,a.pendingProps),E=ao(m.type,E),Fp(s,a,m,E,f);case 15:return ea(s,a,a.type,a.pendingProps,f);case 17:return m=a.type,E=a.pendingProps,E=a.elementType===m?E:ao(m,E),Uf(s,a),a.tag=1,As(m)?(s=!0,eo(a)):s=!1,al(a,f),nu(a,m,E),Dp(a,m,E,f),qp(null,a,m,!0,s,f);case 19:return cl(s,a,f);case 22:return Up(s,a,f)}throw Error(t(156,a.tag))};function Cy(s,a){return me(s,a)}function _v(s,a,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uo(s,a,f,m){return new _v(s,a,f,m)}function Xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vv(s){if(typeof s=="function")return Xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===le)return 14}return 2}function Io(s,a){var f=s.alternate;return f===null?(f=uo(s.tag,a,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=a,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,a=s.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Yf(s,a,f,m,E,S){var V=2;if(m=s,typeof s=="function")Xf(s)&&(V=1);else if(typeof s=="string")V=5;else e:switch(s){case U:return lu(f.children,E,S,a);case j:V=8,E|=8;break;case q:return s=uo(12,f,a,E|2),s.elementType=q,s.lanes=S,s;case O:return s=uo(13,f,a,E),s.elementType=O,s.lanes=S,s;case oe:return s=uo(19,f,a,E),s.elementType=oe,s.lanes=S,s;case pe:return Zf(f,E,S,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:V=10;break e;case P:V=9;break e;case z:V=11;break e;case le:V=14;break e;case re:V=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=uo(V,f,a,E),a.elementType=s,a.type=m,a.lanes=S,a}function lu(s,a,f,m){return s=uo(7,s,m,a),s.lanes=f,s}function Zf(s,a,f,m){return s=uo(22,s,m,a),s.elementType=pe,s.lanes=f,s.stateNode={isHidden:!1},s}function ig(s,a,f){return s=uo(6,s,null,a),s.lanes=f,s}function sg(s,a,f){return a=uo(4,s.children!==null?s.children:[],s.key,a),a.lanes=f,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function wv(s,a,f,m,E){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=m,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function og(s,a,f,m,E,S,V,Z,ae){return s=new wv(s,a,f,Z,ae),a===1?(a=1,S===!0&&(a|=8)):a=0,S=uo(3,null,null,a),s.current=S,S.stateNode=s,S.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(S),s}function Ev(s,a,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:m==null?null:""+m,children:s,containerInfo:a,implementation:f}}function xy(s){if(!s)return il;s=s._reactInternals;e:{if(Br(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(As(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var f=s.type;if(As(f))return Wm(s,f,a)}return a}function Iy(s,a,f,m,E,S,V,Z,ae){return s=og(f,m,!0,s,E,S,V,Z,ae),s.context=xy(null),f=s.current,m=hs(),E=gl(f),S=Ia(m,E),S.callback=a??null,so(f,S,E),s.current.lanes=E,wn(s,E,m),Rs(s,m),s}function ed(s,a,f,m){var E=a.current,S=hs(),V=gl(E);return f=xy(f),a.context===null?a.context=f:a.pendingContext=f,a=Ia(S,V),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=so(E,a,V),s!==null&&(xo(s,E,V,S),Tf(s,E,V)),V}function td(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ry(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<a?f:a}}function ag(s,a){Ry(s,a),(s=s.alternate)&&Ry(s,a)}var ky=typeof reportError=="function"?reportError:function(s){console.error(s)};function lg(s){this._internalRoot=s}yh.prototype.render=lg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));ed(s,a,null,null)},yh.prototype.unmount=lg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;su(function(){ed(null,s,null,null)}),a[js]=null}};function yh(s){this._internalRoot=s}yh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Bs();s={blockedOn:null,target:s,priority:a};for(var f=0;f<zi.length&&a!==0&&a<zi[f].priority;f++);zi.splice(f,0,s),f===0&&ya(s)}};function nd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function rd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function Tv(s,a,f,m,E){if(E){if(typeof m=="function"){var S=m;m=function(){var Se=td(V);S.call(Se)}}var V=Iy(a,m,s,0,null,!1,!1,"",Ny);return s._reactRootContainer=V,s[js]=V.current,el(s.nodeType===8?s.parentNode:s),su(),V}for(;E=s.lastChild;)s.removeChild(E);if(typeof m=="function"){var Z=m;m=function(){var Se=td(ae);Z.call(Se)}}var ae=og(s,0,!1,null,null,!1,!1,"",Ny);return s._reactRootContainer=ae,s[js]=ae.current,el(s.nodeType===8?s.parentNode:s),su(function(){ed(a,ae,f,m)}),ae}function id(s,a,f,m,E){var S=f._reactRootContainer;if(S){var V=S;if(typeof E=="function"){var Z=E;E=function(){var ae=td(V);Z.call(ae)}}ed(a,V,s,E)}else V=Tv(f,a,s,E,m);return td(V)}hr=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var f=Ft(a.pendingLanes);f!==0&&(rr(a,f|1),Rs(a,rt()),!(kn&6)&&(iu=rt()+500,sl()))}break;case 13:su(function(){var m=xa(s,1);if(m!==null){var E=hs();xo(m,s,1,E)}}),ag(s,1)}},_s=function(s){if(s.tag===13){var a=xa(s,134217728);if(a!==null){var f=hs();xo(a,s,134217728,f)}ag(s,134217728)}},Yr=function(s){if(s.tag===13){var a=gl(s),f=xa(s,a);if(f!==null){var m=hs();xo(f,s,a,m)}ag(s,a)}},Bs=function(){return vt},vs=function(s,a){var f=vt;try{return vt=s,a()}finally{vt=f}},cr=function(s,a,f){switch(a){case"input":if(Bn(s,f),a=f.name,f.type==="radio"&&a!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==s&&m.form===s.form){var E=ff(m);if(!E)throw Error(t(90));pt(m),Bn(m,E)}}}break;case"textarea":Ht(s,f);break;case"select":a=f.value,a!=null&&hn(s,!!f.multiple,a,!1)}},Ur=tg,ki=su;var sd={usingClientEntryPoint:!1,Events:[Ki,Zt,ff,Hn,Si,tg]},_h={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bv={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qr(s),s===null?null:s.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{jt=od.inject(bv),Xt=od}catch{}}return po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sd,po.createPortal=function(s,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(a))throw Error(t(200));return Ev(s,a,null,f)},po.createRoot=function(s,a){if(!nd(s))throw Error(t(299));var f=!1,m="",E=ky;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=og(s,1,!1,null,null,f,!1,m,E),s[js]=a.current,el(s.nodeType===8?s.parentNode:s),new lg(a)},po.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Qr(a),s=s===null?null:s.stateNode,s},po.flushSync=function(s){return su(s)},po.hydrate=function(s,a,f){if(!rd(a))throw Error(t(200));return id(null,s,a,!0,f)},po.hydrateRoot=function(s,a,f){if(!nd(s))throw Error(t(405));var m=f!=null&&f.hydratedSources||null,E=!1,S="",V=ky;if(f!=null&&(f.unstable_strictMode===!0&&(E=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),a=Iy(a,null,s,1,f??null,E,!1,S,V),s[js]=a.current,el(s),m)for(s=0;s<m.length;s++)f=m[s],E=f._getVersion,E=E(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,E]:a.mutableSourceEagerHydrationData.push(f,E);return new yh(a)},po.render=function(s,a,f){if(!rd(a))throw Error(t(200));return id(null,s,a,!1,f)},po.unmountComponentAtNode=function(s){if(!rd(s))throw Error(t(40));return s._reactRootContainer?(su(function(){id(null,null,s,!1,function(){s._reactRootContainer=null,s[js]=null})}),!0):!1},po.unstable_batchedUpdates=tg,po.unstable_renderSubtreeIntoContainer=function(s,a,f,m){if(!rd(f))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return id(s,a,f,!1,m)},po.version="18.3.1-next-f1338f8080-20240426",po}var KT;function oO(){if(KT)return Uv.exports;KT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uv.exports=sO(),Uv.exports}var JT;function aO(){if(JT)return Dy;JT=1;var n=oO();return Dy.createRoot=n.createRoot,Dy.hydrateRoot=n.hydrateRoot,Dy}var lO=aO(),QT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},CC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,_=o>>2,v=(o&3)<<4|c>>4;let w=(c&15)<<2|p>>6,b=p&63;d||(b=64,l||(w=64)),r.push(t[_],t[v],t[w],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||p==null||v==null)throw new cO;const w=o<<2|c>>4;if(r.push(w),p!==64){const b=c<<4&240|p>>2;if(r.push(b),v!==64){const A=p<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hO=function(n){const e=AC(n);return CC.encodeByteArray(e,!0)},k0=function(n){return hO(n).replace(/\./g,"")},xC=function(n){try{return CC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=()=>fO().__FIREBASE_DEFAULTS__,pO=()=>{if(typeof process>"u"||typeof QT>"u")return;const n=QT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xC(n[1]);return e&&JSON.parse(e)},o_=()=>{try{return dO()||pO()||gO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IC=n=>{var e,t;return(t=(e=o_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},RC=n=>{const e=IC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kC=()=>{var n;return(n=o_())===null||n===void 0?void 0:n.config},NC=n=>{var e;return(e=o_())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[k0(JSON.stringify(t)),k0(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fs())}function _O(){var n;const e=(n=o_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TO(){const n=Fs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bO(){return!_O()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SO(){try{return typeof indexedDB=="object"}catch{return!1}}function AO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="FirebaseError";class Fl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CO,Object.setPrototypeOf(this,Fl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,um.prototype.create)}}class um{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?xO(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Fl(i,c,r)}}function xO(n,e){return n.replace(IO,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IO=/\{\$([^}]+)}/g;function RO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function N0(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(XT(o)&&XT(l)){if(!N0(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function XT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kO(n,e){const t=new NO(n,e);return t.subscribe.bind(t)}class NO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");PO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=jv),i.error===void 0&&(i.error=jv),i.complete===void 0&&(i.complete=jv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(n){return n&&n._delegate?n._delegate:n}class bc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DO(e))try{this.getOrInitializeService({instanceIdentifier:wh})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wh){return this.instances.has(e)}getOptions(e=wh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wh){return this.component?this.component.multipleInstances?e:wh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LO(n){return n===wh?void 0:n}function DO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const FO={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},UO=Sn.INFO,BO={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},VO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=BO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mw{constructor(e){this.name=e,this._logLevel=UO,this._logHandler=VO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}const jO=(n,e)=>e.some(t=>n instanceof t);let YT,ZT;function qO(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $O(){return ZT||(ZT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OC=new WeakMap,I1=new WeakMap,LC=new WeakMap,qv=new WeakMap,Fw=new WeakMap;function zO(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(vc(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&OC.set(t,n)}).catch(()=>{}),Fw.set(e,n),e}function HO(n){if(I1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});I1.set(n,e)}let R1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return I1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WO(n){R1=n(R1)}function GO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call($v(this),e,...t);return LC.set(r,e.sort?e.sort():[e]),vc(r)}:$O().includes(n)?function(...e){return n.apply($v(this),e),vc(OC.get(this))}:function(...e){return vc(n.apply($v(this),e))}}function KO(n){return typeof n=="function"?GO(n):(n instanceof IDBTransaction&&HO(n),jO(n,qO())?new Proxy(n,R1):n)}function vc(n){if(n instanceof IDBRequest)return zO(n);if(qv.has(n))return qv.get(n);const e=KO(n);return e!==n&&(qv.set(n,e),Fw.set(e,n)),e}const $v=n=>Fw.get(n);function JO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=vc(l);return r&&l.addEventListener("upgradeneeded",d=>{r(vc(l.result),d.oldVersion,d.newVersion,vc(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const QO=["get","getKey","getAll","getAllKeys","count"],XO=["put","add","delete","clear"],zv=new Map;function eb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=XO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QO.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&d.done]))[0]};return zv.set(e,o),o}WO(n=>({...n,get:(e,t,r)=>eb(e,t)||n.get(e,t,r),has:(e,t)=>!!eb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ZO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k1="@firebase/app",tb="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Mw("@firebase/app"),eL="@firebase/app-compat",tL="@firebase/analytics-compat",nL="@firebase/analytics",rL="@firebase/app-check-compat",iL="@firebase/app-check",sL="@firebase/auth",oL="@firebase/auth-compat",aL="@firebase/database",lL="@firebase/data-connect",uL="@firebase/database-compat",cL="@firebase/functions",hL="@firebase/functions-compat",fL="@firebase/installations",dL="@firebase/installations-compat",pL="@firebase/messaging",gL="@firebase/messaging-compat",mL="@firebase/performance",yL="@firebase/performance-compat",_L="@firebase/remote-config",vL="@firebase/remote-config-compat",wL="@firebase/storage",EL="@firebase/storage-compat",TL="@firebase/firestore",bL="@firebase/vertexai",SL="@firebase/firestore-compat",AL="firebase",CL="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="[DEFAULT]",xL={[k1]:"fire-core",[eL]:"fire-core-compat",[nL]:"fire-analytics",[tL]:"fire-analytics-compat",[iL]:"fire-app-check",[rL]:"fire-app-check-compat",[sL]:"fire-auth",[oL]:"fire-auth-compat",[aL]:"fire-rtdb",[lL]:"fire-data-connect",[uL]:"fire-rtdb-compat",[cL]:"fire-fn",[hL]:"fire-fn-compat",[fL]:"fire-iid",[dL]:"fire-iid-compat",[pL]:"fire-fcm",[gL]:"fire-fcm-compat",[mL]:"fire-perf",[yL]:"fire-perf-compat",[_L]:"fire-rc",[vL]:"fire-rc-compat",[wL]:"fire-gcs",[EL]:"fire-gcs-compat",[TL]:"fire-fst",[SL]:"fire-fst-compat",[bL]:"fire-vertex","fire-js":"fire-js",[AL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map,IL=new Map,P1=new Map;function nb(n,e){try{n.container.addComponent(e)}catch(t){Tu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rh(n){const e=n.name;if(P1.has(e))return Tu.debug(`There were multiple attempts to register component ${e}.`),!1;P1.set(e,n);for(const t of P0.values())nb(t,n);for(const t of IL.values())nb(t,n);return!0}function a_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mu(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wc=new um("app","Firebase",RL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=CL;function DC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:N1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wc.create("bad-app-name",{appName:String(i)});if(t||(t=kC()),!t)throw wc.create("no-options");const o=P0.get(i);if(o){if(N0(t,o.options)&&N0(r,o.config))return o;throw wc.create("duplicate-app",{appName:i})}const l=new MO(i);for(const d of P1.values())l.addComponent(d);const c=new kL(t,r,l);return P0.set(i,c),c}function Uw(n=N1){const e=P0.get(n);if(!e&&n===N1&&kC())return DC();if(!e)throw wc.create("no-app",{appName:n});return e}function Al(n,e,t){var r;let i=(r=xL[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tu.warn(c.join(" "));return}Rh(new bc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="firebase-heartbeat-database",PL=1,jg="firebase-heartbeat-store";let Hv=null;function MC(){return Hv||(Hv=JO(NL,PL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jg)}catch(t){console.warn(t)}}}}).catch(n=>{throw wc.create("idb-open",{originalErrorMessage:n.message})})),Hv}async function OL(n){try{const t=(await MC()).transaction(jg),r=await t.objectStore(jg).get(FC(n));return await t.done,r}catch(e){if(e instanceof Fl)Tu.warn(e.message);else{const t=wc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tu.warn(t.message)}}}async function rb(n,e){try{const r=(await MC()).transaction(jg,"readwrite");await r.objectStore(jg).put(e,FC(n)),await r.done}catch(t){if(t instanceof Fl)Tu.warn(t.message);else{const r=wc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Tu.warn(r.message)}}}function FC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=1024,DL=30*24*60*60*1e3;class ML{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ib();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=DL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Tu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ib(),{heartbeatsToSend:r,unsentEntries:i}=FL(this._heartbeatsCache.heartbeats),o=k0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Tu.warn(t),""}}}function ib(){return new Date().toISOString().substring(0,10)}function FL(n,e=LL){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),sb(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),sb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class UL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SO()?AO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return rb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return rb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sb(n){return k0(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n){Rh(new bc("platform-logger",e=>new YO(e),"PRIVATE")),Rh(new bc("heartbeat",e=>new ML(e),"PRIVATE")),Al(k1,tb,n),Al(k1,tb,"esm2017"),Al("fire-js","")}BL("");var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ec,UC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,j){function q(){}q.prototype=j.prototype,U.D=j.prototype,U.prototype=new q,U.prototype.constructor=U,U.C=function(k,P,z){for(var O=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)O[oe-2]=arguments[oe];return j.prototype[P].apply(k,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,j,q){q||(q=0);var k=Array(16);if(typeof j=="string")for(var P=0;16>P;++P)k[P]=j.charCodeAt(q++)|j.charCodeAt(q++)<<8|j.charCodeAt(q++)<<16|j.charCodeAt(q++)<<24;else for(P=0;16>P;++P)k[P]=j[q++]|j[q++]<<8|j[q++]<<16|j[q++]<<24;j=U.g[0],q=U.g[1],P=U.g[2];var z=U.g[3],O=j+(z^q&(P^z))+k[0]+3614090360&4294967295;j=q+(O<<7&4294967295|O>>>25),O=z+(P^j&(q^P))+k[1]+3905402710&4294967295,z=j+(O<<12&4294967295|O>>>20),O=P+(q^z&(j^q))+k[2]+606105819&4294967295,P=z+(O<<17&4294967295|O>>>15),O=q+(j^P&(z^j))+k[3]+3250441966&4294967295,q=P+(O<<22&4294967295|O>>>10),O=j+(z^q&(P^z))+k[4]+4118548399&4294967295,j=q+(O<<7&4294967295|O>>>25),O=z+(P^j&(q^P))+k[5]+1200080426&4294967295,z=j+(O<<12&4294967295|O>>>20),O=P+(q^z&(j^q))+k[6]+2821735955&4294967295,P=z+(O<<17&4294967295|O>>>15),O=q+(j^P&(z^j))+k[7]+4249261313&4294967295,q=P+(O<<22&4294967295|O>>>10),O=j+(z^q&(P^z))+k[8]+1770035416&4294967295,j=q+(O<<7&4294967295|O>>>25),O=z+(P^j&(q^P))+k[9]+2336552879&4294967295,z=j+(O<<12&4294967295|O>>>20),O=P+(q^z&(j^q))+k[10]+4294925233&4294967295,P=z+(O<<17&4294967295|O>>>15),O=q+(j^P&(z^j))+k[11]+2304563134&4294967295,q=P+(O<<22&4294967295|O>>>10),O=j+(z^q&(P^z))+k[12]+1804603682&4294967295,j=q+(O<<7&4294967295|O>>>25),O=z+(P^j&(q^P))+k[13]+4254626195&4294967295,z=j+(O<<12&4294967295|O>>>20),O=P+(q^z&(j^q))+k[14]+2792965006&4294967295,P=z+(O<<17&4294967295|O>>>15),O=q+(j^P&(z^j))+k[15]+1236535329&4294967295,q=P+(O<<22&4294967295|O>>>10),O=j+(P^z&(q^P))+k[1]+4129170786&4294967295,j=q+(O<<5&4294967295|O>>>27),O=z+(q^P&(j^q))+k[6]+3225465664&4294967295,z=j+(O<<9&4294967295|O>>>23),O=P+(j^q&(z^j))+k[11]+643717713&4294967295,P=z+(O<<14&4294967295|O>>>18),O=q+(z^j&(P^z))+k[0]+3921069994&4294967295,q=P+(O<<20&4294967295|O>>>12),O=j+(P^z&(q^P))+k[5]+3593408605&4294967295,j=q+(O<<5&4294967295|O>>>27),O=z+(q^P&(j^q))+k[10]+38016083&4294967295,z=j+(O<<9&4294967295|O>>>23),O=P+(j^q&(z^j))+k[15]+3634488961&4294967295,P=z+(O<<14&4294967295|O>>>18),O=q+(z^j&(P^z))+k[4]+3889429448&4294967295,q=P+(O<<20&4294967295|O>>>12),O=j+(P^z&(q^P))+k[9]+568446438&4294967295,j=q+(O<<5&4294967295|O>>>27),O=z+(q^P&(j^q))+k[14]+3275163606&4294967295,z=j+(O<<9&4294967295|O>>>23),O=P+(j^q&(z^j))+k[3]+4107603335&4294967295,P=z+(O<<14&4294967295|O>>>18),O=q+(z^j&(P^z))+k[8]+1163531501&4294967295,q=P+(O<<20&4294967295|O>>>12),O=j+(P^z&(q^P))+k[13]+2850285829&4294967295,j=q+(O<<5&4294967295|O>>>27),O=z+(q^P&(j^q))+k[2]+4243563512&4294967295,z=j+(O<<9&4294967295|O>>>23),O=P+(j^q&(z^j))+k[7]+1735328473&4294967295,P=z+(O<<14&4294967295|O>>>18),O=q+(z^j&(P^z))+k[12]+2368359562&4294967295,q=P+(O<<20&4294967295|O>>>12),O=j+(q^P^z)+k[5]+4294588738&4294967295,j=q+(O<<4&4294967295|O>>>28),O=z+(j^q^P)+k[8]+2272392833&4294967295,z=j+(O<<11&4294967295|O>>>21),O=P+(z^j^q)+k[11]+1839030562&4294967295,P=z+(O<<16&4294967295|O>>>16),O=q+(P^z^j)+k[14]+4259657740&4294967295,q=P+(O<<23&4294967295|O>>>9),O=j+(q^P^z)+k[1]+2763975236&4294967295,j=q+(O<<4&4294967295|O>>>28),O=z+(j^q^P)+k[4]+1272893353&4294967295,z=j+(O<<11&4294967295|O>>>21),O=P+(z^j^q)+k[7]+4139469664&4294967295,P=z+(O<<16&4294967295|O>>>16),O=q+(P^z^j)+k[10]+3200236656&4294967295,q=P+(O<<23&4294967295|O>>>9),O=j+(q^P^z)+k[13]+681279174&4294967295,j=q+(O<<4&4294967295|O>>>28),O=z+(j^q^P)+k[0]+3936430074&4294967295,z=j+(O<<11&4294967295|O>>>21),O=P+(z^j^q)+k[3]+3572445317&4294967295,P=z+(O<<16&4294967295|O>>>16),O=q+(P^z^j)+k[6]+76029189&4294967295,q=P+(O<<23&4294967295|O>>>9),O=j+(q^P^z)+k[9]+3654602809&4294967295,j=q+(O<<4&4294967295|O>>>28),O=z+(j^q^P)+k[12]+3873151461&4294967295,z=j+(O<<11&4294967295|O>>>21),O=P+(z^j^q)+k[15]+530742520&4294967295,P=z+(O<<16&4294967295|O>>>16),O=q+(P^z^j)+k[2]+3299628645&4294967295,q=P+(O<<23&4294967295|O>>>9),O=j+(P^(q|~z))+k[0]+4096336452&4294967295,j=q+(O<<6&4294967295|O>>>26),O=z+(q^(j|~P))+k[7]+1126891415&4294967295,z=j+(O<<10&4294967295|O>>>22),O=P+(j^(z|~q))+k[14]+2878612391&4294967295,P=z+(O<<15&4294967295|O>>>17),O=q+(z^(P|~j))+k[5]+4237533241&4294967295,q=P+(O<<21&4294967295|O>>>11),O=j+(P^(q|~z))+k[12]+1700485571&4294967295,j=q+(O<<6&4294967295|O>>>26),O=z+(q^(j|~P))+k[3]+2399980690&4294967295,z=j+(O<<10&4294967295|O>>>22),O=P+(j^(z|~q))+k[10]+4293915773&4294967295,P=z+(O<<15&4294967295|O>>>17),O=q+(z^(P|~j))+k[1]+2240044497&4294967295,q=P+(O<<21&4294967295|O>>>11),O=j+(P^(q|~z))+k[8]+1873313359&4294967295,j=q+(O<<6&4294967295|O>>>26),O=z+(q^(j|~P))+k[15]+4264355552&4294967295,z=j+(O<<10&4294967295|O>>>22),O=P+(j^(z|~q))+k[6]+2734768916&4294967295,P=z+(O<<15&4294967295|O>>>17),O=q+(z^(P|~j))+k[13]+1309151649&4294967295,q=P+(O<<21&4294967295|O>>>11),O=j+(P^(q|~z))+k[4]+4149444226&4294967295,j=q+(O<<6&4294967295|O>>>26),O=z+(q^(j|~P))+k[11]+3174756917&4294967295,z=j+(O<<10&4294967295|O>>>22),O=P+(j^(z|~q))+k[2]+718787259&4294967295,P=z+(O<<15&4294967295|O>>>17),O=q+(z^(P|~j))+k[9]+3951481745&4294967295,U.g[0]=U.g[0]+j&4294967295,U.g[1]=U.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,U.g[2]=U.g[2]+P&4294967295,U.g[3]=U.g[3]+z&4294967295}r.prototype.u=function(U,j){j===void 0&&(j=U.length);for(var q=j-this.blockSize,k=this.B,P=this.h,z=0;z<j;){if(P==0)for(;z<=q;)i(this,U,z),z+=this.blockSize;if(typeof U=="string"){for(;z<j;)if(k[P++]=U.charCodeAt(z++),P==this.blockSize){i(this,k),P=0;break}}else for(;z<j;)if(k[P++]=U[z++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=j},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var j=1;j<U.length-8;++j)U[j]=0;var q=8*this.o;for(j=U.length-8;j<U.length;++j)U[j]=q&255,q/=256;for(this.u(U),U=Array(16),j=q=0;4>j;++j)for(var k=0;32>k;k+=8)U[q++]=this.g[j]>>>k&255;return U};function o(U,j){var q=c;return Object.prototype.hasOwnProperty.call(q,U)?q[U]:q[U]=j(U)}function l(U,j){this.h=j;for(var q=[],k=!0,P=U.length-1;0<=P;P--){var z=U[P]|0;k&&z==j||(q[P]=z,k=!1)}this.g=q}var c={};function d(U){return-128<=U&&128>U?o(U,function(j){return new l([j|0],0>j?-1:0)}):new l([U|0],0>U?-1:0)}function p(U){if(isNaN(U)||!isFinite(U))return v;if(0>U)return N(p(-U));for(var j=[],q=1,k=0;U>=q;k++)j[k]=U/q|0,q*=4294967296;return new l(j,0)}function _(U,j){if(U.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(U.charAt(0)=="-")return N(_(U.substring(1),j));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var q=p(Math.pow(j,8)),k=v,P=0;P<U.length;P+=8){var z=Math.min(8,U.length-P),O=parseInt(U.substring(P,P+z),j);8>z?(z=p(Math.pow(j,z)),k=k.j(z).add(p(O))):(k=k.j(q),k=k.add(p(O)))}return k}var v=d(0),w=d(1),b=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-N(this).m();for(var U=0,j=1,q=0;q<this.g.length;q++){var k=this.i(q);U+=(0<=k?k:4294967296+k)*j,j*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(A(this))return"0";if(R(this))return"-"+N(this).toString(U);for(var j=p(Math.pow(U,6)),q=this,k="";;){var P=M(q,j).g;q=D(q,P.j(j));var z=((0<q.g.length?q.g[0]:q.h)>>>0).toString(U);if(q=P,A(q))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function A(U){if(U.h!=0)return!1;for(var j=0;j<U.g.length;j++)if(U.g[j]!=0)return!1;return!0}function R(U){return U.h==-1}n.l=function(U){return U=D(this,U),R(U)?-1:A(U)?0:1};function N(U){for(var j=U.g.length,q=[],k=0;k<j;k++)q[k]=~U.g[k];return new l(q,~U.h).add(w)}n.abs=function(){return R(this)?N(this):this},n.add=function(U){for(var j=Math.max(this.g.length,U.g.length),q=[],k=0,P=0;P<=j;P++){var z=k+(this.i(P)&65535)+(U.i(P)&65535),O=(z>>>16)+(this.i(P)>>>16)+(U.i(P)>>>16);k=O>>>16,z&=65535,O&=65535,q[P]=O<<16|z}return new l(q,q[q.length-1]&-2147483648?-1:0)};function D(U,j){return U.add(N(j))}n.j=function(U){if(A(this)||A(U))return v;if(R(this))return R(U)?N(this).j(N(U)):N(N(this).j(U));if(R(U))return N(this.j(N(U)));if(0>this.l(b)&&0>U.l(b))return p(this.m()*U.m());for(var j=this.g.length+U.g.length,q=[],k=0;k<2*j;k++)q[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<U.g.length;P++){var z=this.i(k)>>>16,O=this.i(k)&65535,oe=U.i(P)>>>16,le=U.i(P)&65535;q[2*k+2*P]+=O*le,F(q,2*k+2*P),q[2*k+2*P+1]+=z*le,F(q,2*k+2*P+1),q[2*k+2*P+1]+=O*oe,F(q,2*k+2*P+1),q[2*k+2*P+2]+=z*oe,F(q,2*k+2*P+2)}for(k=0;k<j;k++)q[k]=q[2*k+1]<<16|q[2*k];for(k=j;k<2*j;k++)q[k]=0;return new l(q,0)};function F(U,j){for(;(U[j]&65535)!=U[j];)U[j+1]+=U[j]>>>16,U[j]&=65535,j++}function x(U,j){this.g=U,this.h=j}function M(U,j){if(A(j))throw Error("division by zero");if(A(U))return new x(v,v);if(R(U))return j=M(N(U),j),new x(N(j.g),N(j.h));if(R(j))return j=M(U,N(j)),new x(N(j.g),j.h);if(30<U.g.length){if(R(U)||R(j))throw Error("slowDivide_ only works with positive integers.");for(var q=w,k=j;0>=k.l(U);)q=$(q),k=$(k);var P=G(q,1),z=G(k,1);for(k=G(k,2),q=G(q,2);!A(k);){var O=z.add(k);0>=O.l(U)&&(P=P.add(q),z=O),k=G(k,1),q=G(q,1)}return j=D(U,P.j(j)),new x(P,j)}for(P=v;0<=U.l(j);){for(q=Math.max(1,Math.floor(U.m()/j.m())),k=Math.ceil(Math.log(q)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=p(q),O=z.j(j);R(O)||0<O.l(U);)q-=k,z=p(q),O=z.j(j);A(z)&&(z=w),P=P.add(z),U=D(U,O)}return new x(P,U)}n.A=function(U){return M(this,U).h},n.and=function(U){for(var j=Math.max(this.g.length,U.g.length),q=[],k=0;k<j;k++)q[k]=this.i(k)&U.i(k);return new l(q,this.h&U.h)},n.or=function(U){for(var j=Math.max(this.g.length,U.g.length),q=[],k=0;k<j;k++)q[k]=this.i(k)|U.i(k);return new l(q,this.h|U.h)},n.xor=function(U){for(var j=Math.max(this.g.length,U.g.length),q=[],k=0;k<j;k++)q[k]=this.i(k)^U.i(k);return new l(q,this.h^U.h)};function $(U){for(var j=U.g.length+1,q=[],k=0;k<j;k++)q[k]=U.i(k)<<1|U.i(k-1)>>>31;return new l(q,U.h)}function G(U,j){var q=j>>5;j%=32;for(var k=U.g.length-q,P=[],z=0;z<k;z++)P[z]=0<j?U.i(z+q)>>>j|U.i(z+q+1)<<32-j:U.i(z+q);return new l(P,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=_,Ec=l}).apply(typeof ob<"u"?ob:typeof self<"u"?self:typeof window<"u"?window:{});var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BC,wg,VC,l0,O1,jC,qC,$C;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,L){return g==Array.prototype||g==Object.prototype||(g[T]=L.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof My=="object"&&My];for(var T=0;T<g.length;++T){var L=g[T];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function i(g,T){if(T)e:{var L=r;g=g.split(".");for(var J=0;J<g.length-1;J++){var _e=g[J];if(!(_e in L))break e;L=L[_e]}g=g[g.length-1],J=L[g],T=T(J),T!=J&&T!=null&&e(L,g,{configurable:!0,writable:!0,value:T})}}function o(g,T){g instanceof String&&(g+="");var L=0,J=!1,_e={next:function(){if(!J&&L<g.length){var Ae=L++;return{value:T(Ae,g[Ae]),done:!1}}return J=!0,{done:!0,value:void 0}}};return _e[Symbol.iterator]=function(){return _e},_e}i("Array.prototype.values",function(g){return g||function(){return o(this,function(T,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function p(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function _(g,T,L){return g.call.apply(g.bind,arguments)}function v(g,T,L){if(!g)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var _e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_e,J),g.apply(T,_e)}}return function(){return g.apply(T,arguments)}}function w(g,T,L){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,w.apply(null,arguments)}function b(g,T){var L=Array.prototype.slice.call(arguments,1);return function(){var J=L.slice();return J.push.apply(J,arguments),g.apply(this,J)}}function A(g,T){function L(){}L.prototype=T.prototype,g.aa=T.prototype,g.prototype=new L,g.prototype.constructor=g,g.Qb=function(J,_e,Ae){for(var Je=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)Je[jn-2]=arguments[jn];return T.prototype[_e].apply(J,Je)}}function R(g){const T=g.length;if(0<T){const L=Array(T);for(let J=0;J<T;J++)L[J]=g[J];return L}return[]}function N(g,T){for(let L=1;L<arguments.length;L++){const J=arguments[L];if(d(J)){const _e=g.length||0,Ae=J.length||0;g.length=_e+Ae;for(let Je=0;Je<Ae;Je++)g[_e+Je]=J[Je]}else g.push(J)}}class D{constructor(T,L){this.i=T,this.j=L,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function F(g){return/^[\s\xa0]*$/.test(g)}function x(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function M(g){return M[" "](g),g}M[" "]=function(){};var $=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function G(g,T,L){for(const J in g)T.call(L,g[J],J,g)}function U(g,T){for(const L in g)T.call(void 0,g[L],L,g)}function j(g){const T={};for(const L in g)T[L]=g[L];return T}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(g,T){let L,J;for(let _e=1;_e<arguments.length;_e++){J=arguments[_e];for(L in J)g[L]=J[L];for(let Ae=0;Ae<q.length;Ae++)L=q[Ae],Object.prototype.hasOwnProperty.call(J,L)&&(g[L]=J[L])}}function P(g){var T=1;g=g.split(":");const L=[];for(;0<T&&g.length;)L.push(g.shift()),T--;return g.length&&L.push(g.join(":")),L}function z(g){c.setTimeout(()=>{throw g},0)}function O(){var g=ne;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class oe{constructor(){this.h=this.g=null}add(T,L){const J=le.get();J.set(T,L),this.h?this.h.next=J:this.g=J,this.h=J}}var le=new D(()=>new re,g=>g.reset());class re{constructor(){this.next=this.g=this.h=null}set(T,L){this.h=T,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,se=!1,ne=new oe,Y=()=>{const g=c.Promise.resolve(void 0);pe=()=>{g.then(K)}};var K=()=>{for(var g;g=O();){try{g.h.call(g.g)}catch(L){z(L)}var T=le;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}se=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const L=()=>{};c.addEventListener("test",L,T),c.removeEventListener("test",L,T)}catch{}return g}();function xe(g,T){if(fe.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var L=this.type=g.type,J=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if($){e:{try{M(T.nodeName);var _e=!0;break e}catch{}_e=!1}_e||(T=null)}}else L=="mouseover"?T=g.fromElement:L=="mouseout"&&(T=g.toElement);this.relatedTarget=T,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Le[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}A(xe,fe);var Le={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Ge(g,T,L,J,_e){this.listener=g,this.proxy=null,this.src=T,this.type=L,this.capture=!!J,this.ha=_e,this.key=++Re,this.da=this.fa=!1}function Ye(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Qe(g){this.src=g,this.g={},this.h=0}Qe.prototype.add=function(g,T,L,J,_e){var Ae=g.toString();g=this.g[Ae],g||(g=this.g[Ae]=[],this.h++);var Je=gt(g,T,J,_e);return-1<Je?(T=g[Je],L||(T.fa=!1)):(T=new Ge(T,this.src,Ae,!!J,_e),T.fa=L,g.push(T)),T};function pt(g,T){var L=T.type;if(L in g.g){var J=g.g[L],_e=Array.prototype.indexOf.call(J,T,void 0),Ae;(Ae=0<=_e)&&Array.prototype.splice.call(J,_e,1),Ae&&(Ye(T),g.g[L].length==0&&(delete g.g[L],g.h--))}}function gt(g,T,L,J){for(var _e=0;_e<g.length;++_e){var Ae=g[_e];if(!Ae.da&&Ae.listener==T&&Ae.capture==!!L&&Ae.ha==J)return _e}return-1}var st="closure_lm_"+(1e6*Math.random()|0),zt={};function tr(g,T,L,J,_e){if(Array.isArray(T)){for(var Ae=0;Ae<T.length;Ae++)tr(g,T[Ae],L,J,_e);return null}return L=xn(L),g&&g[$e]?g.K(T,L,p(J)?!!J.capture:!1,_e):Bn(g,T,L,!1,J,_e)}function Bn(g,T,L,J,_e,Ae){if(!T)throw Error("Invalid event type");var Je=p(_e)?!!_e.capture:!!_e,jn=mn(g);if(jn||(g[st]=jn=new Qe(g)),L=jn.add(T,L,J,Je,Ae),L.proxy)return L;if(J=ur(),L.proxy=J,J.src=g,J.listener=L,g.addEventListener)Pe||(_e=Je),_e===void 0&&(_e=!1),g.addEventListener(T.toString(),J,_e);else if(g.attachEvent)g.attachEvent(hn(T.toString()),J);else if(g.addListener&&g.removeListener)g.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return L}function ur(){function g(L){return T.call(g.src,g.listener,L)}const T=Cn;return g}function Qn(g,T,L,J,_e){if(Array.isArray(T))for(var Ae=0;Ae<T.length;Ae++)Qn(g,T[Ae],L,J,_e);else J=p(J)?!!J.capture:!!J,L=xn(L),g&&g[$e]?(g=g.i,T=String(T).toString(),T in g.g&&(Ae=g.g[T],L=gt(Ae,L,J,_e),-1<L&&(Ye(Ae[L]),Array.prototype.splice.call(Ae,L,1),Ae.length==0&&(delete g.g[T],g.h--)))):g&&(g=mn(g))&&(T=g.g[T.toString()],g=-1,T&&(g=gt(T,L,J,_e)),(L=-1<g?T[g]:null)&&cn(L))}function cn(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[$e])pt(T.i,g);else{var L=g.type,J=g.proxy;T.removeEventListener?T.removeEventListener(L,J,g.capture):T.detachEvent?T.detachEvent(hn(L),J):T.addListener&&T.removeListener&&T.removeListener(J),(L=mn(T))?(pt(L,g),L.h==0&&(L.src=null,T[st]=null)):Ye(g)}}}function hn(g){return g in zt?zt[g]:zt[g]="on"+g}function Cn(g,T){if(g.da)g=!0;else{T=new xe(T,this);var L=g.listener,J=g.ha||g.src;g.fa&&cn(g),g=L.call(J,T)}return g}function mn(g){return g=g[st],g instanceof Qe?g:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(g){return typeof g=="function"?g:(g[Ht]||(g[Ht]=function(T){return g.handleEvent(T)}),g[Ht])}function Dt(){ie.call(this),this.i=new Qe(this),this.M=this,this.F=null}A(Dt,ie),Dt.prototype[$e]=!0,Dt.prototype.removeEventListener=function(g,T,L,J){Qn(this,g,T,L,J)};function wt(g,T){var L,J=g.F;if(J)for(L=[];J;J=J.F)L.push(J);if(g=g.M,J=T.type||T,typeof T=="string")T=new fe(T,g);else if(T instanceof fe)T.target=T.target||g;else{var _e=T;T=new fe(J,g),k(T,_e)}if(_e=!0,L)for(var Ae=L.length-1;0<=Ae;Ae--){var Je=T.g=L[Ae];_e=Ut(Je,J,!0,T)&&_e}if(Je=T.g=g,_e=Ut(Je,J,!0,T)&&_e,_e=Ut(Je,J,!1,T)&&_e,L)for(Ae=0;Ae<L.length;Ae++)Je=T.g=L[Ae],_e=Ut(Je,J,!1,T)&&_e}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var L=g.g[T],J=0;J<L.length;J++)Ye(L[J]);delete g.g[T],g.h--}}this.F=null},Dt.prototype.K=function(g,T,L,J){return this.i.add(String(g),T,!1,L,J)},Dt.prototype.L=function(g,T,L,J){return this.i.add(String(g),T,!0,L,J)};function Ut(g,T,L,J){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var _e=!0,Ae=0;Ae<T.length;++Ae){var Je=T[Ae];if(Je&&!Je.da&&Je.capture==L){var jn=Je.listener,pi=Je.ha||Je.src;Je.fa&&pt(g.i,Je),_e=jn.call(pi,J)!==!1&&_e}}return _e&&!J.defaultPrevented}function qn(g,T,L){if(typeof g=="function")L&&(g=w(g,L));else if(g&&typeof g.handleEvent=="function")g=w(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:c.setTimeout(g,T||0)}function Jt(g){g.g=qn(()=>{g.g=null,g.i&&(g.i=!1,Jt(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Wr extends ie{constructor(T,L){super(),this.m=T,this.l=L,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(g){ie.call(this),this.h=g,this.g={}}A(Rr,ie);var ns=[];function Ti(g){G(g.g,function(T,L){this.g.hasOwnProperty(L)&&cn(T)},g),g.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),Ti(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=c.JSON.stringify,Vi=c.JSON.parse,Gr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function yr(){}yr.prototype.h=null;function or(g){return g.h||(g.h=g.i())}function cr(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rn(){fe.call(this,"d")}A(Rn,fe);function ui(){fe.call(this,"c")}A(ui,fe);var Hn={},Si=null;function Ur(){return Si=Si||new Dt}Hn.La="serverreachability";function ki(g){fe.call(this,Hn.La,g)}A(ki,fe);function _r(g){const T=Ur();wt(T,new ki(T))}Hn.STAT_EVENT="statevent";function ji(g,T){fe.call(this,Hn.STAT_EVENT,g),this.stat=T}A(ji,fe);function Gt(g){const T=Ur();wt(T,new ji(T,g))}Hn.Ma="timingevent";function nr(g,T){fe.call(this,Hn.Ma,g),this.size=T}A(nr,fe);function Wn(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},T)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function vr(g,T,L,J,_e,Ae){g.info(function(){if(g.g)if(Ae)for(var Je="",jn=Ae.split("&"),pi=0;pi<jn.length;pi++){var En=jn[pi].split("=");if(1<En.length){var zn=En[0];En=En[1];var Or=zn.split("_");Je=2<=Or.length&&Or[1]=="type"?Je+(zn+"="+En+"&"):Je+(zn+"=redacted&")}}else Je=null;else Je=Ae;return"XMLHTTP REQ ("+J+") [attempt "+_e+"]: "+T+`
`+L+`
`+Je})}function ci(g,T,L,J,_e,Ae,Je){g.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+_e+"]: "+T+`
`+L+`
`+Ae+" "+Je})}function Qt(g,T,L,J){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+Js(g,L)+(J?" "+J:"")})}function qi(g,T){g.info(function(){return"TIMEOUT: "+T})}kr.prototype.info=function(){};function Js(g,T){if(!g.g)return T;if(!T)return null;try{var L=JSON.parse(T);if(L){for(g=0;g<L.length;g++)if(Array.isArray(L[g])){var J=L[g];if(!(2>J.length)){var _e=J[1];if(Array.isArray(_e)&&!(1>_e.length)){var Ae=_e[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Je=1;Je<_e.length;Je++)_e[Je]=""}}}}return bi(L)}catch{return T}}var Kr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function yn(){}A(yn,yr),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},Br=new yn;function Jr(g,T,L,J){this.j=g,this.i=T,this.l=L,this.R=J||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ni}function Ni(){this.i=null,this.g="",this.h=!1}var Qr={},rs={};function me(g,T,L){g.L=1,g.v=rr($n(T)),g.m=L,g.P=!0,Te(g,null)}function Te(g,T){g.F=Date.now(),rt(g),g.A=$n(g.v);var L=g.A,J=g.R;Array.isArray(J)||(J=[String(J)]),ws(L.i,"t",J),g.C=0,L=g.j.J,g.h=new Ni,g.g=Xh(g.j,L?T:null,!g.m),0<g.O&&(g.M=new Wr(w(g.Y,g,g.g),g.O)),T=g.U,L=g.g,J=g.ca;var _e="readystatechange";Array.isArray(_e)||(_e&&(ns[0]=_e.toString()),_e=ns);for(var Ae=0;Ae<_e.length;Ae++){var Je=tr(L,_e[Ae],J||T.handleEvent,!1,T.h||T);if(!Je)break;T.g[Je.key]=Je}T=g.H?j(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),_r(),vr(g.i,g.u,g.A,g.l,g.R,g.m)}Jr.prototype.ca=function(g){g=g.target;const T=this.M;T&&gn(g)==3?T.j():this.Y(g)},Jr.prototype.Y=function(g){try{if(g==this.g)e:{const Or=gn(this.g);var T=this.g.Ba();const Wi=this.g.Z();if(!(3>Or)&&(Or!=3||this.g&&(this.h.h||this.g.oa()||jr(this.g)))){this.J||Or!=4||T==7||(T==8||0>=Wi?_r(3):_r(2)),he(this);var L=this.g.Z();this.X=L;t:if(qe(this)){var J=jr(this.g);g="";var _e=J.length,Ae=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),be(this);var Je="";break t}this.h.i=new c.TextDecoder}for(T=0;T<_e;T++)this.h.h=!0,g+=this.h.i.decode(J[T],{stream:!(Ae&&T==_e-1)});J.length=0,this.h.g+=g,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=L==200,ci(this.i,this.u,this.A,this.l,this.R,Or,L),this.o){if(this.T&&!this.K){t:{if(this.g){var jn,pi=this.g;if((jn=pi.g?pi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(jn)){var En=jn;break t}}En=null}if(L=En)Qt(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xe(this,L);else{this.o=!1,this.s=3,Gt(12),Be(this),be(this);break e}}if(this.P){L=!0;let Ts;for(;!this.J&&this.C<Je.length;)if(Ts=nt(this,Je),Ts==rs){Or==4&&(this.s=4,Gt(14),L=!1),Qt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ts==Qr){this.s=4,Gt(15),Qt(this.i,this.l,Je,"[Invalid Chunk]"),L=!1;break}else Qt(this.i,this.l,Ts,null),Xe(this,Ts);if(qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Or!=4||Je.length!=0||this.h.h||(this.s=1,Gt(16),L=!1),this.o=this.o&&L,!L)Qt(this.i,this.l,Je,"[Invalid Chunked Response]"),Be(this),be(this);else if(0<Je.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),Xs(zn),zn.M=!0,Gt(11))}}else Qt(this.i,this.l,Je,null),Xe(this,Je);Or==4&&Be(this),this.o&&!this.J&&(Or==4?Gn(this.j,this):(this.o=!1,rt(this)))}else Xn(this.g),L==400&&0<Je.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Be(this),be(this)}}}catch{}finally{}};function qe(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function nt(g,T){var L=g.C,J=T.indexOf(`
`,L);return J==-1?rs:(L=Number(T.substring(L,J)),isNaN(L)?Qr:(J+=1,J+L>T.length?rs:(T=T.slice(J,J+L),g.C=J+L,T)))}Jr.prototype.cancel=function(){this.J=!0,Be(this)};function rt(g){g.S=Date.now()+g.I,At(g,g.I)}function At(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Wn(w(g.ba,g),T)}function he(g){g.B&&(c.clearTimeout(g.B),g.B=null)}Jr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(qi(this.i,this.A),this.L!=2&&(_r(),Gt(17)),Be(this),this.s=2,be(this)):At(this,this.S-g)};function be(g){g.j.G==0||g.J||Gn(g.j,g)}function Be(g){he(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,Ti(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function Xe(g,T){try{var L=g.j;if(L.G!=0&&(L.g==g||Yt(L.h,g))){if(!g.K&&Yt(L.h,g)&&L.G==3){try{var J=L.Da.g.parse(T)}catch{J=null}if(Array.isArray(J)&&J.length==3){var _e=J;if(_e[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<g.F)Xa(L),Pr(L);else break e;Vl(L),Gt(18)}}else L.za=_e[1],0<L.za-L.T&&37500>_e[2]&&L.F&&L.v==0&&!L.C&&(L.C=Wn(w(L.Za,L),6e3));if(1>=Mt(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else vo(L,11)}else if((g.K||L.g==g)&&Xa(L),!F(T))for(_e=L.Da.g.parse(T),T=0;T<_e.length;T++){let En=_e[T];if(L.T=En[0],En=En[1],L.G==2)if(En[0]=="c"){L.K=En[1],L.ia=En[2];const zn=En[3];zn!=null&&(L.la=zn,L.j.info("VER="+L.la));const Or=En[4];Or!=null&&(L.Aa=Or,L.j.info("SVER="+L.Aa));const Wi=En[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(J=1.5*Wi,L.L=J,L.j.info("backChannelRequestTimeoutMs_="+J)),J=L;const Ts=g.g;if(Ts){const Ya=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var Ae=J.h;Ae.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(bn(Ae,Ae.h),Ae.h=null))}if(J.D){const Lu=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Lu&&(J.ya=Lu,qt(J.I,J.D,Lu))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-g.F,L.j.info("Handshake RTT: "+L.R+"ms")),J=L;var Je=g;if(J.qa=Pu(J,J.J?J.ia:null,J.W),Je.K){Xr(J.h,Je);var jn=Je,pi=J.L;pi&&(jn.I=pi),jn.B&&(he(jn),rt(jn)),J.g=Je}else Bl(J);0<L.i.length&&Es(L)}else En[0]!="stop"&&En[0]!="close"||vo(L,7);else L.G==3&&(En[0]=="stop"||En[0]=="close"?En[0]=="stop"?vo(L,7):sr(L):En[0]!="noop"&&L.l&&L.l.ta(En),L.v=0)}}_r(4)}catch{}}var _t=class{constructor(g,T){this.g=g,this.map=T}};function jt(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Mt(g){return g.h?1:g.g?g.g.size:0}function Yt(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function bn(g,T){g.g?g.g.add(T):g.h=T}function Xr(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}jt.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Nr(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const L of g.g.values())T=T.concat(L.D);return T}return R(g.i)}function Sr(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var T=[],L=g.length,J=0;J<L;J++)T.push(g[J]);return T}T=[],L=0;for(J in g)T[L++]=g[J];return T}function ct(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var T=[];g=g.length;for(var L=0;L<g;L++)T.push(L);return T}T=[],L=0;for(const J in g)T[L++]=J;return T}}}function Ft(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var L=ct(g),J=Sr(g),_e=J.length,Ae=0;Ae<_e;Ae++)T.call(void 0,J[Ae],L&&L[Ae],g)}var pn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pt(g,T){if(g){g=g.split("&");for(var L=0;L<g.length;L++){var J=g[L].indexOf("="),_e=null;if(0<=J){var Ae=g[L].substring(0,J);_e=g[L].substring(J+1)}else Ae=g[L];T(Ae,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function Ct(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ct){this.h=g.h,xt(this,g.j),this.o=g.o,this.g=g.g,vn(this,g.s),this.l=g.l;var T=g.i,L=new Ai;L.i=T.i,T.g&&(L.g=new Map(T.g),L.h=T.h),wn(this,L),this.m=g.m}else g&&(T=String(g).match(pn))?(this.h=!1,xt(this,T[1]||"",!0),this.o=vt(T[2]||""),this.g=vt(T[3]||"",!0),vn(this,T[4]),this.l=vt(T[5]||"",!0),wn(this,T[6]||"",!0),this.m=vt(T[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}Ct.prototype.toString=function(){var g=[],T=this.j;T&&g.push(Vn(T,_s,!0),":");var L=this.g;return(L||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Vn(T,_s,!0),"@"),g.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&g.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&g.push("/"),g.push(Vn(L,L.charAt(0)=="/"?Bs:Yr,!0))),(L=this.i.toString())&&g.push("?",L),(L=this.m)&&g.push("#",Vn(L,is)),g.join("")};function $n(g){return new Ct(g)}function xt(g,T,L){g.j=L?vt(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function vn(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function wn(g,T,L){T instanceof Ai?(g.i=T,zi(g.i,g.h)):(L||(T=Vn(T,vs)),g.i=new Ai(T,g.h))}function qt(g,T,L){g.i.set(T,L)}function rr(g){return qt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function vt(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Vn(g,T,L){return typeof g=="string"?(g=encodeURI(g).replace(T,hr),L&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function hr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var _s=/[#\/\?@]/g,Yr=/[#\?:]/g,Bs=/[#\?]/g,vs=/[#\?@]/g,is=/#/g;function Ai(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function ir(g){g.g||(g.g=new Map,g.h=0,g.i&&Pt(g.i,function(T,L){g.add(decodeURIComponent(T.replace(/\+/g," ")),L)}))}n=Ai.prototype,n.add=function(g,T){ir(this),this.i=null,g=fi(this,g);var L=this.g.get(g);return L||this.g.set(g,L=[]),L.push(T),this.h+=1,this};function On(g,T){ir(g),T=fi(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function $i(g,T){return ir(g),T=fi(g,T),g.g.has(T)}n.forEach=function(g,T){ir(this),this.g.forEach(function(L,J){L.forEach(function(_e){g.call(T,_e,J,this)},this)},this)},n.na=function(){ir(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),L=[];for(let J=0;J<T.length;J++){const _e=g[J];for(let Ae=0;Ae<_e.length;Ae++)L.push(T[J])}return L},n.V=function(g){ir(this);let T=[];if(typeof g=="string")$i(this,g)&&(T=T.concat(this.g.get(fi(this,g))));else{g=Array.from(this.g.values());for(let L=0;L<g.length;L++)T=T.concat(g[L])}return T},n.set=function(g,T){return ir(this),this.i=null,g=fi(this,g),$i(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},n.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function ws(g,T,L){On(g,T),0<L.length&&(g.i=null,g.g.set(fi(g,T),R(L)),g.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var L=0;L<T.length;L++){var J=T[L];const Ae=encodeURIComponent(String(J)),Je=this.V(J);for(J=0;J<Je.length;J++){var _e=Ae;Je[J]!==""&&(_e+="="+encodeURIComponent(String(Je[J]))),g.push(_e)}}return this.i=g.join("&")};function fi(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function zi(g,T){T&&!g.j&&(ir(g),g.i=null,g.g.forEach(function(L,J){var _e=J.toLowerCase();J!=_e&&(On(this,J),ws(this,_e,L))},g)),g.j=T}function Vo(g,T){const L=new kr;if(c.Image){const J=new Image;J.onload=b(Vr,L,"TestLoadImage: loaded",!0,T,J),J.onerror=b(Vr,L,"TestLoadImage: error",!1,T,J),J.onabort=b(Vr,L,"TestLoadImage: abort",!1,T,J),J.ontimeout=b(Vr,L,"TestLoadImage: timeout",!1,T,J),c.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=g}else T(!1)}function Qa(g,T){const L=new kr,J=new AbortController,_e=setTimeout(()=>{J.abort(),Vr(L,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:J.signal}).then(Ae=>{clearTimeout(_e),Ae.ok?Vr(L,"TestPingServer: ok",!0,T):Vr(L,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(_e),Vr(L,"TestPingServer: error",!1,T)})}function Vr(g,T,L,J,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),J(L)}catch{}}function ma(){this.g=new Gr}function ya(g,T,L){const J=L||"";try{Ft(g,function(_e,Ae){let Je=_e;p(_e)&&(Je=bi(_e)),T.push(J+Ae+"="+encodeURIComponent(Je))})}catch(_e){throw T.push(J+"type="+encodeURIComponent("_badmap")),_e}}function Zr(g){this.l=g.Ub||null,this.j=g.eb||!1}A(Zr,yr),Zr.prototype.g=function(){return new Qs(this.l,this.j)},Zr.prototype.i=function(g){return function(){return g}}({});function Qs(g,T){Dt.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Qs,Dt),n=Qs.prototype,n.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,tn(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||c).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sn(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,tn(this)),this.g&&(this.readyState=3,tn(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?sn(this):tn(this),this.readyState==3&&jo(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,sn(this))},n.Qa=function(g){this.g&&(this.response=g,sn(this))},n.ga=function(){this.g&&sn(this)};function sn(g){g.readyState=4,g.l=null,g.j=null,g.v=null,tn(g)}n.setRequestHeader=function(g,T){this.u.append(g,T)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var L=T.next();!L.done;)L=L.value,g.push(L[0]+": "+L[1]),L=T.next();return g.join(`\r
`)};function tn(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function I(g){let T="";return G(g,function(L,J){T+=J,T+=":",T+=L,T+=`\r
`}),T}function W(g,T,L){e:{for(J in L){var J=!1;break e}J=!0}J||(L=I(L),typeof g=="string"?L!=null&&encodeURIComponent(String(L)):qt(g,T,L))}function ee(g){Dt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ee,Dt);var Ie=/^https?$/i,It=["POST","PUT"];n=ee.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,T,L,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?or(this.o):or(Br),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(Ae){ut(this,Ae);return}if(g=L||"",L=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var _e in J)L.set(_e,J[_e]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ae of J.keys())L.set(Ae,J.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(L.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),_e=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(It,T,void 0))||J||_e||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Je]of L)this.g.setRequestHeader(Ae,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ae){ut(this,Ae)}};function ut(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,nn(g),St(g)}function nn(g){g.A||(g.A=!0,wt(g,"complete"),wt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,wt(this,"complete"),wt(this,"abort"),St(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),St(this,!0)),ee.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?on(this):this.bb())},n.bb=function(){on(this)};function on(g){if(g.h&&typeof l<"u"&&(!g.v[1]||gn(g)!=4||g.Z()!=2)){if(g.u&&gn(g)==4)qn(g.Ea,0,g);else if(wt(g,"readystatechange"),gn(g)==4){g.h=!1;try{const Je=g.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var L;if(!(L=T)){var J;if(J=Je===0){var _e=String(g.D).match(pn)[1]||null;!_e&&c.self&&c.self.location&&(_e=c.self.location.protocol.slice(0,-1)),J=!Ie.test(_e?_e.toLowerCase():"")}L=J}if(L)wt(g,"complete"),wt(g,"success");else{g.m=6;try{var Ae=2<gn(g)?g.g.statusText:""}catch{Ae=""}g.l=Ae+" ["+g.Z()+"]",nn(g)}}finally{St(g)}}}}function St(g,T){if(g.g){an(g);const L=g.g,J=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||wt(g,"ready");try{L.onreadystatechange=J}catch{}}}function an(g){g.I&&(c.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function gn(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),Vi(T)}};function jr(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Xn(g){const T={};g=(g.g&&2<=gn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<g.length;J++){if(F(g[J]))continue;var L=P(g[J]);const _e=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Ae=T[_e]||[];T[_e]=Ae,Ae.push(L)}U(T,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fn(g,T,L){return L&&L.internalChannelParams&&L.internalChannelParams[g]||T}function wr(g){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fn("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fn("baseRetryDelayMs",5e3,g),this.cb=fn("retryDelaySeedMs",1e4,g),this.Wa=fn("forwardChannelMaxRetries",2,g),this.wa=fn("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new jt(g&&g.concurrentRequestLimit),this.Da=new ma,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wr.prototype,n.la=8,n.G=1,n.connect=function(g,T,L,J){Gt(0),this.W=g,this.H=T||{},L&&J!==void 0&&(this.H.OSID=L,this.H.OAID=J),this.F=this.X,this.I=Pu(this,null,this.W),Es(this)};function sr(g){if(ss(g),g.G==3){var T=g.U++,L=$n(g.I);if(qt(L,"SID",g.K),qt(L,"RID",T),qt(L,"TYPE","terminate"),va(g,L),T=new Jr(g,g.j,T),T.L=2,T.v=rr($n(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(T.v.toString(),"")}catch{}!L&&c.Image&&(new Image().src=T.v,L=!0),L||(T.g=Xh(T.j,null),T.g.ea(T.v)),T.F=Date.now(),rt(T)}Qh(g)}function Pr(g){g.g&&(Xs(g),g.g.cancel(),g.g=null)}function ss(g){Pr(g),g.u&&(c.clearTimeout(g.u),g.u=null),Xa(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Es(g){if(!Xt(g.h)&&!g.s){g.s=!0;var T=g.Ga;pe||Y(),se||(pe(),se=!0),ne.add(T,g),g.B=0}}function _a(g,T){return Mt(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Wn(w(g.Ga,g,T),_o(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const _e=new Jr(this,this.j,g);let Ae=this.o;if(this.S&&(Ae?(Ae=j(Ae),k(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(_e.H=Ae,Ae=null),this.P)e:{for(var T=0,L=0;L<this.i.length;L++){t:{var J=this.i[L];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(T+=J,4096<T){T=L;break e}if(T===4096||L===this.i.length-1){T=L+1;break e}}T=1e3}else T=1e3;T=di(this,_e,T),L=$n(this.I),qt(L,"RID",g),qt(L,"CVER",22),this.D&&qt(L,"X-HTTP-Session-Id",this.D),va(this,L),Ae&&(this.O?T="headers="+encodeURIComponent(String(I(Ae)))+"&"+T:this.m&&W(L,this.m,Ae)),bn(this.h,_e),this.Ua&&qt(L,"TYPE","init"),this.P?(qt(L,"$req",T),qt(L,"SID","null"),_e.T=!0,me(_e,L,null)):me(_e,L,T),this.G=2}}else this.G==3&&(g?Ar(this,g):this.i.length==0||Xt(this.h)||Ar(this))};function Ar(g,T){var L;T?L=T.l:L=g.U++;const J=$n(g.I);qt(J,"SID",g.K),qt(J,"RID",L),qt(J,"AID",g.T),va(g,J),g.m&&g.o&&W(J,g.m,g.o),L=new Jr(g,g.j,L,g.B+1),g.m===null&&(L.H=g.o),T&&(g.i=T.D.concat(g.i)),T=di(g,L,1e3),L.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),bn(g.h,L),me(L,J,T)}function va(g,T){g.H&&G(g.H,function(L,J){qt(T,J,L)}),g.l&&Ft({},function(L,J){qt(T,J,L)})}function di(g,T,L){L=Math.min(g.i.length,L);var J=g.l?w(g.l.Na,g.l,g):null;e:{var _e=g.i;let Ae=-1;for(;;){const Je=["count="+L];Ae==-1?0<L?(Ae=_e[0].g,Je.push("ofs="+Ae)):Ae=0:Je.push("ofs="+Ae);let jn=!0;for(let pi=0;pi<L;pi++){let En=_e[pi].g;const zn=_e[pi].map;if(En-=Ae,0>En)Ae=Math.max(0,_e[pi].g-100),jn=!1;else try{ya(zn,Je,"req"+En+"_")}catch{J&&J(zn)}}if(jn){J=Je.join("&");break e}}}return g=g.i.splice(0,L),T.D=g,J}function Bl(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;pe||Y(),se||(pe(),se=!0),ne.add(T,g),g.v=0}}function Vl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Wn(w(g.Fa,g),_o(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Wn(w(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Pr(this),jl(this))};function Xs(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function jl(g){g.g=new Jr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=$n(g.qa);qt(T,"RID","rpc"),qt(T,"SID",g.K),qt(T,"AID",g.T),qt(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&qt(T,"TO",g.ja),qt(T,"TYPE","xmlhttp"),va(g,T),g.m&&g.o&&W(T,g.m,g.o),g.L&&(g.g.I=g.L);var L=g.g;g=g.ia,L.L=1,L.v=rr($n(T)),L.m=null,L.P=!0,Te(L,g)}n.Za=function(){this.C!=null&&(this.C=null,Pr(this),Vl(this),Gt(19))};function Xa(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Gn(g,T){var L=null;if(g.g==T){Xa(g),Xs(g),g.g=null;var J=2}else if(Yt(g.h,T))L=T.D,Xr(g.h,T),J=1;else return;if(g.G!=0){if(T.o)if(J==1){L=T.m?T.m.length:0,T=Date.now()-T.F;var _e=g.B;J=Ur(),wt(J,new nr(J,L)),Es(g)}else Bl(g);else if(_e=T.s,_e==3||_e==0&&0<T.X||!(J==1&&_a(g,T)||J==2&&Vl(g)))switch(L&&0<L.length&&(T=g.h,T.i=T.i.concat(L)),_e){case 1:vo(g,5);break;case 4:vo(g,10);break;case 3:vo(g,6);break;default:vo(g,2)}}}function _o(g,T){let L=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(L*=2),L*T}function vo(g,T){if(g.j.info("Error code "+T),T==2){var L=w(g.fb,g),J=g.Xa;const _e=!J;J=new Ct(J||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xt(J,"https"),rr(J),_e?Vo(J.toString(),L):Qa(J.toString(),L)}else Gt(2);g.G=0,g.l&&g.l.sa(T),Qh(g),ss(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Qh(g){if(g.G=0,g.ka=[],g.l){const T=Nr(g.h);(T.length!=0||g.i.length!=0)&&(N(g.ka,T),N(g.ka,g.i),g.h.i.length=0,R(g.i),g.i.length=0),g.l.ra()}}function Pu(g,T,L){var J=L instanceof Ct?$n(L):new Ct(L);if(J.g!="")T&&(J.g=T+"."+J.g),vn(J,J.s);else{var _e=c.location;J=_e.protocol,T=T?T+"."+_e.hostname:_e.hostname,_e=+_e.port;var Ae=new Ct(null);J&&xt(Ae,J),T&&(Ae.g=T),_e&&vn(Ae,_e),L&&(Ae.l=L),J=Ae}return L=g.D,T=g.ya,L&&T&&qt(J,L,T),qt(J,"VER",g.la),va(g,J),J}function Xh(g,T,L){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new ee(new Zr({eb:L})):new ee(g.pa),T.Ha(g.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}n=Dc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ou(){}Ou.prototype.g=function(g,T){return new Hi(g,T)};function Hi(g,T){Dt.call(this),this.g=new wr(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!F(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new qo(this)}A(Hi,Dt),Hi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hi.prototype.close=function(){sr(this.g)},Hi.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var L={};L.__data__=g,g=L}else this.u&&(L={},L.__data__=bi(g),g=L);T.i.push(new _t(T.Ya++,g)),T.G==3&&Es(T)},Hi.prototype.N=function(){this.g.l=null,delete this.j,sr(this.g),delete this.g,Hi.aa.N.call(this)};function ql(g){Rn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const L in T){g=L;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}A(ql,Rn);function wa(){ui.call(this),this.status=1}A(wa,ui);function qo(g){this.g=g}A(qo,Dc),qo.prototype.ua=function(){wt(this.g,"a")},qo.prototype.ta=function(g){wt(this.g,new ql(g))},qo.prototype.sa=function(g){wt(this.g,new wa)},qo.prototype.ra=function(){wt(this.g,"b")},Ou.prototype.createWebChannel=Ou.prototype.g,Hi.prototype.send=Hi.prototype.o,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,$C=function(){return new Ou},qC=function(){return Ur()},jC=Hn,O1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,l0=Kr,hi.COMPLETE="complete",VC=hi,cr.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,wg=cr,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,BC=ee}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});const ab="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Mw("@firebase/firestore");function gd(){return kh.logLevel}function ot(n,...e){if(kh.logLevel<=Sn.DEBUG){const t=e.map(Bw);kh.debug(`Firestore (${Yd}): ${n}`,...t)}}function bu(n,...e){if(kh.logLevel<=Sn.ERROR){const t=e.map(Bw);kh.error(`Firestore (${Yd}): ${n}`,...t)}}function Md(n,...e){if(kh.logLevel<=Sn.WARN){const t=e.map(Bw);kh.warn(`Firestore (${Yd}): ${n}`,...t)}}function Bw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n="Unexpected state"){const e=`FIRESTORE (${Yd}) INTERNAL ASSERTION FAILED: `+n;throw bu(e),new Error(e)}function er(n,e){n||Vt()}function Kt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Fl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ps.UNAUTHENTICATED))}shutdown(){}}class jL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qL{constructor(e){this.t=e,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){er(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Ah;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ah,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ah)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(er(typeof r.accessToken=="string"),new zC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return er(e===null||typeof e=="string"),new Ps(e)}}class $L{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zL{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new $L(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){er(this.o===void 0);const r=o=>{o.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ot("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(er(typeof t.token=="string"),this.R=t.token,new HL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=GL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Pn(n,e){return n<e?-1:n>e?1:0}function Fd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{static now(){return Ui.fromMillis(Date.now())}static fromDate(e){return Ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ui(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pn(this.nanoseconds,e.nanoseconds):Pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Ui(0,0))}static max(){return new Wt(new Ui(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t,r){t===void 0?t=0:t>e.length&&Vt(),r===void 0?r=e.length-t:r>e.length-t&&Vt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=El.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=El.isNumericId(e),i=El.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?El.extractNumericId(e).compare(El.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ec.fromString(e.substring(4,e.length-2))}}class oi extends El{construct(e,t,r){return new oi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new kt(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new oi(t)}static emptyPath(){return new oi([])}}const KL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gs extends El{construct(e,t,r){return new gs(e,t,r)}static isValidIdentifier(e){return KL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gs(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new kt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new kt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new kt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new kt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gs(t)}static emptyPath(){return new gs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(oi.fromString(e))}static fromName(e){return new Nt(oi.fromString(e).popFirst(5))}static empty(){return new Nt(oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&oi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return oi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new oi(e.slice()))}}function JL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Wt.fromTimestamp(r===1e9?new Ui(t+1,0):new Ui(t,r));return new Sc(i,Nt.empty(),e)}function QL(n){return new Sc(n.readTime,n.key,-1)}class Sc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Sc(Wt.min(),Nt.empty(),-1)}static max(){return new Sc(Wt.max(),Nt.empty(),-1)}}function XL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Nt.comparator(n.documentKey,e.documentKey),t!==0?t:Pn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(n){if(n.code!==We.FAILED_PRECONDITION||n.message!==YL)throw n;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,r)=>{t(e)})}static reject(e){return new Fe((t,r)=>{r(e)})}static waitFor(e){return new Fe((t,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=Fe.resolve(!1);for(const r of e)t=t.next(i=>i?Fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Fe((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(_=>{l[p]=_,++c,c===o&&r(l)},_=>i(_))}})}static doWhile(e,t){return new Fe((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function e4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ep(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}l_.oe=-1;function u_(n){return n==null}function O0(n){return n===0&&1/n==-1/0}function t4(n){return typeof n=="number"&&Number.isInteger(n)&&!O0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lb(e)),e=r4(n.get(t),e);return lb(e)}function r4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function lb(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t){this.comparator=e,this.root=t||ds.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ds.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fy(this.root,e,this.comparator,!0)}}class Fy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ds{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??ds.RED,this.left=i??ds.EMPTY,this.right=o??ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new ds(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ds.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1;ds.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(e,t,r,i,o){return this}insert(e,t,r){return new ds(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cb(this.data.getIterator())}getIteratorFrom(e){return new cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bi(this.comparator);return t.data=e,t}}class cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.fields=e,e.sort(gs.comparator)}static empty(){return new ja([])}unionWith(e){let t=new Bi(gs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ja(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GC("Invalid base64 string: "+o):o}}(e);return new ys(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new ys(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ys.EMPTY_BYTE_STRING=new ys("");const i4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(n){if(er(!!n),typeof n=="string"){let e=0;const t=i4.exec(n);if(er(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wi(n.seconds),nanos:wi(n.nanos)}}function wi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cc(n){return typeof n=="string"?ys.fromBase64String(n):ys.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function c_(n){const e=n.mapValue.fields.__previous_value__;return Vw(e)?c_(e):e}function qg(n){const e=Ac(n.mapValue.fields.__local_write_time__.timestampValue);return new Ui(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t,r,i,o,l,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}class $g{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $g("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $g&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vw(n)?4:a4(n)?9007199254740991:o4(n)?10:11:Vt()}function Pl(n,e){if(n===e)return!0;const t=xc(n);if(t!==xc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qg(n).isEqual(qg(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ac(i.timestampValue),c=Ac(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Cc(i.bytesValue).isEqual(Cc(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wi(i.geoPointValue.latitude)===wi(o.geoPointValue.latitude)&&wi(i.geoPointValue.longitude)===wi(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wi(i.integerValue)===wi(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=wi(i.doubleValue),c=wi(o.doubleValue);return l===c?O0(l)===O0(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Fd(n.arrayValue.values||[],e.arrayValue.values||[],Pl);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(ub(l)!==ub(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Pl(l[d],c[d])))return!1;return!0}(n,e);default:return Vt()}}function zg(n,e){return(n.values||[]).find(t=>Pl(t,e))!==void 0}function Ud(n,e){if(n===e)return 0;const t=xc(n),r=xc(e);if(t!==r)return Pn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pn(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=wi(o.integerValue||o.doubleValue),d=wi(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return hb(n.timestampValue,e.timestampValue);case 4:return hb(qg(n),qg(e));case 5:return Pn(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Cc(o),d=Cc(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=Pn(c[p],d[p]);if(_!==0)return _}return Pn(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Pn(wi(o.latitude),wi(l.latitude));return c!==0?c:Pn(wi(o.longitude),wi(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fb(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,p,_;const v=o.fields||{},w=l.fields||{},b=(c=v.value)===null||c===void 0?void 0:c.arrayValue,A=(d=w.value)===null||d===void 0?void 0:d.arrayValue,R=Pn(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((_=A==null?void 0:A.values)===null||_===void 0?void 0:_.length)||0);return R!==0?R:fb(b,A)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Uy.mapValue&&l===Uy.mapValue)return 0;if(o===Uy.mapValue)return 1;if(l===Uy.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=l.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const w=Pn(d[v],_[v]);if(w!==0)return w;const b=Ud(c[d[v]],p[_[v]]);if(b!==0)return b}return Pn(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Vt()}}function hb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pn(n,e);const t=Ac(n),r=Ac(e),i=Pn(t.seconds,r.seconds);return i!==0?i:Pn(t.nanos,r.nanos)}function fb(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ud(t[i],r[i]);if(o)return o}return Pn(t.length,r.length)}function Bd(n){return L1(n)}function L1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ac(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Nt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=L1(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${L1(t.fields[l])}`;return i+"}"}(n.mapValue):Vt()}function u0(n){switch(xc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=c_(n);return e?16+u0(e):16;case 5:return 2*n.stringValue.length;case 6:return Cc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+u0(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Bh(r.fields,(o,l)=>{i+=o.length+u0(l)}),i}(n.mapValue);default:throw Vt()}}function D1(n){return!!n&&"integerValue"in n}function jw(n){return!!n&&"arrayValue"in n}function db(n){return!!n&&"nullValue"in n}function pb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function c0(n){return!!n&&"mapValue"in n}function o4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function kg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function a4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.value=e}static empty(){return new la({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!c0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kg(t)}setAll(e){let t=gs.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=kg(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());c0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];c0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bh(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new la(kg(this.value))}}function KC(n){const e=[];return Bh(n.fields,(t,r)=>{const i=new gs([t]);if(c0(r)){const o=KC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new ja(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Os(e,0,Wt.min(),Wt.min(),Wt.min(),la.empty(),0)}static newFoundDocument(e,t,r,i){return new Os(e,1,t,Wt.min(),r,i,0)}static newNoDocument(e,t){return new Os(e,2,t,Wt.min(),Wt.min(),la.empty(),0)}static newUnknownDocument(e,t){return new Os(e,3,t,Wt.min(),Wt.min(),la.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=la.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=la.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t){this.position=e,this.inclusive=t}}function gb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Nt.comparator(Nt.fromName(l.referenceValue),t.key):r=Ud(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t="asc"){this.field=e,this.dir=t}}function l4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{}class Fi extends JC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new c4(e,t,r):t==="array-contains"?new d4(e,r):t==="in"?new p4(e,r):t==="not-in"?new g4(e,r):t==="array-contains-any"?new m4(e,r):new Fi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new h4(e,r):new f4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ud(t,this.value)):t!==null&&xc(this.value)===xc(t)&&this.matchesComparison(Ud(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ol extends JC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ol(e,t)}matches(e){return QC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QC(n){return n.op==="and"}function XC(n){return u4(n)&&QC(n)}function u4(n){for(const e of n.filters)if(e instanceof Ol)return!1;return!0}function M1(n){if(n instanceof Fi)return n.field.canonicalString()+n.op.toString()+Bd(n.value);if(XC(n))return n.filters.map(e=>M1(e)).join(",");{const e=n.filters.map(t=>M1(t)).join(",");return`${n.op}(${e})`}}function YC(n,e){return n instanceof Fi?function(r,i){return i instanceof Fi&&r.op===i.op&&r.field.isEqual(i.field)&&Pl(r.value,i.value)}(n,e):n instanceof Ol?function(r,i){return i instanceof Ol&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&YC(l,i.filters[c]),!0):!1}(n,e):void Vt()}function ZC(n){return n instanceof Fi?function(t){return`${t.field.canonicalString()} ${t.op} ${Bd(t.value)}`}(n):n instanceof Ol?function(t){return t.op.toString()+" {"+t.getFilters().map(ZC).join(" ,")+"}"}(n):"Filter"}class c4 extends Fi{constructor(e,t,r){super(e,t,r),this.key=Nt.fromName(r.referenceValue)}matches(e){const t=Nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class h4 extends Fi{constructor(e,t){super(e,"in",t),this.keys=ex("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class f4 extends Fi{constructor(e,t){super(e,"not-in",t),this.keys=ex("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ex(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Nt.fromName(r.referenceValue))}class d4 extends Fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jw(t)&&zg(t.arrayValue,this.value)}}class p4 extends Fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zg(this.value.arrayValue,t)}}class g4 extends Fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!zg(this.value.arrayValue,t)}}class m4 extends Fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function yb(n,e=null,t=[],r=[],i=null,o=null,l=null){return new y4(n,e,t,r,i,o,l)}function qw(n){const e=Kt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>M1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),u_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bd(r)).join(",")),e.ue=t}return e.ue}function $w(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!l4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mb(n.startAt,e.startAt)&&mb(n.endAt,e.endAt)}function F1(n){return Nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _4(n,e,t,r,i,o,l,c){return new h_(n,e,t,r,i,o,l,c)}function zw(n){return new h_(n)}function _b(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function v4(n){return n.collectionGroup!==null}function Ng(n){const e=Kt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Bi(gs.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new D0(o,r))}),t.has(gs.keyField().canonicalString())||e.ce.push(new D0(gs.keyField(),r))}return e.ce}function Cl(n){const e=Kt(n);return e.le||(e.le=w4(e,Ng(n))),e.le}function w4(n,e){if(n.limitType==="F")return yb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new D0(i.field,o)});const t=n.endAt?new L0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new L0(n.startAt.position,n.startAt.inclusive):null;return yb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function U1(n,e,t){return new h_(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function f_(n,e){return $w(Cl(n),Cl(e))&&n.limitType===e.limitType}function tx(n){return`${qw(Cl(n))}|lt:${n.limitType}`}function md(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ZC(i)).join(", ")}]`),u_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bd(i)).join(",")),`Target(${r})`}(Cl(n))}; limitType=${n.limitType})`}function d_(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Nt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Ng(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const p=gb(l,c,d);return l.inclusive?p<=0:p<0}(r.startAt,Ng(r),i)||r.endAt&&!function(l,c,d){const p=gb(l,c,d);return l.inclusive?p>=0:p>0}(r.endAt,Ng(r),i))}(n,e)}function E4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nx(n){return(e,t)=>{let r=!1;for(const i of Ng(n)){const o=T4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function T4(n,e,t){const r=n.field.isKeyField()?Nt.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),p=c.data.field(o);return d!==null&&p!==null?Ud(d,p):Vt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bh(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return WC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Hr(Nt.comparator);function Su(){return b4}const rx=new Hr(Nt.comparator);function Eg(...n){let e=rx;for(const t of n)e=e.insert(t.key,t);return e}function ix(n){let e=rx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Th(){return Pg()}function sx(){return Pg()}function Pg(){return new Vh(n=>n.toString(),(n,e)=>n.isEqual(e))}const S4=new Hr(Nt.comparator),A4=new Bi(Nt.comparator);function An(...n){let e=A4;for(const t of n)e=e.add(t);return e}const C4=new Bi(Pn);function x4(){return C4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:O0(e)?"-0":e}}function ox(n){return{integerValue:""+n}}function I4(n,e){return t4(e)?ox(e):Hw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this._=void 0}}function R4(n,e,t){return n instanceof Hg?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Vw(o)&&(o=c_(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Wg?lx(n,e):n instanceof Gg?ux(n,e):function(i,o){const l=ax(i,o),c=vb(l)+vb(i.Pe);return D1(l)&&D1(i.Pe)?ox(c):Hw(i.serializer,c)}(n,e)}function k4(n,e,t){return n instanceof Wg?lx(n,e):n instanceof Gg?ux(n,e):t}function ax(n,e){return n instanceof M0?function(r){return D1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Hg extends p_{}class Wg extends p_{constructor(e){super(),this.elements=e}}function lx(n,e){const t=cx(e);for(const r of n.elements)t.some(i=>Pl(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gg extends p_{constructor(e){super(),this.elements=e}}function ux(n,e){let t=cx(e);for(const r of n.elements)t=t.filter(i=>!Pl(i,r));return{arrayValue:{values:t}}}class M0 extends p_{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function vb(n){return wi(n.integerValue||n.doubleValue)}function cx(n){return jw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t){this.field=e,this.transform=t}}function P4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Wg&&i instanceof Wg||r instanceof Gg&&i instanceof Gg?Fd(r.elements,i.elements,Pl):r instanceof M0&&i instanceof M0?Pl(r.Pe,i.Pe):r instanceof Hg&&i instanceof Hg}(n.transform,e.transform)}class O4{constructor(e,t){this.version=e,this.transformResults=t}}class wu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wu}static exists(e){return new wu(void 0,e)}static updateTime(e){return new wu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function h0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class g_{}function hx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dx(n.key,wu.none()):new hm(n.key,n.data,wu.none());{const t=n.data,r=la.empty();let i=new Bi(gs.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new jh(n.key,r,new ja(i.toArray()),wu.none())}}function L4(n,e,t){n instanceof hm?function(i,o,l){const c=i.value.clone(),d=Eb(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof jh?function(i,o,l){if(!h0(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Eb(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(fx(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Og(n,e,t,r){return n instanceof hm?function(o,l,c,d){if(!h0(o.precondition,l))return c;const p=o.value.clone(),_=Tb(o.fieldTransforms,d,l);return p.setAll(_),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof jh?function(o,l,c,d){if(!h0(o.precondition,l))return c;const p=Tb(o.fieldTransforms,d,l),_=l.data;return _.setAll(fx(o)),_.setAll(p),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,c){return h0(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function D4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=ax(r.transform,i||null);o!=null&&(t===null&&(t=la.empty()),t.set(r.field,o))}return t||null}function wb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fd(r,i,(o,l)=>P4(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hm extends g_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jh extends g_{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Eb(n,e,t){const r=new Map;er(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,k4(l,c,t[i]))}return r}function Tb(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,R4(o,l,e))}return r}class dx extends g_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M4 extends g_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&L4(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Og(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Og(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sx();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=hx(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),An())}isEqual(e){return this.batchId===e.batchId&&Fd(this.mutations,e.mutations,(t,r)=>wb(t,r))&&Fd(this.baseMutations,e.baseMutations,(t,r)=>wb(t,r))}}class Ww{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){er(e.mutations.length===r.length);let i=function(){return S4}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Ww(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii,Fn;function V4(n){switch(n){default:return Vt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function px(n){if(n===void 0)return bu("GRPC error has no .code"),We.UNKNOWN;switch(n){case Ii.OK:return We.OK;case Ii.CANCELLED:return We.CANCELLED;case Ii.UNKNOWN:return We.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return We.INTERNAL;case Ii.UNAVAILABLE:return We.UNAVAILABLE;case Ii.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Ii.NOT_FOUND:return We.NOT_FOUND;case Ii.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Ii.ABORTED:return We.ABORTED;case Ii.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Ii.DATA_LOSS:return We.DATA_LOSS;default:return Vt()}}(Fn=Ii||(Ii={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new Ec([4294967295,4294967295],0);function bb(n){const e=j4().encode(n),t=new UC;return t.update(e),new Uint8Array(t.digest())}function Sb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ec([t,r],0),new Ec([i,o],0)]}class Gw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Tg(`Invalid padding: ${t}`);if(r<0)throw new Tg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tg(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Tg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ec.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Ec.fromNumber(r)));return i.compare(q4)===1&&(i=new Ec([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=bb(e),[r,i]=Sb(t);for(let o=0;o<this.hashCount;o++){const l=this.de(r,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Gw(o,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=bb(e),[r,i]=Sb(t);for(let o=0;o<this.hashCount;o++){const l=this.de(r,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Tg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new m_(Wt.min(),i,new Hr(Pn),Su(),An())}}class fm{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fm(r,t,An(),An(),An())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class gx{constructor(e,t){this.targetId=e,this.me=t}}class mx{constructor(e,t,r=ys.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Ab{constructor(){this.fe=0,this.ge=Cb(),this.pe=ys.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=An(),t=An(),r=An();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Vt()}}),new fm(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Cb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,er(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $4{constructor(e){this.Be=e,this.Le=new Map,this.ke=Su(),this.qe=By(),this.Qe=By(),this.Ke=new Hr(Pn)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(F1(o))if(r===0){const l=new Nt(o.path);this.We(t,l,Os.newNoDocument(l,Wt.min()))}else er(r===1);else{const l=this.Ze(t);if(l!==r){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=Cc(r).toUint8Array()}catch(d){if(d instanceof GC)return Md("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Gw(l,i,o)}catch(d){return Md(d instanceof Tg?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&F1(c.target)){const d=new Nt(c.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,Os.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let r=An();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new m_(e,t,this.Ke,this.ke,r);return this.ke=Su(),this.qe=By(),this.Qe=By(),this.Ke=new Hr(Pn),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new Ab,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Bi(Pn),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bi(Pn),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ot("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Ab),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function By(){return new Hr(Nt.comparator)}function Cb(){return new Hr(Nt.comparator)}const z4={asc:"ASCENDING",desc:"DESCENDING"},H4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W4={and:"AND",or:"OR"};class G4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function B1(n,e){return n.useProto3Json||u_(e)?e:{value:e}}function F0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K4(n,e){return F0(n,e.toTimestamp())}function xl(n){return er(!!n),Wt.fromTimestamp(function(t){const r=Ac(t);return new Ui(r.seconds,r.nanos)}(n))}function Kw(n,e){return V1(n,e).canonicalString()}function V1(n,e){const t=function(i){return new oi(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _x(n){const e=oi.fromString(n);return er(bx(e)),e}function j1(n,e){return Kw(n.databaseId,e.path)}function Wv(n,e){const t=_x(e);if(t.get(1)!==n.databaseId.projectId)throw new kt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new kt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Nt(wx(t))}function vx(n,e){return Kw(n.databaseId,e)}function J4(n){const e=_x(n);return e.length===4?oi.emptyPath():wx(e)}function q1(n){return new oi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wx(n){return er(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function xb(n,e,t){return{name:j1(n,e),fields:t.value.mapValue.fields}}function Q4(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,_){return p.useProto3Json?(er(_===void 0||typeof _=="string"),ys.fromBase64String(_||"")):(er(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),ys.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const _=p.code===void 0?We.UNKNOWN:px(p.code);return new kt(_,p.message||"")}(l);t=new mx(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wv(n,r.document.name),o=xl(r.document.updateTime),l=r.document.createTime?xl(r.document.createTime):Wt.min(),c=new la({mapValue:{fields:r.document.fields}}),d=Os.newFoundDocument(i,o,l,c),p=r.targetIds||[],_=r.removedTargetIds||[];t=new f0(p,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wv(n,r.document),o=r.readTime?xl(r.readTime):Wt.min(),l=Os.newNoDocument(i,o),c=r.removedTargetIds||[];t=new f0([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wv(n,r.document),o=r.removedTargetIds||[];t=new f0([],o,i,null)}else{if(!("filter"in e))return Vt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new B4(i,o),c=r.targetId;t=new gx(c,l)}}return t}function X4(n,e){let t;if(e instanceof hm)t={update:xb(n,e.key,e.value)};else if(e instanceof dx)t={delete:j1(n,e.key)};else if(e instanceof jh)t={update:xb(n,e.key,e.data),updateMask:o3(e.fieldMask)};else{if(!(e instanceof M4))return Vt();t={verify:j1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Hg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Wg)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gg)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof M0)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Vt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:K4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Vt()}(n,e.precondition)),t}function Y4(n,e){return n&&n.length>0?(er(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?xl(i.updateTime):xl(o);return l.isEqual(Wt.min())&&(l=xl(o)),new O4(l,i.transformResults||[])}(t,e))):[]}function Z4(n,e){return{documents:[vx(n,e.path)]}}function e3(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vx(n,i);const o=function(p){if(p.length!==0)return Tx(Ol.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(_=>function(w){return{field:yd(w.field),direction:r3(w.dir)}}(_))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=B1(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function t3(n){let e=J4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){er(r===1);const _=t.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let o=[];t.where&&(o=function(v){const w=Ex(v);return w instanceof Ol&&XC(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(w=>function(A){return new D0(_d(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,u_(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(v){const w=!!v.before,b=v.values||[];return new L0(b,w)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const w=!v.before,b=v.values||[];return new L0(b,w)}(t.endAt)),_4(e,i,l,o,c,"F",d,p)}function n3(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ex(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_d(t.unaryFilter.field);return Fi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_d(t.unaryFilter.field);return Fi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_d(t.unaryFilter.field);return Fi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_d(t.unaryFilter.field);return Fi.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(n):n.fieldFilter!==void 0?function(t){return Fi.create(_d(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ol.create(t.compositeFilter.filters.map(r=>Ex(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Vt()}}(t.compositeFilter.op))}(n):Vt()}function r3(n){return z4[n]}function i3(n){return H4[n]}function s3(n){return W4[n]}function yd(n){return{fieldPath:n.canonicalString()}}function _d(n){return gs.fromServerFormat(n.fieldPath)}function Tx(n){return n instanceof Fi?function(t){if(t.op==="=="){if(pb(t.value))return{unaryFilter:{field:yd(t.field),op:"IS_NAN"}};if(db(t.value))return{unaryFilter:{field:yd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pb(t.value))return{unaryFilter:{field:yd(t.field),op:"IS_NOT_NAN"}};if(db(t.value))return{unaryFilter:{field:yd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yd(t.field),op:i3(t.op),value:t.value}}}(n):n instanceof Ol?function(t){const r=t.getFilters().map(i=>Tx(i));return r.length===1?r[0]:{compositeFilter:{op:s3(t.op),filters:r}}}(n):Vt()}function o3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t,r,i,o=Wt.min(),l=Wt.min(),c=ys.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.ht=e}}function l3(n){const e=t3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?U1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.ln=new c3}addToCollectionParentIndex(e,t){return this.ln.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}deleteAllFieldIndexes(e){return Fe.resolve()}createTargetIndexes(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getIndexType(e,t){return Fe.resolve(0)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,t){return Fe.resolve(Sc.min())}getMinOffsetFromCollectionGroup(e,t){return Fe.resolve(Sc.min())}updateCollectionGroup(e,t,r){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}}class c3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Bi(oi.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bi(oi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class go{static withCacheSize(e){return new go(e,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go.DEFAULT_COLLECTION_PERCENTILE=10,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,go.DEFAULT=new go(41943040,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),go.DISABLED=new go(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Vd(0)}static Qn(){return new Vd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb([n,e],[t,r]){const i=Pn(n,t);return i===0?Pn(e,r):i}class h3{constructor(e){this.Gn=e,this.buffer=new Bi(Rb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Rb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class f3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ep(t)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Zd(t)}await this.Yn(3e5)})}}class d3{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Fe.resolve(l_.oe);const r=new h3(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(Ib)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ib):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,o,l,c,d,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),gd()<=Sn.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-_}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-_}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function p3(n,e){return new d3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.changes=new Vh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Os.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Og(r.mutation,i,ja.empty(),Ui.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,An()).next(()=>r))}getLocalViewOfDocuments(e,t,r=An()){const i=Th();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Eg();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Th();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,An()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let o=Su();const l=Pg(),c=function(){return Pg()}();return t.forEach((d,p)=>{const _=r.get(p.key);i.has(p.key)&&(_===void 0||_.mutation instanceof jh)?o=o.insert(p.key,p):_!==void 0?(l.set(p.key,_.mutation.getFieldMask()),Og(_.mutation,p,_.mutation.getFieldMask(),Ui.now())):l.set(p.key,ja.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,_)=>l.set(p,_)),t.forEach((p,_)=>{var v;return c.set(p,new m3(_,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Pg();let i=new Hr((l,c)=>l-c),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let _=r.get(d)||ja.empty();_=c.applyToLocalView(p,_),r.set(d,_);const v=(i.get(c.batchId)||An()).add(d);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,_=d.value,v=sx();_.forEach(w=>{if(!o.has(w)){const b=hx(t.get(w),r.get(w));b!==null&&v.set(w,b),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Fe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Nt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):v4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Fe.resolve(Th());let c=-1,d=o;return l.next(p=>Fe.forEach(p,(_,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(_)?Fe.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{d=d.insert(_,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,An())).next(_=>({batchId:c,changes:ix(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Nt(t)).next(r=>{let i=Eg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Eg();return this.indexManager.getCollectionParents(e,o).next(c=>Fe.forEach(c,d=>{const p=function(v,w){return new h_(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(_=>{_.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,p)=>{const _=p.getKey();l.get(_)===null&&(l=l.insert(_,Os.newInvalidDocument(_)))});let c=Eg();return l.forEach((d,p)=>{const _=o.get(d);_!==void 0&&Og(_.mutation,p,ja.empty(),Ui.now()),d_(t,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Fe.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:xl(i.createTime)}}(t)),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:l3(i.bundledQuery),readTime:xl(i.readTime)}}(t)),Fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.overlays=new Hr(Nt.comparator),this.dr=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Th();return Fe.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Tt(e,t,o)}),Fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),Fe.resolve()}getOverlaysForCollection(e,t,r){const i=Th(),o=t.length+1,l=new Nt(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Hr((p,_)=>p-_);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=o.get(p.largestBatchId);_===null&&(_=Th(),o=o.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const c=Th(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,_)=>c.set(p,_)),!(c.size()>=i)););return Fe.resolve(c)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new U4(t,r));let o=this.dr.get(t);o===void 0&&(o=An(),this.dr.set(t,o)),this.dr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.sessionToken=ys.EMPTY_BYTE_STRING}getSessionToken(e){return Fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.Er=new Bi(ts.Ar),this.Rr=new Bi(ts.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new ts(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new ts(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Nt(new oi([])),r=new ts(t,e),i=new ts(t,e+1),o=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Nt(new oi([])),r=new ts(t,e),i=new ts(t,e+1);let o=An();return this.Rr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new ts(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ts{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Nt.comparator(e.key,t.key)||Pn(e.br,t.br)}static Vr(e,t){return Pn(e.br,t.br)||Nt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Bi(ts.Ar)}checkEmpty(e){return Fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new F4(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new ts(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Fe.resolve(l)}lookupMutationBatch(e,t){return Fe.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),o=i<0?0:i;return Fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ts(t,0),i=new ts(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],l=>{const c=this.Cr(l.br);o.push(c)}),Fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bi(Pn);return t.forEach(i=>{const o=new ts(i,0),l=new ts(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],c=>{r=r.add(c.br)})}),Fe.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Nt.isDocumentKey(o)||(o=o.child(""));const l=new ts(new Nt(o),0);let c=new Bi(Pn);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(d.br)),!0)},l),Fe.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){er(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Fe.forEach(t.mutations,i=>{const o=new ts(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new ts(t,0),i=this.vr.firstAfterOrEqual(r);return Fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Fe.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.Nr=e,this.docs=function(){return new Hr(Nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Fe.resolve(r?r.document.mutableCopy():Os.newInvalidDocument(t))}getEntries(e,t){let r=Su();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Os.newInvalidDocument(i))}),Fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Su();const l=t.path,c=new Nt(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||XL(QL(_),r)<=0||(i.has(_.key)||d_(t,_))&&(o=o.insert(_.key,_.mutableCopy()))}return Fe.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Vt()}Br(e,t){return Fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new b3(this)}getSize(e){return Fe.resolve(this.size)}}class b3 extends g3{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),Fe.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.persistence=e,this.Lr=new Vh(t=>qw(t),$w),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.kr=0,this.qr=new Jw,this.targetCount=0,this.Qr=Vd.qn()}forEachTarget(e,t){return this.Lr.forEach((r,i)=>t(i)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Fe.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Vd(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.Un(t),Fe.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Fe.waitFor(o).next(()=>i)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return Fe.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Fe.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Fe.resolve(r)}containsKey(e,t){return Fe.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.Kr={},this.overlays={},this.$r=new l_(0),this.Ur=!1,this.Ur=!0,this.Wr=new w3,this.referenceDelegate=e(this),this.Gr=new S3(this),this.indexManager=new u3,this.remoteDocumentCache=function(i){return new T3(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new a3(t),this.jr=new _3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new v3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new E3(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ot("MemoryPersistence","Starting transaction:",e);const i=new A3(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return Fe.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class A3 extends ZL{constructor(e){super(),this.currentSequenceNumber=e}}class Qw{constructor(e){this.persistence=e,this.Zr=new Jw,this.Xr=null}static ei(e){return new Qw(e)}get ti(){if(this.Xr)return this.Xr;throw Vt()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Fe.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.ti,r=>{const i=Nt.fromPath(r);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Wt.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Fe.or([()=>Fe.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class U0{constructor(e,t){this.persistence=e,this.ri=new Vh(r=>n4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=p3(this,t)}static ei(e,t){return new U0(e,t)}Hr(){}Jr(e){return Fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Fe.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?Fe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(c=>{c||(r++,o.removeEntry(l,Wt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Fe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Fe.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Fe.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Fe.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=u0(e.data.value)),t}ir(e,t,r){return Fe.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return Fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=An(),i=An();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Xw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return bO()?8:e4(Fs())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new C3;return this.ts(e,t,l).next(c=>{if(o.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>o.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(gd()<=Sn.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",md(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Fe.resolve()):(gd()<=Sn.DEBUG&&ot("QueryEngine","Query:",md(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(gd()<=Sn.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",md(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cl(t))):Fe.resolve())}Xi(e,t){if(_b(t))return Fe.resolve(null);let r=Cl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=U1(t,null,"F"),r=Cl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=An(...o);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.rs(t,c);return this.ss(t,p,l,d.readTime)?this.Xi(e,U1(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,r,i){return _b(t)||i.isEqual(Wt.min())?Fe.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const l=this.rs(t,o);return this.ss(t,l,r,i)?Fe.resolve(null):(gd()<=Sn.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),md(t)),this.os(e,l,t,JL(i,-1)).next(c=>c))})}rs(e,t){let r=new Bi(nx(e));return t.forEach((i,o)=>{d_(e,o)&&(r=r.add(o))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,r){return gd()<=Sn.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",md(t)),this.Zi.getDocumentsMatchingQuery(e,t,Sc.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new Hr(Pn),this.cs=new Vh(o=>qw(o),$w),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y3(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function R3(n,e,t,r){return new I3(n,e,t,r)}async function Ax(n,e){const t=Kt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=An();for(const p of i){l.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}for(const p of o){c.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function k3(n,e){const t=Kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const v=p.batch,w=v.keys();let b=Fe.resolve();return w.forEach(A=>{b=b.next(()=>_.getEntry(d,A)).next(R=>{const N=p.docVersions.get(A);er(N!==null),R.version.compareTo(N)<0&&(v.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),_.addEntry(R)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=An();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Cx(n){const e=Kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function N3(n,e){const t=Kt(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const c=[];e.targetChanges.forEach((_,v)=>{const w=i.get(v);if(!w)return;c.push(t.Gr.removeMatchingKeys(o,_.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(o,_.addedDocuments,v)));let b=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(ys.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,r)),i=i.insert(v,b),function(R,N,D){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,b,_)&&c.push(t.Gr.updateTargetData(o,b))});let d=Su(),p=An();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,_))}),c.push(P3(o,l,e.documentUpdates).next(_=>{d=_.Is,p=_.ds})),!r.isEqual(Wt.min())){const _=t.Gr.getLastRemoteSnapshotVersion(o).next(v=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(_)}return Fe.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.us=i,o))}function P3(n,e,t){let r=An(),i=An();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Su();return t.forEach((c,d)=>{const p=o.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Wt.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ot("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Is:l,ds:i}})}function O3(n,e){const t=Kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L3(n,e){const t=Kt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(o=>o?(i=o,Fe.resolve(i)):t.Gr.allocateTargetId(r).next(l=>(i=new yc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function $1(n,e,t){const r=Kt(n),i=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!ep(l))throw l;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function kb(n,e,t){const r=Kt(n);let i=Wt.min(),o=An();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,_){const v=Kt(d),w=v.cs.get(_);return w!==void 0?Fe.resolve(v.us.get(w)):v.Gr.getTargetData(p,_)}(r,l,Cl(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?i:Wt.min(),t?o:An())).next(c=>(D3(r,E4(e),c),{documents:c,Es:o})))}function D3(n,e,t){let r=n.ls.get(e)||Wt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}class Nb{constructor(){this.activeTargetIds=x4()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M3{constructor(){this._o=new Nb,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Nb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vy=null;function Gv(){return Vy===null?Vy=function(){return 268435456+Math.round(2147483648*Math.random())}():Vy++,"0x"+Vy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="WebChannelConnection";class V3 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,r,i,o,l){const c=Gv(),d=this.No(t,r.toUriEncodedString());ot("RestConnection",`Sending RPC '${t}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,o,l),this.Lo(t,d,p,i).then(_=>(ot("RestConnection",`Received RPC '${t}' ${c}: `,_),_),_=>{throw Md("RestConnection",`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",i),_})}ko(t,r,i,o,l,c){return this.Oo(t,r,i,o,l)}Bo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,r){const i=U3[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,i){const o=Gv();return new Promise((l,c)=>{const d=new BC;d.setWithCredentials(!0),d.listenOnce(VC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case l0.NO_ERROR:const _=d.getResponseJson();ot(ks,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(_)),l(_);break;case l0.TIMEOUT:ot(ks,`RPC '${e}' ${o} timed out`),c(new kt(We.DEADLINE_EXCEEDED,"Request time out"));break;case l0.HTTP_ERROR:const v=d.getStatus();if(ot(ks,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const A=function(N){const D=N.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(D)>=0?D:We.UNKNOWN}(b.status);c(new kt(A,b.message))}else c(new kt(We.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new kt(We.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{ot(ks,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);ot(ks,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",p,r,15)})}qo(e,t,r){const i=Gv(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$C(),c=qC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const _=o.join("");ot(ks,`Creating RPC '${e}' stream ${i}: ${_}`,d);const v=l.createWebChannel(_,d);let w=!1,b=!1;const A=new B3({Eo:N=>{b?ot(ks,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(w||(ot(ks,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),ot(ks,`RPC '${e}' stream ${i} sending:`,N),v.send(N))},Ao:()=>v.close()}),R=(N,D,F)=>{N.listen(D,x=>{try{F(x)}catch(M){setTimeout(()=>{throw M},0)}})};return R(v,wg.EventType.OPEN,()=>{b||(ot(ks,`RPC '${e}' stream ${i} transport opened.`),A.So())}),R(v,wg.EventType.CLOSE,()=>{b||(b=!0,ot(ks,`RPC '${e}' stream ${i} transport closed`),A.Do())}),R(v,wg.EventType.ERROR,N=>{b||(b=!0,Md(ks,`RPC '${e}' stream ${i} transport errored:`,N),A.Do(new kt(We.UNAVAILABLE,"The operation could not be completed")))}),R(v,wg.EventType.MESSAGE,N=>{var D;if(!b){const F=N.data[0];er(!!F);const x=F,M=(x==null?void 0:x.error)||((D=x[0])===null||D===void 0?void 0:D.error);if(M){ot(ks,`RPC '${e}' stream ${i} received error:`,M);const $=M.status;let G=function(q){const k=Ii[q];if(k!==void 0)return px(k)}($),U=M.message;G===void 0&&(G=We.INTERNAL,U="Unknown error status: "+$+" with message "+M.message),b=!0,A.Do(new kt(G,U)),v.close()}else ot(ks,`RPC '${e}' stream ${i} received:`,F),A.vo(F)}}),R(c,jC.STAT_EVENT,N=>{N.stat===O1.PROXY?ot(ks,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===O1.NOPROXY&&ot(ks,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.bo()},0),A}}function Kv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n){return new G4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t,r,i,o,l,c,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new xx(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===We.RESOURCE_EXHAUSTED?(bu(t.toString()),bu("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new kt(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j3 extends Ix{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Q4(this.serializer,e),r=function(o){if(!("targetChange"in o))return Wt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Wt.min():l.readTime?xl(l.readTime):Wt.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=q1(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=F1(d)?{documents:Z4(o,d)}:{query:e3(o,d).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=yx(o,l.resumeToken);const p=B1(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Wt.min())>0){c.readTime=F0(o,l.snapshotVersion.toTimestamp());const p=B1(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=n3(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=q1(this.serializer),t.removeTarget=e,this.c_(t)}}class q3 extends Ix{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return er(!!e.streamToken),this.lastStreamToken=e.streamToken,er(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){er(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Y4(e.writeResults,e.commitTime),r=xl(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=q1(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>X4(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new kt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,V1(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new kt(We.UNKNOWN,o.toString())})}ko(e,t,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,V1(t,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new kt(We.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class z3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(bu(t),this.C_=!1):ot("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{qh(this)&&(ot("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Kt(d);p.k_.add(4),await dm(p),p.K_.set("Unknown"),p.k_.delete(4),await __(p)}(this))})}),this.K_=new z3(r,i)}}async function __(n){if(qh(n))for(const e of n.q_)await e(!0)}async function dm(n){for(const e of n.q_)await e(!1)}function Rx(n,e){const t=Kt(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),tE(t)?eE(t):tp(t).s_()&&Zw(t,e))}function Yw(n,e){const t=Kt(n),r=tp(t);t.L_.delete(e),r.s_()&&kx(t,e),t.L_.size===0&&(r.s_()?r.a_():qh(t)&&t.K_.set("Unknown"))}function Zw(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tp(n).V_(e)}function kx(n,e){n.U_.xe(e),tp(n).m_(e)}function eE(n){n.U_=new $4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),tp(n).start(),n.K_.F_()}function tE(n){return qh(n)&&!tp(n).i_()&&n.L_.size>0}function qh(n){return Kt(n).k_.size===0}function Nx(n){n.U_=void 0}async function W3(n){n.K_.set("Online")}async function G3(n){n.L_.forEach((e,t)=>{Zw(n,e)})}async function K3(n,e){Nx(n),tE(n)?(n.K_.O_(e),eE(n)):n.K_.set("Unknown")}async function J3(n,e,t){if(n.K_.set("Online"),e instanceof mx&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.L_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.L_.delete(c),i.U_.removeTarget(c))}(n,e)}catch(r){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await B0(n,r)}else if(e instanceof f0?n.U_.$e(e):e instanceof gx?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Wt.min()))try{const r=await Cx(n.localStore);t.compareTo(r)>=0&&await function(o,l){const c=o.U_.it(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.L_.get(p);_&&o.L_.set(p,_.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const _=o.L_.get(d);if(!_)return;o.L_.set(d,_.withResumeToken(ys.EMPTY_BYTE_STRING,_.snapshotVersion)),kx(o,d);const v=new yc(_.target,d,p,_.sequenceNumber);Zw(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ot("RemoteStore","Failed to raise snapshot:",r),await B0(n,r)}}async function B0(n,e,t){if(!ep(e))throw e;n.k_.add(1),await dm(n),n.K_.set("Offline"),t||(t=()=>Cx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ot("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await __(n)})}function Px(n,e){return e().catch(t=>B0(n,t,e))}async function v_(n){const e=Kt(n),t=Ic(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Q3(e);)try{const i=await O3(e.localStore,r);if(i===null){e.B_.length===0&&t.a_();break}r=i.batchId,X3(e,i)}catch(i){await B0(e,i)}Ox(e)&&Lx(e)}function Q3(n){return qh(n)&&n.B_.length<10}function X3(n,e){n.B_.push(e);const t=Ic(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Ox(n){return qh(n)&&!Ic(n).i_()&&n.B_.length>0}function Lx(n){Ic(n).start()}async function Y3(n){Ic(n).w_()}async function Z3(n){const e=Ic(n);for(const t of n.B_)e.g_(t.mutations)}async function e5(n,e,t){const r=n.B_.shift(),i=Ww.from(r,e,t);await Px(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await v_(n)}async function t5(n,e){e&&Ic(n).f_&&await async function(r,i){if(function(l){return V4(l)&&l!==We.ABORTED}(i.code)){const o=r.B_.shift();Ic(r).__(),await Px(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await v_(r)}}(n,e),Ox(n)&&Lx(n)}async function Ob(n,e){const t=Kt(n);t.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const r=qh(t);t.k_.add(3),await dm(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await __(t)}async function n5(n,e){const t=Kt(n);e?(t.k_.delete(2),await __(t)):e||(t.k_.add(2),await dm(t),t.K_.set("Unknown"))}function tp(n){return n.W_||(n.W_=function(t,r,i){const o=Kt(t);return o.b_(),new j3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:W3.bind(null,n),mo:G3.bind(null,n),po:K3.bind(null,n),R_:J3.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),tE(n)?eE(n):n.K_.set("Unknown")):(await n.W_.stop(),Nx(n))})),n.W_}function Ic(n){return n.G_||(n.G_=function(t,r,i){const o=Kt(t);return o.b_(),new q3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Y3.bind(null,n),po:t5.bind(null,n),p_:Z3.bind(null,n),y_:e5.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await v_(n)):(await n.G_.stop(),n.B_.length>0&&(ot("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ah,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new nE(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rE(n,e){if(bu("AsyncQueue",`${e}: ${n}`),ep(n))return new kt(We.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{static emptySet(e){return new Cd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Nt.comparator(t.key,r.key):(t,r)=>Nt.comparator(t.key,r.key),this.keyedMap=Eg(),this.sortedSet=new Hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Cd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.z_=new Hr(Nt.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Vt():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class jd{constructor(e,t,r,i,o,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new jd(e,t,Cd.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class i5{constructor(){this.queries=Db(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Kt(t),o=i.queries;i.queries=Db(),o.forEach((l,c)=>{for(const d of c.J_)d.onError(r)})})(this,new kt(We.ABORTED,"Firestore shutting down"))}}function Db(){return new Vh(n=>tx(n),f_)}async function s5(n,e){const t=Kt(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new r5,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=rE(l,`Initialization of query '${md(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&iE(t)}async function o5(n,e){const t=Kt(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function a5(n,e){const t=Kt(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.J_)c.ta(i)&&(r=!0);l.H_=i}}r&&iE(t)}function l5(n,e,t){const r=Kt(n),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(t);r.queries.delete(e)}function iE(n){n.X_.forEach(e=>{e.next()})}var z1,Mb;(Mb=z1||(z1={})).na="default",Mb.Cache="cache";class u5{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=jd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==z1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.key=e}}class Mx{constructor(e){this.key=e}}class c5{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=An(),this.mutatedKeys=An(),this.Va=nx(e),this.ma=new Cd(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new Lb,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((_,v)=>{const w=i.get(_),b=d_(this.query,v)?v:null,A=!!w&&this.mutatedKeys.has(w.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let N=!1;w&&b?w.data.isEqual(b.data)?A!==R&&(r.track({type:3,doc:b}),N=!0):this.ya(w,b)||(r.track({type:2,doc:b}),N=!0,(d&&this.Va(b,d)>0||p&&this.Va(b,p)<0)&&(c=!0)):!w&&b?(r.track({type:0,doc:b}),N=!0):w&&!b&&(r.track({type:1,doc:w}),N=!0,(d||p)&&(c=!0)),N&&(b?(l=l.add(b),o=R?o.add(_):o.delete(_)):(l=l.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const _=this.query.limitType==="F"?l.last():l.first();l=l.delete(_.key),o=o.delete(_.key),r.track({type:1,doc:_})}return{ma:l,pa:r,ss:c,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((_,v)=>function(b,A){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return R(b)-R(A)}(_.type,v.type)||this.Va(_.doc,v.doc)),this.wa(r),i=i!=null&&i;const c=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,l.length!==0||p?{snapshot:new jd(this.query,e.ma,o,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Lb,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=An(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new Mx(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new Dx(r))}),t}va(e){this.Ea=e.Es,this.Ra=An();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return jd.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class h5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class f5{constructor(e){this.key=e,this.Fa=!1}}class d5{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Vh(c=>tx(c),f_),this.Oa=new Map,this.Na=new Set,this.Ba=new Hr(Nt.comparator),this.La=new Map,this.ka=new Jw,this.qa={},this.Qa=new Map,this.Ka=Vd.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function p5(n,e,t=!0){const r=qx(n);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await Fx(r,e,t,!0),i}async function g5(n,e){const t=qx(n);await Fx(t,e,!0,!1)}async function Fx(n,e,t,r){const i=await L3(n.localStore,Cl(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await m5(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Rx(n.remoteStore,i),c}async function m5(n,e,t,r,i){n.Ua=(v,w,b)=>async function(R,N,D,F){let x=N.view.ga(D);x.ss&&(x=await kb(R.localStore,N.query,!1).then(({documents:U})=>N.view.ga(U,x)));const M=F&&F.targetChanges.get(N.targetId),$=F&&F.targetMismatches.get(N.targetId)!=null,G=N.view.applyChanges(x,R.isPrimaryClient,M,$);return Ub(R,N.targetId,G.ba),G.snapshot}(n,v,w,b);const o=await kb(n.localStore,e,!0),l=new c5(e,o.Es),c=l.ga(o.documents),d=fm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,d);Ub(n,t,p.ba);const _=new h5(e,t,l);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function y5(n,e,t){const r=Kt(n),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(l=>!f_(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Yw(r.remoteStore,i.targetId),H1(r,i.targetId)}).catch(Zd)):(H1(r,i.targetId),await $1(r.localStore,i.targetId,!0))}async function _5(n,e){const t=Kt(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yw(t.remoteStore,r.targetId))}async function v5(n,e,t){const r=C5(n);try{const i=await function(l,c){const d=Kt(l),p=Ui.now(),_=c.reduce((b,A)=>b.add(A.key),An());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=Su(),R=An();return d.hs.getEntries(b,_).next(N=>{A=N,A.forEach((D,F)=>{F.isValidDocument()||(R=R.add(D))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,A)).next(N=>{v=N;const D=[];for(const F of c){const x=D4(F,v.get(F.key).overlayedDocument);x!=null&&D.push(new jh(F.key,x,KC(x.value.mapValue),wu.exists(!0)))}return d.mutationQueue.addMutationBatch(b,p,D,c)}).next(N=>{w=N;const D=N.applyToLocalDocumentSet(v,R);return d.documentOverlayCache.saveOverlays(b,N.batchId,D)})}).then(()=>({batchId:w.batchId,changes:ix(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let p=l.qa[l.currentUser.toKey()];p||(p=new Hr(Pn)),p=p.insert(c,d),l.qa[l.currentUser.toKey()]=p}(r,i.batchId,t),await pm(r,i.changes),await v_(r.remoteStore)}catch(i){const o=rE(i,"Failed to persist write");t.reject(o)}}async function Ux(n,e){const t=Kt(n);try{const r=await N3(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?er(l.Fa):i.removedDocuments.size>0&&(er(l.Fa),l.Fa=!1))}),await pm(t,r,e)}catch(r){await Zd(r)}}function Fb(n,e,t){const r=Kt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((o,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Kt(l);d.onlineState=c;let p=!1;d.queries.forEach((_,v)=>{for(const w of v.J_)w.ea(c)&&(p=!0)}),p&&iE(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w5(n,e,t){const r=Kt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.La.get(e),o=i&&i.key;if(o){let l=new Hr(Nt.comparator);l=l.insert(o,Os.newNoDocument(o,Wt.min()));const c=An().add(o),d=new m_(Wt.min(),new Map,new Hr(Pn),l,c);await Ux(r,d),r.Ba=r.Ba.remove(o),r.La.delete(e),sE(r)}else await $1(r.localStore,e,!1).then(()=>H1(r,e,t)).catch(Zd)}async function E5(n,e){const t=Kt(n),r=e.batch.batchId;try{const i=await k3(t.localStore,e);Vx(t,r,null),Bx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pm(t,i)}catch(i){await Zd(i)}}async function T5(n,e,t){const r=Kt(n);try{const i=await function(l,c){const d=Kt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(v=>(er(v!==null),_=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(r.localStore,e);Vx(r,e,t),Bx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pm(r,i)}catch(i){await Zd(i)}}function Bx(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Vx(n,e,t){const r=Kt(n);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function H1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||jx(n,r)})}function jx(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Yw(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),sE(n))}function Ub(n,e,t){for(const r of t)r instanceof Dx?(n.ka.addReference(r.key,e),b5(n,r)):r instanceof Mx?(ot("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||jx(n,r.key)):Vt()}function b5(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(ot("SyncEngine","New document in limbo: "+t),n.Na.add(r),sE(n))}function sE(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Nt(oi.fromString(e)),r=n.Ka.next();n.La.set(r,new f5(t)),n.Ba=n.Ba.insert(t,r),Rx(n.remoteStore,new yc(Cl(zw(t.path)),r,"TargetPurposeLimboResolution",l_.oe))}}async function pm(n,e,t){const r=Kt(n),i=[],o=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,d)=>{l.push(r.Ua(d,e,t).then(p=>{var _;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Xw.zi(d.targetId,p);o.push(v)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(d,p){const _=Kt(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Fe.forEach(p,w=>Fe.forEach(w.Wi,b=>_.persistence.referenceDelegate.addReference(v,w.targetId,b)).next(()=>Fe.forEach(w.Gi,b=>_.persistence.referenceDelegate.removeReference(v,w.targetId,b)))))}catch(v){if(!ep(v))throw v;ot("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const b=_.us.get(w),A=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(A);_.us=_.us.insert(w,R)}}}(r.localStore,o))}async function S5(n,e){const t=Kt(n);if(!t.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const r=await Ax(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(c=>{c.forEach(d=>{d.reject(new kt(We.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pm(t,r.Ts)}}function A5(n,e){const t=Kt(n),r=t.La.get(e);if(r&&r.Fa)return An().add(r.key);{let i=An();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const c=t.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function qx(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ux.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w5.bind(null,e),e.Ma.R_=a5.bind(null,e.eventManager),e.Ma.Wa=l5.bind(null,e.eventManager),e}function C5(n){const e=Kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T5.bind(null,e),e}class V0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=y_(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return R3(this.persistence,new x3,e.initialUser,this.serializer)}ja(e){return new Sx(Qw.ei,this.serializer)}za(e){return new M3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}V0.provider={build:()=>new V0};class x5 extends V0{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){er(this.persistence.referenceDelegate instanceof U0);const r=this.persistence.referenceDelegate.garbageCollector;return new f3(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?go.withCacheSize(this.cacheSizeBytes):go.DEFAULT;return new Sx(r=>U0.ei(r,t),this.serializer)}}class W1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S5.bind(null,this.syncEngine),await n5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i5}()}createDatastore(e){const t=y_(e.databaseInfo.databaseId),r=function(o){return new V3(o)}(e.databaseInfo);return function(o,l,c,d){return new $3(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,c){return new H3(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Fb(this.syncEngine,t,0),function(){return Pb.p()?new Pb:new F3}())}createSyncEngine(e,t){return function(i,o,l,c,d,p,_){const v=new d5(i,o,l,c,d,p);return _&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Kt(i);ot("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await dm(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}W1.provider={build:()=>new W1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):bu("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ps.UNAUTHENTICATED,this.clientId=HC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ot("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ot("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ah;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=rE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jv(n,e){n.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ax(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Bb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await k5(n);ot("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ob(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ob(e.remoteStore,i)),n._onlineComponents=e}async function k5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Md("Error using user provided cache. Falling back to memory cache: "+t),await Jv(n,new V0)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),await Jv(n,new x5(void 0));return n._offlineComponents}async function $x(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),await Bb(n,n._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),await Bb(n,new W1))),n._onlineComponents}function N5(n){return $x(n).then(e=>e.syncEngine)}async function Vb(n){const e=await $x(n),t=e.eventManager;return t.onListen=p5.bind(null,e.syncEngine),t.onUnlisten=y5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=g5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_5.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(n,e,t){if(!t)throw new kt(We.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O5(n,e,t,r){if(e===!0&&r===!0)throw new kt(We.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qb(n){if(!Nt.isDocumentKey(n))throw new kt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Vt()}function xd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new kt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oE(n);throw new kt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new kt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new kt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new kt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new kt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new kt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class aE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $b({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new kt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $b(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VL;switch(r.type){case"firstParty":return new zL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new kt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=jb.get(t);r&&(ot("ComponentProvider","Removing Datastore"),jb.delete(t),r.terminate())}(this),Promise.resolve()}}function L5(n,e,t,r={}){var i;const o=(n=xd(n,aE))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Md("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Ps.MOCK_USER;else{c=PC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new kt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ps(p)}n._authCredentials=new jL(new zC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new w_(this.firestore,e,this._query)}}class fa{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fa(this.firestore,e,this._key)}}class Kg extends w_{constructor(e,t,r){super(e,t,zw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fa(this.firestore,null,new Nt(e))}withConverter(e){return new Kg(this.firestore,e,this._path)}}function Hx(n,e,...t){if(n=Us(n),arguments.length===1&&(e=HC.newId()),P5("doc","path",e),n instanceof aE){const r=oi.fromString(e,...t);return qb(r),new fa(n,null,new Nt(r))}{if(!(n instanceof fa||n instanceof Kg))throw new kt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oi.fromString(e,...t));return qb(r),new fa(n.firestore,n instanceof Kg?n.converter:null,new Nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new xx(this,"async_queue_retry"),this.fu=()=>{const r=Kv();r&&ot("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Kv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Kv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ah;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ep(e))throw e;ot("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw bu("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=nE.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Vt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function Hb(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class j0 extends aE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zb(e),this._firestoreClient=void 0,await e}}}function D5(n,e){const t=typeof n=="object"?n:Uw(),r=typeof n=="string"?n:"(default)",i=a_(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=RC("firestore");o&&L5(i,...o)}return i}function Wx(n){if(n._terminated)throw new kt(We.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||M5(n),n._firestoreClient}function M5(n){var e,t,r;const i=n._freezeSettings(),o=function(c,d,p,_){return new s4(c,d,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,zx(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new R5(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qd(ys.fromBase64String(e))}catch(t){throw new kt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qd(ys.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new kt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pn(this._lat,e._lat)||Pn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=/^__.*__$/;class U5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new jh(e,this.data,this.fieldMask,t,this.fieldTransforms):new hm(e,this.data,t,this.fieldTransforms)}}function Gx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class fE{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new fE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return q0(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Gx(this.Mu)&&F5.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class B5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||y_(e)}$u(e,t,r,i=!1){return new fE({Mu:e,methodName:t,Ku:r,path:gs.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V5(n){const e=n._freezeSettings(),t=y_(n._databaseId);return new B5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j5(n,e,t,r,i,o={}){const l=n.$u(o.merge||o.mergeFields?2:0,e,t,i);Xx("Data must be an object, but it was:",l,r);const c=Jx(r,l);let d,p;if(o.merge)d=new ja(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const w=q5(e,v,t);if(!l.contains(w))throw new kt(We.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);z5(_,w)||_.push(w)}d=new ja(_),p=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=l.fieldTransforms;return new U5(new la(c),d,p)}class dE extends uE{_toFieldTransform(e){return new N4(e.path,new Hg)}isEqual(e){return e instanceof dE}}function Kx(n,e){if(Qx(n=Us(n)))return Xx("Unsupported field value:",e,n),Jx(n,e);if(n instanceof uE)return function(r,i){if(!Gx(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let d=Kx(c,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Us(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ui.fromDate(r);return{timestampValue:F0(i.serializer,o)}}if(r instanceof Ui){const o=new Ui(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:F0(i.serializer,o)}}if(r instanceof cE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qd)return{bytesValue:yx(i.serializer,r._byteString)};if(r instanceof fa){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Kw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hE)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.qu("VectorValues must only contain numeric values.");return Hw(c.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${oE(r)}`)}(n,e)}function Jx(n,e){const t={};return WC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bh(n,(r,i)=>{const o=Kx(i,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Qx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ui||n instanceof cE||n instanceof qd||n instanceof fa||n instanceof uE||n instanceof hE)}function Xx(n,e,t){if(!Qx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=oE(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function q5(n,e,t){if((e=Us(e))instanceof lE)return e._internalPath;if(typeof e=="string")return Yx(n,e);throw q0("Field path arguments must be of type string or ",n,!1,void 0,t)}const $5=new RegExp("[~\\*/\\[\\]]");function Yx(n,e,t){if(e.search($5)>=0)throw q0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lE(...e.split("."))._internalPath}catch{throw q0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function q0(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new kt(We.INVALID_ARGUMENT,c+n+d)}function z5(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class H5 extends Zx{data(){return super.data()}}function eI(n,e){return typeof e=="string"?Yx(n,e):e instanceof lE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new kt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G5{convertValue(e,t="none"){switch(xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Bh(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>wi(l.doubleValue));return new hE(o)}convertGeoPoint(e){return new cE(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=c_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qg(e));default:return null}}convertTimestamp(e){const t=Ac(e);return new Ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=oi.fromString(e);er(bx(r));const i=new $g(r.get(1),r.get(3)),o=new Nt(r.popFirst(5));return i.isEqual(t)||bu(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tI extends Zx{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new d0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class d0 extends tI{data(e={}){return super.data(e)}}class J5{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new d0(this._firestore,this._userDataWriter,r.key,r,new bg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new d0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new bg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new d0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new bg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),_=l.indexOf(c.doc.key)),{type:Q5(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}class nI extends G5{constructor(e){super(),this.firestore=e}convertBytes(e){return new qd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fa(this.firestore,null,t)}}function Wb(n,e,t){n=xd(n,fa);const r=xd(n.firestore,j0),i=K5(n.converter,e,t);return Y5(r,[j5(V5(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,wu.none())])}function X5(n,...e){var t,r,i;n=Us(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Hb(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Hb(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let d,p,_;if(n instanceof fa)p=xd(n.firestore,j0),_=zw(n._key.path),d={next:v=>{e[l]&&e[l](Z5(p,n,v))},error:e[l+1],complete:e[l+2]};else{const v=xd(n,w_);p=xd(v.firestore,j0),_=v._query;const w=new nI(p);d={next:b=>{e[l]&&e[l](new J5(p,w,v,b))},error:e[l+1],complete:e[l+2]},W5(n._query)}return function(w,b,A,R){const N=new I5(R),D=new u5(b,N,A);return w.asyncQueue.enqueueAndForget(async()=>s5(await Vb(w),D)),()=>{N.eu(),w.asyncQueue.enqueueAndForget(async()=>o5(await Vb(w),D))}}(Wx(p),_,c,d)}function Y5(n,e){return function(r,i){const o=new Ah;return r.asyncQueue.enqueueAndForget(async()=>v5(await N5(r),i,o)),o.promise}(Wx(n),e)}function Z5(n,e,t){const r=t.docs.get(e._key),i=new nI(n);return new tI(n,i,e._key,r,new bg(t.hasPendingWrites,t.fromCache),e.converter)}function eD(){return new dE("serverTimestamp")}(function(e,t=!0){(function(i){Yd=i})(Uh),Rh(new bc("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new j0(new qL(r.getProvider("auth-internal")),new WL(r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new kt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $g(p.options.projectId,_)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Al(ab,"4.7.6",e),Al(ab,"4.7.6","esm2017")})();let tD=class{constructor(){Ke(this,"listeners",[])}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(t=>e!==t)}emit(e="noteUpdate",t){this.listeners.forEach(r=>r(e,t))}getListeners(){return this.listeners}};const fs=[];for(let n=0;n<256;++n)fs.push((n+256).toString(16).slice(1));function nD(n,e=0){return(fs[n[e+0]]+fs[n[e+1]]+fs[n[e+2]]+fs[n[e+3]]+"-"+fs[n[e+4]]+fs[n[e+5]]+"-"+fs[n[e+6]]+fs[n[e+7]]+"-"+fs[n[e+8]]+fs[n[e+9]]+"-"+fs[n[e+10]]+fs[n[e+11]]+fs[n[e+12]]+fs[n[e+13]]+fs[n[e+14]]+fs[n[e+15]]).toLowerCase()}let Qv;const rD=new Uint8Array(16);function iD(){if(!Qv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qv=crypto.getRandomValues.bind(crypto)}return Qv(rD)}const sD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gb={randomUUID:sD};function Kb(n,e,t){var i;if(Gb.randomUUID&&!n)return Gb.randomUUID();n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??iD();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,nD(r)}var rI=typeof global=="object"&&global&&global.Object===Object&&global,oD=typeof self=="object"&&self&&self.Object===Object&&self,Ul=rI||oD||Function("return this")(),Rc=Ul.Symbol,iI=Object.prototype,aD=iI.hasOwnProperty,lD=iI.toString,hg=Rc?Rc.toStringTag:void 0;function uD(n){var e=aD.call(n,hg),t=n[hg];try{n[hg]=void 0;var r=!0}catch{}var i=lD.call(n);return r&&(e?n[hg]=t:delete n[hg]),i}var cD=Object.prototype,hD=cD.toString;function fD(n){return hD.call(n)}var dD="[object Null]",pD="[object Undefined]",Jb=Rc?Rc.toStringTag:void 0;function np(n){return n==null?n===void 0?pD:dD:Jb&&Jb in Object(n)?uD(n):fD(n)}function Au(n){return n!=null&&typeof n=="object"}var Nh=Array.isArray;function Pc(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function sI(n){return n}var gD="[object AsyncFunction]",mD="[object Function]",yD="[object GeneratorFunction]",_D="[object Proxy]";function pE(n){if(!Pc(n))return!1;var e=np(n);return e==mD||e==yD||e==gD||e==_D}var Xv=Ul["__core-js_shared__"],Qb=function(){var n=/[^.]+$/.exec(Xv&&Xv.keys&&Xv.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function vD(n){return!!Qb&&Qb in n}var wD=Function.prototype,ED=wD.toString;function $h(n){if(n!=null){try{return ED.call(n)}catch{}try{return n+""}catch{}}return""}var TD=/[\\^$.*+?()[\]{}|]/g,bD=/^\[object .+?Constructor\]$/,SD=Function.prototype,AD=Object.prototype,CD=SD.toString,xD=AD.hasOwnProperty,ID=RegExp("^"+CD.call(xD).replace(TD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RD(n){if(!Pc(n)||vD(n))return!1;var e=pE(n)?ID:bD;return e.test($h(n))}function kD(n,e){return n==null?void 0:n[e]}function zh(n,e){var t=kD(n,e);return RD(t)?t:void 0}var G1=zh(Ul,"WeakMap"),Xb=Object.create,ND=function(){function n(){}return function(e){if(!Pc(e))return{};if(Xb)return Xb(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function PD(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function oI(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var OD=800,LD=16,DD=Date.now;function MD(n){var e=0,t=0;return function(){var r=DD(),i=LD-(r-t);if(t=r,i>0){if(++e>=OD)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function FD(n){return function(){return n}}var $0=function(){try{var n=zh(Object,"defineProperty");return n({},"",{}),n}catch{}}(),UD=$0?function(n,e){return $0(n,"toString",{configurable:!0,enumerable:!1,value:FD(e),writable:!0})}:sI,BD=MD(UD);function VD(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var jD=9007199254740991,qD=/^(?:0|[1-9]\d*)$/;function aI(n,e){var t=typeof n;return e=e??jD,!!e&&(t=="number"||t!="symbol"&&qD.test(n))&&n>-1&&n%1==0&&n<e}function gE(n,e,t){e=="__proto__"&&$0?$0(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function gm(n,e){return n===e||n!==n&&e!==e}var $D=Object.prototype,zD=$D.hasOwnProperty;function lI(n,e,t){var r=n[e];(!(zD.call(n,e)&&gm(r,t))||t===void 0&&!(e in n))&&gE(n,e,t)}function mm(n,e,t,r){var i=!t;t||(t={});for(var o=-1,l=e.length;++o<l;){var c=e[o],d=void 0;d===void 0&&(d=n[c]),i?gE(t,c,d):lI(t,c,d)}return t}var Yb=Math.max;function HD(n,e,t){return e=Yb(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=Yb(r.length-e,0),l=Array(o);++i<o;)l[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=t(l),PD(n,this,c)}}function WD(n,e){return BD(HD(n,e,sI),n+"")}var GD=9007199254740991;function uI(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=GD}function E_(n){return n!=null&&uI(n.length)&&!pE(n)}function KD(n,e,t){if(!Pc(t))return!1;var r=typeof e;return(r=="number"?E_(t)&&aI(e,t.length):r=="string"&&e in t)?gm(t[e],n):!1}function JD(n){return WD(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,l=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,l&&KD(t[0],t[1],l)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var c=t[r];c&&n(e,c,r,o)}return e})}var QD=Object.prototype;function mE(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||QD;return n===t}function XD(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var YD="[object Arguments]";function Zb(n){return Au(n)&&np(n)==YD}var cI=Object.prototype,ZD=cI.hasOwnProperty,eM=cI.propertyIsEnumerable,K1=Zb(function(){return arguments}())?Zb:function(n){return Au(n)&&ZD.call(n,"callee")&&!eM.call(n,"callee")};function tM(){return!1}var hI=typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,eS=hI&&typeof Do=="object"&&Do&&!Do.nodeType&&Do,nM=eS&&eS.exports===hI,tS=nM?Ul.Buffer:void 0,rM=tS?tS.isBuffer:void 0,Jg=rM||tM,iM="[object Arguments]",sM="[object Array]",oM="[object Boolean]",aM="[object Date]",lM="[object Error]",uM="[object Function]",cM="[object Map]",hM="[object Number]",fM="[object Object]",dM="[object RegExp]",pM="[object Set]",gM="[object String]",mM="[object WeakMap]",yM="[object ArrayBuffer]",_M="[object DataView]",vM="[object Float32Array]",wM="[object Float64Array]",EM="[object Int8Array]",TM="[object Int16Array]",bM="[object Int32Array]",SM="[object Uint8Array]",AM="[object Uint8ClampedArray]",CM="[object Uint16Array]",xM="[object Uint32Array]",Ir={};Ir[vM]=Ir[wM]=Ir[EM]=Ir[TM]=Ir[bM]=Ir[SM]=Ir[AM]=Ir[CM]=Ir[xM]=!0;Ir[iM]=Ir[sM]=Ir[yM]=Ir[oM]=Ir[_M]=Ir[aM]=Ir[lM]=Ir[uM]=Ir[cM]=Ir[hM]=Ir[fM]=Ir[dM]=Ir[pM]=Ir[gM]=Ir[mM]=!1;function IM(n){return Au(n)&&uI(n.length)&&!!Ir[np(n)]}function yE(n){return function(e){return n(e)}}var fI=typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,Lg=fI&&typeof Do=="object"&&Do&&!Do.nodeType&&Do,RM=Lg&&Lg.exports===fI,Yv=RM&&rI.process,$d=function(){try{var n=Lg&&Lg.require&&Lg.require("util").types;return n||Yv&&Yv.binding&&Yv.binding("util")}catch{}}(),nS=$d&&$d.isTypedArray,_E=nS?yE(nS):IM,kM=Object.prototype,NM=kM.hasOwnProperty;function dI(n,e){var t=Nh(n),r=!t&&K1(n),i=!t&&!r&&Jg(n),o=!t&&!r&&!i&&_E(n),l=t||r||i||o,c=l?XD(n.length,String):[],d=c.length;for(var p in n)(e||NM.call(n,p))&&!(l&&(p=="length"||i&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||aI(p,d)))&&c.push(p);return c}function pI(n,e){return function(t){return n(e(t))}}var PM=pI(Object.keys,Object),OM=Object.prototype,LM=OM.hasOwnProperty;function DM(n){if(!mE(n))return PM(n);var e=[];for(var t in Object(n))LM.call(n,t)&&t!="constructor"&&e.push(t);return e}function vE(n){return E_(n)?dI(n):DM(n)}function MM(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var FM=Object.prototype,UM=FM.hasOwnProperty;function BM(n){if(!Pc(n))return MM(n);var e=mE(n),t=[];for(var r in n)r=="constructor"&&(e||!UM.call(n,r))||t.push(r);return t}function ym(n){return E_(n)?dI(n,!0):BM(n)}var Qg=zh(Object,"create");function VM(){this.__data__=Qg?Qg(null):{},this.size=0}function jM(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var qM="__lodash_hash_undefined__",$M=Object.prototype,zM=$M.hasOwnProperty;function HM(n){var e=this.__data__;if(Qg){var t=e[n];return t===qM?void 0:t}return zM.call(e,n)?e[n]:void 0}var WM=Object.prototype,GM=WM.hasOwnProperty;function KM(n){var e=this.__data__;return Qg?e[n]!==void 0:GM.call(e,n)}var JM="__lodash_hash_undefined__";function QM(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Qg&&e===void 0?JM:e,this}function Ph(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ph.prototype.clear=VM;Ph.prototype.delete=jM;Ph.prototype.get=HM;Ph.prototype.has=KM;Ph.prototype.set=QM;function XM(){this.__data__=[],this.size=0}function T_(n,e){for(var t=n.length;t--;)if(gm(n[t][0],e))return t;return-1}var YM=Array.prototype,ZM=YM.splice;function e6(n){var e=this.__data__,t=T_(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():ZM.call(e,t,1),--this.size,!0}function t6(n){var e=this.__data__,t=T_(e,n);return t<0?void 0:e[t][1]}function n6(n){return T_(this.__data__,n)>-1}function r6(n,e){var t=this.__data__,r=T_(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function ku(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ku.prototype.clear=XM;ku.prototype.delete=e6;ku.prototype.get=t6;ku.prototype.has=n6;ku.prototype.set=r6;var Xg=zh(Ul,"Map");function i6(){this.size=0,this.__data__={hash:new Ph,map:new(Xg||ku),string:new Ph}}function s6(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function b_(n,e){var t=n.__data__;return s6(e)?t[typeof e=="string"?"string":"hash"]:t.map}function o6(n){var e=b_(this,n).delete(n);return this.size-=e?1:0,e}function a6(n){return b_(this,n).get(n)}function l6(n){return b_(this,n).has(n)}function u6(n,e){var t=b_(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Hh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Hh.prototype.clear=i6;Hh.prototype.delete=o6;Hh.prototype.get=a6;Hh.prototype.has=l6;Hh.prototype.set=u6;function gI(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var wE=pI(Object.getPrototypeOf,Object),c6="[object Object]",h6=Function.prototype,f6=Object.prototype,mI=h6.toString,d6=f6.hasOwnProperty,p6=mI.call(Object);function g6(n){if(!Au(n)||np(n)!=c6)return!1;var e=wE(n);if(e===null)return!0;var t=d6.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&mI.call(t)==p6}function m6(){this.__data__=new ku,this.size=0}function y6(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function _6(n){return this.__data__.get(n)}function v6(n){return this.__data__.has(n)}var w6=200;function E6(n,e){var t=this.__data__;if(t instanceof ku){var r=t.__data__;if(!Xg||r.length<w6-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Hh(r)}return t.set(n,e),this.size=t.size,this}function Il(n){var e=this.__data__=new ku(n);this.size=e.size}Il.prototype.clear=m6;Il.prototype.delete=y6;Il.prototype.get=_6;Il.prototype.has=v6;Il.prototype.set=E6;function T6(n,e){return n&&mm(e,vE(e),n)}function b6(n,e){return n&&mm(e,ym(e),n)}var yI=typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,rS=yI&&typeof Do=="object"&&Do&&!Do.nodeType&&Do,S6=rS&&rS.exports===yI,iS=S6?Ul.Buffer:void 0,sS=iS?iS.allocUnsafe:void 0;function _I(n,e){if(e)return n.slice();var t=n.length,r=sS?sS(t):new n.constructor(t);return n.copy(r),r}function A6(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var l=n[t];e(l,t,n)&&(o[i++]=l)}return o}function vI(){return[]}var C6=Object.prototype,x6=C6.propertyIsEnumerable,oS=Object.getOwnPropertySymbols,EE=oS?function(n){return n==null?[]:(n=Object(n),A6(oS(n),function(e){return x6.call(n,e)}))}:vI;function I6(n,e){return mm(n,EE(n),e)}var R6=Object.getOwnPropertySymbols,wI=R6?function(n){for(var e=[];n;)gI(e,EE(n)),n=wE(n);return e}:vI;function k6(n,e){return mm(n,wI(n),e)}function EI(n,e,t){var r=e(n);return Nh(n)?r:gI(r,t(n))}function J1(n){return EI(n,vE,EE)}function N6(n){return EI(n,ym,wI)}var Q1=zh(Ul,"DataView"),X1=zh(Ul,"Promise"),Y1=zh(Ul,"Set"),aS="[object Map]",P6="[object Object]",lS="[object Promise]",uS="[object Set]",cS="[object WeakMap]",hS="[object DataView]",O6=$h(Q1),L6=$h(Xg),D6=$h(X1),M6=$h(Y1),F6=$h(G1),Ba=np;(Q1&&Ba(new Q1(new ArrayBuffer(1)))!=hS||Xg&&Ba(new Xg)!=aS||X1&&Ba(X1.resolve())!=lS||Y1&&Ba(new Y1)!=uS||G1&&Ba(new G1)!=cS)&&(Ba=function(n){var e=np(n),t=e==P6?n.constructor:void 0,r=t?$h(t):"";if(r)switch(r){case O6:return hS;case L6:return aS;case D6:return lS;case M6:return uS;case F6:return cS}return e});var U6=Object.prototype,B6=U6.hasOwnProperty;function V6(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&B6.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var z0=Ul.Uint8Array;function TE(n){var e=new n.constructor(n.byteLength);return new z0(e).set(new z0(n)),e}function j6(n,e){var t=e?TE(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var q6=/\w*$/;function $6(n){var e=new n.constructor(n.source,q6.exec(n));return e.lastIndex=n.lastIndex,e}var fS=Rc?Rc.prototype:void 0,dS=fS?fS.valueOf:void 0;function z6(n){return dS?Object(dS.call(n)):{}}function TI(n,e){var t=e?TE(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var H6="[object Boolean]",W6="[object Date]",G6="[object Map]",K6="[object Number]",J6="[object RegExp]",Q6="[object Set]",X6="[object String]",Y6="[object Symbol]",Z6="[object ArrayBuffer]",e9="[object DataView]",t9="[object Float32Array]",n9="[object Float64Array]",r9="[object Int8Array]",i9="[object Int16Array]",s9="[object Int32Array]",o9="[object Uint8Array]",a9="[object Uint8ClampedArray]",l9="[object Uint16Array]",u9="[object Uint32Array]";function c9(n,e,t){var r=n.constructor;switch(e){case Z6:return TE(n);case H6:case W6:return new r(+n);case e9:return j6(n,t);case t9:case n9:case r9:case i9:case s9:case o9:case a9:case l9:case u9:return TI(n,t);case G6:return new r;case K6:case X6:return new r(n);case J6:return $6(n);case Q6:return new r;case Y6:return z6(n)}}function bI(n){return typeof n.constructor=="function"&&!mE(n)?ND(wE(n)):{}}var h9="[object Map]";function f9(n){return Au(n)&&Ba(n)==h9}var pS=$d&&$d.isMap,d9=pS?yE(pS):f9,p9="[object Set]";function g9(n){return Au(n)&&Ba(n)==p9}var gS=$d&&$d.isSet,m9=gS?yE(gS):g9,y9=1,_9=2,v9=4,SI="[object Arguments]",w9="[object Array]",E9="[object Boolean]",T9="[object Date]",b9="[object Error]",AI="[object Function]",S9="[object GeneratorFunction]",A9="[object Map]",C9="[object Number]",CI="[object Object]",x9="[object RegExp]",I9="[object Set]",R9="[object String]",k9="[object Symbol]",N9="[object WeakMap]",P9="[object ArrayBuffer]",O9="[object DataView]",L9="[object Float32Array]",D9="[object Float64Array]",M9="[object Int8Array]",F9="[object Int16Array]",U9="[object Int32Array]",B9="[object Uint8Array]",V9="[object Uint8ClampedArray]",j9="[object Uint16Array]",q9="[object Uint32Array]",br={};br[SI]=br[w9]=br[P9]=br[O9]=br[E9]=br[T9]=br[L9]=br[D9]=br[M9]=br[F9]=br[U9]=br[A9]=br[C9]=br[CI]=br[x9]=br[I9]=br[R9]=br[k9]=br[B9]=br[V9]=br[j9]=br[q9]=!0;br[b9]=br[AI]=br[N9]=!1;function p0(n,e,t,r,i,o){var l,c=e&y9,d=e&_9,p=e&v9;if(l!==void 0)return l;if(!Pc(n))return n;var _=Nh(n);if(_){if(l=V6(n),!c)return oI(n,l)}else{var v=Ba(n),w=v==AI||v==S9;if(Jg(n))return _I(n,c);if(v==CI||v==SI||w&&!i){if(l=d||w?{}:bI(n),!c)return d?k6(n,b6(l,n)):I6(n,T6(l,n))}else{if(!br[v])return i?n:{};l=c9(n,v,c)}}o||(o=new Il);var b=o.get(n);if(b)return b;o.set(n,l),m9(n)?n.forEach(function(N){l.add(p0(N,e,t,N,n,o))}):d9(n)&&n.forEach(function(N,D){l.set(D,p0(N,e,t,D,n,o))});var A=p?d?N6:J1:d?ym:vE,R=_?void 0:A(n);return VD(R||n,function(N,D){R&&(D=N,N=n[D]),lI(l,D,p0(N,e,t,D,n,o))}),l}var $9=1,z9=4;function Id(n){return p0(n,$9|z9)}var H9="__lodash_hash_undefined__";function W9(n){return this.__data__.set(n,H9),this}function G9(n){return this.__data__.has(n)}function H0(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Hh;++e<t;)this.add(n[e])}H0.prototype.add=H0.prototype.push=W9;H0.prototype.has=G9;function K9(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function J9(n,e){return n.has(e)}var Q9=1,X9=2;function xI(n,e,t,r,i,o){var l=t&Q9,c=n.length,d=e.length;if(c!=d&&!(l&&d>c))return!1;var p=o.get(n),_=o.get(e);if(p&&_)return p==e&&_==n;var v=-1,w=!0,b=t&X9?new H0:void 0;for(o.set(n,e),o.set(e,n);++v<c;){var A=n[v],R=e[v];if(r)var N=l?r(R,A,v,e,n,o):r(A,R,v,n,e,o);if(N!==void 0){if(N)continue;w=!1;break}if(b){if(!K9(e,function(D,F){if(!J9(b,F)&&(A===D||i(A,D,t,r,o)))return b.push(F)})){w=!1;break}}else if(!(A===R||i(A,R,t,r,o))){w=!1;break}}return o.delete(n),o.delete(e),w}function Y9(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function Z9(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var eF=1,tF=2,nF="[object Boolean]",rF="[object Date]",iF="[object Error]",sF="[object Map]",oF="[object Number]",aF="[object RegExp]",lF="[object Set]",uF="[object String]",cF="[object Symbol]",hF="[object ArrayBuffer]",fF="[object DataView]",mS=Rc?Rc.prototype:void 0,Zv=mS?mS.valueOf:void 0;function dF(n,e,t,r,i,o,l){switch(t){case fF:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case hF:return!(n.byteLength!=e.byteLength||!o(new z0(n),new z0(e)));case nF:case rF:case oF:return gm(+n,+e);case iF:return n.name==e.name&&n.message==e.message;case aF:case uF:return n==e+"";case sF:var c=Y9;case lF:var d=r&eF;if(c||(c=Z9),n.size!=e.size&&!d)return!1;var p=l.get(n);if(p)return p==e;r|=tF,l.set(n,e);var _=xI(c(n),c(e),r,i,o,l);return l.delete(n),_;case cF:if(Zv)return Zv.call(n)==Zv.call(e)}return!1}var pF=1,gF=Object.prototype,mF=gF.hasOwnProperty;function yF(n,e,t,r,i,o){var l=t&pF,c=J1(n),d=c.length,p=J1(e),_=p.length;if(d!=_&&!l)return!1;for(var v=d;v--;){var w=c[v];if(!(l?w in e:mF.call(e,w)))return!1}var b=o.get(n),A=o.get(e);if(b&&A)return b==e&&A==n;var R=!0;o.set(n,e),o.set(e,n);for(var N=l;++v<d;){w=c[v];var D=n[w],F=e[w];if(r)var x=l?r(F,D,w,e,n,o):r(D,F,w,n,e,o);if(!(x===void 0?D===F||i(D,F,t,r,o):x)){R=!1;break}N||(N=w=="constructor")}if(R&&!N){var M=n.constructor,$=e.constructor;M!=$&&"constructor"in n&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof $=="function"&&$ instanceof $)&&(R=!1)}return o.delete(n),o.delete(e),R}var _F=1,yS="[object Arguments]",_S="[object Array]",jy="[object Object]",vF=Object.prototype,vS=vF.hasOwnProperty;function wF(n,e,t,r,i,o){var l=Nh(n),c=Nh(e),d=l?_S:Ba(n),p=c?_S:Ba(e);d=d==yS?jy:d,p=p==yS?jy:p;var _=d==jy,v=p==jy,w=d==p;if(w&&Jg(n)){if(!Jg(e))return!1;l=!0,_=!1}if(w&&!_)return o||(o=new Il),l||_E(n)?xI(n,e,t,r,i,o):dF(n,e,d,t,r,i,o);if(!(t&_F)){var b=_&&vS.call(n,"__wrapped__"),A=v&&vS.call(e,"__wrapped__");if(b||A){var R=b?n.value():n,N=A?e.value():e;return o||(o=new Il),i(R,N,t,r,o)}}return w?(o||(o=new Il),yF(n,e,t,r,i,o)):!1}function II(n,e,t,r,i){return n===e?!0:n==null||e==null||!Au(n)&&!Au(e)?n!==n&&e!==e:wF(n,e,t,r,II,i)}function EF(n){return function(e,t,r){for(var i=-1,o=Object(e),l=r(e),c=l.length;c--;){var d=l[++i];if(t(o[d],d,o)===!1)break}return e}}var TF=EF();function Z1(n,e,t){(t!==void 0&&!gm(n[e],t)||t===void 0&&!(e in n))&&gE(n,e,t)}function bF(n){return Au(n)&&E_(n)}function ew(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function SF(n){return mm(n,ym(n))}function AF(n,e,t,r,i,o,l){var c=ew(n,t),d=ew(e,t),p=l.get(d);if(p){Z1(n,t,p);return}var _=o?o(c,d,t+"",n,e,l):void 0,v=_===void 0;if(v){var w=Nh(d),b=!w&&Jg(d),A=!w&&!b&&_E(d);_=d,w||b||A?Nh(c)?_=c:bF(c)?_=oI(c):b?(v=!1,_=_I(d,!0)):A?(v=!1,_=TI(d,!0)):_=[]:g6(d)||K1(d)?(_=c,K1(c)?_=SF(c):(!Pc(c)||pE(c))&&(_=bI(d))):v=!1}v&&(l.set(d,_),i(_,d,r,o,l),l.delete(d)),Z1(n,t,_)}function RI(n,e,t,r,i){n!==e&&TF(e,function(o,l){if(i||(i=new Il),Pc(o))AF(n,e,l,t,RI,r,i);else{var c=r?r(ew(n,l),o,l+"",n,e,i):void 0;c===void 0&&(c=o),Z1(n,l,c)}},ym)}function bE(n,e){return II(n,e)}var Tc=JD(function(n,e,t){RI(n,e,t)}),yt=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(yt||{});class Ll{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=yt.TYPE&yt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&yt.LEVEL|i:yt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Rd extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const kI=class tw{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new Rd(`Unable to create ${t} blot`);const o=i,l=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:o.create(r),c=new o(e,l,r);return tw.blots.set(c.domNode,c),c}find(e,t=!1){return tw.find(e,t)}query(e,t=yt.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&yt.LEVEL&yt.BLOCK?r=this.types.block:e&yt.LEVEL&yt.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&yt.LEVEL&r.scope&&t&yt.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new Rd("Invalid definition");if(r&&t.blotName==="abstract")throw new Rd("Cannot register abstract class");const o=r?t.blotName:i?t.attrName:void 0;return this.types[o]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(l=>l.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(l=>{(this.tags[l]==null||t.className==null)&&(this.tags[l]=t)}))),t})}};kI.blots=new WeakMap;let zd=kI;function wS(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class CF extends Ll{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){wS(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(wS(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const Ha=CF;function e1(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class xF extends Ll{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[e1(this.keyName)]=t,!0):!1}remove(e){e.style[e1(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[e1(this.keyName)];return this.canAdd(e,t)?t:""}}const Oc=xF;class IF{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=zd.find(this.domNode);if(e==null)return;const t=Ll.keys(this.domNode),r=Ha.keys(this.domNode),i=Oc.keys(this.domNode);t.concat(r).concat(i).forEach(o=>{const l=e.scroll.query(o,yt.ATTRIBUTE);l instanceof Ll&&(this.attributes[l.attrName]=l)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const S_=IF,NI=class{constructor(e,t){this.scroll=e,this.domNode=t,zd.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Rd("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),zd.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const o=this.isolate(e,t);if(this.scroll.query(r,yt.BLOT)!=null&&i)o.wrap(r,i);else if(this.scroll.query(r,yt.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);o.wrap(l),l.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Rd(`Cannot wrap ${e}`);return r.appendChild(this),r}};NI.blotName="abstract";let PI=NI;const OI=class extends PI{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};OI.scope=yt.INLINE_BLOT;let RF=OI;const Ls=RF;class kF{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const o=i.length();if(e<o||t&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,o]=this.find(e);let l=e-o;const c=this.iterator(i);let d=c();for(;d&&l<e+t;){const p=d.length();e>l?r(d,e-l,Math.min(t,l+p-e)):r(d,0,Math.min(p,e+t-l)),l+=p,d=c()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function ES(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(yt.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const LI=class fc extends PI{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,fc.uiClass&&this.uiNode.classList.add(fc.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new kF,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=ES(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof Rd)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,o)=>{r.deleteAt(i,o)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof fc?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],o=r;return this.children.forEachAt(t,r,(l,c,d)=>{(e.blotName==null&&e(l)||e.blotName!=null&&l instanceof e)&&i.push(l),l instanceof fc&&(i=i.concat(l.descendants(e,c,o))),o-=d}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===yt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof fc?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(o,l,c)=>{o.formatAt(l,c,r,i)})}insertAt(e,t,r){const[i,o]=this.children.find(e);if(i)i.insertAt(o,t,r);else{const l=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(l)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),o=[[this,e]];return r instanceof fc?o.concat(r.path(i,t)):(r!=null&&o.push([r,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof fc&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,l)=>{const c=i.split(o,t);c!=null&&r.appendChild(c)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(r.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(o);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),r.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,l)=>o===l?0:o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let l=null;o.nextSibling!=null&&(l=this.scroll.find(o.nextSibling));const c=ES(o,this.scroll);(c.next!==l||c.next==null)&&(c.parent!=null&&c.parent.removeChild(this),this.insertBefore(c,l||void 0))}),this.enforceAllowedChildren()}};LI.uiClass="";let NF=LI;const qa=NF;function PF(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const vd=class wd extends qa{static create(e){return super.create(e)}static formats(e,t){const r=t.query(wd.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new S_(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof wd||(r=r.wrap(wd.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,yt.INLINE);if(r==null)return;r instanceof Ll?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,yt.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof wd&&r.prev===this&&PF(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof wd&&this.attributes.move(r),r}};vd.allowedChildren=[vd,Ls],vd.blotName="inline",vd.scope=yt.INLINE_BLOT,vd.tagName="SPAN";let OF=vd;const SE=OF,Ed=class nw extends qa{static create(e){return super.create(e)}static formats(e,t){const r=t.query(nw.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new S_(this.domNode)}format(e,t){const r=this.scroll.query(e,yt.BLOCK);r!=null&&(r instanceof Ll?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(nw.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,yt.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,yt.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(t,r);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Ed.blotName="block",Ed.scope=yt.BLOCK_BLOT,Ed.tagName="P",Ed.allowedChildren=[SE,Ed,Ls];let LF=Ed;const Yg=LF,rw=class extends qa{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};rw.blotName="container",rw.scope=yt.BLOCK_BLOT;let DF=rw;const A_=DF;class MF extends Ls{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Bo=MF,FF={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},UF=100,Td=class extends qa{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,FF),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=yt.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(d,p=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(r.has(d.domNode)||r.set(d.domNode,[]),p&&o(d.parent))},l=d=>{r.has(d.domNode)&&(d instanceof qa&&d.children.forEach(l),r.delete(d.domNode),d.optimize(t))};let c=e;for(let d=0;c.length>0;d+=1){if(d>=UF)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(p=>{const _=this.find(p.target,!0);_!=null&&(_.domNode===p.target&&(p.type==="childList"?(o(this.find(p.previousSibling,!1)),Array.from(p.addedNodes).forEach(v=>{const w=this.find(v,!1);o(w,!1),w instanceof qa&&w.children.forEach(b=>{o(b,!1)})})):p.type==="attributes"&&o(_.prev)),o(_))}),this.children.forEach(l),c=Array.from(this.observer.takeRecords()),i=c.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:r.has(o.domNode)?(r.get(o.domNode).push(i),null):(r.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};Td.blotName="scroll",Td.defaultChild=Yg,Td.allowedChildren=[Yg,A_],Td.scope=yt.BLOCK_BLOT,Td.tagName="DIV";let BF=Td;const AE=BF,iw=class DI extends Ls{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof DI&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};iw.blotName="text",iw.scope=yt.INLINE_BLOT;let VF=iw;const W0=VF,jF=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ll,AttributorStore:S_,BlockBlot:Yg,ClassAttributor:Ha,ContainerBlot:A_,EmbedBlot:Bo,InlineBlot:SE,LeafBlot:Ls,ParentBlot:qa,Registry:zd,Scope:yt,ScrollBlot:AE,StyleAttributor:Oc,TextBlot:W0},Symbol.toStringTag,{value:"Module"}));var qy={exports:{}},t1,TS;function qF(){if(TS)return t1;TS=1;var n=-1,e=1,t=0;function r(P,z,O,oe,le){if(P===z)return P?[[t,P]]:[];if(O!=null){var re=q(P,z,O);if(re)return re}var pe=c(P,z),se=P.substring(0,pe);P=P.substring(pe),z=z.substring(pe),pe=p(P,z);var ne=P.substring(P.length-pe);P=P.substring(0,P.length-pe),z=z.substring(0,z.length-pe);var Y=i(P,z);return se&&Y.unshift([t,se]),ne&&Y.push([t,ne]),F(Y,le),oe&&v(Y),Y}function i(P,z){var O;if(!P)return[[e,z]];if(!z)return[[n,P]];var oe=P.length>z.length?P:z,le=P.length>z.length?z:P,re=oe.indexOf(le);if(re!==-1)return O=[[e,oe.substring(0,re)],[t,le],[e,oe.substring(re+le.length)]],P.length>z.length&&(O[0][0]=O[2][0]=n),O;if(le.length===1)return[[n,P],[e,z]];var pe=_(P,z);if(pe){var se=pe[0],ne=pe[1],Y=pe[2],K=pe[3],ie=pe[4],fe=r(se,Y),Pe=r(ne,K);return fe.concat([[t,ie]],Pe)}return o(P,z)}function o(P,z){for(var O=P.length,oe=z.length,le=Math.ceil((O+oe)/2),re=le,pe=2*le,se=new Array(pe),ne=new Array(pe),Y=0;Y<pe;Y++)se[Y]=-1,ne[Y]=-1;se[re+1]=0,ne[re+1]=0;for(var K=O-oe,ie=K%2!==0,fe=0,Pe=0,xe=0,Le=0,$e=0;$e<le;$e++){for(var Re=-$e+fe;Re<=$e-Pe;Re+=2){var Ge=re+Re,Ye;Re===-$e||Re!==$e&&se[Ge-1]<se[Ge+1]?Ye=se[Ge+1]:Ye=se[Ge-1]+1;for(var Qe=Ye-Re;Ye<O&&Qe<oe&&P.charAt(Ye)===z.charAt(Qe);)Ye++,Qe++;if(se[Ge]=Ye,Ye>O)Pe+=2;else if(Qe>oe)fe+=2;else if(ie){var pt=re+K-Re;if(pt>=0&&pt<pe&&ne[pt]!==-1){var gt=O-ne[pt];if(Ye>=gt)return l(P,z,Ye,Qe)}}}for(var st=-$e+xe;st<=$e-Le;st+=2){var pt=re+st,gt;st===-$e||st!==$e&&ne[pt-1]<ne[pt+1]?gt=ne[pt+1]:gt=ne[pt-1]+1;for(var zt=gt-st;gt<O&&zt<oe&&P.charAt(O-gt-1)===z.charAt(oe-zt-1);)gt++,zt++;if(ne[pt]=gt,gt>O)Le+=2;else if(zt>oe)xe+=2;else if(!ie){var Ge=re+K-st;if(Ge>=0&&Ge<pe&&se[Ge]!==-1){var Ye=se[Ge],Qe=re+Ye-Ge;if(gt=O-gt,Ye>=gt)return l(P,z,Ye,Qe)}}}}return[[n,P],[e,z]]}function l(P,z,O,oe){var le=P.substring(0,O),re=z.substring(0,oe),pe=P.substring(O),se=z.substring(oe),ne=r(le,re),Y=r(pe,se);return ne.concat(Y)}function c(P,z){if(!P||!z||P.charAt(0)!==z.charAt(0))return 0;for(var O=0,oe=Math.min(P.length,z.length),le=oe,re=0;O<le;)P.substring(re,le)==z.substring(re,le)?(O=le,re=O):oe=le,le=Math.floor((oe-O)/2+O);return x(P.charCodeAt(le-1))&&le--,le}function d(P,z){var O=P.length,oe=z.length;if(O==0||oe==0)return 0;O>oe?P=P.substring(O-oe):O<oe&&(z=z.substring(0,O));var le=Math.min(O,oe);if(P==z)return le;for(var re=0,pe=1;;){var se=P.substring(le-pe),ne=z.indexOf(se);if(ne==-1)return re;pe+=ne,(ne==0||P.substring(le-pe)==z.substring(0,pe))&&(re=pe,pe++)}}function p(P,z){if(!P||!z||P.slice(-1)!==z.slice(-1))return 0;for(var O=0,oe=Math.min(P.length,z.length),le=oe,re=0;O<le;)P.substring(P.length-le,P.length-re)==z.substring(z.length-le,z.length-re)?(O=le,re=O):oe=le,le=Math.floor((oe-O)/2+O);return M(P.charCodeAt(P.length-le))&&le--,le}function _(P,z){var O=P.length>z.length?P:z,oe=P.length>z.length?z:P;if(O.length<4||oe.length*2<O.length)return null;function le(Pe,xe,Le){for(var $e=Pe.substring(Le,Le+Math.floor(Pe.length/4)),Re=-1,Ge="",Ye,Qe,pt,gt;(Re=xe.indexOf($e,Re+1))!==-1;){var st=c(Pe.substring(Le),xe.substring(Re)),zt=p(Pe.substring(0,Le),xe.substring(0,Re));Ge.length<zt+st&&(Ge=xe.substring(Re-zt,Re)+xe.substring(Re,Re+st),Ye=Pe.substring(0,Le-zt),Qe=Pe.substring(Le+st),pt=xe.substring(0,Re-zt),gt=xe.substring(Re+st))}return Ge.length*2>=Pe.length?[Ye,Qe,pt,gt,Ge]:null}var re=le(O,oe,Math.ceil(O.length/4)),pe=le(O,oe,Math.ceil(O.length/2)),se;if(!re&&!pe)return null;pe?re?se=re[4].length>pe[4].length?re:pe:se=pe:se=re;var ne,Y,K,ie;P.length>z.length?(ne=se[0],Y=se[1],K=se[2],ie=se[3]):(K=se[0],ie=se[1],ne=se[2],Y=se[3]);var fe=se[4];return[ne,Y,K,ie,fe]}function v(P){for(var z=!1,O=[],oe=0,le=null,re=0,pe=0,se=0,ne=0,Y=0;re<P.length;)P[re][0]==t?(O[oe++]=re,pe=ne,se=Y,ne=0,Y=0,le=P[re][1]):(P[re][0]==e?ne+=P[re][1].length:Y+=P[re][1].length,le&&le.length<=Math.max(pe,se)&&le.length<=Math.max(ne,Y)&&(P.splice(O[oe-1],0,[n,le]),P[O[oe-1]+1][0]=e,oe--,oe--,re=oe>0?O[oe-1]:-1,pe=0,se=0,ne=0,Y=0,le=null,z=!0)),re++;for(z&&F(P),D(P),re=1;re<P.length;){if(P[re-1][0]==n&&P[re][0]==e){var K=P[re-1][1],ie=P[re][1],fe=d(K,ie),Pe=d(ie,K);fe>=Pe?(fe>=K.length/2||fe>=ie.length/2)&&(P.splice(re,0,[t,ie.substring(0,fe)]),P[re-1][1]=K.substring(0,K.length-fe),P[re+1][1]=ie.substring(fe),re++):(Pe>=K.length/2||Pe>=ie.length/2)&&(P.splice(re,0,[t,K.substring(0,Pe)]),P[re-1][0]=e,P[re-1][1]=ie.substring(0,ie.length-Pe),P[re+1][0]=n,P[re+1][1]=K.substring(Pe),re++),re++}re++}}var w=/[^a-zA-Z0-9]/,b=/\s/,A=/[\r\n]/,R=/\n\r?\n$/,N=/^\r?\n\r?\n/;function D(P){function z(Pe,xe){if(!Pe||!xe)return 6;var Le=Pe.charAt(Pe.length-1),$e=xe.charAt(0),Re=Le.match(w),Ge=$e.match(w),Ye=Re&&Le.match(b),Qe=Ge&&$e.match(b),pt=Ye&&Le.match(A),gt=Qe&&$e.match(A),st=pt&&Pe.match(R),zt=gt&&xe.match(N);return st||zt?5:pt||gt?4:Re&&!Ye&&Qe?3:Ye||Qe?2:Re||Ge?1:0}for(var O=1;O<P.length-1;){if(P[O-1][0]==t&&P[O+1][0]==t){var oe=P[O-1][1],le=P[O][1],re=P[O+1][1],pe=p(oe,le);if(pe){var se=le.substring(le.length-pe);oe=oe.substring(0,oe.length-pe),le=se+le.substring(0,le.length-pe),re=se+re}for(var ne=oe,Y=le,K=re,ie=z(oe,le)+z(le,re);le.charAt(0)===re.charAt(0);){oe+=le.charAt(0),le=le.substring(1)+re.charAt(0),re=re.substring(1);var fe=z(oe,le)+z(le,re);fe>=ie&&(ie=fe,ne=oe,Y=le,K=re)}P[O-1][1]!=ne&&(ne?P[O-1][1]=ne:(P.splice(O-1,1),O--),P[O][1]=Y,K?P[O+1][1]=K:(P.splice(O+1,1),O--))}O++}}function F(P,z){P.push([t,""]);for(var O=0,oe=0,le=0,re="",pe="",se;O<P.length;){if(O<P.length-1&&!P[O][1]){P.splice(O,1);continue}switch(P[O][0]){case e:le++,pe+=P[O][1],O++;break;case n:oe++,re+=P[O][1],O++;break;case t:var ne=O-le-oe-1;if(z){if(ne>=0&&G(P[ne][1])){var Y=P[ne][1].slice(-1);if(P[ne][1]=P[ne][1].slice(0,-1),re=Y+re,pe=Y+pe,!P[ne][1]){P.splice(ne,1),O--;var K=ne-1;P[K]&&P[K][0]===e&&(le++,pe=P[K][1]+pe,K--),P[K]&&P[K][0]===n&&(oe++,re=P[K][1]+re,K--),ne=K}}if($(P[O][1])){var Y=P[O][1].charAt(0);P[O][1]=P[O][1].slice(1),re+=Y,pe+=Y}}if(O<P.length-1&&!P[O][1]){P.splice(O,1);break}if(re.length>0||pe.length>0){re.length>0&&pe.length>0&&(se=c(pe,re),se!==0&&(ne>=0?P[ne][1]+=pe.substring(0,se):(P.splice(0,0,[t,pe.substring(0,se)]),O++),pe=pe.substring(se),re=re.substring(se)),se=p(pe,re),se!==0&&(P[O][1]=pe.substring(pe.length-se)+P[O][1],pe=pe.substring(0,pe.length-se),re=re.substring(0,re.length-se)));var ie=le+oe;re.length===0&&pe.length===0?(P.splice(O-ie,ie),O=O-ie):re.length===0?(P.splice(O-ie,ie,[e,pe]),O=O-ie+1):pe.length===0?(P.splice(O-ie,ie,[n,re]),O=O-ie+1):(P.splice(O-ie,ie,[n,re],[e,pe]),O=O-ie+2)}O!==0&&P[O-1][0]===t?(P[O-1][1]+=P[O][1],P.splice(O,1)):O++,le=0,oe=0,re="",pe="";break}}P[P.length-1][1]===""&&P.pop();var fe=!1;for(O=1;O<P.length-1;)P[O-1][0]===t&&P[O+1][0]===t&&(P[O][1].substring(P[O][1].length-P[O-1][1].length)===P[O-1][1]?(P[O][1]=P[O-1][1]+P[O][1].substring(0,P[O][1].length-P[O-1][1].length),P[O+1][1]=P[O-1][1]+P[O+1][1],P.splice(O-1,1),fe=!0):P[O][1].substring(0,P[O+1][1].length)==P[O+1][1]&&(P[O-1][1]+=P[O+1][1],P[O][1]=P[O][1].substring(P[O+1][1].length)+P[O+1][1],P.splice(O+1,1),fe=!0)),O++;fe&&F(P,z)}function x(P){return P>=55296&&P<=56319}function M(P){return P>=56320&&P<=57343}function $(P){return M(P.charCodeAt(0))}function G(P){return x(P.charCodeAt(P.length-1))}function U(P){for(var z=[],O=0;O<P.length;O++)P[O][1].length>0&&z.push(P[O]);return z}function j(P,z,O,oe){return G(P)||$(oe)?null:U([[t,P],[n,z],[e,O],[t,oe]])}function q(P,z,O){var oe=typeof O=="number"?{index:O,length:0}:O.oldRange,le=typeof O=="number"?null:O.newRange,re=P.length,pe=z.length;if(oe.length===0&&(le===null||le.length===0)){var se=oe.index,ne=P.slice(0,se),Y=P.slice(se),K=le?le.index:null;e:{var ie=se+pe-re;if(K!==null&&K!==ie||ie<0||ie>pe)break e;var fe=z.slice(0,ie),Pe=z.slice(ie);if(Pe!==Y)break e;var xe=Math.min(se,ie),Le=ne.slice(0,xe),$e=fe.slice(0,xe);if(Le!==$e)break e;var Re=ne.slice(xe),Ge=fe.slice(xe);return j(Le,Re,Ge,Y)}e:{if(K!==null&&K!==se)break e;var Ye=se,fe=z.slice(0,Ye),Pe=z.slice(Ye);if(fe!==ne)break e;var Qe=Math.min(re-Ye,pe-Ye),pt=Y.slice(Y.length-Qe),gt=Pe.slice(Pe.length-Qe);if(pt!==gt)break e;var Re=Y.slice(0,Y.length-Qe),Ge=Pe.slice(0,Pe.length-Qe);return j(ne,Re,Ge,pt)}}if(oe.length>0&&le&&le.length===0)e:{var Le=P.slice(0,oe.index),pt=P.slice(oe.index+oe.length),xe=Le.length,Qe=pt.length;if(pe<xe+Qe)break e;var $e=z.slice(0,xe),gt=z.slice(pe-Qe);if(Le!==$e||pt!==gt)break e;var Re=P.slice(xe,re-Qe),Ge=z.slice(xe,pe-Qe);return j(Le,Re,Ge,pt)}return null}function k(P,z,O,oe){return r(P,z,O,oe,!0)}return k.INSERT=e,k.DELETE=n,k.EQUAL=t,t1=k,t1}var Sg={exports:{}};Sg.exports;var bS;function MI(){return bS||(bS=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",p="[object Error]",_="[object Function]",v="[object GeneratorFunction]",w="[object Map]",b="[object Number]",A="[object Object]",R="[object Promise]",N="[object RegExp]",D="[object Set]",F="[object String]",x="[object Symbol]",M="[object WeakMap]",$="[object ArrayBuffer]",G="[object DataView]",U="[object Float32Array]",j="[object Float64Array]",q="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",z="[object Uint8Array]",O="[object Uint8ClampedArray]",oe="[object Uint16Array]",le="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,pe=/\w*$/,se=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,Y={};Y[o]=Y[l]=Y[$]=Y[G]=Y[c]=Y[d]=Y[U]=Y[j]=Y[q]=Y[k]=Y[P]=Y[w]=Y[b]=Y[A]=Y[N]=Y[D]=Y[F]=Y[x]=Y[z]=Y[O]=Y[oe]=Y[le]=!0,Y[p]=Y[_]=Y[M]=!1;var K=typeof ca=="object"&&ca&&ca.Object===Object&&ca,ie=typeof self=="object"&&self&&self.Object===Object&&self,fe=K||ie||Function("return this")(),Pe=e&&!e.nodeType&&e,xe=Pe&&!0&&n&&!n.nodeType&&n,Le=xe&&xe.exports===Pe;function $e(I,W){return I.set(W[0],W[1]),I}function Re(I,W){return I.add(W),I}function Ge(I,W){for(var ee=-1,Ie=I?I.length:0;++ee<Ie&&W(I[ee],ee,I)!==!1;);return I}function Ye(I,W){for(var ee=-1,Ie=W.length,It=I.length;++ee<Ie;)I[It+ee]=W[ee];return I}function Qe(I,W,ee,Ie){for(var It=-1,ut=I?I.length:0;++It<ut;)ee=W(ee,I[It],It,I);return ee}function pt(I,W){for(var ee=-1,Ie=Array(I);++ee<I;)Ie[ee]=W(ee);return Ie}function gt(I,W){return I==null?void 0:I[W]}function st(I){var W=!1;if(I!=null&&typeof I.toString!="function")try{W=!!(I+"")}catch{}return W}function zt(I){var W=-1,ee=Array(I.size);return I.forEach(function(Ie,It){ee[++W]=[It,Ie]}),ee}function tr(I,W){return function(ee){return I(W(ee))}}function Bn(I){var W=-1,ee=Array(I.size);return I.forEach(function(Ie){ee[++W]=Ie}),ee}var ur=Array.prototype,Qn=Function.prototype,cn=Object.prototype,hn=fe["__core-js_shared__"],Cn=function(){var I=/[^.]+$/.exec(hn&&hn.keys&&hn.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),mn=Qn.toString,Ht=cn.hasOwnProperty,xn=cn.toString,Dt=RegExp("^"+mn.call(Ht).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Le?fe.Buffer:void 0,Ut=fe.Symbol,qn=fe.Uint8Array,Jt=tr(Object.getPrototypeOf,Object),Wr=Object.create,Rr=cn.propertyIsEnumerable,ns=ur.splice,Ti=Object.getOwnPropertySymbols,bi=wt?wt.isBuffer:void 0,Vi=tr(Object.keys,Object),Gr=vt(fe,"DataView"),yr=vt(fe,"Map"),or=vt(fe,"Promise"),cr=vt(fe,"Set"),In=vt(fe,"WeakMap"),Rn=vt(Object,"create"),ui=On(Gr),Hn=On(yr),Si=On(or),Ur=On(cr),ki=On(In),_r=Ut?Ut.prototype:void 0,ji=_r?_r.valueOf:void 0;function Gt(I){var W=-1,ee=I?I.length:0;for(this.clear();++W<ee;){var Ie=I[W];this.set(Ie[0],Ie[1])}}function nr(){this.__data__=Rn?Rn(null):{}}function Wn(I){return this.has(I)&&delete this.__data__[I]}function kr(I){var W=this.__data__;if(Rn){var ee=W[I];return ee===r?void 0:ee}return Ht.call(W,I)?W[I]:void 0}function vr(I){var W=this.__data__;return Rn?W[I]!==void 0:Ht.call(W,I)}function ci(I,W){var ee=this.__data__;return ee[I]=Rn&&W===void 0?r:W,this}Gt.prototype.clear=nr,Gt.prototype.delete=Wn,Gt.prototype.get=kr,Gt.prototype.has=vr,Gt.prototype.set=ci;function Qt(I){var W=-1,ee=I?I.length:0;for(this.clear();++W<ee;){var Ie=I[W];this.set(Ie[0],Ie[1])}}function qi(){this.__data__=[]}function Js(I){var W=this.__data__,ee=Xe(W,I);if(ee<0)return!1;var Ie=W.length-1;return ee==Ie?W.pop():ns.call(W,ee,1),!0}function Kr(I){var W=this.__data__,ee=Xe(W,I);return ee<0?void 0:W[ee][1]}function hi(I){return Xe(this.__data__,I)>-1}function Br(I,W){var ee=this.__data__,Ie=Xe(ee,I);return Ie<0?ee.push([I,W]):ee[Ie][1]=W,this}Qt.prototype.clear=qi,Qt.prototype.delete=Js,Qt.prototype.get=Kr,Qt.prototype.has=hi,Qt.prototype.set=Br;function yn(I){var W=-1,ee=I?I.length:0;for(this.clear();++W<ee;){var Ie=I[W];this.set(Ie[0],Ie[1])}}function Jr(){this.__data__={hash:new Gt,map:new(yr||Qt),string:new Gt}}function Ni(I){return rr(this,I).delete(I)}function Qr(I){return rr(this,I).get(I)}function rs(I){return rr(this,I).has(I)}function me(I,W){return rr(this,I).set(I,W),this}yn.prototype.clear=Jr,yn.prototype.delete=Ni,yn.prototype.get=Qr,yn.prototype.has=rs,yn.prototype.set=me;function Te(I){this.__data__=new Qt(I)}function qe(){this.__data__=new Qt}function nt(I){return this.__data__.delete(I)}function rt(I){return this.__data__.get(I)}function At(I){return this.__data__.has(I)}function he(I,W){var ee=this.__data__;if(ee instanceof Qt){var Ie=ee.__data__;if(!yr||Ie.length<t-1)return Ie.push([I,W]),this;ee=this.__data__=new yn(Ie)}return ee.set(I,W),this}Te.prototype.clear=qe,Te.prototype.delete=nt,Te.prototype.get=rt,Te.prototype.has=At,Te.prototype.set=he;function be(I,W){var ee=zi(I)||fi(I)?pt(I.length,String):[],Ie=ee.length,It=!!Ie;for(var ut in I)Ht.call(I,ut)&&!(It&&(ut=="length"||vs(ut,Ie)))&&ee.push(ut);return ee}function Be(I,W,ee){var Ie=I[W];(!(Ht.call(I,W)&&ws(Ie,ee))||ee===void 0&&!(W in I))&&(I[W]=ee)}function Xe(I,W){for(var ee=I.length;ee--;)if(ws(I[ee][0],W))return ee;return-1}function _t(I,W){return I&&vn(W,jo(W),I)}function jt(I,W,ee,Ie,It,ut,nn){var on;if(Ie&&(on=ut?Ie(I,It,ut,nn):Ie(I)),on!==void 0)return on;if(!Zr(I))return I;var St=zi(I);if(St){if(on=_s(I),!W)return xt(I,on)}else{var an=hr(I),gn=an==_||an==v;if(Vr(I))return Nr(I,W);if(an==A||an==o||gn&&!ut){if(st(I))return ut?I:{};if(on=Yr(gn?{}:I),!W)return wn(I,_t(on,I))}else{if(!Y[an])return ut?I:{};on=Bs(I,an,jt,W)}}nn||(nn=new Te);var jr=nn.get(I);if(jr)return jr;if(nn.set(I,on),!St)var Xn=ee?qt(I):jo(I);return Ge(Xn||I,function(fn,wr){Xn&&(wr=fn,fn=I[wr]),Be(on,wr,jt(fn,W,ee,Ie,wr,I,nn))}),on}function Xt(I){return Zr(I)?Wr(I):{}}function Mt(I,W,ee){var Ie=W(I);return zi(I)?Ie:Ye(Ie,ee(I))}function Yt(I){return xn.call(I)}function bn(I){if(!Zr(I)||Ai(I))return!1;var W=ma(I)||st(I)?Dt:se;return W.test(On(I))}function Xr(I){if(!ir(I))return Vi(I);var W=[];for(var ee in Object(I))Ht.call(I,ee)&&ee!="constructor"&&W.push(ee);return W}function Nr(I,W){if(W)return I.slice();var ee=new I.constructor(I.length);return I.copy(ee),ee}function Sr(I){var W=new I.constructor(I.byteLength);return new qn(W).set(new qn(I)),W}function ct(I,W){var ee=W?Sr(I.buffer):I.buffer;return new I.constructor(ee,I.byteOffset,I.byteLength)}function Ft(I,W,ee){var Ie=W?ee(zt(I),!0):zt(I);return Qe(Ie,$e,new I.constructor)}function pn(I){var W=new I.constructor(I.source,pe.exec(I));return W.lastIndex=I.lastIndex,W}function Pt(I,W,ee){var Ie=W?ee(Bn(I),!0):Bn(I);return Qe(Ie,Re,new I.constructor)}function Ct(I){return ji?Object(ji.call(I)):{}}function $n(I,W){var ee=W?Sr(I.buffer):I.buffer;return new I.constructor(ee,I.byteOffset,I.length)}function xt(I,W){var ee=-1,Ie=I.length;for(W||(W=Array(Ie));++ee<Ie;)W[ee]=I[ee];return W}function vn(I,W,ee,Ie){ee||(ee={});for(var It=-1,ut=W.length;++It<ut;){var nn=W[It],on=void 0;Be(ee,nn,on===void 0?I[nn]:on)}return ee}function wn(I,W){return vn(I,Vn(I),W)}function qt(I){return Mt(I,jo,Vn)}function rr(I,W){var ee=I.__data__;return is(W)?ee[typeof W=="string"?"string":"hash"]:ee.map}function vt(I,W){var ee=gt(I,W);return bn(ee)?ee:void 0}var Vn=Ti?tr(Ti,Object):sn,hr=Yt;(Gr&&hr(new Gr(new ArrayBuffer(1)))!=G||yr&&hr(new yr)!=w||or&&hr(or.resolve())!=R||cr&&hr(new cr)!=D||In&&hr(new In)!=M)&&(hr=function(I){var W=xn.call(I),ee=W==A?I.constructor:void 0,Ie=ee?On(ee):void 0;if(Ie)switch(Ie){case ui:return G;case Hn:return w;case Si:return R;case Ur:return D;case ki:return M}return W});function _s(I){var W=I.length,ee=I.constructor(W);return W&&typeof I[0]=="string"&&Ht.call(I,"index")&&(ee.index=I.index,ee.input=I.input),ee}function Yr(I){return typeof I.constructor=="function"&&!ir(I)?Xt(Jt(I)):{}}function Bs(I,W,ee,Ie){var It=I.constructor;switch(W){case $:return Sr(I);case c:case d:return new It(+I);case G:return ct(I,Ie);case U:case j:case q:case k:case P:case z:case O:case oe:case le:return $n(I,Ie);case w:return Ft(I,Ie,ee);case b:case F:return new It(I);case N:return pn(I);case D:return Pt(I,Ie,ee);case x:return Ct(I)}}function vs(I,W){return W=W??i,!!W&&(typeof I=="number"||ne.test(I))&&I>-1&&I%1==0&&I<W}function is(I){var W=typeof I;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?I!=="__proto__":I===null}function Ai(I){return!!Cn&&Cn in I}function ir(I){var W=I&&I.constructor,ee=typeof W=="function"&&W.prototype||cn;return I===ee}function On(I){if(I!=null){try{return mn.call(I)}catch{}try{return I+""}catch{}}return""}function $i(I){return jt(I,!0,!0)}function ws(I,W){return I===W||I!==I&&W!==W}function fi(I){return Qa(I)&&Ht.call(I,"callee")&&(!Rr.call(I,"callee")||xn.call(I)==o)}var zi=Array.isArray;function Vo(I){return I!=null&&ya(I.length)&&!ma(I)}function Qa(I){return Qs(I)&&Vo(I)}var Vr=bi||tn;function ma(I){var W=Zr(I)?xn.call(I):"";return W==_||W==v}function ya(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=i}function Zr(I){var W=typeof I;return!!I&&(W=="object"||W=="function")}function Qs(I){return!!I&&typeof I=="object"}function jo(I){return Vo(I)?be(I):Xr(I)}function sn(){return[]}function tn(){return!1}n.exports=$i}(Sg,Sg.exports)),Sg.exports}var Ag={exports:{}};Ag.exports;var SS;function FI(){return SS||(SS=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,l=9007199254740991,c="[object Arguments]",d="[object Array]",p="[object AsyncFunction]",_="[object Boolean]",v="[object Date]",w="[object Error]",b="[object Function]",A="[object GeneratorFunction]",R="[object Map]",N="[object Number]",D="[object Null]",F="[object Object]",x="[object Promise]",M="[object Proxy]",$="[object RegExp]",G="[object Set]",U="[object String]",j="[object Symbol]",q="[object Undefined]",k="[object WeakMap]",P="[object ArrayBuffer]",z="[object DataView]",O="[object Float32Array]",oe="[object Float64Array]",le="[object Int8Array]",re="[object Int16Array]",pe="[object Int32Array]",se="[object Uint8Array]",ne="[object Uint8ClampedArray]",Y="[object Uint16Array]",K="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,fe=/^\[object .+?Constructor\]$/,Pe=/^(?:0|[1-9]\d*)$/,xe={};xe[O]=xe[oe]=xe[le]=xe[re]=xe[pe]=xe[se]=xe[ne]=xe[Y]=xe[K]=!0,xe[c]=xe[d]=xe[P]=xe[_]=xe[z]=xe[v]=xe[w]=xe[b]=xe[R]=xe[N]=xe[F]=xe[$]=xe[G]=xe[U]=xe[k]=!1;var Le=typeof ca=="object"&&ca&&ca.Object===Object&&ca,$e=typeof self=="object"&&self&&self.Object===Object&&self,Re=Le||$e||Function("return this")(),Ge=e&&!e.nodeType&&e,Ye=Ge&&!0&&n&&!n.nodeType&&n,Qe=Ye&&Ye.exports===Ge,pt=Qe&&Le.process,gt=function(){try{return pt&&pt.binding&&pt.binding("util")}catch{}}(),st=gt&&gt.isTypedArray;function zt(I,W){for(var ee=-1,Ie=I==null?0:I.length,It=0,ut=[];++ee<Ie;){var nn=I[ee];W(nn,ee,I)&&(ut[It++]=nn)}return ut}function tr(I,W){for(var ee=-1,Ie=W.length,It=I.length;++ee<Ie;)I[It+ee]=W[ee];return I}function Bn(I,W){for(var ee=-1,Ie=I==null?0:I.length;++ee<Ie;)if(W(I[ee],ee,I))return!0;return!1}function ur(I,W){for(var ee=-1,Ie=Array(I);++ee<I;)Ie[ee]=W(ee);return Ie}function Qn(I){return function(W){return I(W)}}function cn(I,W){return I.has(W)}function hn(I,W){return I==null?void 0:I[W]}function Cn(I){var W=-1,ee=Array(I.size);return I.forEach(function(Ie,It){ee[++W]=[It,Ie]}),ee}function mn(I,W){return function(ee){return I(W(ee))}}function Ht(I){var W=-1,ee=Array(I.size);return I.forEach(function(Ie){ee[++W]=Ie}),ee}var xn=Array.prototype,Dt=Function.prototype,wt=Object.prototype,Ut=Re["__core-js_shared__"],qn=Dt.toString,Jt=wt.hasOwnProperty,Wr=function(){var I=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),Rr=wt.toString,ns=RegExp("^"+qn.call(Jt).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ti=Qe?Re.Buffer:void 0,bi=Re.Symbol,Vi=Re.Uint8Array,Gr=wt.propertyIsEnumerable,yr=xn.splice,or=bi?bi.toStringTag:void 0,cr=Object.getOwnPropertySymbols,In=Ti?Ti.isBuffer:void 0,Rn=mn(Object.keys,Object),ui=Vn(Re,"DataView"),Hn=Vn(Re,"Map"),Si=Vn(Re,"Promise"),Ur=Vn(Re,"Set"),ki=Vn(Re,"WeakMap"),_r=Vn(Object,"create"),ji=On(ui),Gt=On(Hn),nr=On(Si),Wn=On(Ur),kr=On(ki),vr=bi?bi.prototype:void 0,ci=vr?vr.valueOf:void 0;function Qt(I){var W=-1,ee=I==null?0:I.length;for(this.clear();++W<ee;){var Ie=I[W];this.set(Ie[0],Ie[1])}}function qi(){this.__data__=_r?_r(null):{},this.size=0}function Js(I){var W=this.has(I)&&delete this.__data__[I];return this.size-=W?1:0,W}function Kr(I){var W=this.__data__;if(_r){var ee=W[I];return ee===r?void 0:ee}return Jt.call(W,I)?W[I]:void 0}function hi(I){var W=this.__data__;return _r?W[I]!==void 0:Jt.call(W,I)}function Br(I,W){var ee=this.__data__;return this.size+=this.has(I)?0:1,ee[I]=_r&&W===void 0?r:W,this}Qt.prototype.clear=qi,Qt.prototype.delete=Js,Qt.prototype.get=Kr,Qt.prototype.has=hi,Qt.prototype.set=Br;function yn(I){var W=-1,ee=I==null?0:I.length;for(this.clear();++W<ee;){var Ie=I[W];this.set(Ie[0],Ie[1])}}function Jr(){this.__data__=[],this.size=0}function Ni(I){var W=this.__data__,ee=Nr(W,I);if(ee<0)return!1;var Ie=W.length-1;return ee==Ie?W.pop():yr.call(W,ee,1),--this.size,!0}function Qr(I){var W=this.__data__,ee=Nr(W,I);return ee<0?void 0:W[ee][1]}function rs(I){return Nr(this.__data__,I)>-1}function me(I,W){var ee=this.__data__,Ie=Nr(ee,I);return Ie<0?(++this.size,ee.push([I,W])):ee[Ie][1]=W,this}yn.prototype.clear=Jr,yn.prototype.delete=Ni,yn.prototype.get=Qr,yn.prototype.has=rs,yn.prototype.set=me;function Te(I){var W=-1,ee=I==null?0:I.length;for(this.clear();++W<ee;){var Ie=I[W];this.set(Ie[0],Ie[1])}}function qe(){this.size=0,this.__data__={hash:new Qt,map:new(Hn||yn),string:new Qt}}function nt(I){var W=vt(this,I).delete(I);return this.size-=W?1:0,W}function rt(I){return vt(this,I).get(I)}function At(I){return vt(this,I).has(I)}function he(I,W){var ee=vt(this,I),Ie=ee.size;return ee.set(I,W),this.size+=ee.size==Ie?0:1,this}Te.prototype.clear=qe,Te.prototype.delete=nt,Te.prototype.get=rt,Te.prototype.has=At,Te.prototype.set=he;function be(I){var W=-1,ee=I==null?0:I.length;for(this.__data__=new Te;++W<ee;)this.add(I[W])}function Be(I){return this.__data__.set(I,r),this}function Xe(I){return this.__data__.has(I)}be.prototype.add=be.prototype.push=Be,be.prototype.has=Xe;function _t(I){var W=this.__data__=new yn(I);this.size=W.size}function jt(){this.__data__=new yn,this.size=0}function Xt(I){var W=this.__data__,ee=W.delete(I);return this.size=W.size,ee}function Mt(I){return this.__data__.get(I)}function Yt(I){return this.__data__.has(I)}function bn(I,W){var ee=this.__data__;if(ee instanceof yn){var Ie=ee.__data__;if(!Hn||Ie.length<t-1)return Ie.push([I,W]),this.size=++ee.size,this;ee=this.__data__=new Te(Ie)}return ee.set(I,W),this.size=ee.size,this}_t.prototype.clear=jt,_t.prototype.delete=Xt,_t.prototype.get=Mt,_t.prototype.has=Yt,_t.prototype.set=bn;function Xr(I,W){var ee=fi(I),Ie=!ee&&ws(I),It=!ee&&!Ie&&Vo(I),ut=!ee&&!Ie&&!It&&Qs(I),nn=ee||Ie||It||ut,on=nn?ur(I.length,String):[],St=on.length;for(var an in I)Jt.call(I,an)&&!(nn&&(an=="length"||It&&(an=="offset"||an=="parent")||ut&&(an=="buffer"||an=="byteLength"||an=="byteOffset")||Bs(an,St)))&&on.push(an);return on}function Nr(I,W){for(var ee=I.length;ee--;)if($i(I[ee][0],W))return ee;return-1}function Sr(I,W,ee){var Ie=W(I);return fi(I)?Ie:tr(Ie,ee(I))}function ct(I){return I==null?I===void 0?q:D:or&&or in Object(I)?hr(I):ir(I)}function Ft(I){return Zr(I)&&ct(I)==c}function pn(I,W,ee,Ie,It){return I===W?!0:I==null||W==null||!Zr(I)&&!Zr(W)?I!==I&&W!==W:Pt(I,W,ee,Ie,pn,It)}function Pt(I,W,ee,Ie,It,ut){var nn=fi(I),on=fi(W),St=nn?d:Yr(I),an=on?d:Yr(W);St=St==c?F:St,an=an==c?F:an;var gn=St==F,jr=an==F,Xn=St==an;if(Xn&&Vo(I)){if(!Vo(W))return!1;nn=!0,gn=!1}if(Xn&&!gn)return ut||(ut=new _t),nn||Qs(I)?vn(I,W,ee,Ie,It,ut):wn(I,W,St,ee,Ie,It,ut);if(!(ee&i)){var fn=gn&&Jt.call(I,"__wrapped__"),wr=jr&&Jt.call(W,"__wrapped__");if(fn||wr){var sr=fn?I.value():I,Pr=wr?W.value():W;return ut||(ut=new _t),It(sr,Pr,ee,Ie,ut)}}return Xn?(ut||(ut=new _t),qt(I,W,ee,Ie,It,ut)):!1}function Ct(I){if(!ya(I)||is(I))return!1;var W=Vr(I)?ns:fe;return W.test(On(I))}function $n(I){return Zr(I)&&ma(I.length)&&!!xe[ct(I)]}function xt(I){if(!Ai(I))return Rn(I);var W=[];for(var ee in Object(I))Jt.call(I,ee)&&ee!="constructor"&&W.push(ee);return W}function vn(I,W,ee,Ie,It,ut){var nn=ee&i,on=I.length,St=W.length;if(on!=St&&!(nn&&St>on))return!1;var an=ut.get(I);if(an&&ut.get(W))return an==W;var gn=-1,jr=!0,Xn=ee&o?new be:void 0;for(ut.set(I,W),ut.set(W,I);++gn<on;){var fn=I[gn],wr=W[gn];if(Ie)var sr=nn?Ie(wr,fn,gn,W,I,ut):Ie(fn,wr,gn,I,W,ut);if(sr!==void 0){if(sr)continue;jr=!1;break}if(Xn){if(!Bn(W,function(Pr,ss){if(!cn(Xn,ss)&&(fn===Pr||It(fn,Pr,ee,Ie,ut)))return Xn.push(ss)})){jr=!1;break}}else if(!(fn===wr||It(fn,wr,ee,Ie,ut))){jr=!1;break}}return ut.delete(I),ut.delete(W),jr}function wn(I,W,ee,Ie,It,ut,nn){switch(ee){case z:if(I.byteLength!=W.byteLength||I.byteOffset!=W.byteOffset)return!1;I=I.buffer,W=W.buffer;case P:return!(I.byteLength!=W.byteLength||!ut(new Vi(I),new Vi(W)));case _:case v:case N:return $i(+I,+W);case w:return I.name==W.name&&I.message==W.message;case $:case U:return I==W+"";case R:var on=Cn;case G:var St=Ie&i;if(on||(on=Ht),I.size!=W.size&&!St)return!1;var an=nn.get(I);if(an)return an==W;Ie|=o,nn.set(I,W);var gn=vn(on(I),on(W),Ie,It,ut,nn);return nn.delete(I),gn;case j:if(ci)return ci.call(I)==ci.call(W)}return!1}function qt(I,W,ee,Ie,It,ut){var nn=ee&i,on=rr(I),St=on.length,an=rr(W),gn=an.length;if(St!=gn&&!nn)return!1;for(var jr=St;jr--;){var Xn=on[jr];if(!(nn?Xn in W:Jt.call(W,Xn)))return!1}var fn=ut.get(I);if(fn&&ut.get(W))return fn==W;var wr=!0;ut.set(I,W),ut.set(W,I);for(var sr=nn;++jr<St;){Xn=on[jr];var Pr=I[Xn],ss=W[Xn];if(Ie)var Es=nn?Ie(ss,Pr,Xn,W,I,ut):Ie(Pr,ss,Xn,I,W,ut);if(!(Es===void 0?Pr===ss||It(Pr,ss,ee,Ie,ut):Es)){wr=!1;break}sr||(sr=Xn=="constructor")}if(wr&&!sr){var _a=I.constructor,Ar=W.constructor;_a!=Ar&&"constructor"in I&&"constructor"in W&&!(typeof _a=="function"&&_a instanceof _a&&typeof Ar=="function"&&Ar instanceof Ar)&&(wr=!1)}return ut.delete(I),ut.delete(W),wr}function rr(I){return Sr(I,jo,_s)}function vt(I,W){var ee=I.__data__;return vs(W)?ee[typeof W=="string"?"string":"hash"]:ee.map}function Vn(I,W){var ee=hn(I,W);return Ct(ee)?ee:void 0}function hr(I){var W=Jt.call(I,or),ee=I[or];try{I[or]=void 0;var Ie=!0}catch{}var It=Rr.call(I);return Ie&&(W?I[or]=ee:delete I[or]),It}var _s=cr?function(I){return I==null?[]:(I=Object(I),zt(cr(I),function(W){return Gr.call(I,W)}))}:sn,Yr=ct;(ui&&Yr(new ui(new ArrayBuffer(1)))!=z||Hn&&Yr(new Hn)!=R||Si&&Yr(Si.resolve())!=x||Ur&&Yr(new Ur)!=G||ki&&Yr(new ki)!=k)&&(Yr=function(I){var W=ct(I),ee=W==F?I.constructor:void 0,Ie=ee?On(ee):"";if(Ie)switch(Ie){case ji:return z;case Gt:return R;case nr:return x;case Wn:return G;case kr:return k}return W});function Bs(I,W){return W=W??l,!!W&&(typeof I=="number"||Pe.test(I))&&I>-1&&I%1==0&&I<W}function vs(I){var W=typeof I;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?I!=="__proto__":I===null}function is(I){return!!Wr&&Wr in I}function Ai(I){var W=I&&I.constructor,ee=typeof W=="function"&&W.prototype||wt;return I===ee}function ir(I){return Rr.call(I)}function On(I){if(I!=null){try{return qn.call(I)}catch{}try{return I+""}catch{}}return""}function $i(I,W){return I===W||I!==I&&W!==W}var ws=Ft(function(){return arguments}())?Ft:function(I){return Zr(I)&&Jt.call(I,"callee")&&!Gr.call(I,"callee")},fi=Array.isArray;function zi(I){return I!=null&&ma(I.length)&&!Vr(I)}var Vo=In||tn;function Qa(I,W){return pn(I,W)}function Vr(I){if(!ya(I))return!1;var W=ct(I);return W==b||W==A||W==p||W==M}function ma(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=l}function ya(I){var W=typeof I;return I!=null&&(W=="object"||W=="function")}function Zr(I){return I!=null&&typeof I=="object"}var Qs=st?Qn(st):$n;function jo(I){return zi(I)?Xr(I):xt(I)}function sn(){return[]}function tn(){return!1}n.exports=Qa}(Ag,Ag.exports)),Ag.exports}var $y={},AS;function $F(){if(AS)return $y;AS=1,Object.defineProperty($y,"__esModule",{value:!0});const n=MI(),e=FI();var t;return function(r){function i(d={},p={},_=!1){typeof d!="object"&&(d={}),typeof p!="object"&&(p={});let v=n(p);_||(v=Object.keys(v).reduce((w,b)=>(v[b]!=null&&(w[b]=v[b]),w),{}));for(const w in d)d[w]!==void 0&&p[w]===void 0&&(v[w]=d[w]);return Object.keys(v).length>0?v:void 0}r.compose=i;function o(d={},p={}){typeof d!="object"&&(d={}),typeof p!="object"&&(p={});const _=Object.keys(d).concat(Object.keys(p)).reduce((v,w)=>(e(d[w],p[w])||(v[w]=p[w]===void 0?null:p[w]),v),{});return Object.keys(_).length>0?_:void 0}r.diff=o;function l(d={},p={}){d=d||{};const _=Object.keys(p).reduce((v,w)=>(p[w]!==d[w]&&d[w]!==void 0&&(v[w]=p[w]),v),{});return Object.keys(d).reduce((v,w)=>(d[w]!==p[w]&&p[w]===void 0&&(v[w]=null),v),_)}r.invert=l;function c(d,p,_=!1){if(typeof d!="object")return p;if(typeof p!="object")return;if(!_)return p;const v=Object.keys(p).reduce((w,b)=>(d[b]===void 0&&(w[b]=p[b]),w),{});return Object.keys(v).length>0?v:void 0}r.transform=c}(t||(t={})),$y.default=t,$y}var zy={},CS;function UI(){if(CS)return zy;CS=1,Object.defineProperty(zy,"__esModule",{value:!0});var n;return function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t}(n||(n={})),zy.default=n,zy}var Hy={},xS;function zF(){if(xS)return Hy;xS=1,Object.defineProperty(Hy,"__esModule",{value:!0});const n=UI();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const o=this.offset,l=n.default.length(i);if(r>=l-o?(r=l-o,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const c={};return i.attributes&&(c.attributes=i.attributes),typeof i.retain=="number"?c.retain=r:typeof i.retain=="object"&&i.retain!==null?c.retain=i.retain:typeof i.insert=="string"?c.insert=i.insert.substr(o,r):c.insert=i.insert,c}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,o=this.next(),l=this.ops.slice(this.index);return this.offset=r,this.index=i,[o].concat(l)}}else return[]}}return Hy.default=e,Hy}var IS;function HF(){return IS||(IS=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=qF(),r=MI(),i=FI(),o=$F();e.AttributeMap=o.default;const l=UI();e.Op=l.default;const c=zF();e.OpIterator=c.default;const d="\0",p=(v,w)=>{if(typeof v!="object"||v===null)throw new Error(`cannot retain a ${typeof v}`);if(typeof w!="object"||w===null)throw new Error(`cannot retain a ${typeof w}`);const b=Object.keys(v)[0];if(!b||b!==Object.keys(w)[0])throw new Error(`embed types not matched: ${b} != ${Object.keys(w)[0]}`);return[b,v[b],w[b]]};class _{constructor(w){Array.isArray(w)?this.ops=w:w!=null&&Array.isArray(w.ops)?this.ops=w.ops:this.ops=[]}static registerEmbed(w,b){this.handlers[w]=b}static unregisterEmbed(w){delete this.handlers[w]}static getHandler(w){const b=this.handlers[w];if(!b)throw new Error(`no handlers for embed type "${w}"`);return b}insert(w,b){const A={};return typeof w=="string"&&w.length===0?this:(A.insert=w,b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(A.attributes=b),this.push(A))}delete(w){return w<=0?this:this.push({delete:w})}retain(w,b){if(typeof w=="number"&&w<=0)return this;const A={retain:w};return b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(A.attributes=b),this.push(A)}push(w){let b=this.ops.length,A=this.ops[b-1];if(w=r(w),typeof A=="object"){if(typeof w.delete=="number"&&typeof A.delete=="number")return this.ops[b-1]={delete:A.delete+w.delete},this;if(typeof A.delete=="number"&&w.insert!=null&&(b-=1,A=this.ops[b-1],typeof A!="object"))return this.ops.unshift(w),this;if(i(w.attributes,A.attributes)){if(typeof w.insert=="string"&&typeof A.insert=="string")return this.ops[b-1]={insert:A.insert+w.insert},typeof w.attributes=="object"&&(this.ops[b-1].attributes=w.attributes),this;if(typeof w.retain=="number"&&typeof A.retain=="number")return this.ops[b-1]={retain:A.retain+w.retain},typeof w.attributes=="object"&&(this.ops[b-1].attributes=w.attributes),this}}return b===this.ops.length?this.ops.push(w):this.ops.splice(b,0,w),this}chop(){const w=this.ops[this.ops.length-1];return w&&typeof w.retain=="number"&&!w.attributes&&this.ops.pop(),this}filter(w){return this.ops.filter(w)}forEach(w){this.ops.forEach(w)}map(w){return this.ops.map(w)}partition(w){const b=[],A=[];return this.forEach(R=>{(w(R)?b:A).push(R)}),[b,A]}reduce(w,b){return this.ops.reduce(w,b)}changeLength(){return this.reduce((w,b)=>b.insert?w+l.default.length(b):b.delete?w-b.delete:w,0)}length(){return this.reduce((w,b)=>w+l.default.length(b),0)}slice(w=0,b=1/0){const A=[],R=new c.default(this.ops);let N=0;for(;N<b&&R.hasNext();){let D;N<w?D=R.next(w-N):(D=R.next(b-N),A.push(D)),N+=l.default.length(D)}return new _(A)}compose(w){const b=new c.default(this.ops),A=new c.default(w.ops),R=[],N=A.peek();if(N!=null&&typeof N.retain=="number"&&N.attributes==null){let F=N.retain;for(;b.peekType()==="insert"&&b.peekLength()<=F;)F-=b.peekLength(),R.push(b.next());N.retain-F>0&&A.next(N.retain-F)}const D=new _(R);for(;b.hasNext()||A.hasNext();)if(A.peekType()==="insert")D.push(A.next());else if(b.peekType()==="delete")D.push(b.next());else{const F=Math.min(b.peekLength(),A.peekLength()),x=b.next(F),M=A.next(F);if(M.retain){const $={};if(typeof x.retain=="number")$.retain=typeof M.retain=="number"?F:M.retain;else if(typeof M.retain=="number")x.retain==null?$.insert=x.insert:$.retain=x.retain;else{const U=x.retain==null?"insert":"retain",[j,q,k]=p(x[U],M.retain),P=_.getHandler(j);$[U]={[j]:P.compose(q,k,U==="retain")}}const G=o.default.compose(x.attributes,M.attributes,typeof x.retain=="number");if(G&&($.attributes=G),D.push($),!A.hasNext()&&i(D.ops[D.ops.length-1],$)){const U=new _(b.rest());return D.concat(U).chop()}}else typeof M.delete=="number"&&(typeof x.retain=="number"||typeof x.retain=="object"&&x.retain!==null)&&D.push(M)}return D.chop()}concat(w){const b=new _(this.ops.slice());return w.ops.length>0&&(b.push(w.ops[0]),b.ops=b.ops.concat(w.ops.slice(1))),b}diff(w,b){if(this.ops===w.ops)return new _;const A=[this,w].map(x=>x.map(M=>{if(M.insert!=null)return typeof M.insert=="string"?M.insert:d;const $=x===w?"on":"with";throw new Error("diff() called "+$+" non-document")}).join("")),R=new _,N=t(A[0],A[1],b,!0),D=new c.default(this.ops),F=new c.default(w.ops);return N.forEach(x=>{let M=x[1].length;for(;M>0;){let $=0;switch(x[0]){case t.INSERT:$=Math.min(F.peekLength(),M),R.push(F.next($));break;case t.DELETE:$=Math.min(M,D.peekLength()),D.next($),R.delete($);break;case t.EQUAL:$=Math.min(D.peekLength(),F.peekLength(),M);const G=D.next($),U=F.next($);i(G.insert,U.insert)?R.retain($,o.default.diff(G.attributes,U.attributes)):R.push(U).delete($);break}M-=$}}),R.chop()}eachLine(w,b=`
`){const A=new c.default(this.ops);let R=new _,N=0;for(;A.hasNext();){if(A.peekType()!=="insert")return;const D=A.peek(),F=l.default.length(D)-A.peekLength(),x=typeof D.insert=="string"?D.insert.indexOf(b,F)-F:-1;if(x<0)R.push(A.next());else if(x>0)R.push(A.next(x));else{if(w(R,A.next(1).attributes||{},N)===!1)return;N+=1,R=new _}}R.length()>0&&w(R,{},N)}invert(w){const b=new _;return this.reduce((A,R)=>{if(R.insert)b.delete(l.default.length(R));else{if(typeof R.retain=="number"&&R.attributes==null)return b.retain(R.retain),A+R.retain;if(R.delete||typeof R.retain=="number"){const N=R.delete||R.retain;return w.slice(A,A+N).forEach(F=>{R.delete?b.push(F):R.retain&&R.attributes&&b.retain(l.default.length(F),o.default.invert(R.attributes,F.attributes))}),A+N}else if(typeof R.retain=="object"&&R.retain!==null){const N=w.slice(A,A+1),D=new c.default(N.ops).next(),[F,x,M]=p(R.retain,D.insert),$=_.getHandler(F);return b.retain({[F]:$.invert(x,M)},o.default.invert(R.attributes,D.attributes)),A+1}}return A},0),b.chop()}transform(w,b=!1){if(b=!!b,typeof w=="number")return this.transformPosition(w,b);const A=w,R=new c.default(this.ops),N=new c.default(A.ops),D=new _;for(;R.hasNext()||N.hasNext();)if(R.peekType()==="insert"&&(b||N.peekType()!=="insert"))D.retain(l.default.length(R.next()));else if(N.peekType()==="insert")D.push(N.next());else{const F=Math.min(R.peekLength(),N.peekLength()),x=R.next(F),M=N.next(F);if(x.delete)continue;if(M.delete)D.push(M);else{const $=x.retain,G=M.retain;let U=typeof G=="object"&&G!==null?G:F;if(typeof $=="object"&&$!==null&&typeof G=="object"&&G!==null){const j=Object.keys($)[0];if(j===Object.keys(G)[0]){const q=_.getHandler(j);q&&(U={[j]:q.transform($[j],G[j],b)})}}D.retain(U,o.default.transform(x.attributes,M.attributes,b))}}return D.chop()}transformPosition(w,b=!1){b=!!b;const A=new c.default(this.ops);let R=0;for(;A.hasNext()&&R<=w;){const N=A.peekLength(),D=A.peekType();if(A.next(),D==="delete"){w-=Math.min(N,w-R);continue}else D==="insert"&&(R<w||!b)&&(w+=N);R+=N}return w}}_.Op=l.default,_.OpIterator=c.default,_.AttributeMap=o.default,_.handlers={},e.default=_,n.exports=_,n.exports.default=_}(qy,qy.exports)),qy.exports}var ha=HF();const lt=s_(ha);class Wa extends Bo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Wa.blotName="break";Wa.tagName="BR";let za=class extends W0{};const WF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function C_(n){return n.replace(/[&<>"']/g,e=>WF[e])}const wl=class wl extends SE{static compare(e,t){const r=wl.order.indexOf(e),i=wl.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(wl.compare(this.statics.blotName,r)<0&&this.scroll.query(r,yt.BLOT)){const o=this.isolate(e,t);i&&o.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof wl&&wl.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};Ke(wl,"allowedChildren",[wl,Wa,Bo,za]),Ke(wl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Dl=wl;const RS=1;class ms extends Yg{constructor(){super(...arguments);Ke(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=BI(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,o){r<=0||(this.scroll.query(i,yt.BLOCK)?t+r===this.length()&&this.format(i,o):super.formatAt(t,Math.min(r,this.length()-t-1),i,o),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const o=r.split(`
`),l=o.shift();l.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let c=this;o.reduce((d,p)=>(c=c.split(d,!0),c.insertAt(0,p),p.length),t+l.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Wa&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+RS),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-RS)){const o=this.clone();return t===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(t,r);return this.cache={},i}}ms.blotName="block";ms.tagName="P";ms.defaultChild=Wa;ms.allowedChildren=[Wa,Dl,Bo,za];class ua extends Bo{attach(){super.attach(),this.attributes=new S_(this.domNode)}delta(){return new lt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,yt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),o=i.pop(),l=i.map(d=>{const p=this.scroll.create(ms.blotName);return p.insertAt(0,d),p}),c=this.split(e);l.forEach(d=>{this.parent.insertBefore(d,c)}),o&&this.parent.insertBefore(this.scroll.create("text",o),c)}}ua.scope=yt.BLOCK_BLOT;function BI(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Ls).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),sa(r,{},e)),new lt).insert(`
`,sa(n))}function sa(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:sa(n.parent,e,t)}const ia=class ia extends Bo{static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(ia.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==yt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=ia.CONTENTS.length,r.optimize(),r.formatAt(i,ia.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof za?this.prev:null,r=t?t.length():0,i=this.next instanceof za?this.next:null,o=i?i.text:"",{textNode:l}=this,c=l.data.split(ia.CONTENTS).join("");l.data=ia.CONTENTS;let d;if(t)d=t,(c||i)&&(t.insertAt(t.length(),c+o),i&&i.remove());else if(i)d=i,i.insertAt(0,c);else{const p=document.createTextNode(c);d=this.scroll.create(p),this.parent.insertBefore(d,this)}if(this.remove(),e){const p=(w,b)=>t&&w===t.domNode?b:w===l?r+b-1:i&&w===i.domNode?r+c.length+b:null,_=p(e.start.node,e.start.offset),v=p(e.end.node,e.end.offset);if(_!==null&&v!==null)return{startNode:d.domNode,startOffset:_,endNode:d.domNode,endOffset:v}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=ia.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};Ke(ia,"blotName","cursor"),Ke(ia,"className","ql-cursor"),Ke(ia,"tagName","span"),Ke(ia,"CONTENTS","\uFEFF");let Hd=ia;var n1={exports:{}},kS;function GF(){return kS||(kS=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(d,p,_){this.fn=d,this.context=p,this.once=_||!1}function o(d,p,_,v,w){if(typeof _!="function")throw new TypeError("The listener must be a function");var b=new i(_,v||d,w),A=t?t+p:p;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],b]:d._events[A].push(b):(d._events[A]=b,d._eventsCount++),d}function l(d,p){--d._eventsCount===0?d._events=new r:delete d._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],_,v;if(this._eventsCount===0)return p;for(v in _=this._events)e.call(_,v)&&p.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(_)):p},c.prototype.listeners=function(p){var _=t?t+p:p,v=this._events[_];if(!v)return[];if(v.fn)return[v.fn];for(var w=0,b=v.length,A=new Array(b);w<b;w++)A[w]=v[w].fn;return A},c.prototype.listenerCount=function(p){var _=t?t+p:p,v=this._events[_];return v?v.fn?1:v.length:0},c.prototype.emit=function(p,_,v,w,b,A){var R=t?t+p:p;if(!this._events[R])return!1;var N=this._events[R],D=arguments.length,F,x;if(N.fn){switch(N.once&&this.removeListener(p,N.fn,void 0,!0),D){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,_),!0;case 3:return N.fn.call(N.context,_,v),!0;case 4:return N.fn.call(N.context,_,v,w),!0;case 5:return N.fn.call(N.context,_,v,w,b),!0;case 6:return N.fn.call(N.context,_,v,w,b,A),!0}for(x=1,F=new Array(D-1);x<D;x++)F[x-1]=arguments[x];N.fn.apply(N.context,F)}else{var M=N.length,$;for(x=0;x<M;x++)switch(N[x].once&&this.removeListener(p,N[x].fn,void 0,!0),D){case 1:N[x].fn.call(N[x].context);break;case 2:N[x].fn.call(N[x].context,_);break;case 3:N[x].fn.call(N[x].context,_,v);break;case 4:N[x].fn.call(N[x].context,_,v,w);break;default:if(!F)for($=1,F=new Array(D-1);$<D;$++)F[$-1]=arguments[$];N[x].fn.apply(N[x].context,F)}}return!0},c.prototype.on=function(p,_,v){return o(this,p,_,v,!1)},c.prototype.once=function(p,_,v){return o(this,p,_,v,!0)},c.prototype.removeListener=function(p,_,v,w){var b=t?t+p:p;if(!this._events[b])return this;if(!_)return l(this,b),this;var A=this._events[b];if(A.fn)A.fn===_&&(!w||A.once)&&(!v||A.context===v)&&l(this,b);else{for(var R=0,N=[],D=A.length;R<D;R++)(A[R].fn!==_||w&&!A[R].once||v&&A[R].context!==v)&&N.push(A[R]);N.length?this._events[b]=N.length===1?N[0]:N:l(this,b)}return this},c.prototype.removeAllListeners=function(p){var _;return p?(_=t?t+p:p,this._events[_]&&l(this,_)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c}(n1)),n1.exports}var KF=GF();const JF=s_(KF),sw=new WeakMap,ow=["error","warn","log","info"];let aw="warn";function VI(n){if(aw&&ow.indexOf(n)<=ow.indexOf(aw)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Nu(n){return ow.reduce((e,t)=>(e[t]=VI.bind(console,t,n),e),{})}Nu.level=n=>{aw=n};VI.level=Nu.level;const r1=Nu("quill:events"),QF=["selectionchange","mousedown","mouseup","click"];QF.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=sw.get(i);o&&o.emitter&&o.emitter.handleDOM(...t)})})});class dt extends JF{constructor(){super(),this.domListeners={},this.on("error",r1.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return r1.log.call(r1,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:l,handler:c}=o;(e.target===l||l.contains(e.target))&&c(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}Ke(dt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ke(dt,"sources",{API:"api",SILENT:"silent",USER:"user"});const i1=Nu("quill:selection");class Oh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class XF{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Oh(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,dt.sources.USER),1)}),this.emitter.on(dt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(dt.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const l=o.some(c=>c.type==="characterData"||c.type==="childList"||c.type==="attributes"&&c.target===this.root);this.update(l?dt.sources.SILENT:i)}catch{}})}),this.emitter.on(dt.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:o,startOffset:l,endNode:c,endOffset:d}=i.range;this.setNativeRange(o,l,c,d),this.update(dt.sources.SILENT)}}),this.update(dt.sources.SILENT)}handleComposition(){this.emitter.on(dt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(dt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(dt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,yt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Ls){const o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[o,l]=this.scroll.leaf(e);if(o==null)return null;if(t>0&&l===o.length()){const[_]=this.scroll.leaf(e+1);if(_){const[v]=this.scroll.line(e),[w]=this.scroll.line(e+1);v===w&&(o=_,l=0)}}[i,l]=o.position(l,!0);const c=document.createRange();if(t>0)return c.setStart(i,l),[o,l]=this.scroll.leaf(e+t),o==null?null:([i,l]=o.position(l,!0),c.setEnd(i,l),c.getBoundingClientRect());let d="left",p;if(i instanceof Text){if(!i.data.length)return null;l<i.data.length?(c.setStart(i,l),c.setEnd(i,l+1)):(c.setStart(i,l-1),c.setEnd(i,l),d="right"),p=c.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;p=o.domNode.getBoundingClientRect(),l>0&&(d="right")}return{bottom:p.top+p.height,height:p.height,left:p[d],right:p[d],top:p.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return i1.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&s1(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(l=>{const[c,d]=l,p=this.scroll.find(c,!0),_=p.offset(this.scroll);return d===0?_:p instanceof Ls?_+p.index(c,d):_+p.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),o=Math.min(i,...r);return new Oh(o,i-o)}normalizeNative(e){if(!s1(this.root,e.startContainer)||!e.collapsed&&!s1(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:o}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;r.node=i,r.offset=o}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,o)=>{i=Math.min(t-1,i);const[l,c]=this.scroll.leaf(i);return l?l.position(c,o):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i1.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const l=document.getSelection();if(l!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:c}=this.getNativeRange()||{};if(c==null||o||e!==c.startContainer||t!==c.startOffset||r!==c.endContainer||i!==c.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const d=document.createRange();d.setStart(e,t),d.setEnd(r,i),l.removeAllRanges(),l.addRange(d)}}else l.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dt.sources.API;if(typeof t=="string"&&(r=t,t=!1),i1.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dt.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!bE(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const o=[dt.events.SELECTION_CHANGE,Id(this.lastRange),Id(t),e];this.emitter.emit(dt.events.EDITOR_CHANGE,...o),e!==dt.sources.SILENT&&this.emitter.emit(...o)}}}function s1(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const YF=/^[ -~]*$/;let ZF=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=NS(e),i=new lt;return tU(r.ops.slice()).reduce((l,c)=>{const d=ha.Op.length(c);let p=c.attributes||{},_=!1,v=!1;if(c.insert!=null){if(i.retain(d),typeof c.insert=="string"){const A=c.insert;v=!A.endsWith(`
`)&&(t<=l||!!this.scroll.descendant(ua,l)[0]),this.scroll.insertAt(l,A);const[R,N]=this.scroll.line(l);let D=Tc({},sa(R));if(R instanceof ms){const[F]=R.descendant(Ls,N);F&&(D=Tc(D,sa(F)))}p=ha.AttributeMap.diff(D,p)||{}}else if(typeof c.insert=="object"){const A=Object.keys(c.insert)[0];if(A==null)return l;const R=this.scroll.query(A,yt.INLINE)!=null;if(R)(t<=l||this.scroll.descendant(ua,l)[0])&&(v=!0);else if(l>0){const[N,D]=this.scroll.descendant(Ls,l-1);N instanceof za?N.value()[D]!==`
`&&(_=!0):N instanceof Bo&&N.statics.scope===yt.INLINE_BLOT&&(_=!0)}if(this.scroll.insertAt(l,A,c.insert[A]),R){const[N]=this.scroll.descendant(Ls,l);if(N){const D=Tc({},sa(N));p=ha.AttributeMap.diff(D,p)||{}}}}t+=d}else if(i.push(c),c.retain!==null&&typeof c.retain=="object"){const A=Object.keys(c.retain)[0];if(A==null)return l;this.scroll.updateEmbedAt(l,A,c.retain[A])}Object.keys(p).forEach(A=>{this.scroll.formatAt(l,d,A,p[A])});const w=_?1:0,b=v?1:0;return t+=w+b,i.retain(w),i.delete(b),l+d+w+b},0),i.reduce((l,c)=>typeof c.delete=="number"?(this.scroll.deleteAt(l,c.delete),l):l+ha.Op.length(c),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new lt().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(o=>{this.scroll.lines(e,Math.max(t,1)).forEach(l=>{l.format(o,r[o])})}),this.scroll.optimize();const i=new lt().retain(e).retain(t,Id(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(o=>{this.scroll.formatAt(e,t,o,r[o])});const i=new lt().retain(e).retain(t,Id(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new lt)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(c=>{const[d]=c;d instanceof ms?r.push(d):d instanceof Ls&&i.push(d)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(Ls,e,t));const[o,l]=[r,i].map(c=>{const d=c.shift();if(d==null)return{};let p=sa(d);for(;Object.keys(p).length>0;){const _=c.shift();if(_==null)return p;p=eU(sa(_),p)}return p});return{...o,...l}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const o=r.length();return r.length()>=i+t&&!(i===0&&t===o)?Zg(r,i,t,!0):Zg(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=NS(t),i=new lt().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new lt().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new lt().retain(e).insert(t,Id(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==ms.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof Wa}removeFormat(e,t){const r=this.getText(e,t),[i,o]=this.scroll.line(e+t);let l=0,c=new lt;i!=null&&(l=i.length()-o,c=i.delta().slice(o,o+l-1).insert(`
`));const p=this.getContents(e,t+l).diff(new lt().insert(r).concat(c)),_=new lt().retain(e).concat(p);return this.applyDelta(_)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(YF)&&this.scroll.find(t[0].target)){const o=this.scroll.find(t[0].target),l=sa(o),c=o.offset(this.scroll),d=t[0].oldValue.replace(Hd.CONTENTS,""),p=new lt().insert(d),_=new lt().insert(o.value()),v=r&&{oldRange:PS(r.oldRange,-c),newRange:PS(r.newRange,-c)};e=new lt().retain(c).concat(p.diff(_,v)).reduce((b,A)=>A.insert?b.insert(A.insert,l):b.push(A),new lt),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!bE(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}};function bd(n,e,t){if(n.length===0){const[b]=o1(t.pop());return e<=0?`</li></${b}>`:`</li></${b}>${bd([],e-1,t)}`}const[{child:r,offset:i,length:o,indent:l,type:c},...d]=n,[p,_]=o1(c);if(l>e)return t.push(c),l===e+1?`<${p}><li${_}>${Zg(r,i,o)}${bd(d,l,t)}`:`<${p}><li>${bd(n,e+1,t)}`;const v=t[t.length-1];if(l===e&&c===v)return`</li><li${_}>${Zg(r,i,o)}${bd(d,l,t)}`;const[w]=o1(t.pop());return`</li></${w}>${bd(n,e-1,t)}`}function Zg(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof za)return C_(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof qa){if(n.statics.blotName==="list-container"){const p=[];return n.children.forEachAt(e,t,(_,v,w)=>{const b="formats"in _&&typeof _.formats=="function"?_.formats():{};p.push({child:_,offset:v,length:w,indent:b.indent||0,type:b.list})}),bd(p,-1,[])}const i=[];if(n.children.forEachAt(e,t,(p,_,v)=>{i.push(Zg(p,_,v))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:l}=n.domNode,[c,d]=o.split(`>${l}<`);return c==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${d}`:`${c}>${i.join("")}<${d}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function eU(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function o1(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function NS(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new lt)}function PS(n,e){let{index:t,length:r}=n;return new Oh(t+e,r)}function tU(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class Ga{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}Ke(Ga,"DEFAULTS",{});const Wy="\uFEFF";class CE extends Bo{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Wy),this.rightGuard=document.createTextNode(Wy),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(Wy).join("");if(e===this.leftGuard)if(this.prev instanceof za){const o=this.prev.length();this.prev.insertAt(o,i),t={startNode:this.prev.domNode,startOffset:o+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof za?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=Wy,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class nU{constructor(e,t){Ke(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof CE)&&(this.emitter.emit(dt.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(dt.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(dt.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(dt.events.COMPOSITION_END,e),this.isComposing=!1}}const Bg=class Bg{constructor(e,t){Ke(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};Ke(Bg,"DEFAULTS",{modules:{}}),Ke(Bg,"themes",{default:Bg});let Wd=Bg;const rU=n=>n.parentElement||n.getRootNode().host||null,iU=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Gy=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},OS=(n,e,t,r,i,o)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+o:0,sU=(n,e)=>{var o,l,c;const t=n.ownerDocument;let r=e,i=n;for(;i;){const d=i===t.body,p=d?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??t.documentElement.clientWidth,bottom:((l=window.visualViewport)==null?void 0:l.height)??t.documentElement.clientHeight,left:0}:iU(i),_=getComputedStyle(i),v=OS(r.left,r.right,p.left,p.right,Gy(_.scrollPaddingLeft),Gy(_.scrollPaddingRight)),w=OS(r.top,r.bottom,p.top,p.bottom,Gy(_.scrollPaddingTop),Gy(_.scrollPaddingBottom));if(v||w)if(d)(c=t.defaultView)==null||c.scrollBy(v,w);else{const{scrollLeft:b,scrollTop:A}=i;w&&(i.scrollTop+=w),v&&(i.scrollLeft+=v);const R=i.scrollLeft-b,N=i.scrollTop-A;r={left:r.left-R,top:r.top-N,right:r.right-R,bottom:r.bottom-N}}i=d||_.position==="fixed"?null:rU(i)}},oU=100,aU=["block","break","cursor","inline","scroll","text"],lU=(n,e,t)=>{const r=new zd;return aU.forEach(i=>{const o=e.query(i);o&&r.register(o)}),n.forEach(i=>{let o=e.query(i);o||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;o;)if(r.register(o),o="blotName"in o?o.requiredContainer??null:null,l+=1,l>oU){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},kd=Nu("quill"),Ky=new zd;qa.uiClass="ql-ui";const Ua=class Ua{static debug(e){e===!0&&(e="log"),Nu.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return sw.get(e)||Ky.find(e,t)}static import(e){return this.imports[e]==null&&kd.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&kd.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Ky.register(t),typeof t.register=="function"&&t.register(Ky)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=uU(e,t),this.container=this.options.container,this.container==null){kd.error("Invalid Quill container",e);return}this.options.debug&&Ua.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",sw.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new dt;const i=AE.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new ZF(this.scroll),this.selection=new XF(this.scroll,this.emitter),this.composition=new nU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(dt.events.EDITOR_CHANGE,l=>{l===dt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(dt.events.SCROLL_UPDATE,(l,c)=>{const d=this.selection.lastRange,[p]=this.selection.getRange(),_=d&&p?{oldRange:d,newRange:p}:void 0;Fa.call(this,()=>this.editor.update(null,c,_),l)}),this.emitter.on(dt.events.SCROLL_EMBED_UPDATE,(l,c)=>{const d=this.selection.lastRange,[p]=this.selection.getRange(),_=d&&p?{oldRange:d,newRange:p}:void 0;Fa.call(this,()=>{const v=new lt().retain(l.offset(this)).retain({[l.statics.blotName]:c});return this.editor.update(v,[],_)},Ua.sources.USER)}),r){const l=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=fu(e,t,r),Fa.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dt.sources.API;return Fa.call(this,()=>{const i=this.getSelection(!0);let o=new lt;if(i==null)return o;if(this.scroll.query(e,yt.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),o;o=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,dt.sources.SILENT),o},r)}formatLine(e,t,r,i,o){let l;return[e,t,l,o]=fu(e,t,r,i,o),Fa.call(this,()=>this.editor.formatLine(e,t,l),o,e,0)}formatText(e,t,r,i,o){let l;return[e,t,l,o]=fu(e,t,r,i,o),Fa.call(this,()=>this.editor.formatText(e,t,l),o,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=fu(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=fu(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=fu(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ua.sources.API;return Fa.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,o){let l;return[e,,l,o]=fu(e,0,r,i,o),Fa.call(this,()=>this.editor.insertText(e,t,l),o,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=fu(e,t,r),Fa.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){sU(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.sources.API;return Fa.call(this,()=>{e=new lt(e);const r=this.getLength(),i=this.editor.deleteText(0,r),o=this.editor.insertContents(0,e),l=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(l)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||Ua.sources.API):([e,t,,r]=fu(e,t,r),this.selection.setRange(new Oh(Math.max(0,e),t),r),r!==dt.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.sources.API;const r=new lt().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dt.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.sources.API;return Fa.call(this,()=>(e=new lt(e),this.editor.applyDelta(e)),t,!0)}};Ke(Ua,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ky,theme:"default"}),Ke(Ua,"events",dt.events),Ke(Ua,"sources",dt.sources),Ke(Ua,"version","2.0.3"),Ke(Ua,"imports",{delta:lt,parchment:jF,"core/module":Ga,"core/theme":Wd});let Oe=Ua;function LS(n){return typeof n=="string"?document.querySelector(n):n}function a1(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function DS(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function uU(n,e){const t=LS(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===Oe.DEFAULTS.theme?Wd:Oe.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...l}=Oe.DEFAULTS,{modules:c,...d}=i.DEFAULTS;let p=a1(e.modules);p!=null&&p.toolbar&&p.toolbar.constructor!==Object&&(p={...p,toolbar:{container:p.toolbar}});const _=Tc({},a1(o),a1(c),p),v={...l,...DS(d),...DS(e)};let w=e.registry;return w?e.formats&&kd.warn('Ignoring "formats" option because "registry" is specified'):w=e.formats?lU(e.formats,v.registry,kd):v.registry,{...v,registry:w,container:t,theme:i,modules:Object.entries(_).reduce((b,A)=>{let[R,N]=A;if(!N)return b;const D=Oe.import(`modules/${R}`);return D==null?(kd.error(`Cannot load ${R} module. Are you sure you registered it?`),b):{...b,[R]:Tc({},D.DEFAULTS||{},N)}},{}),bounds:LS(v.bounds)}}function Fa(n,e,t,r){if(!this.isEnabled()&&e===dt.sources.USER&&!this.allowReadOnlyEdits)return new lt;let i=t==null?null:this.getSelection();const o=this.editor.delta,l=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=MS(i,l,e):r!==0&&(i=MS(i,t,r,e)),this.setSelection(i,dt.sources.SILENT)),l.length()>0){const c=[dt.events.TEXT_CHANGE,l,o,e];this.emitter.emit(dt.events.EDITOR_CHANGE,...c),e!==dt.sources.SILENT&&this.emitter.emit(...c)}return l}function fu(n,e,t,r,i){let o={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(o=t,i=r):typeof t=="string"&&(r!=null?o[t]=r:i=t),i=i||dt.sources.API,[n,e,o,i]}function MS(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let o,l;return e&&typeof e.transformPosition=="function"?[o,l]=[n.index,n.index+n.length].map(c=>e.transformPosition(c,r!==dt.sources.USER)):[o,l]=[n.index,n.index+n.length].map(c=>c<e||c===e&&r===dt.sources.USER?c:i>=0?c+i:Math.max(e,c+i)),new Oh(o,l-o)}class Wh extends A_{}function FS(n){return n instanceof ms||n instanceof ua}function US(n){return typeof n.updateContent=="function"}class Sd extends AE{constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(dt.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(dt.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(dt.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[o]=this.line(e+t);if(super.deleteAt(e,t),o!=null&&r!==o&&i>0){if(r instanceof ua||o instanceof ua){this.optimize();return}const l=o.children.head instanceof Wa?null:o.children.head;r.moveChildren(o,l),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,yt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===yt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new lt().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const o=r.shift();if(o){const d=o.type==="block"&&(o.delta.length()===0||!this.descendant(ua,e)[0]&&e<this.length()),p=o.type==="block"?o.delta:new lt().insert({[o.key]:o.value});l1(this,e,p);const _=o.type==="block"?1:0,v=e+p.length()+_;d&&this.insertAt(v-1,`
`);const w=sa(this.line(e)[0]),b=ha.AttributeMap.diff(w,o.attributes)||{};Object.keys(b).forEach(A=>{this.formatAt(v-1,1,A,b[A])}),e=v}let[l,c]=this.children.find(e);if(r.length&&(l&&(l=l.split(c),c=0),r.forEach(d=>{if(d.type==="block"){const p=this.createBlock(d.attributes,l||void 0);l1(p,0,d.delta)}else{const p=this.create(d.key,d.value);this.insertBefore(p,l||void 0),Object.keys(d.attributes).forEach(_=>{p.format(_,d.attributes[_])})}})),i.type==="block"&&i.delta.length()){const d=l?l.offset(l.scroll)+c:this.length();l1(this,d,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Ls?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(FS,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,o,l)=>{let c=[],d=l;return i.children.forEachAt(o,l,(p,_,v)=>{FS(p)?c.push(p):p instanceof A_&&(c=c.concat(r(p,_,d))),d-=v}),c};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(dt.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=dt.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const o=this.find(i,!0);return o&&!US(o)}),e.length>0&&this.emitter.emit(dt.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(dt.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(o=>o instanceof ua,e);i&&i.statics.blotName===t&&US(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new lt;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const l=o.split(`
`);l.slice(0,-1).forEach(d=>{r.insert(d,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new lt});const c=l[l.length-1];c&&r.insert(c,i.attributes)}else{const l=Object.keys(o)[0];if(!l)return;this.query(l,yt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new lt,t.push({type:"blockEmbed",key:l,value:o[l],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(c=>{let[d,p]=c;this.query(d,yt.BLOCK&yt.BLOT)!=null?r=d:i[d]=p});const o=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(o,t||void 0);const l=o.length();return Object.entries(i).forEach(c=>{let[d,p]=c;o.formatAt(0,l,d,p)}),o}}Ke(Sd,"blotName","scroll"),Ke(Sd,"className","ql-editor"),Ke(Sd,"tagName","DIV"),Ke(Sd,"defaultChild",ms),Ke(Sd,"allowedChildren",[ms,ua,Wh]);function l1(n,e,t){t.reduce((r,i)=>{const o=ha.Op.length(i);let l=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const c=i.insert;n.insertAt(r,c);const[d]=n.descendant(Ls,r),p=sa(d);l=ha.AttributeMap.diff(p,l)||{}}else if(typeof i.insert=="object"){const c=Object.keys(i.insert)[0];if(c==null)return r;if(n.insertAt(r,c,i.insert[c]),n.scroll.query(c,yt.INLINE)!=null){const[p]=n.descendant(Ls,r),_=sa(p);l=ha.AttributeMap.diff(_,l)||{}}}}return Object.keys(l).forEach(c=>{n.formatAt(r,o,c,l[c])}),r+o},e)}const xE={scope:yt.BLOCK,whitelist:["right","center","justify"]},cU=new Ll("align","align",xE),jI=new Ha("align","ql-align",xE),qI=new Oc("align","text-align",xE);class $I extends Oc{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const hU=new Ha("color","ql-color",{scope:yt.INLINE}),IE=new $I("color","color",{scope:yt.INLINE}),fU=new Ha("background","ql-bg",{scope:yt.INLINE}),RE=new $I("background","background-color",{scope:yt.INLINE});class Gh extends Wh{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${C_(this.code(e,t))}
</pre>`}}class Ms extends ms{static register(){Oe.register(Gh)}}Ke(Ms,"TAB","  ");class kE extends Dl{}kE.blotName="code";kE.tagName="CODE";Ms.blotName="code-block";Ms.className="ql-code-block";Ms.tagName="DIV";Gh.blotName="code-block-container";Gh.className="ql-code-block-container";Gh.tagName="DIV";Gh.allowedChildren=[Ms];Ms.allowedChildren=[za,Wa,Hd];Ms.requiredContainer=Gh;const NE={scope:yt.BLOCK,whitelist:["rtl"]},zI=new Ll("direction","dir",NE),HI=new Ha("direction","ql-direction",NE),WI=new Oc("direction","direction",NE),GI={scope:yt.INLINE,whitelist:["serif","monospace"]},KI=new Ha("font","ql-font",GI);class dU extends Oc{value(e){return super.value(e).replace(/["']/g,"")}}const JI=new dU("font","font-family",GI),QI=new Ha("size","ql-size",{scope:yt.INLINE,whitelist:["small","large","huge"]}),XI=new Oc("size","font-size",{scope:yt.INLINE,whitelist:["10px","18px","32px"]}),pU=Nu("quill:keyboard"),gU=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class x_ extends Ga{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=yU(e);if(i==null){pU.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(l=>{const c={...i,key:l,...t,...r};this.bindings[c.key]=this.bindings[c.key]||[],this.bindings[c.key].push(c)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(D=>x_.match(e,D));if(i.length===0)return;const o=Oe.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[c,d]=this.quill.getLine(l.index),[p,_]=this.quill.getLeaf(l.index),[v,w]=l.length===0?[p,_]:this.quill.getLeaf(l.index+l.length),b=p instanceof W0?p.value().slice(0,_):"",A=v instanceof W0?v.value().slice(w):"",R={collapsed:l.length===0,empty:l.length===0&&c.length()<=1,format:this.quill.getFormat(l),line:c,offset:d,prefix:b,suffix:A,event:e};i.some(D=>{if(D.collapsed!=null&&D.collapsed!==R.collapsed||D.empty!=null&&D.empty!==R.empty||D.offset!=null&&D.offset!==R.offset)return!1;if(Array.isArray(D.format)){if(D.format.every(F=>R.format[F]==null))return!1}else if(typeof D.format=="object"&&!Object.keys(D.format).every(F=>D.format[F]===!0?R.format[F]!=null:D.format[F]===!1?R.format[F]==null:bE(D.format[F],R.format[F])))return!1;return D.prefix!=null&&!D.prefix.test(R.prefix)||D.suffix!=null&&!D.suffix.test(R.suffix)?!1:D.handler.call(this,l,R,D)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let l=new lt().retain(e.index-r).delete(r);if(t.offset===0){const[c]=this.quill.getLine(e.index-1);if(c&&!(c.statics.blotName==="block"&&c.length()<=1)){const p=o.formats(),_=this.quill.getFormat(e.index-1,1);if(i=ha.AttributeMap.diff(p,_)||{},Object.keys(i).length>0){const v=new lt().retain(e.index+o.length()-2).retain(1,i);l=l.compose(v)}}}this.quill.updateContents(l,Oe.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[o]=this.quill.getLine(e.index);let l=new lt().retain(e.index).delete(r);if(t.offset>=o.length()-1){const[c]=this.quill.getLine(e.index+1);if(c){const d=o.formats(),p=this.quill.getFormat(e.index,1);i=ha.AttributeMap.diff(d,p)||{},Object.keys(i).length>0&&(l=l.retain(c.length()-1).retain(1,i))}}this.quill.updateContents(l,Oe.sources.USER),this.quill.focus()}handleDeleteRange(e){PE({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((o,l)=>(this.quill.scroll.query(l,yt.BLOCK)&&!Array.isArray(t.format[l])&&(o[l]=t.format[l]),o),{}),i=new lt().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(e.index+1,Oe.sources.SILENT),this.quill.focus()}}const mU={bindings:{bold:u1("bold"),italic:u1("italic"),underline:u1("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Oe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Oe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",Oe.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Oe.sources.USER)}},"indent code-block":BS(!0),"outdent code-block":BS(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,Oe.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new lt().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,Oe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,Oe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Oe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,Oe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new lt().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(n.index+1,Oe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new lt().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(n.index+1,Oe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,o]=e.getTable(n),l=_U(t,r,i,o);if(l==null)return;let c=t.offset();if(l<0){const d=new lt().retain(c).insert(`
`);this.quill.updateContents(d,Oe.sources.USER),this.quill.setSelection(n.index+1,n.length,Oe.sources.SILENT)}else if(l>0){c+=t.length();const d=new lt().retain(c).insert(`
`);this.quill.updateContents(d,Oe.sources.USER),this.quill.setSelection(c,Oe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,Oe.sources.USER):this.quill.setSelection(i+r.length(),Oe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(n.index," ",Oe.sources.USER),this.quill.history.cutoff();const l=new lt().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:o});return this.quill.updateContents(l,Oe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,Oe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const o=new lt().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,Oe.sources.USER),this.quill.setSelection(n.index-1,Oe.sources.SILENT),!1}return!0}},"embed left":Jy("ArrowLeft",!1),"embed left shift":Jy("ArrowLeft",!0),"embed right":Jy("ArrowRight",!1),"embed right shift":Jy("ArrowRight",!0),"table down":VS(!1),"table up":VS(!0)}};x_.DEFAULTS=mU;function BS(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,o,Oe.sources.USER),this.quill.setSelection(e.index+o.length,Oe.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:c,length:d}=e;l.forEach((p,_)=>{n?(p.insertAt(0,o),_===0?c+=o.length:d+=o.length):p.domNode.textContent.startsWith(o)&&(p.deleteAt(0,o.length),_===0?c-=o.length:d-=o.length)}),this.quill.update(Oe.sources.USER),this.quill.setSelection(c,d,Oe.sources.SILENT)}}}function Jy(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[o]=this.quill.getLeaf(i);return o instanceof Bo?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,Oe.sources.USER):this.quill.setSelection(r.index-1,Oe.sources.USER):e?this.quill.setSelection(r.index,r.length+1,Oe.sources.USER):this.quill.setSelection(r.index+r.length+1,Oe.sources.USER),!1):!0}}}function u1(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],Oe.sources.USER)}}}function VS(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,o=i.parent[r];if(o!=null){if(o.statics.blotName==="table-row"){let l=o.children.head,c=i;for(;c.prev!=null;)c=c.prev,l=l.next;const d=l.offset(this.quill.scroll)+Math.min(t.offset,l.length()-1);this.quill.setSelection(d,0,Oe.sources.USER)}}else{const l=i.table()[r];l!=null&&(n?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,Oe.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,Oe.sources.USER))}return!1}}}function yU(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Id(n);else return null;return n.shortKey&&(n[gU]=n.shortKey,delete n.shortKey),n}function PE(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const o=r[0].formats(),l=r[r.length-1].formats();i=ha.AttributeMap.diff(l,o)||{}}e.deleteText(t,Oe.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,Oe.sources.USER),e.setSelection(t.index,Oe.sources.SILENT)}function _U(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const vU=/font-weight:\s*normal/,wU=["P","OL","UL"],jS=n=>n&&wU.includes(n.tagName),EU=n=>{Array.from(n.querySelectorAll("br")).filter(e=>jS(e.previousElementSibling)&&jS(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},TU=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(vU)}).forEach(e=>{var r;const t=n.createDocumentFragment();t.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(t,e)})};function bU(n){n.querySelector('[id^="docs-internal-guid-"]')&&(TU(n),EU(n))}const SU=/\bmso-list:[^;]*ignore/i,AU=/\bmso-list:[^;]*\bl(\d+)/i,CU=/\bmso-list:[^;]*\blevel(\d+)/i,xU=(n,e)=>{const t=n.getAttribute("style"),r=t==null?void 0:t.match(AU);if(!r)return null;const i=Number(r[1]),o=t==null?void 0:t.match(CU),l=o?Number(o[1]):1,c=new RegExp(`@list l${i}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=e.match(c),p=d&&d[1]==="bullet"?"bullet":"ordered";return{id:i,indent:l,type:p,element:n}},IU=n=>{var l,c;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(d=>{(d.getAttribute("style")||"").match(SU)?t.push(d):r.push(d)}),t.forEach(d=>{var p;return(p=d.parentNode)==null?void 0:p.removeChild(d)});const i=n.documentElement.innerHTML,o=r.map(d=>xU(d,i)).filter(d=>d);for(;o.length;){const d=[];let p=o.shift();for(;p;)d.push(p),p=o.length&&((l=o[0])==null?void 0:l.element)===p.element.nextElementSibling&&o[0].id===p.id?o.shift():null;const _=document.createElement("ul");d.forEach(b=>{const A=document.createElement("li");A.setAttribute("data-list",b.type),b.indent>1&&A.setAttribute("class",`ql-indent-${b.indent-1}`),A.innerHTML=b.element.innerHTML,_.appendChild(A)});const v=(c=d[0])==null?void 0:c.element,{parentNode:w}=v??{};v&&(w==null||w.replaceChild(_,v)),d.slice(1).forEach(b=>{let{element:A}=b;w==null||w.removeChild(A)})}};function RU(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&IU(n)}const kU=[RU,bU],NU=n=>{n.documentElement&&kU.forEach(e=>{e(n)})},PU=Nu("quill:clipboard"),OU=[[Node.TEXT_NODE,HU],[Node.TEXT_NODE,$S],["br",UU],[Node.ELEMENT_NODE,$S],[Node.ELEMENT_NODE,FU],[Node.ELEMENT_NODE,MU],[Node.ELEMENT_NODE,$U],["li",jU],["ol, ul",qU],["pre",BU],["tr",zU],["b",c1("bold")],["i",c1("italic")],["strike",c1("strike")],["style",VU]],LU=[cU,zI].reduce((n,e)=>(n[e.keyName]=e,n),{}),qS=[qI,RE,IE,WI,JI,XI].reduce((n,e)=>(n[e.keyName]=e,n),{});class YI extends Ga{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],OU.concat(this.options.matchers??[]).forEach(r=>{let[i,o]=r;this.addMatcher(i,o)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Ms.blotName])return new lt().insert(r||"",{[Ms.blotName]:i[Ms.blotName]});if(!t)return new lt().insert(r||"",i);const o=this.convertHTML(t);return _m(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new lt().retain(o.length()-1).delete(1)):o}normalizeHTML(e){NU(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[o,l]=this.prepareMatching(r,i);return OE(this.quill.scroll,r,o,l,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oe.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,Oe.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new lt().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),Oe.sources.SILENT)}}onCaptureCopy(e){var l,c;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:o}=this.onCopy(r,t);(l=e.clipboardData)==null||l.setData("text/plain",o),(c=e.clipboardData)==null||c.setData("text/html",i),t&&PE({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var l,c,d,p,_;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(l=e.clipboardData)==null?void 0:l.getData("text/html");let i=(c=e.clipboardData)==null?void 0:c.getData("text/plain");if(!r&&!i){const v=(d=e.clipboardData)==null?void 0:d.getData("text/uri-list");v&&(i=this.normalizeURIList(v))}const o=Array.from(((p=e.clipboardData)==null?void 0:p.files)||[]);if(!r&&o.length>0){this.quill.uploader.upload(t,o);return}if(r&&o.length>0){const v=new DOMParser().parseFromString(r,"text/html");if(v.body.childElementCount===1&&((_=v.body.firstElementChild)==null?void 0:_.tagName)==="IMG"){this.quill.uploader.upload(t,o);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const o=this.quill.getFormat(e.index),l=this.convert({text:r,html:i},o);PU.log("onPaste",l,{text:r,html:i});const c=new lt().retain(e.index).delete(e.length).concat(l);this.quill.updateContents(c,Oe.sources.USER),this.quill.setSelection(c.length()-e.length,Oe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(o=>{const[l,c]=o;switch(l){case Node.TEXT_NODE:i.push(c);break;case Node.ELEMENT_NODE:r.push(c);break;default:Array.from(e.querySelectorAll(l)).forEach(d=>{if(t.has(d)){const p=t.get(d);p==null||p.push(c)}else t.set(d,[c])});break}}),[r,i]}}Ke(YI,"DEFAULTS",{matchers:[]});function Kh(n,e,t,r){return r.query(e)?n.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const l=t?{[e]:t}:{};return i.insert(o.insert,{...l,...o.attributes})},new lt):n}function _m(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function _c(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof Bo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function DU(n,e){return n.previousElementSibling&&n.nextElementSibling&&!_c(n.previousElementSibling,e)&&!_c(n.nextElementSibling,e)}const Qy=new WeakMap;function ZI(n){return n==null?!1:(Qy.has(n)||(n.tagName==="PRE"?Qy.set(n,!0):Qy.set(n,ZI(n.parentNode))),Qy.get(n))}function OE(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((o,l)=>l(e,o,n),new lt):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,l)=>{let c=OE(n,l,t,r,i);return l.nodeType===e.ELEMENT_NODE&&(c=t.reduce((d,p)=>p(l,d,n),c),c=(i.get(l)||[]).reduce((d,p)=>p(l,d,n),c)),o.concat(c)},new lt):new lt}function c1(n){return(e,t,r)=>Kh(t,n,!0,r)}function MU(n,e,t){const r=Ll.keys(n),i=Ha.keys(n),o=Oc.keys(n),l={};return r.concat(i).concat(o).forEach(c=>{let d=t.query(c,yt.ATTRIBUTE);d!=null&&(l[d.attrName]=d.value(n),l[d.attrName])||(d=LU[c],d!=null&&(d.attrName===c||d.keyName===c)&&(l[d.attrName]=d.value(n)||void 0),d=qS[c],d!=null&&(d.attrName===c||d.keyName===c)&&(d=qS[c],l[d.attrName]=d.value(n)||void 0))}),Object.entries(l).reduce((c,d)=>{let[p,_]=d;return Kh(c,p,_,t)},e)}function FU(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof Bo){const i={},o=r.value(n);if(o!=null)return i[r.blotName]=o,new lt().insert(i,r.formats(n,t))}else if(r.prototype instanceof Yg&&!_m(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Kh(e,r.blotName,r.formats(n,t),t);return e}function UU(n,e){return _m(e,`
`)||e.insert(`
`),e}function BU(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Kh(e,"code-block",i,t)}function VU(){return new lt}function jU(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!_m(e,`
`))return e;let i=-1,o=n.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((l,c)=>c.insert?c.attributes&&typeof c.attributes.indent=="number"?l.push(c):l.insert(c.insert,{indent:i,...c.attributes||{}}):l,new lt)}function qU(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const o=r.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),Kh(e,"list",i,t)}function $S(n,e,t){if(!_m(e,`
`)){if(_c(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(_c(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof ua)return e.insert(`
`);r=r.firstChild}}}return e}function $U(n,e,t){var o;const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,c)=>{let[d,p]=c;return Kh(l,d,p,t)},e),parseFloat(i.textIndent||0)>0?new lt().insert("	").concat(e):e}function zU(n,e,t){var i,o;const r=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(o=n.parentElement)==null?void 0:o.parentElement;if(r!=null){const c=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Kh(e,"table",c,t)}return e}function HU(n,e,t){var i;let r=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!ZI(n)){if(r.trim().length===0&&r.includes(`
`)&&!DU(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&_c(n.parentElement,t)||n.previousSibling instanceof Element&&_c(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&_c(n.parentElement,t)||n.nextSibling instanceof Element&&_c(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return e.insert(r)}class eR extends Ga{constructor(t,r){super(t,r);Ke(this,"lastRecorded",0);Ke(this,"ignoreChange",!1);Ke(this,"stack",{undo:[],redo:[]});Ke(this,"currentRange",null);this.quill.on(Oe.events.EDITOR_CHANGE,(i,o,l,c)=>{i===Oe.events.SELECTION_CHANGE?o&&c!==Oe.sources.SILENT&&(this.currentRange=o):i===Oe.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||c===Oe.sources.USER?this.record(o,l):this.transform(o)),this.currentRange=lw(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const o=this.quill.getContents(),l=i.delta.invert(o);this.stack[r].push({delta:l,range:lw(i.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,Oe.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),o=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const c=this.stack.undo.pop();c&&(i=i.compose(c.delta),o=c.range)}else this.lastRecorded=l;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){zS(this.stack.undo,t),zS(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,Oe.sources.USER);else{const r=GU(this.quill.scroll,t.delta);this.quill.setSelection(r,Oe.sources.USER)}}}Ke(eR,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function zS(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&lw(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function WU(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,yt.BLOCK)!=null):!1}function GU(n,e){const t=e.reduce((i,o)=>i+(o.delete||0),0);let r=e.length()-t;return WU(n,e)&&(r-=1),r}function lw(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class tR extends Ga{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{var l;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const c=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(c.offsetNode,c.offset),i.setEnd(c.offsetNode,c.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const c=e.selection.normalizedToRange(o);(l=r.dataTransfer)!=null&&l.files&&this.upload(c,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}tR.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((o,l)=>o.insert({image:l}),new lt().retain(n.index).delete(n.length));this.quill.updateContents(i,dt.sources.USER),this.quill.setSelection(n.index+r.length,dt.sources.SILENT)})}};const KU=["insertText","insertReplacementText"];class JU extends Ga{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(Oe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){PE({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new lt().retain(e.index).insert(t,r),Oe.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,Oe.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!KU.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=QU(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function QU(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const XU=/Mac/i.test(navigator.platform),YU=100,ZU=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||XU&&n.key==="a"&&n.ctrlKey===!0);class eB extends Ga{constructor(t,r){super(t,r);Ke(this,"isListening",!1);Ke(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:o}=r;if(!(i instanceof qa)||!i.uiNode)return!0;const l=getComputedStyle(i.domNode).direction==="rtl";return l&&o.key!=="ArrowRight"||!l&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(o.shiftKey?1:0),Oe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&ZU(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+YU,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof qa)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(o)}}Oe.register({"blots/block":ms,"blots/block/embed":ua,"blots/break":Wa,"blots/container":Wh,"blots/cursor":Hd,"blots/embed":CE,"blots/inline":Dl,"blots/scroll":Sd,"blots/text":za,"modules/clipboard":YI,"modules/history":eR,"modules/keyboard":x_,"modules/uploader":tR,"modules/input":JU,"modules/uiNode":eB});class tB extends Ha{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const nB=new tB("indent","ql-indent",{scope:yt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});var i0;let rB=(i0=class extends ms{},Ke(i0,"blotName","blockquote"),Ke(i0,"tagName","blockquote"),i0);var s0;let iB=(s0=class extends ms{static formats(e){return this.tagName.indexOf(e.tagName)+1}},Ke(s0,"blotName","header"),Ke(s0,"tagName",["H1","H2","H3","H4","H5","H6"]),s0);class vm extends Wh{}vm.blotName="list-container";vm.tagName="OL";class wm extends ms{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Oe.register(vm)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const l=this.statics.formats(t,e);l==="checked"?(this.format("list","unchecked"),o.preventDefault()):l==="unchecked"&&(this.format("list","checked"),o.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}wm.blotName="list";wm.tagName="LI";vm.allowedChildren=[wm];wm.requiredContainer=vm;var o0;let LE=(o0=class extends Dl{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}},Ke(o0,"blotName","bold"),Ke(o0,"tagName",["STRONG","B"]),o0);class uw extends LE{}Ke(uw,"blotName","italic"),Ke(uw,"tagName",["EM","I"]);var pd;let G0=(pd=class extends Dl{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return nR(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}},Ke(pd,"blotName","link"),Ke(pd,"tagName","A"),Ke(pd,"SANITIZED_URL","about:blank"),Ke(pd,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]),pd);function nR(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class cw extends Dl{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Ke(cw,"blotName","script"),Ke(cw,"tagName",["SUB","SUP"]);class hw extends LE{}Ke(hw,"blotName","strike"),Ke(hw,"tagName",["S","STRIKE"]);class fw extends Dl{}Ke(fw,"blotName","underline"),Ke(fw,"tagName","U");class g0 extends CE{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Ke(g0,"blotName","formula"),Ke(g0,"className","ql-formula"),Ke(g0,"tagName","SPAN");const HS=["alt","height","width"];var a0;let sB=(a0=class extends Bo{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return HS.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return nR(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){HS.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},Ke(a0,"blotName","image"),Ke(a0,"tagName","IMG"),a0);const WS=["height","width"];class m0 extends ua{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return WS.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return G0.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){WS.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Ke(m0,"blotName","video"),Ke(m0,"className","ql-video"),Ke(m0,"tagName","IFRAME");const Cg=new Ha("code-token","hljs",{scope:yt.INLINE});class Cu extends Dl{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Ms.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),Cg.add(this.domNode,r)}format(e,t){e!==Cu.blotName?super.format(e,t):t?Cg.add(this.domNode,t):(Cg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Cg.value(this.domNode)||this.unwrap()}}Cu.blotName="code-token";Cu.className="ql-token";class oa extends Ms{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Cu.blotName,!1),super.replaceWith(e,t)}}class Dg extends Gh{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===oa.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===oa.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,o=oa.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const l=this.children.reduce((d,p)=>d.concat(BI(p,!1)),new lt),c=e(i,o);l.diff(c).reduce((d,p)=>{let{retain:_,attributes:v}=p;return _?(v&&Object.keys(v).forEach(w=>{[oa.blotName,Cu.blotName].includes(w)&&this.formatAt(d,_,w,v[w])}),d+_):d},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?oa.formats(r.domNode):"plain"}">
${C_(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=oa.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Dg.allowedChildren=[oa];oa.requiredContainer=Dg;oa.allowedChildren=[Cu,Hd,za,Wa];const oB=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class rR extends Ga{static register(){Oe.register(Cu,!0),Oe.register(oa,!0),Oe.register(Dg,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:o}=i;return r[o]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Oe.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Dg))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:o}=r;const l=t.ownerDocument.createElement("option");l.textContent=o,l.setAttribute("value",i),t.appendChild(l)}),t.addEventListener("change",()=>{e.format(oa.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=oa.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Oe.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Oe.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Dg):[e]).forEach(o=>{o.highlight(this.highlightBlot,t)}),this.quill.update(Oe.sources.SILENT),r!=null&&this.quill.setSelection(r,Oe.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return C_(e).split(`
`).reduce((i,o,l)=>(l!==0&&i.insert(`
`,{[Ms.blotName]:t}),i.insert(o)),new lt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Ms.className),r.innerHTML=oB(this.options.hljs,t,e),OE(this.quill.scroll,r,[(i,o)=>{const l=Cg.value(i);return l?o.compose(new lt().retain(o.length(),{[Cu.blotName]:l})):o}],[(i,o)=>i.data.split(`
`).reduce((l,c,d)=>(d!==0&&l.insert(`
`,{[Ms.blotName]:t}),l.insert(c)),o)],new WeakMap)}}rR.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Vg=class Vg extends ms{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",DE()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Vg.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ke(Vg,"blotName","table"),Ke(Vg,"tagName","TD");let Va=Vg;class xu extends Wh{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const o=this.splitAfter(t);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ke(xu,"blotName","table-row"),Ke(xu,"tagName","TR");class Rl extends Wh{}Ke(Rl,"blotName","table-body"),Ke(Rl,"tagName","TBODY");class Gd extends Wh{balanceCells(){const e=this.descendants(xu),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Va.formats(r.children.head.domNode));const o=this.scroll.create(Va.blotName,i);r.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Rl);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[t]=this.descendant(Rl);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),o=Va.formats(r.children.head.domNode),l=this.scroll.create(Va.blotName,o);r.insertBefore(l,i)})}insertRow(e){const[t]=this.descendant(Rl);if(t==null||t.children.head==null)return;const r=DE(),i=this.scroll.create(xu.blotName);t.children.head.children.forEach(()=>{const l=this.scroll.create(Va.blotName,r);i.appendChild(l)});const o=t.children.at(e);t.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Ke(Gd,"blotName","table-container"),Ke(Gd,"tagName","TABLE");Gd.allowedChildren=[Rl];Rl.requiredContainer=Gd;Rl.allowedChildren=[xu];xu.requiredContainer=Rl;xu.allowedChildren=[Va];Va.requiredContainer=xu;function DE(){return`row-${Math.random().toString(36).slice(2,6)}`}class aB extends Ga{static register(){Oe.register(Va),Oe.register(xu),Oe.register(Rl),Oe.register(Gd)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Gd).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(Oe.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Oe.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(Oe.sources.USER),this.quill.setSelection(t,Oe.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Va.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const l=o.cellOffset();r.insertColumn(l+e),this.quill.update(Oe.sources.USER);let c=i.rowOffset();e===0&&(c+=1),this.quill.setSelection(t.index+c,t.length,Oe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const l=i.rowOffset();r.insertRow(l+e),this.quill.update(Oe.sources.USER),e>0?this.quill.setSelection(t,Oe.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,Oe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(o=>{const l=new Array(t).fill(`
`).join("");return o.insert(l,{table:DE()})},new lt().retain(r.index));this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(r.index,Oe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Oe.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(Oe.events.TEXT_CHANGE,(r,i,o)=>{o===Oe.sources.USER&&this.balanceTables()}),!0):!1)})}}const GS=Nu("quill:toolbar");let ME=class extends Ga{constructor(e,t){var r,i;if(super(e,t),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),lB(o,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){GS.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var c;const l=(c=this.options.handlers)==null?void 0:c[o];l&&this.addHandler(o,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(Oe.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){GS.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const c=e.options[e.selectedIndex];c.hasAttribute("selected")?o=!1:o=c.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,o);else if(this.quill.scroll.query(t).prototype instanceof Bo){if(o=prompt(`Enter ${t}`),!o)return;this.quill.updateContents(new lt().retain(l.index).delete(l.length).insert({[t]:o}),Oe.sources.USER)}else this.quill.format(t,o,Oe.sources.USER);this.update(l)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,o]=r;if(o.tagName==="SELECT"){let l=null;if(e==null)l=null;else if(t[i]==null)l=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){let c=t[i];typeof c=="string"&&(c=c.replace(/"/g,'\\"')),l=o.querySelector(`option[value="${c}"]`)}l==null?(o.value="",o.selectedIndex=-1):l.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const l=t[i],c=l===o.getAttribute("value")||l!=null&&l.toString()===o.getAttribute("value")||l==null&&!o.getAttribute("value");o.classList.toggle("ql-active",c),o.setAttribute("aria-pressed",c.toString())}else{const l=t[i]!=null;o.classList.toggle("ql-active",l),o.setAttribute("aria-pressed",l.toString())}})}};ME.DEFAULTS={};function KS(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function lB(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")KS(r,i);else{const o=Object.keys(i)[0],l=i[o];Array.isArray(l)?uB(r,o,l):KS(r,o,l)}}),n.appendChild(r)})}function uB(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),r.appendChild(o)}),n.appendChild(r)}ME.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,yt.INLINE)!=null&&this.quill.format(t,!1,Oe.sources.USER)})}else this.quill.removeFormat(n.index,n.length,Oe.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",Oe.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,Oe.sources.USER),this.quill.format("direction",n,Oe.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,Oe.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,Oe.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,Oe.sources.USER):this.quill.format("list","unchecked",Oe.sources.USER):this.quill.format("list",n,Oe.sources.USER)}}};const cB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',hB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',fB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',dB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',pB='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',gB='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',mB='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',yB='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',JS='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',_B='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',vB='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',wB='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',EB='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',TB='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',bB='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',SB='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',AB='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',CB='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',xB='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',IB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',RB='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',kB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',NB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',PB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',OB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',LB='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',DB='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',MB='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',FB='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',UB='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',BB='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',VB='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',jB='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',em={align:{"":cB,center:hB,right:fB,justify:dB},background:pB,blockquote:gB,bold:mB,clean:yB,code:JS,"code-block":JS,color:_B,direction:{"":vB,rtl:wB},formula:EB,header:{1:TB,2:bB,3:SB,4:AB,5:CB,6:xB},italic:IB,image:RB,indent:{"+1":kB,"-1":NB},link:PB,list:{bullet:OB,check:LB,ordered:DB},script:{sub:MB,super:FB},strike:UB,table:BB,underline:VB,video:jB},qB='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let QS=0;function XS(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class I_{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),XS(this.label,"aria-expanded"),XS(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=qB,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${QS}`,QS+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class iR extends I_{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class sR extends I_{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const $B=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class oR{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,$B(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let l=0;if(o.right>i.right&&(l=i.right-o.right,this.root.style.left=`${t+l}px`),o.left<i.left&&(l=i.left-o.left,this.root.style.left=`${t+l}px`),o.bottom>i.bottom){const c=o.bottom-o.top,d=e.bottom-e.top+c;this.root.style.top=`${r-d}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const zB=[!1,"center","right","justify"],HB=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],WB=[!1,"serif","monospace"],GB=["1","2","3",!1],KB=["small",!1,"large","huge"];class Em extends Wd{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),t[o]!=null))if(o==="direction")r.innerHTML=t[o][""]+t[o].rtl;else if(typeof t[o]=="string")r.innerHTML=t[o];else{const l=r.value||"";l!=null&&t[o][l]&&(r.innerHTML=t[o][l])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&fg(i,zB),typeof t.align=="object"))return new sR(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&fg(i,HB,o==="background"?"#ffffff":"#000000"),new iR(i,t[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?fg(i,WB):i.classList.contains("ql-header")?fg(i,GB):i.classList.contains("ql-size")&&fg(i,KB)),new I_(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(dt.events.EDITOR_CHANGE,r)}}Em.DEFAULTS=Tc({},Wd.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class aR extends oR{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,dt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,dt.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=JB(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,dt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",dt.sources.USER),this.quill.setSelection(r+2,dt.sources.USER)}break}}this.textbox.value="",this.hide()}}function JB(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function fg(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const QB=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class lR extends aR{constructor(e,t){super(e,t),this.quill.on(dt.events.EDITOR_CHANGE,(r,i,o,l)=>{if(r===dt.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&l===dt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const c=this.quill.getLines(i.index,i.length);if(c.length===1){const d=this.quill.getBounds(i);d!=null&&this.position(d)}else{const d=c[c.length-1],p=this.quill.getIndex(d),_=Math.min(d.length()-1,i.index+i.length-p),v=this.quill.getBounds(new Oh(p,_));v!=null&&this.position(v)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(dt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}Ke(lR,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class uR extends Em{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=QB),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new lR(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),em),this.buildPickers(e.container.querySelectorAll("select"),em))}}uR.DEFAULTS=Tc({},Em.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Oe.sources.USER)}}}}});const XB=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class cR extends aR{constructor(){super(...arguments);Ke(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,dt.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(dt.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===dt.sources.USER){const[o,l]=this.quill.scroll.descendant(G0,t.index);if(o!=null){this.linkRange=new Oh(t.index-l,o.length());const c=G0.formats(o.domNode);this.preview.textContent=c,this.preview.setAttribute("href",c),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ke(cR,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class hR extends Em{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=XB),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),em),this.buildPickers(e.container.querySelectorAll("select"),em),this.tooltip=new cR(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}hR.DEFAULTS=Tc({},Em.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,Oe.sources.USER)}}}}});Oe.register({"attributors/attribute/direction":zI,"attributors/class/align":jI,"attributors/class/background":fU,"attributors/class/color":hU,"attributors/class/direction":HI,"attributors/class/font":KI,"attributors/class/size":QI,"attributors/style/align":qI,"attributors/style/background":RE,"attributors/style/color":IE,"attributors/style/direction":WI,"attributors/style/font":JI,"attributors/style/size":XI},!0);Oe.register({"formats/align":jI,"formats/direction":HI,"formats/indent":nB,"formats/background":RE,"formats/color":IE,"formats/font":KI,"formats/size":QI,"formats/blockquote":rB,"formats/code-block":Ms,"formats/header":iB,"formats/list":wm,"formats/bold":LE,"formats/code":kE,"formats/italic":uw,"formats/link":G0,"formats/script":cw,"formats/strike":hw,"formats/underline":fw,"formats/formula":g0,"formats/image":sB,"formats/video":m0,"modules/syntax":rR,"modules/table":aB,"modules/toolbar":ME,"themes/bubble":uR,"themes/snow":hR,"ui/icons":em,"ui/picker":I_,"ui/icon-picker":sR,"ui/color-picker":iR,"ui/tooltip":oR},!0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firebasestorage.googleapis.com",dR="storageBucket",YB=2*60*1e3,ZB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Fl{constructor(e,t,r=0){super(h1(e),`Firebase Storage: ${t} (${h1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,li.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return h1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ai;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ai||(ai={}));function h1(n){return"storage/"+n}function FE(){const n="An unknown error occurred, please check the error payload for server response.";return new li(ai.UNKNOWN,n)}function eV(n){return new li(ai.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function tV(n){return new li(ai.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new li(ai.UNAUTHENTICATED,n)}function rV(){return new li(ai.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iV(n){return new li(ai.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function sV(){return new li(ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oV(){return new li(ai.CANCELED,"User canceled the upload/download.")}function aV(n){return new li(ai.INVALID_URL,"Invalid URL '"+n+"'.")}function lV(n){return new li(ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uV(){return new li(ai.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dR+"' property when initializing the app?")}function cV(){return new li(ai.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hV(){return new li(ai.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fV(n){return new li(ai.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dw(n){return new li(ai.INVALID_ARGUMENT,n)}function pR(){return new li(ai.APP_DELETED,"The Firebase app was deleted.")}function dV(n){return new li(ai.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mg(n,e){return new li(ai.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function dg(n){throw new li(ai.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Oo.makeFromUrl(e,t)}catch{return new Oo(e,"")}if(r.path==="")return r;throw lV(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function p(M){M.path_=decodeURIComponent(M.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${_}/b/${i}/o${w}`,"i"),A={bucket:1,path:3},R=t===fR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",D=new RegExp(`^https?://${R}/${i}/${N}`,"i"),x=[{regex:c,indices:d,postModify:o},{regex:b,indices:A,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let M=0;M<x.length;M++){const $=x[M],G=$.regex.exec(e);if(G){const U=G[$.indices.bucket];let j=G[$.indices.path];j||(j=""),r=new Oo(U,j),$.postModify(r);break}}if(r==null)throw aV(e);return r}}class pV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(n,e,t){let r=1,i=null,o=null,l=!1,c=0;function d(){return c===2}let p=!1;function _(...N){p||(p=!0,e.apply(null,N))}function v(N){i=setTimeout(()=>{i=null,n(b,d())},N)}function w(){o&&clearTimeout(o)}function b(N,...D){if(p){w();return}if(N){w(),_.call(null,N,...D);return}if(d()||l){w(),_.call(null,N,...D);return}r<64&&(r*=2);let x;c===1?(c=2,x=0):x=(r+Math.random())*1e3,v(x)}let A=!1;function R(N){A||(A=!0,w(),!p&&(i!==null?(N||(c=2),clearTimeout(i),v(0)):N||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,R(!0)},t),R}function mV(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n){return n!==void 0}function _V(n){return typeof n=="object"&&!Array.isArray(n)}function UE(n){return typeof n=="string"||n instanceof String}function YS(n){return BE()&&n instanceof Blob}function BE(){return typeof Blob<"u"}function ZS(n,e,t,r){if(r<e)throw dw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw dw(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function gR(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Ch;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ch||(Ch={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t,r,i,o,l,c,d,p,_,v,w=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Xy(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Ch.NO_ERROR,d=o.getStatus();if(!c||vV(d,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===Ch.ABORT;r(!1,new Xy(!1,null,_));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Xy(p,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());yV(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=FE();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?pR():oV();l(d)}else{const d=sV();l(d)}};this.canceled_?t(!1,new Xy(!1,null,!0)):this.backoffId_=gV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function EV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function TV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bV(n,e){e&&(n["X-Firebase-GMPID"]=e)}function SV(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AV(n,e,t,r,i,o,l=!0){const c=gR(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return bV(p,e),EV(p,t),TV(p,o),SV(p,r),new wV(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xV(...n){const e=CV();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(BE())return new Blob(n);throw new li(ai.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(n){if(typeof atob>"u")throw fV("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class f1{constructor(e,t){this.data=e,this.contentType=t||null}}function kV(n,e){switch(n){case Sl.RAW:return new f1(mR(e));case Sl.BASE64:case Sl.BASE64URL:return new f1(yR(n,e));case Sl.DATA_URL:return new f1(PV(e),OV(e))}throw FE()}function mR(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function NV(n){let e;try{e=decodeURIComponent(n)}catch{throw Mg(Sl.DATA_URL,"Malformed data URL.")}return mR(e)}function yR(n,e){switch(n){case Sl.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Mg(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Sl.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Mg(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=RV(e)}catch(i){throw i.message.includes("polyfill")?i:Mg(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class _R{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Mg(Sl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=LV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PV(n){const e=new _R(n);return e.base64?yR(Sl.BASE64,e.rest):NV(e.rest)}function OV(n){return new _R(n).contentType}function LV(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){let r=0,i="";YS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(YS(this.data_)){const r=this.data_,i=IV(r,e,t);return i===null?null:new dc(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new dc(r,!0)}}static getBlob(...e){if(BE()){const t=e.map(r=>r instanceof dc?r.data_:r);return new dc(xV.apply(null,t))}else{const t=e.map(l=>UE(l)?kV(Sl.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new dc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n){let e;try{e=JSON.parse(n)}catch{return null}return _V(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function MV(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function wR(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(n,e){return e}class Gs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||FV}}let Yy=null;function UV(n){return!UE(n)||n.length<2?n:wR(n)}function ER(){if(Yy)return Yy;const n=[];n.push(new Gs("bucket")),n.push(new Gs("generation")),n.push(new Gs("metageneration")),n.push(new Gs("name","fullPath",!0));function e(o,l){return UV(l)}const t=new Gs("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const i=new Gs("size");return i.xform=r,n.push(i),n.push(new Gs("timeCreated")),n.push(new Gs("updated")),n.push(new Gs("md5Hash",null,!0)),n.push(new Gs("cacheControl",null,!0)),n.push(new Gs("contentDisposition",null,!0)),n.push(new Gs("contentEncoding",null,!0)),n.push(new Gs("contentLanguage",null,!0)),n.push(new Gs("contentType",null,!0)),n.push(new Gs("metadata","customMetadata",!0)),Yy=n,Yy}function BV(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new Oo(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function VV(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return BV(r,n),r}function TR(n,e,t){const r=vR(e);return r===null?null:VV(n,r,t)}function jV(n,e,t,r){const i=vR(e);if(i===null||!UE(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(p=>{const _=n.bucket,v=n.fullPath,w="/b/"+l(_)+"/o/"+l(v),b=VE(w,t,r),A=gR({alt:"media",token:p});return b+A})[0]}function qV(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class bR{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n){if(!n)throw FE()}function $V(n,e){function t(r,i){const o=TR(n,i,e);return SR(o!==null),o}return t}function zV(n,e){function t(r,i){const o=TR(n,i,e);return SR(o!==null),jV(o,i,n.host,n._protocol)}return t}function AR(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=rV():i=nV():t.getStatus()===402?i=tV(n.bucket):t.getStatus()===403?i=iV(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function HV(n){const e=AR(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=eV(n.path)),o.serverResponse=i.serverResponse,o}return t}function WV(n,e,t){const r=e.fullServerUrl(),i=VE(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new bR(i,o,zV(n,t),l);return c.errorHandler=HV(e),c}function GV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function KV(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=GV(null,e)),r}function JV(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let x="";for(let M=0;M<2;M++)x=x+Math.random().toString().slice(2);return x}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const p=KV(e,r,i),_=qV(p,t),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+d+"--",b=dc.getBlob(v,r,w);if(b===null)throw cV();const A={name:p.fullPath},R=VE(o,n.host,n._protocol),N="POST",D=n.maxUploadRetryTime,F=new bR(R,N,$V(n,t),D);return F.urlParams=A,F.headers=l,F.body=b.uploadData(),F.errorHandler=AR(e),F}class QV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ch.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ch.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ch.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw dg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XV extends QV{initXhr(){this.xhr_.responseType="text"}}function CR(){return new XV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this._service=e,t instanceof Oo?this._location=t:this._location=Oo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lh(e,t)}get root(){const e=new Oo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wR(this._location.path)}get storage(){return this._service}get parent(){const e=DV(this._location.path);if(e===null)return null;const t=new Oo(this._location.bucket,e);return new Lh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dV(e)}}function YV(n,e,t){n._throwIfRoot("uploadBytes");const r=JV(n.storage,n._location,ER(),new dc(e,!0),t);return n.storage.makeRequestWithTokens(r,CR).then(i=>({metadata:i,ref:n}))}function ZV(n){n._throwIfRoot("getDownloadURL");const e=WV(n.storage,n._location,ER());return n.storage.makeRequestWithTokens(e,CR).then(t=>{if(t===null)throw hV();return t})}function ej(n,e){const t=MV(n._location.path,e),r=new Oo(n._location.bucket,t);return new Lh(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(n){return/^[A-Za-z]+:\/\//.test(n)}function nj(n,e){return new Lh(n,e)}function xR(n,e){if(n instanceof jE){const t=n;if(t._bucket==null)throw uV();const r=new Lh(t,t._bucket);return e!=null?xR(r,e):r}else return e!==void 0?ej(n,e):n}function rj(n,e){if(e&&tj(e)){if(n instanceof jE)return nj(n,e);throw dw("To use ref(service, url), the first argument must be a Storage instance.")}else return xR(n,e)}function eA(n,e){const t=e==null?void 0:e[dR];return t==null?null:Oo.makeFromBucketSpec(t,n)}function ij(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:PC(i,n.app.options.projectId))}class jE{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=fR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YB,this._maxUploadRetryTime=ZB,this._requests=new Set,i!=null?this._bucket=Oo.makeFromBucketSpec(i,this._host):this._bucket=eA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oo.makeFromBucketSpec(this._url,e):this._bucket=eA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lh(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new pV(pR());{const l=AV(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const tA="@firebase/storage",nA="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="storage";function sj(n,e,t){return n=Us(n),YV(n,e,t)}function oj(n){return n=Us(n),ZV(n)}function aj(n,e){return n=Us(n),rj(n,e)}function lj(n=Uw(),e){n=Us(n);const r=a_(n,IR).getImmediate({identifier:e}),i=RC("storage");return i&&uj(r,...i),r}function uj(n,e,t,r={}){ij(n,e,t,r)}function cj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new jE(t,r,i,e,Uh)}function hj(){Rh(new bc(IR,cj,"PUBLIC").setMultipleInstances(!0)),Al(tA,nA,""),Al(tA,nA,"esm2017")}hj();var xg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var fj=xg.exports,rA;function dj(){return rA||(rA=1,function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",p=500,_="__lodash_placeholder__",v=1,w=2,b=4,A=1,R=2,N=1,D=2,F=4,x=8,M=16,$=32,G=64,U=128,j=256,q=512,k=30,P="...",z=800,O=16,oe=1,le=2,re=3,pe=1/0,se=9007199254740991,ne=17976931348623157e292,Y=NaN,K=4294967295,ie=K-1,fe=K>>>1,Pe=[["ary",U],["bind",N],["bindKey",D],["curry",x],["curryRight",M],["flip",q],["partial",$],["partialRight",G],["rearg",j]],xe="[object Arguments]",Le="[object Array]",$e="[object AsyncFunction]",Re="[object Boolean]",Ge="[object Date]",Ye="[object DOMException]",Qe="[object Error]",pt="[object Function]",gt="[object GeneratorFunction]",st="[object Map]",zt="[object Number]",tr="[object Null]",Bn="[object Object]",ur="[object Promise]",Qn="[object Proxy]",cn="[object RegExp]",hn="[object Set]",Cn="[object String]",mn="[object Symbol]",Ht="[object Undefined]",xn="[object WeakMap]",Dt="[object WeakSet]",wt="[object ArrayBuffer]",Ut="[object DataView]",qn="[object Float32Array]",Jt="[object Float64Array]",Wr="[object Int8Array]",Rr="[object Int16Array]",ns="[object Int32Array]",Ti="[object Uint8Array]",bi="[object Uint8ClampedArray]",Vi="[object Uint16Array]",Gr="[object Uint32Array]",yr=/\b__p \+= '';/g,or=/\b(__p \+=) '' \+/g,cr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,In=/&(?:amp|lt|gt|quot|#39);/g,Rn=/[&<>"']/g,ui=RegExp(In.source),Hn=RegExp(Rn.source),Si=/<%-([\s\S]+?)%>/g,Ur=/<%([\s\S]+?)%>/g,ki=/<%=([\s\S]+?)%>/g,_r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ji=/^\w*$/,Gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nr=/[\\^$.*+?()[\]{}|]/g,Wn=RegExp(nr.source),kr=/^\s+/,vr=/\s/,ci=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qt=/\{\n\/\* \[wrapped with (.+)\] \*/,qi=/,? & /,Js=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Kr=/[()=,{}\[\]\/\s]/,hi=/\\(\\)?/g,Br=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yn=/\w*$/,Jr=/^[-+]0x[0-9a-f]+$/i,Ni=/^0b[01]+$/i,Qr=/^\[object .+?Constructor\]$/,rs=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,Te=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,nt=/['\n\r\u2028\u2029\\]/g,rt="\\ud800-\\udfff",At="\\u0300-\\u036f",he="\\ufe20-\\ufe2f",be="\\u20d0-\\u20ff",Be=At+he+be,Xe="\\u2700-\\u27bf",_t="a-z\\xdf-\\xf6\\xf8-\\xff",jt="\\xac\\xb1\\xd7\\xf7",Xt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mt="\\u2000-\\u206f",Yt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bn="A-Z\\xc0-\\xd6\\xd8-\\xde",Xr="\\ufe0e\\ufe0f",Nr=jt+Xt+Mt+Yt,Sr="['’]",ct="["+rt+"]",Ft="["+Nr+"]",pn="["+Be+"]",Pt="\\d+",Ct="["+Xe+"]",$n="["+_t+"]",xt="[^"+rt+Nr+Pt+Xe+_t+bn+"]",vn="\\ud83c[\\udffb-\\udfff]",wn="(?:"+pn+"|"+vn+")",qt="[^"+rt+"]",rr="(?:\\ud83c[\\udde6-\\uddff]){2}",vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+bn+"]",hr="\\u200d",_s="(?:"+$n+"|"+xt+")",Yr="(?:"+Vn+"|"+xt+")",Bs="(?:"+Sr+"(?:d|ll|m|re|s|t|ve))?",vs="(?:"+Sr+"(?:D|LL|M|RE|S|T|VE))?",is=wn+"?",Ai="["+Xr+"]?",ir="(?:"+hr+"(?:"+[qt,rr,vt].join("|")+")"+Ai+is+")*",On="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$i="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ws=Ai+is+ir,fi="(?:"+[Ct,rr,vt].join("|")+")"+ws,zi="(?:"+[qt+pn+"?",pn,rr,vt,ct].join("|")+")",Vo=RegExp(Sr,"g"),Qa=RegExp(pn,"g"),Vr=RegExp(vn+"(?="+vn+")|"+zi+ws,"g"),ma=RegExp([Vn+"?"+$n+"+"+Bs+"(?="+[Ft,Vn,"$"].join("|")+")",Yr+"+"+vs+"(?="+[Ft,Vn+_s,"$"].join("|")+")",Vn+"?"+_s+"+"+Bs,Vn+"+"+vs,$i,On,Pt,fi].join("|"),"g"),ya=RegExp("["+hr+rt+Be+Xr+"]"),Zr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jo=-1,sn={};sn[qn]=sn[Jt]=sn[Wr]=sn[Rr]=sn[ns]=sn[Ti]=sn[bi]=sn[Vi]=sn[Gr]=!0,sn[xe]=sn[Le]=sn[wt]=sn[Re]=sn[Ut]=sn[Ge]=sn[Qe]=sn[pt]=sn[st]=sn[zt]=sn[Bn]=sn[cn]=sn[hn]=sn[Cn]=sn[xn]=!1;var tn={};tn[xe]=tn[Le]=tn[wt]=tn[Ut]=tn[Re]=tn[Ge]=tn[qn]=tn[Jt]=tn[Wr]=tn[Rr]=tn[ns]=tn[st]=tn[zt]=tn[Bn]=tn[cn]=tn[hn]=tn[Cn]=tn[mn]=tn[Ti]=tn[bi]=tn[Vi]=tn[Gr]=!0,tn[Qe]=tn[pt]=tn[xn]=!1;var I={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ee={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},It=parseFloat,ut=parseInt,nn=typeof ca=="object"&&ca&&ca.Object===Object&&ca,on=typeof self=="object"&&self&&self.Object===Object&&self,St=nn||on||Function("return this")(),an=e&&!e.nodeType&&e,gn=an&&!0&&n&&!n.nodeType&&n,jr=gn&&gn.exports===an,Xn=jr&&nn.process,fn=function(){try{var ge=gn&&gn.require&&gn.require("util").types;return ge||Xn&&Xn.binding&&Xn.binding("util")}catch{}}(),wr=fn&&fn.isArrayBuffer,sr=fn&&fn.isDate,Pr=fn&&fn.isMap,ss=fn&&fn.isRegExp,Es=fn&&fn.isSet,_a=fn&&fn.isTypedArray;function Ar(ge,ke,Ee){switch(Ee.length){case 0:return ge.call(ke);case 1:return ge.call(ke,Ee[0]);case 2:return ge.call(ke,Ee[0],Ee[1]);case 3:return ge.call(ke,Ee[0],Ee[1],Ee[2])}return ge.apply(ke,Ee)}function va(ge,ke,Ee,et){for(var Bt=-1,Ln=ge==null?0:ge.length;++Bt<Ln;){var ei=ge[Bt];ke(et,ei,Ee(ei),ge)}return et}function di(ge,ke){for(var Ee=-1,et=ge==null?0:ge.length;++Ee<et&&ke(ge[Ee],Ee,ge)!==!1;);return ge}function Bl(ge,ke){for(var Ee=ge==null?0:ge.length;Ee--&&ke(ge[Ee],Ee,ge)!==!1;);return ge}function Vl(ge,ke){for(var Ee=-1,et=ge==null?0:ge.length;++Ee<et;)if(!ke(ge[Ee],Ee,ge))return!1;return!0}function Xs(ge,ke){for(var Ee=-1,et=ge==null?0:ge.length,Bt=0,Ln=[];++Ee<et;){var ei=ge[Ee];ke(ei,Ee,ge)&&(Ln[Bt++]=ei)}return Ln}function jl(ge,ke){var Ee=ge==null?0:ge.length;return!!Ee&&wa(ge,ke,0)>-1}function Xa(ge,ke,Ee){for(var et=-1,Bt=ge==null?0:ge.length;++et<Bt;)if(Ee(ke,ge[et]))return!0;return!1}function Gn(ge,ke){for(var Ee=-1,et=ge==null?0:ge.length,Bt=Array(et);++Ee<et;)Bt[Ee]=ke(ge[Ee],Ee,ge);return Bt}function _o(ge,ke){for(var Ee=-1,et=ke.length,Bt=ge.length;++Ee<et;)ge[Bt+Ee]=ke[Ee];return ge}function vo(ge,ke,Ee,et){var Bt=-1,Ln=ge==null?0:ge.length;for(et&&Ln&&(Ee=ge[++Bt]);++Bt<Ln;)Ee=ke(Ee,ge[Bt],Bt,ge);return Ee}function Qh(ge,ke,Ee,et){var Bt=ge==null?0:ge.length;for(et&&Bt&&(Ee=ge[--Bt]);Bt--;)Ee=ke(Ee,ge[Bt],Bt,ge);return Ee}function Pu(ge,ke){for(var Ee=-1,et=ge==null?0:ge.length;++Ee<et;)if(ke(ge[Ee],Ee,ge))return!0;return!1}var Xh=L("length");function Dc(ge){return ge.split("")}function Ou(ge){return ge.match(Js)||[]}function Hi(ge,ke,Ee){var et;return Ee(ge,function(Bt,Ln,ei){if(ke(Bt,Ln,ei))return et=Ln,!1}),et}function ql(ge,ke,Ee,et){for(var Bt=ge.length,Ln=Ee+(et?1:-1);et?Ln--:++Ln<Bt;)if(ke(ge[Ln],Ln,ge))return Ln;return-1}function wa(ge,ke,Ee){return ke===ke?Zh(ge,ke,Ee):ql(ge,g,Ee)}function qo(ge,ke,Ee,et){for(var Bt=Ee-1,Ln=ge.length;++Bt<Ln;)if(et(ge[Bt],ke))return Bt;return-1}function g(ge){return ge!==ge}function T(ge,ke){var Ee=ge==null?0:ge.length;return Ee?Je(ge,ke)/Ee:Y}function L(ge){return function(ke){return ke==null?t:ke[ge]}}function J(ge){return function(ke){return ge==null?t:ge[ke]}}function _e(ge,ke,Ee,et,Bt){return Bt(ge,function(Ln,ei,Yn){Ee=et?(et=!1,Ln):ke(Ee,Ln,ei,Yn)}),Ee}function Ae(ge,ke){var Ee=ge.length;for(ge.sort(ke);Ee--;)ge[Ee]=ge[Ee].value;return ge}function Je(ge,ke){for(var Ee,et=-1,Bt=ge.length;++et<Bt;){var Ln=ke(ge[et]);Ln!==t&&(Ee=Ee===t?Ln:Ee+Ln)}return Ee}function jn(ge,ke){for(var Ee=-1,et=Array(ge);++Ee<ge;)et[Ee]=ke(Ee);return et}function pi(ge,ke){return Gn(ke,function(Ee){return[Ee,ge[Ee]]})}function En(ge){return ge&&ge.slice(0,ef(ge)+1).replace(kr,"")}function zn(ge){return function(ke){return ge(ke)}}function Or(ge,ke){return Gn(ke,function(Ee){return ge[Ee]})}function Wi(ge,ke){return ge.has(ke)}function Ts(ge,ke){for(var Ee=-1,et=ge.length;++Ee<et&&wa(ke,ge[Ee],0)>-1;);return Ee}function Ya(ge,ke){for(var Ee=ge.length;Ee--&&wa(ke,ge[Ee],0)>-1;);return Ee}function Lu(ge,ke){for(var Ee=ge.length,et=0;Ee--;)ge[Ee]===ke&&++et;return et}var Om=J(I),Lm=J(W);function Dm(ge){return"\\"+Ie[ge]}function Du(ge,ke){return ge==null?t:ge[ke]}function Mu(ge){return ya.test(ge)}function Y_(ge){return Zr.test(ge)}function Z_(ge){for(var ke,Ee=[];!(ke=ge.next()).done;)Ee.push(ke.value);return Ee}function Yh(ge){var ke=-1,Ee=Array(ge.size);return ge.forEach(function(et,Bt){Ee[++ke]=[Bt,et]}),Ee}function up(ge,ke){return function(Ee){return ge(ke(Ee))}}function Ys(ge,ke){for(var Ee=-1,et=ge.length,Bt=0,Ln=[];++Ee<et;){var ei=ge[Ee];(ei===ke||ei===_)&&(ge[Ee]=_,Ln[Bt++]=Ee)}return Ln}function Za(ge){var ke=-1,Ee=Array(ge.size);return ge.forEach(function(et){Ee[++ke]=et}),Ee}function ev(ge){var ke=-1,Ee=Array(ge.size);return ge.forEach(function(et){Ee[++ke]=[et,et]}),Ee}function Zh(ge,ke,Ee){for(var et=Ee-1,Bt=ge.length;++et<Bt;)if(ge[et]===ke)return et;return-1}function tv(ge,ke,Ee){for(var et=Ee+1;et--;)if(ge[et]===ke)return et;return et}function $l(ge){return Mu(ge)?Fm(ge):Xh(ge)}function Vs(ge){return Mu(ge)?Um(ge):Dc(ge)}function ef(ge){for(var ke=ge.length;ke--&&vr.test(ge.charAt(ke)););return ke}var Mm=J(ee);function Fm(ge){for(var ke=Vr.lastIndex=0;Vr.test(ge);)++ke;return ke}function Um(ge){return ge.match(Vr)||[]}function nv(ge){return ge.match(ma)||[]}var rv=function ge(ke){ke=ke==null?St:Fu.defaults(St.Object(),ke,Fu.pick(St,Qs));var Ee=ke.Array,et=ke.Date,Bt=ke.Error,Ln=ke.Function,ei=ke.Math,Yn=ke.Object,Mc=ke.RegExp,iv=ke.String,Zs=ke.TypeError,Ea=Ee.prototype,cp=Ln.prototype,$o=Yn.prototype,Uu=ke["__core-js_shared__"],Fc=cp.toString,Dn=$o.hasOwnProperty,Bu=0,tf=function(){var u=/[^.]+$/.exec(Uu&&Uu.keys&&Uu.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Uc=$o.toString,nf=Fc.call(Yn),Bm=St._,Vm=Mc("^"+Fc.call(Dn).replace(nr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bc=jr?ke.Buffer:t,Ta=ke.Symbol,Vc=ke.Uint8Array,hp=Bc?Bc.allocUnsafe:t,wo=up(Yn.getPrototypeOf,Yn),rf=Yn.create,sf=$o.propertyIsEnumerable,of=Ea.splice,jm=Ta?Ta.isConcatSpreadable:t,ba=Ta?Ta.iterator:t,zl=Ta?Ta.toStringTag:t,jc=function(){try{var u=cl(Yn,"defineProperty");return u({},"",{}),u}catch{}}(),qm=ke.clearTimeout!==St.clearTimeout&&ke.clearTimeout,fr=et&&et.now!==St.Date.now&&et.now,fp=ke.setTimeout!==St.setTimeout&&ke.setTimeout,Hl=ei.ceil,el=ei.floor,af=Yn.getOwnPropertySymbols,dp=Bc?Bc.isBuffer:t,Vu=ke.isFinite,lf=Ea.join,ju=up(Yn.keys,Yn),ti=ei.max,Gi=ei.min,sv=et.now,$m=ke.parseInt,qc=ei.random,uf=Ea.reverse,$c=cl(ke,"DataView"),Wl=cl(ke,"Map"),zc=cl(ke,"Promise"),tl=cl(ke,"Set"),Hc=cl(ke,"WeakMap"),qu=cl(Yn,"create"),cf=Hc&&new Hc,$u={},pp=hl($c),nl=hl(Wl),zm=hl(zc),zu=hl(tl),zo=hl(Hc),rl=Ta?Ta.prototype:t,js=rl?rl.valueOf:t,hf=rl?rl.toString:t;function H(u){if(ri(u)&&!en(u)&&!(u instanceof Zt)){if(u instanceof Ki)return u;if(Dn.call(u,"__wrapped__"))return _y(u)}return new Ki(u)}var Hu=function(){function u(){}return function(h){if(!$r(h))return{};if(rf)return rf(h);u.prototype=h;var y=new u;return u.prototype=t,y}}();function Ho(){}function Ki(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=t}H.templateSettings={escape:Si,evaluate:Ur,interpolate:ki,variable:"",imports:{_:H}},H.prototype=Ho.prototype,H.prototype.constructor=H,Ki.prototype=Hu(Ho.prototype),Ki.prototype.constructor=Ki;function Zt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function ff(){var u=new Zt(this.__wrapped__);return u.__actions__=as(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=as(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=as(this.__views__),u}function gp(){if(this.__filtered__){var u=new Zt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Wu(){var u=this.__wrapped__.value(),h=this.__dir__,y=en(u),C=h<0,B=y?u.length:0,Q=$p(0,B,this.__views__),te=Q.start,ue=Q.end,ye=ue-te,De=C?ue:te-1,Me=this.__iteratees__,je=Me.length,Ze=0,mt=Gi(ye,this.__takeCount__);if(!y||!C&&B==ye&&mt==ye)return ec(u,this.__actions__);var Ot=[];e:for(;ye--&&Ze<mt;){De+=h;for(var dn=-1,Lt=u[De];++dn<je;){var Tn=Me[dn],Nn=Tn.iteratee,ko=Tn.type,Ws=Nn(Lt);if(ko==le)Lt=Ws;else if(!Ws){if(ko==oe)continue e;break e}}Ot[Ze++]=Lt}return Ot}Zt.prototype=Hu(Ho.prototype),Zt.prototype.constructor=Zt;function bs(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var C=u[h];this.set(C[0],C[1])}}function dr(){this.__data__=qu?qu(null):{},this.size=0}function ar(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function il(u){var h=this.__data__;if(qu){var y=h[u];return y===d?t:y}return Dn.call(h,u)?h[u]:t}function Ji(u){var h=this.__data__;return qu?h[u]!==t:Dn.call(h,u)}function Ss(u,h){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=qu&&h===t?d:h,this}bs.prototype.clear=dr,bs.prototype.delete=ar,bs.prototype.get=il,bs.prototype.has=Ji,bs.prototype.set=Ss;function os(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var C=u[h];this.set(C[0],C[1])}}function Gu(){this.__data__=[],this.size=0}function As(u){var h=this.__data__,y=Xi(h,u);if(y<0)return!1;var C=h.length-1;return y==C?h.pop():of.call(h,y,1),--this.size,!0}function df(u){var h=this.__data__,y=Xi(h,u);return y<0?t:h[y][1]}function Hm(u){return Xi(this.__data__,u)>-1}function Wm(u,h){var y=this.__data__,C=Xi(y,u);return C<0?(++this.size,y.push([u,h])):y[C][1]=h,this}os.prototype.clear=Gu,os.prototype.delete=As,os.prototype.get=df,os.prototype.has=Hm,os.prototype.set=Wm;function eo(u){var h=-1,y=u==null?0:u.length;for(this.clear();++h<y;){var C=u[h];this.set(C[0],C[1])}}function Gm(){this.size=0,this.__data__={hash:new bs,map:new(Wl||os),string:new bs}}function Sa(u){var h=ah(this,u).delete(u);return this.size-=h?1:0,h}function pf(u){return ah(this,u).get(u)}function mp(u){return ah(this,u).has(u)}function Km(u,h){var y=ah(this,u),C=y.size;return y.set(u,h),this.size+=y.size==C?0:1,this}eo.prototype.clear=Gm,eo.prototype.delete=Sa,eo.prototype.get=pf,eo.prototype.has=mp,eo.prototype.set=Km;function Gl(u){var h=-1,y=u==null?0:u.length;for(this.__data__=new eo;++h<y;)this.add(u[h])}function sl(u){return this.__data__.set(u,d),this}function Ku(u){return this.__data__.has(u)}Gl.prototype.add=Gl.prototype.push=sl,Gl.prototype.has=Ku;function Qi(u){var h=this.__data__=new os(u);this.size=h.size}function gf(){this.__data__=new os,this.size=0}function mf(u){var h=this.__data__,y=h.delete(u);return this.size=h.size,y}function to(u){return this.__data__.get(u)}function no(u){return this.__data__.has(u)}function Kl(u,h){var y=this.__data__;if(y instanceof os){var C=y.__data__;if(!Wl||C.length<i-1)return C.push([u,h]),this.size=++y.size,this;y=this.__data__=new eo(C)}return y.set(u,h),this.size=y.size,this}Qi.prototype.clear=gf,Qi.prototype.delete=mf,Qi.prototype.get=to,Qi.prototype.has=no,Qi.prototype.set=Kl;function Wo(u,h){var y=en(u),C=!y&&vh(u),B=!y&&!C&&cc(u),Q=!y&&!C&&!B&&ad(u),te=y||C||B||Q,ue=te?jn(u.length,iv):[],ye=ue.length;for(var De in u)(h||Dn.call(u,De))&&!(te&&(De=="length"||B&&(De=="offset"||De=="parent")||Q&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||Tr(De,ye)))&&ue.push(De);return ue}function Go(u){var h=u.length;return h?u[Yu(0,h-1)]:t}function Jl(u,h){return qf(as(u),Aa(h,0,u.length))}function Jm(u){return qf(as(u))}function Wc(u,h,y){(y!==t&&!Da(u[h],y)||y===t&&!(h in u))&&Ko(u,h,y)}function Ql(u,h,y){var C=u[h];(!(Dn.call(u,h)&&Da(C,y))||y===t&&!(h in u))&&Ko(u,h,y)}function Xi(u,h){for(var y=u.length;y--;)if(Da(u[y][0],h))return y;return-1}function qs(u,h,y,C){return Qo(u,function(B,Q,te){h(C,B,y(B),te)}),C}function pr(u,h){return u&&To(h,es(h),u)}function Eo(u,h){return u&&To(h,ho(h),u)}function Ko(u,h,y){h=="__proto__"&&jc?jc(u,h,{configurable:!0,enumerable:!0,value:y,writable:!0}):u[h]=y}function yf(u,h){for(var y=-1,C=h.length,B=Ee(C),Q=u==null;++y<C;)B[y]=Q?t:xv(u,h[y]);return B}function Aa(u,h,y){return u===u&&(y!==t&&(u=u<=y?u:y),h!==t&&(u=u>=h?u:h)),u}function Cs(u,h,y,C,B,Q){var te,ue=h&v,ye=h&w,De=h&b;if(y&&(te=B?y(u,C,B,Q):y(u)),te!==t)return te;if(!$r(u))return u;var Me=en(u);if(Me){if(te=uh(u),!ue)return as(u,te)}else{var je=Li(u),Ze=je==pt||je==gt;if(cc(u))return Np(u,ue);if(je==Bn||je==xe||Ze&&!B){if(te=ye||Ze?{}:Di(u),!ue)return ye?av(u,Eo(te,u)):kf(u,pr(te,u))}else{if(!tn[je])return B?u:{};te=lv(u,je,ue)}}Q||(Q=new Qi);var mt=Q.get(u);if(mt)return mt;Q.set(u,te),AT(u)?u.forEach(function(Lt){te.add(Cs(Lt,h,y,Lt,u,Q))}):bT(u)&&u.forEach(function(Lt,Tn){te.set(Tn,Cs(Lt,h,y,Tn,u,Q))});var Ot=De?ye?oh:sh:ye?ho:es,dn=Me?t:Ot(u);return di(dn||u,function(Lt,Tn){dn&&(Tn=Lt,Lt=u[Tn]),Ql(te,Tn,Cs(Lt,h,y,Tn,u,Q))}),te}function Qm(u){var h=es(u);return function(y){return Gc(y,u,h)}}function Gc(u,h,y){var C=y.length;if(u==null)return!C;for(u=Yn(u);C--;){var B=y[C],Q=h[B],te=u[B];if(te===t&&!(B in u)||!Q(te))return!1}return!0}function yp(u,h,y){if(typeof u!="function")throw new Zs(l);return ac(function(){u.apply(t,y)},h)}function Jo(u,h,y,C){var B=-1,Q=jl,te=!0,ue=u.length,ye=[],De=h.length;if(!ue)return ye;y&&(h=Gn(h,zn(y))),C?(Q=Xa,te=!1):h.length>=i&&(Q=Wi,te=!1,h=new Gl(h));e:for(;++B<ue;){var Me=u[B],je=y==null?Me:y(Me);if(Me=C||Me!==0?Me:0,te&&je===je){for(var Ze=De;Ze--;)if(h[Ze]===je)continue e;ye.push(Me)}else Q(h,je,C)||ye.push(Me)}return ye}var Qo=ao($s),Xm=ao(ol,!0);function Kc(u,h){var y=!0;return Qo(u,function(C,B,Q){return y=!!h(C,B,Q),y}),y}function Xl(u,h,y){for(var C=-1,B=u.length;++C<B;){var Q=u[C],te=h(Q);if(te!=null&&(ue===t?te===te&&!Ro(te):y(te,ue)))var ue=te,ye=Q}return ye}function Ym(u,h,y,C){var B=u.length;for(y=un(y),y<0&&(y=-y>B?0:B+y),C=C===t||C>B?B:un(C),C<0&&(C+=B),C=y>C?0:xT(C);y<C;)u[y++]=h;return u}function _p(u,h){var y=[];return Qo(u,function(C,B,Q){h(C,B,Q)&&y.push(C)}),y}function Lr(u,h,y,C,B){var Q=-1,te=u.length;for(y||(y=Bf),B||(B=[]);++Q<te;){var ue=u[Q];h>0&&y(ue)?h>1?Lr(ue,h-1,y,C,B):_o(B,ue):C||(B[B.length]=ue)}return B}var _f=Pf(),Jc=Pf(!0);function $s(u,h){return u&&_f(u,h,es)}function ol(u,h){return u&&Jc(u,h,es)}function Ju(u,h){return Xs(h,function(y){return uu(u[y])})}function Ca(u,h){h=Zo(h,u);for(var y=0,C=h.length;u!=null&&y<C;)u=u[Co(h[y++])];return y&&y==C?u:t}function vf(u,h,y){var C=h(u);return en(u)?C:_o(C,y(u))}function Pi(u){return u==null?u===t?Ht:tr:zl&&zl in Yn(u)?Uf(u):Hp(u)}function al(u,h){return u>h}function ro(u,h){return u!=null&&Dn.call(u,h)}function Yl(u,h){return u!=null&&h in Yn(u)}function vp(u,h,y){return u>=Gi(h,y)&&u<ti(h,y)}function wf(u,h,y){for(var C=y?Xa:jl,B=u[0].length,Q=u.length,te=Q,ue=Ee(Q),ye=1/0,De=[];te--;){var Me=u[te];te&&h&&(Me=Gn(Me,zn(h))),ye=Gi(Me.length,ye),ue[te]=!y&&(h||B>=120&&Me.length>=120)?new Gl(te&&Me):t}Me=u[0];var je=-1,Ze=ue[0];e:for(;++je<B&&De.length<ye;){var mt=Me[je],Ot=h?h(mt):mt;if(mt=y||mt!==0?mt:0,!(Ze?Wi(Ze,Ot):C(De,Ot,y))){for(te=Q;--te;){var dn=ue[te];if(!(dn?Wi(dn,Ot):C(u[te],Ot,y)))continue e}Ze&&Ze.push(Ot),De.push(mt)}}return De}function xa(u,h,y,C){return $s(u,function(B,Q,te){h(C,y(B),Q,te)}),C}function io(u,h,y){h=Zo(h,u),u=Ci(u,h);var C=u==null?u:u[Co(cs(h))];return C==null?t:Ar(C,u,y)}function Ef(u){return ri(u)&&Pi(u)==xe}function Zm(u){return ri(u)&&Pi(u)==wt}function Ia(u){return ri(u)&&Pi(u)==Ge}function so(u,h,y,C,B){return u===h?!0:u==null||h==null||!ri(u)&&!ri(h)?u!==u&&h!==h:Tf(u,h,y,C,so,B)}function Tf(u,h,y,C,B,Q){var te=en(u),ue=en(h),ye=te?Le:Li(u),De=ue?Le:Li(h);ye=ye==xe?Bn:ye,De=De==xe?Bn:De;var Me=ye==Bn,je=De==Bn,Ze=ye==De;if(Ze&&cc(u)){if(!cc(h))return!1;te=!0,Me=!1}if(Ze&&!Me)return Q||(Q=new Qi),te||ad(u)?jp(u,h,y,C,B,Q):qp(u,h,ye,y,C,B,Q);if(!(y&A)){var mt=Me&&Dn.call(u,"__wrapped__"),Ot=je&&Dn.call(h,"__wrapped__");if(mt||Ot){var dn=mt?u.value():u,Lt=Ot?h.value():h;return Q||(Q=new Qi),B(dn,Lt,y,C,Q)}}return Ze?(Q||(Q=new Qi),cy(u,h,y,C,B,Q)):!1}function ey(u){return ri(u)&&Li(u)==st}function Qu(u,h,y,C){var B=y.length,Q=B,te=!C;if(u==null)return!Q;for(u=Yn(u);B--;){var ue=y[B];if(te&&ue[2]?ue[1]!==u[ue[0]]:!(ue[0]in u))return!1}for(;++B<Q;){ue=y[B];var ye=ue[0],De=u[ye],Me=ue[1];if(te&&ue[2]){if(De===t&&!(ye in u))return!1}else{var je=new Qi;if(C)var Ze=C(De,Me,ye,u,h,je);if(!(Ze===t?so(Me,De,A|R,C,je):Ze))return!1}}return!0}function wp(u){if(!$r(u)||dy(u))return!1;var h=uu(u)?Vm:Qr;return h.test(hl(u))}function Qc(u){return ri(u)&&Pi(u)==cn}function Xo(u){return ri(u)&&Li(u)==hn}function Xc(u){return ri(u)&&Py(u.length)&&!!sn[Pi(u)]}function Xu(u){return typeof u=="function"?u:u==null?fo:typeof u=="object"?en(u)?Er(u[0],u[1]):bf(u):UT(u)}function Ra(u){if(!Oa(u))return ju(u);var h=[];for(var y in Yn(u))Dn.call(u,y)&&y!="constructor"&&h.push(y);return h}function Ep(u){if(!$r(u))return my(u);var h=Oa(u),y=[];for(var C in u)C=="constructor"&&(h||!Dn.call(u,C))||y.push(C);return y}function ll(u,h){return u<h}function Tp(u,h){var y=-1,C=co(u)?Ee(u.length):[];return Qo(u,function(B,Q,te){C[++y]=h(B,Q,te)}),C}function bf(u){var h=lh(u);return h.length==1&&h[0][2]?Vf(h[0][0],h[0][1]):function(y){return y===u||Qu(y,u,h)}}function Er(u,h){return it(u)&&hh(h)?Vf(Co(u),h):function(y){var C=xv(y,u);return C===t&&C===h?Iv(y,u):so(h,C,A|R)}}function Zl(u,h,y,C,B){u!==h&&_f(h,function(Q,te){if(B||(B=new Qi),$r(Q))bp(u,h,te,y,Zl,C,B);else{var ue=C?C(na(u,te),Q,te+"",u,h,B):t;ue===t&&(ue=Q),Wc(u,te,ue)}},ho)}function bp(u,h,y,C,B,Q,te){var ue=na(u,y),ye=na(h,y),De=te.get(ye);if(De){Wc(u,y,De);return}var Me=Q?Q(ue,ye,y+"",u,h,te):t,je=Me===t;if(je){var Ze=en(ye),mt=!Ze&&cc(ye),Ot=!Ze&&!mt&&ad(ye);Me=ye,Ze||mt||Ot?en(ue)?Me=ue:_i(ue)?Me=as(ue):mt?(je=!1,Me=Np(ye,!0)):Ot?(je=!1,Me=sy(ye,!0)):Me=[]:ug(ye)||vh(ye)?(Me=ue,vh(ue)?Me=IT(ue):(!$r(ue)||uu(ue))&&(Me=Di(ye))):je=!1}je&&(te.set(ye,Me),B(Me,ye,C,Q,te),te.delete(ye)),Wc(u,y,Me)}function Sf(u,h){var y=u.length;if(y)return h+=h<0?y:0,Tr(h,y)?u[h]:t}function Yc(u,h,y){h.length?h=Gn(h,function(Q){return en(Q)?function(te){return Ca(te,Q.length===1?Q[0]:Q)}:Q}):h=[fo];var C=-1;h=Gn(h,zn(bt()));var B=Tp(u,function(Q,te,ue){var ye=Gn(h,function(De){return De(Q)});return{criteria:ye,index:++C,value:Q}});return Ae(B,function(Q,te){return ov(Q,te,y)})}function Sp(u,h){return ul(u,h,function(y,C){return Iv(u,C)})}function ul(u,h,y){for(var C=-1,B=h.length,Q={};++C<B;){var te=h[C],ue=Ca(u,te);y(ue,te)&&tu(Q,Zo(te,u),ue)}return Q}function Cr(u){return function(h){return Ca(h,u)}}function qr(u,h,y,C){var B=C?qo:wa,Q=-1,te=h.length,ue=u;for(u===h&&(h=as(h)),y&&(ue=Gn(u,zn(y)));++Q<te;)for(var ye=0,De=h[Q],Me=y?y(De):De;(ye=B(ue,Me,ye,C))>-1;)ue!==u&&of.call(ue,ye,1),of.call(u,ye,1);return u}function gi(u,h){for(var y=u?h.length:0,C=y-1;y--;){var B=h[y];if(y==C||B!==Q){var Q=B;Tr(B)?of.call(u,B,1):xf(u,B)}}return u}function Yu(u,h){return u+el(qc()*(h-u+1))}function Zc(u,h,y,C){for(var B=-1,Q=ti(Hl((h-u)/(y||1)),0),te=Ee(Q);Q--;)te[C?Q:++B]=u,u+=y;return te}function eu(u,h){var y="";if(!u||h<1||h>se)return y;do h%2&&(y+=u),h=el(h/2),h&&(u+=u);while(h);return y}function ln(u,h){return zs(jf(u,h,fo),u+"")}function Yi(u){return Go(ld(u))}function Ap(u,h){var y=ld(u);return qf(y,Aa(h,0,y.length))}function tu(u,h,y,C){if(!$r(u))return u;h=Zo(h,u);for(var B=-1,Q=h.length,te=Q-1,ue=u;ue!=null&&++B<Q;){var ye=Co(h[B]),De=y;if(ye==="__proto__"||ye==="constructor"||ye==="prototype")return u;if(B!=te){var Me=ue[ye];De=C?C(Me,ye,ue):t,De===t&&(De=$r(Me)?Me:Tr(h[B+1])?[]:{})}Ql(ue,ye,De),ue=ue[ye]}return u}var Af=cf?function(u,h){return cf.set(u,h),u}:fo,Yo=jc?function(u,h){return jc(u,"toString",{configurable:!0,enumerable:!1,value:kv(h),writable:!0})}:fo;function oo(u){return qf(ld(u))}function Zi(u,h,y){var C=-1,B=u.length;h<0&&(h=-h>B?0:B+h),y=y>B?B:y,y<0&&(y+=B),B=h>y?0:y-h>>>0,h>>>=0;for(var Q=Ee(B);++C<B;)Q[C]=u[C+h];return Q}function Cp(u,h){var y;return Qo(u,function(C,B,Q){return y=h(C,B,Q),!y}),!!y}function Zu(u,h,y){var C=0,B=u==null?C:u.length;if(typeof h=="number"&&h===h&&B<=fe){for(;C<B;){var Q=C+B>>>1,te=u[Q];te!==null&&!Ro(te)&&(y?te<=h:te<h)?C=Q+1:B=Q}return B}return Cf(u,h,fo,y)}function Cf(u,h,y,C){var B=0,Q=u==null?0:u.length;if(Q===0)return 0;h=y(h);for(var te=h!==h,ue=h===null,ye=Ro(h),De=h===t;B<Q;){var Me=el((B+Q)/2),je=y(u[Me]),Ze=je!==t,mt=je===null,Ot=je===je,dn=Ro(je);if(te)var Lt=C||Ot;else De?Lt=Ot&&(C||Ze):ue?Lt=Ot&&Ze&&(C||!mt):ye?Lt=Ot&&Ze&&!mt&&(C||!dn):mt||dn?Lt=!1:Lt=C?je<=h:je<h;Lt?B=Me+1:Q=Me}return Gi(Q,ie)}function xp(u,h){for(var y=-1,C=u.length,B=0,Q=[];++y<C;){var te=u[y],ue=h?h(te):te;if(!y||!Da(ue,ye)){var ye=ue;Q[B++]=te===0?0:te}}return Q}function Ip(u){return typeof u=="number"?u:Ro(u)?Y:+u}function xs(u){if(typeof u=="string")return u;if(en(u))return Gn(u,xs)+"";if(Ro(u))return hf?hf.call(u):"";var h=u+"";return h=="0"&&1/u==-1/0?"-0":h}function ka(u,h,y){var C=-1,B=jl,Q=u.length,te=!0,ue=[],ye=ue;if(y)te=!1,B=Xa;else if(Q>=i){var De=h?null:uy(u);if(De)return Za(De);te=!1,B=Wi,ye=new Gl}else ye=h?[]:ue;e:for(;++C<Q;){var Me=u[C],je=h?h(Me):Me;if(Me=y||Me!==0?Me:0,te&&je===je){for(var Ze=ye.length;Ze--;)if(ye[Ze]===je)continue e;h&&ye.push(je),ue.push(Me)}else B(ye,je,y)||(ye!==ue&&ye.push(je),ue.push(Me))}return ue}function xf(u,h){return h=Zo(h,u),u=Ci(u,h),u==null||delete u[Co(cs(h))]}function Rp(u,h,y,C){return tu(u,h,y(Ca(u,h)),C)}function eh(u,h,y,C){for(var B=u.length,Q=C?B:-1;(C?Q--:++Q<B)&&h(u[Q],Q,u););return y?Zi(u,C?0:Q,C?Q+1:B):Zi(u,C?Q+1:0,C?B:Q)}function ec(u,h){var y=u;return y instanceof Zt&&(y=y.value()),vo(h,function(C,B){return B.func.apply(B.thisArg,_o([C],B.args))},y)}function If(u,h,y){var C=u.length;if(C<2)return C?ka(u[0]):[];for(var B=-1,Q=Ee(C);++B<C;)for(var te=u[B],ue=-1;++ue<C;)ue!=B&&(Q[B]=Jo(Q[B]||te,u[ue],h,y));return ka(Lr(Q,1),h,y)}function th(u,h,y){for(var C=-1,B=u.length,Q=h.length,te={};++C<B;){var ue=C<Q?h[C]:t;y(te,u[C],ue)}return te}function tc(u){return _i(u)?u:[]}function Rf(u){return typeof u=="function"?u:fo}function Zo(u,h){return en(u)?u:it(u,h)?[u]:Kp(Zn(u))}var ty=ln;function Na(u,h,y){var C=u.length;return y=y===t?C:y,!h&&y>=C?u:Zi(u,h,y)}var kp=qm||function(u){return St.clearTimeout(u)};function Np(u,h){if(h)return u.slice();var y=u.length,C=hp?hp(y):new u.constructor(y);return u.copy(C),C}function nh(u){var h=new u.constructor(u.byteLength);return new Vc(h).set(new Vc(u)),h}function ny(u,h){var y=h?nh(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.byteLength)}function ry(u){var h=new u.constructor(u.source,yn.exec(u));return h.lastIndex=u.lastIndex,h}function iy(u){return js?Yn(js.call(u)):{}}function sy(u,h){var y=h?nh(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.length)}function Pp(u,h){if(u!==h){var y=u!==t,C=u===null,B=u===u,Q=Ro(u),te=h!==t,ue=h===null,ye=h===h,De=Ro(h);if(!ue&&!De&&!Q&&u>h||Q&&te&&ye&&!ue&&!De||C&&te&&ye||!y&&ye||!B)return 1;if(!C&&!Q&&!De&&u<h||De&&y&&B&&!C&&!Q||ue&&y&&B||!te&&B||!ye)return-1}return 0}function ov(u,h,y){for(var C=-1,B=u.criteria,Q=h.criteria,te=B.length,ue=y.length;++C<te;){var ye=Pp(B[C],Q[C]);if(ye){if(C>=ue)return ye;var De=y[C];return ye*(De=="desc"?-1:1)}}return u.index-h.index}function oy(u,h,y,C){for(var B=-1,Q=u.length,te=y.length,ue=-1,ye=h.length,De=ti(Q-te,0),Me=Ee(ye+De),je=!C;++ue<ye;)Me[ue]=h[ue];for(;++B<te;)(je||B<Q)&&(Me[y[B]]=u[B]);for(;De--;)Me[ue++]=u[B++];return Me}function Op(u,h,y,C){for(var B=-1,Q=u.length,te=-1,ue=y.length,ye=-1,De=h.length,Me=ti(Q-ue,0),je=Ee(Me+De),Ze=!C;++B<Me;)je[B]=u[B];for(var mt=B;++ye<De;)je[mt+ye]=h[ye];for(;++te<ue;)(Ze||B<Q)&&(je[mt+y[te]]=u[B++]);return je}function as(u,h){var y=-1,C=u.length;for(h||(h=Ee(C));++y<C;)h[y]=u[y];return h}function To(u,h,y,C){var B=!y;y||(y={});for(var Q=-1,te=h.length;++Q<te;){var ue=h[Q],ye=C?C(y[ue],u[ue],ue,y,u):t;ye===t&&(ye=u[ue]),B?Ko(y,ue,ye):Ql(y,ue,ye)}return y}function kf(u,h){return To(u,bo(u),h)}function av(u,h){return To(u,hy(u),h)}function Nf(u,h){return function(y,C){var B=en(y)?va:qs,Q=h?h():{};return B(y,u,bt(C,2),Q)}}function nc(u){return ln(function(h,y){var C=-1,B=y.length,Q=B>1?y[B-1]:t,te=B>2?y[2]:t;for(Q=u.length>3&&typeof Q=="function"?(B--,Q):t,te&&us(y[0],y[1],te)&&(Q=B<3?t:Q,B=1),h=Yn(h);++C<B;){var ue=y[C];ue&&u(h,ue,C,Q)}return h})}function ao(u,h){return function(y,C){if(y==null)return y;if(!co(y))return u(y,C);for(var B=y.length,Q=h?B:-1,te=Yn(y);(h?Q--:++Q<B)&&C(te[Q],Q,te)!==!1;);return y}}function Pf(u){return function(h,y,C){for(var B=-1,Q=Yn(h),te=C(h),ue=te.length;ue--;){var ye=te[u?ue:++B];if(y(Q[ye],ye,Q)===!1)break}return h}}function Of(u,h,y){var C=h&N,B=rc(u);function Q(){var te=this&&this!==St&&this instanceof Q?B:u;return te.apply(C?y:this,arguments)}return Q}function Lp(u){return function(h){h=Zn(h);var y=Mu(h)?Vs(h):t,C=y?y[0]:h.charAt(0),B=y?Na(y,1).join(""):h.slice(1);return C[u]()+B}}function nu(u){return function(h){return vo(MT(DT(h).replace(Vo,"")),u,"")}}function rc(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var y=Hu(u.prototype),C=u.apply(y,h);return $r(C)?C:y}}function Dp(u,h,y){var C=rc(u);function B(){for(var Q=arguments.length,te=Ee(Q),ue=Q,ye=Pa(B);ue--;)te[ue]=arguments[ue];var De=Q<3&&te[0]!==ye&&te[Q-1]!==ye?[]:Ys(te,ye);if(Q-=De.length,Q<y)return ls(u,h,ic,B.placeholder,t,te,De,t,t,y-Q);var Me=this&&this!==St&&this instanceof B?C:u;return Ar(Me,this,te)}return B}function ru(u){return function(h,y,C){var B=Yn(h);if(!co(h)){var Q=bt(y,3);h=es(h),y=function(ue){return Q(B[ue],ue,B)}}var te=u(h,y,C);return te>-1?B[Q?h[te]:te]:t}}function Lf(u){return ta(function(h){var y=h.length,C=y,B=Ki.prototype.thru;for(u&&h.reverse();C--;){var Q=h[C];if(typeof Q!="function")throw new Zs(l);if(B&&!te&&sc(Q)=="wrapper")var te=new Ki([],!0)}for(C=te?C:y;++C<y;){Q=h[C];var ue=sc(Q),ye=ue=="wrapper"?Ff(Q):t;ye&&ch(ye[0])&&ye[1]==(U|x|$|j)&&!ye[4].length&&ye[9]==1?te=te[sc(ye[0])].apply(te,ye[3]):te=Q.length==1&&ch(Q)?te[ue]():te.thru(Q)}return function(){var De=arguments,Me=De[0];if(te&&De.length==1&&en(Me))return te.plant(Me).value();for(var je=0,Ze=y?h[je].apply(this,De):Me;++je<y;)Ze=h[je].call(this,Ze);return Ze}})}function ic(u,h,y,C,B,Q,te,ue,ye,De){var Me=h&U,je=h&N,Ze=h&D,mt=h&(x|M),Ot=h&q,dn=Ze?t:rc(u);function Lt(){for(var Tn=arguments.length,Nn=Ee(Tn),ko=Tn;ko--;)Nn[ko]=arguments[ko];if(mt)var Ws=Pa(Lt),No=Lu(Nn,Ws);if(C&&(Nn=oy(Nn,C,B,mt)),Q&&(Nn=Op(Nn,Q,te,mt)),Tn-=No,mt&&Tn<De){var vi=Ys(Nn,Ws);return ls(u,h,ic,Lt.placeholder,y,Nn,vi,ue,ye,De-Tn)}var Ma=je?y:this,hu=Ze?Ma[u]:u;return Tn=Nn.length,ue?Nn=So(Nn,ue):Ot&&Tn>1&&Nn.reverse(),Me&&ye<Tn&&(Nn.length=ye),this&&this!==St&&this instanceof Lt&&(hu=dn||rc(hu)),hu.apply(Ma,Nn)}return Lt}function ay(u,h){return function(y,C){return xa(y,u,h(C),{})}}function rh(u,h){return function(y,C){var B;if(y===t&&C===t)return h;if(y!==t&&(B=y),C!==t){if(B===t)return C;typeof y=="string"||typeof C=="string"?(y=xs(y),C=xs(C)):(y=Ip(y),C=Ip(C)),B=u(y,C)}return B}}function Df(u){return ta(function(h){return h=Gn(h,zn(bt())),ln(function(y){var C=this;return u(h,function(B){return Ar(B,C,y)})})})}function ih(u,h){h=h===t?" ":xs(h);var y=h.length;if(y<2)return y?eu(h,u):h;var C=eu(h,Hl(u/$l(h)));return Mu(h)?Na(Vs(C),0,u).join(""):C.slice(0,u)}function ly(u,h,y,C){var B=h&N,Q=rc(u);function te(){for(var ue=-1,ye=arguments.length,De=-1,Me=C.length,je=Ee(Me+ye),Ze=this&&this!==St&&this instanceof te?Q:u;++De<Me;)je[De]=C[De];for(;ye--;)je[De++]=arguments[++ue];return Ar(Ze,B?y:this,je)}return te}function Mp(u){return function(h,y,C){return C&&typeof C!="number"&&us(h,y,C)&&(y=C=t),h=cu(h),y===t?(y=h,h=0):y=cu(y),C=C===t?h<y?1:-1:cu(C),Zc(h,y,C,u)}}function Mf(u){return function(h,y){return typeof h=="string"&&typeof y=="string"||(h=ra(h),y=ra(y)),u(h,y)}}function ls(u,h,y,C,B,Q,te,ue,ye,De){var Me=h&x,je=Me?te:t,Ze=Me?t:te,mt=Me?Q:t,Ot=Me?t:Q;h|=Me?$:G,h&=~(Me?G:$),h&F||(h&=-4);var dn=[u,h,B,mt,je,Ot,Ze,ue,ye,De],Lt=y.apply(t,dn);return ch(u)&&Wp(Lt,dn),Lt.placeholder=C,Gp(Lt,u,h)}function Oi(u){var h=ei[u];return function(y,C){if(y=ra(y),C=C==null?0:Gi(un(C),292),C&&Vu(y)){var B=(Zn(y)+"e").split("e"),Q=h(B[0]+"e"+(+B[1]+C));return B=(Zn(Q)+"e").split("e"),+(B[0]+"e"+(+B[1]-C))}return h(y)}}var uy=tl&&1/Za(new tl([,-0]))[1]==pe?function(u){return new tl(u)}:Ov;function Fp(u){return function(h){var y=Li(h);return y==st?Yh(h):y==hn?ev(h):pi(h,u(h))}}function ea(u,h,y,C,B,Q,te,ue){var ye=h&D;if(!ye&&typeof u!="function")throw new Zs(l);var De=C?C.length:0;if(De||(h&=-97,C=B=t),te=te===t?te:ti(un(te),0),ue=ue===t?ue:un(ue),De-=B?B.length:0,h&G){var Me=C,je=B;C=B=t}var Ze=ye?t:Ff(u),mt=[u,h,y,C,B,Me,je,Q,te,ue];if(Ze&&gy(mt,Ze),u=mt[0],h=mt[1],y=mt[2],C=mt[3],B=mt[4],ue=mt[9]=mt[9]===t?ye?0:u.length:ti(mt[9]-De,0),!ue&&h&(x|M)&&(h&=-25),!h||h==N)var Ot=Of(u,h,y);else h==x||h==M?Ot=Dp(u,h,ue):(h==$||h==(N|$))&&!B.length?Ot=ly(u,h,y,C):Ot=ic.apply(t,mt);var dn=Ze?Af:Wp;return Gp(dn(Ot,mt),u,h)}function Up(u,h,y,C){return u===t||Da(u,$o[y])&&!Dn.call(C,y)?h:u}function Bp(u,h,y,C,B,Q){return $r(u)&&$r(h)&&(Q.set(h,u),Zl(u,h,t,Bp,Q),Q.delete(h)),u}function Vp(u){return ug(u)?t:u}function jp(u,h,y,C,B,Q){var te=y&A,ue=u.length,ye=h.length;if(ue!=ye&&!(te&&ye>ue))return!1;var De=Q.get(u),Me=Q.get(h);if(De&&Me)return De==h&&Me==u;var je=-1,Ze=!0,mt=y&R?new Gl:t;for(Q.set(u,h),Q.set(h,u);++je<ue;){var Ot=u[je],dn=h[je];if(C)var Lt=te?C(dn,Ot,je,h,u,Q):C(Ot,dn,je,u,h,Q);if(Lt!==t){if(Lt)continue;Ze=!1;break}if(mt){if(!Pu(h,function(Tn,Nn){if(!Wi(mt,Nn)&&(Ot===Tn||B(Ot,Tn,y,C,Q)))return mt.push(Nn)})){Ze=!1;break}}else if(!(Ot===dn||B(Ot,dn,y,C,Q))){Ze=!1;break}}return Q.delete(u),Q.delete(h),Ze}function qp(u,h,y,C,B,Q,te){switch(y){case Ut:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case wt:return!(u.byteLength!=h.byteLength||!Q(new Vc(u),new Vc(h)));case Re:case Ge:case zt:return Da(+u,+h);case Qe:return u.name==h.name&&u.message==h.message;case cn:case Cn:return u==h+"";case st:var ue=Yh;case hn:var ye=C&A;if(ue||(ue=Za),u.size!=h.size&&!ye)return!1;var De=te.get(u);if(De)return De==h;C|=R,te.set(u,h);var Me=jp(ue(u),ue(h),C,B,Q,te);return te.delete(u),Me;case mn:if(js)return js.call(u)==js.call(h)}return!1}function cy(u,h,y,C,B,Q){var te=y&A,ue=sh(u),ye=ue.length,De=sh(h),Me=De.length;if(ye!=Me&&!te)return!1;for(var je=ye;je--;){var Ze=ue[je];if(!(te?Ze in h:Dn.call(h,Ze)))return!1}var mt=Q.get(u),Ot=Q.get(h);if(mt&&Ot)return mt==h&&Ot==u;var dn=!0;Q.set(u,h),Q.set(h,u);for(var Lt=te;++je<ye;){Ze=ue[je];var Tn=u[Ze],Nn=h[Ze];if(C)var ko=te?C(Nn,Tn,Ze,h,u,Q):C(Tn,Nn,Ze,u,h,Q);if(!(ko===t?Tn===Nn||B(Tn,Nn,y,C,Q):ko)){dn=!1;break}Lt||(Lt=Ze=="constructor")}if(dn&&!Lt){var Ws=u.constructor,No=h.constructor;Ws!=No&&"constructor"in u&&"constructor"in h&&!(typeof Ws=="function"&&Ws instanceof Ws&&typeof No=="function"&&No instanceof No)&&(dn=!1)}return Q.delete(u),Q.delete(h),dn}function ta(u){return zs(jf(u,t,zf),u+"")}function sh(u){return vf(u,es,bo)}function oh(u){return vf(u,ho,hy)}var Ff=cf?function(u){return cf.get(u)}:Ov;function sc(u){for(var h=u.name+"",y=$u[h],C=Dn.call($u,h)?y.length:0;C--;){var B=y[C],Q=B.func;if(Q==null||Q==u)return B.name}return h}function Pa(u){var h=Dn.call(H,"placeholder")?H:u;return h.placeholder}function bt(){var u=H.iteratee||Nv;return u=u===Nv?Xu:u,arguments.length?u(arguments[0],arguments[1]):u}function ah(u,h){var y=u.__data__;return oc(h)?y[typeof h=="string"?"string":"hash"]:y.map}function lh(u){for(var h=es(u),y=h.length;y--;){var C=h[y],B=u[C];h[y]=[C,B,hh(B)]}return h}function cl(u,h){var y=Du(u,h);return wp(y)?y:t}function Uf(u){var h=Dn.call(u,zl),y=u[zl];try{u[zl]=t;var C=!0}catch{}var B=Uc.call(u);return C&&(h?u[zl]=y:delete u[zl]),B}var bo=af?function(u){return u==null?[]:(u=Yn(u),Xs(af(u),function(h){return sf.call(u,h)}))}:Lv,hy=af?function(u){for(var h=[];u;)_o(h,bo(u)),u=wo(u);return h}:Lv,Li=Pi;($c&&Li(new $c(new ArrayBuffer(1)))!=Ut||Wl&&Li(new Wl)!=st||zc&&Li(zc.resolve())!=ur||tl&&Li(new tl)!=hn||Hc&&Li(new Hc)!=xn)&&(Li=function(u){var h=Pi(u),y=h==Bn?u.constructor:t,C=y?hl(y):"";if(C)switch(C){case pp:return Ut;case nl:return st;case zm:return ur;case zu:return hn;case zo:return xn}return h});function $p(u,h,y){for(var C=-1,B=y.length;++C<B;){var Q=y[C],te=Q.size;switch(Q.type){case"drop":u+=te;break;case"dropRight":h-=te;break;case"take":h=Gi(h,u+te);break;case"takeRight":u=ti(u,h-te);break}}return{start:u,end:h}}function fy(u){var h=u.match(Qt);return h?h[1].split(qi):[]}function zp(u,h,y){h=Zo(h,u);for(var C=-1,B=h.length,Q=!1;++C<B;){var te=Co(h[C]);if(!(Q=u!=null&&y(u,te)))break;u=u[te]}return Q||++C!=B?Q:(B=u==null?0:u.length,!!B&&Py(B)&&Tr(te,B)&&(en(u)||vh(u)))}function uh(u){var h=u.length,y=new u.constructor(h);return h&&typeof u[0]=="string"&&Dn.call(u,"index")&&(y.index=u.index,y.input=u.input),y}function Di(u){return typeof u.constructor=="function"&&!Oa(u)?Hu(wo(u)):{}}function lv(u,h,y){var C=u.constructor;switch(h){case wt:return nh(u);case Re:case Ge:return new C(+u);case Ut:return ny(u,y);case qn:case Jt:case Wr:case Rr:case ns:case Ti:case bi:case Vi:case Gr:return sy(u,y);case st:return new C;case zt:case Cn:return new C(u);case cn:return ry(u);case hn:return new C;case mn:return iy(u)}}function uv(u,h){var y=h.length;if(!y)return u;var C=y-1;return h[C]=(y>1?"& ":"")+h[C],h=h.join(y>2?", ":" "),u.replace(ci,`{
/* [wrapped with `+h+`] */
`)}function Bf(u){return en(u)||vh(u)||!!(jm&&u&&u[jm])}function Tr(u,h){var y=typeof u;return h=h??se,!!h&&(y=="number"||y!="symbol"&&me.test(u))&&u>-1&&u%1==0&&u<h}function us(u,h,y){if(!$r(y))return!1;var C=typeof h;return(C=="number"?co(y)&&Tr(h,y.length):C=="string"&&h in y)?Da(y[h],u):!1}function it(u,h){if(en(u))return!1;var y=typeof u;return y=="number"||y=="symbol"||y=="boolean"||u==null||Ro(u)?!0:ji.test(u)||!_r.test(u)||h!=null&&u in Yn(h)}function oc(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function ch(u){var h=sc(u),y=H[h];if(typeof y!="function"||!(h in Zt.prototype))return!1;if(u===y)return!0;var C=Ff(y);return!!C&&u===C[0]}function dy(u){return!!tf&&tf in u}var cv=Uu?uu:Dv;function Oa(u){var h=u&&u.constructor,y=typeof h=="function"&&h.prototype||$o;return u===y}function hh(u){return u===u&&!$r(u)}function Vf(u,h){return function(y){return y==null?!1:y[u]===h&&(h!==t||u in Yn(y))}}function py(u){var h=He(u,function(C){return y.size===p&&y.clear(),C}),y=h.cache;return h}function gy(u,h){var y=u[1],C=h[1],B=y|C,Q=B<(N|D|U),te=C==U&&y==x||C==U&&y==j&&u[7].length<=h[8]||C==(U|j)&&h[7].length<=h[8]&&y==x;if(!(Q||te))return u;C&N&&(u[2]=h[2],B|=y&N?0:F);var ue=h[3];if(ue){var ye=u[3];u[3]=ye?oy(ye,ue,h[4]):ue,u[4]=ye?Ys(u[3],_):h[4]}return ue=h[5],ue&&(ye=u[5],u[5]=ye?Op(ye,ue,h[6]):ue,u[6]=ye?Ys(u[5],_):h[6]),ue=h[7],ue&&(u[7]=ue),C&U&&(u[8]=u[8]==null?h[8]:Gi(u[8],h[8])),u[9]==null&&(u[9]=h[9]),u[0]=h[0],u[1]=B,u}function my(u){var h=[];if(u!=null)for(var y in Yn(u))h.push(y);return h}function Hp(u){return Uc.call(u)}function jf(u,h,y){return h=ti(h===t?u.length-1:h,0),function(){for(var C=arguments,B=-1,Q=ti(C.length-h,0),te=Ee(Q);++B<Q;)te[B]=C[h+B];B=-1;for(var ue=Ee(h+1);++B<h;)ue[B]=C[B];return ue[h]=y(te),Ar(u,this,ue)}}function Ci(u,h){return h.length<2?u:Ca(u,Zi(h,0,-1))}function So(u,h){for(var y=u.length,C=Gi(h.length,y),B=as(u);C--;){var Q=h[C];u[C]=Tr(Q,y)?B[Q]:t}return u}function na(u,h){if(!(h==="constructor"&&typeof u[h]=="function")&&h!="__proto__")return u[h]}var Wp=Ao(Af),ac=fp||function(u,h){return St.setTimeout(u,h)},zs=Ao(Yo);function Gp(u,h,y){var C=h+"";return zs(u,uv(C,yy(fy(C),y)))}function Ao(u){var h=0,y=0;return function(){var C=sv(),B=O-(C-y);if(y=C,B>0){if(++h>=z)return arguments[0]}else h=0;return u.apply(t,arguments)}}function qf(u,h){var y=-1,C=u.length,B=C-1;for(h=h===t?C:h;++y<h;){var Q=Yu(y,B),te=u[Q];u[Q]=u[y],u[y]=te}return u.length=h,u}var Kp=py(function(u){var h=[];return u.charCodeAt(0)===46&&h.push(""),u.replace(Gt,function(y,C,B,Q){h.push(B?Q.replace(hi,"$1"):C||y)}),h});function Co(u){if(typeof u=="string"||Ro(u))return u;var h=u+"";return h=="0"&&1/u==-1/0?"-0":h}function hl(u){if(u!=null){try{return Fc.call(u)}catch{}try{return u+""}catch{}}return""}function yy(u,h){return di(Pe,function(y){var C="_."+y[0];h&y[1]&&!jl(u,C)&&u.push(C)}),u.sort()}function _y(u){if(u instanceof Zt)return u.clone();var h=new Ki(u.__wrapped__,u.__chain__);return h.__actions__=as(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}function $f(u,h,y){(y?us(u,h,y):h===t)?h=1:h=ti(un(h),0);var C=u==null?0:u.length;if(!C||h<1)return[];for(var B=0,Q=0,te=Ee(Hl(C/h));B<C;)te[Q++]=Zi(u,B,B+=h);return te}function Jp(u){for(var h=-1,y=u==null?0:u.length,C=0,B=[];++h<y;){var Q=u[h];Q&&(B[C++]=Q)}return B}function lo(){var u=arguments.length;if(!u)return[];for(var h=Ee(u-1),y=arguments[0],C=u;C--;)h[C-1]=arguments[C];return _o(en(y)?as(y):[y],Lr(h,1))}var kn=ln(function(u,h){return _i(u)?Jo(u,Lr(h,1,_i,!0)):[]}),xi=ln(function(u,h){var y=cs(h);return _i(y)&&(y=t),_i(u)?Jo(u,Lr(h,1,_i,!0),bt(y,2)):[]}),ni=ln(function(u,h){var y=cs(h);return _i(y)&&(y=t),_i(u)?Jo(u,Lr(h,1,_i,!0),t,y):[]});function Mi(u,h,y){var C=u==null?0:u.length;return C?(h=y||h===t?1:un(h),Zi(u,h<0?0:h,C)):[]}function Hs(u,h,y){var C=u==null?0:u.length;return C?(h=y||h===t?1:un(h),h=C-h,Zi(u,0,h<0?0:h)):[]}function lc(u,h){return u&&u.length?eh(u,bt(h,3),!0,!0):[]}function mi(u,h){return u&&u.length?eh(u,bt(h,3),!0):[]}function fh(u,h,y,C){var B=u==null?0:u.length;return B?(y&&typeof y!="number"&&us(u,h,y)&&(y=0,C=B),Ym(u,h,y,C)):[]}function fl(u,h,y){var C=u==null?0:u.length;if(!C)return-1;var B=y==null?0:un(y);return B<0&&(B=ti(C+B,0)),ql(u,bt(h,3),B)}function dh(u,h,y){var C=u==null?0:u.length;if(!C)return-1;var B=C-1;return y!==t&&(B=un(y),B=y<0?ti(C+B,0):Gi(B,C-1)),ql(u,bt(h,3),B,!0)}function zf(u){var h=u==null?0:u.length;return h?Lr(u,1):[]}function ph(u){var h=u==null?0:u.length;return h?Lr(u,pe):[]}function Is(u,h){var y=u==null?0:u.length;return y?(h=h===t?1:un(h),Lr(u,h)):[]}function Qp(u){for(var h=-1,y=u==null?0:u.length,C={};++h<y;){var B=u[h];C[B[0]]=B[1]}return C}function iu(u){return u&&u.length?u[0]:t}function La(u,h,y){var C=u==null?0:u.length;if(!C)return-1;var B=y==null?0:un(y);return B<0&&(B=ti(C+B,0)),wa(u,h,B)}function Hf(u){var h=u==null?0:u.length;return h?Zi(u,0,-1):[]}var Xp=ln(function(u){var h=Gn(u,tc);return h.length&&h[0]===u[0]?wf(h):[]}),dl=ln(function(u){var h=cs(u),y=Gn(u,tc);return h===cs(y)?h=t:y.pop(),y.length&&y[0]===u[0]?wf(y,bt(h,2)):[]}),Wf=ln(function(u){var h=cs(u),y=Gn(u,tc);return h=typeof h=="function"?h:t,h&&y.pop(),y.length&&y[0]===u[0]?wf(y,t,h):[]});function pl(u,h){return u==null?"":lf.call(u,h)}function cs(u){var h=u==null?0:u.length;return h?u[h-1]:t}function gh(u,h,y){var C=u==null?0:u.length;if(!C)return-1;var B=C;return y!==t&&(B=un(y),B=B<0?ti(C+B,0):Gi(B,C-1)),h===h?tv(u,h,B):ql(u,g,B,!0)}function Yp(u,h){return u&&u.length?Sf(u,un(h)):t}var Gf=ln(mh);function mh(u,h){return u&&u.length&&h&&h.length?qr(u,h):u}function hs(u,h,y){return u&&u.length&&h&&h.length?qr(u,h,bt(y,2)):u}function gl(u,h,y){return u&&u.length&&h&&h.length?qr(u,h,t,y):u}var xo=ta(function(u,h){var y=u==null?0:u.length,C=yf(u,h);return gi(u,Gn(h,function(B){return Tr(B,y)?+B:B}).sort(Pp)),C});function Rs(u,h){var y=[];if(!(u&&u.length))return y;var C=-1,B=[],Q=u.length;for(h=bt(h,3);++C<Q;){var te=u[C];h(te,C,u)&&(y.push(te),B.push(C))}return gi(u,B),y}function Kf(u){return u==null?u:uf.call(u)}function Zp(u,h,y){var C=u==null?0:u.length;return C?(y&&typeof y!="number"&&us(u,h,y)?(h=0,y=C):(h=h==null?0:un(h),y=y===t?C:un(y)),Zi(u,h,y)):[]}function eg(u,h){return Zu(u,h)}function hv(u,h,y){return Cf(u,h,bt(y,2))}function ml(u,h){var y=u==null?0:u.length;if(y){var C=Zu(u,h);if(C<y&&Da(u[C],h))return C}return-1}function vy(u,h){return Zu(u,h,!0)}function tg(u,h,y){return Cf(u,h,bt(y,2),!0)}function su(u,h){var y=u==null?0:u.length;if(y){var C=Zu(u,h,!0)-1;if(Da(u[C],h))return C}return-1}function ng(u){return u&&u.length?xp(u):[]}function ou(u,h){return u&&u.length?xp(u,bt(h,2)):[]}function wy(u){var h=u==null?0:u.length;return h?Zi(u,1,h):[]}function Ey(u,h,y){return u&&u.length?(h=y||h===t?1:un(h),Zi(u,0,h<0?0:h)):[]}function rg(u,h,y){var C=u==null?0:u.length;return C?(h=y||h===t?1:un(h),h=C-h,Zi(u,h<0?0:h,C)):[]}function Jf(u,h){return u&&u.length?eh(u,bt(h,3),!1,!0):[]}function fv(u,h){return u&&u.length?eh(u,bt(h,3)):[]}var dv=ln(function(u){return ka(Lr(u,1,_i,!0))}),Ty=ln(function(u){var h=cs(u);return _i(h)&&(h=t),ka(Lr(u,1,_i,!0),bt(h,2))}),by=ln(function(u){var h=cs(u);return h=typeof h=="function"?h:t,ka(Lr(u,1,_i,!0),t,h)});function au(u){return u&&u.length?ka(u):[]}function pv(u,h){return u&&u.length?ka(u,bt(h,2)):[]}function uc(u,h){return h=typeof h=="function"?h:t,u&&u.length?ka(u,t,h):[]}function Qf(u){if(!(u&&u.length))return[];var h=0;return u=Xs(u,function(y){if(_i(y))return h=ti(y.length,h),!0}),jn(h,function(y){return Gn(u,L(y))})}function xr(u,h){if(!(u&&u.length))return[];var y=Qf(u);return h==null?y:Gn(y,function(C){return Ar(h,t,C)})}var gv=ln(function(u,h){return _i(u)?Jo(u,h):[]}),Sy=ln(function(u){return If(Xs(u,_i))}),mv=ln(function(u){var h=cs(u);return _i(h)&&(h=t),If(Xs(u,_i),bt(h,2))}),yv=ln(function(u){var h=cs(u);return h=typeof h=="function"?h:t,If(Xs(u,_i),t,h)}),Ay=ln(Qf);function Cy(u,h){return th(u||[],h||[],Ql)}function _v(u,h){return th(u||[],h||[],tu)}var uo=ln(function(u){var h=u.length,y=h>1?u[h-1]:t;return y=typeof y=="function"?(u.pop(),y):t,xr(u,y)});function Xf(u){var h=H(u);return h.__chain__=!0,h}function vv(u,h){return h(u),u}function Io(u,h){return h(u)}var Yf=ta(function(u){var h=u.length,y=h?u[0]:0,C=this.__wrapped__,B=function(Q){return yf(Q,u)};return h>1||this.__actions__.length||!(C instanceof Zt)||!Tr(y)?this.thru(B):(C=C.slice(y,+y+(h?1:0)),C.__actions__.push({func:Io,args:[B],thisArg:t}),new Ki(C,this.__chain__).thru(function(Q){return h&&!Q.length&&Q.push(t),Q}))});function lu(){return Xf(this)}function Zf(){return new Ki(this.value(),this.__chain__)}function ig(){this.__values__===t&&(this.__values__=CT(this.value()));var u=this.__index__>=this.__values__.length,h=u?t:this.__values__[this.__index__++];return{done:u,value:h}}function sg(){return this}function wv(u){for(var h,y=this;y instanceof Ho;){var C=_y(y);C.__index__=0,C.__values__=t,h?B.__wrapped__=C:h=C;var B=C;y=y.__wrapped__}return B.__wrapped__=u,h}function og(){var u=this.__wrapped__;if(u instanceof Zt){var h=u;return this.__actions__.length&&(h=new Zt(this)),h=h.reverse(),h.__actions__.push({func:Io,args:[Kf],thisArg:t}),new Ki(h,this.__chain__)}return this.thru(Kf)}function Ev(){return ec(this.__wrapped__,this.__actions__)}var xy=Nf(function(u,h,y){Dn.call(u,y)?++u[y]:Ko(u,y,1)});function Iy(u,h,y){var C=en(u)?Vl:Kc;return y&&us(u,h,y)&&(h=t),C(u,bt(h,3))}function ed(u,h){var y=en(u)?Xs:_p;return y(u,bt(h,3))}var td=ru(fl),Ry=ru(dh);function ag(u,h){return Lr(sd(u,h),1)}function ky(u,h){return Lr(sd(u,h),pe)}function lg(u,h,y){return y=y===t?1:un(y),Lr(sd(u,h),y)}function yh(u,h){var y=en(u)?di:Qo;return y(u,bt(h,3))}function nd(u,h){var y=en(u)?Bl:Xm;return y(u,bt(h,3))}var rd=Nf(function(u,h,y){Dn.call(u,y)?u[y].push(h):Ko(u,y,[h])});function Ny(u,h,y,C){u=co(u)?u:ld(u),y=y&&!C?un(y):0;var B=u.length;return y<0&&(y=ti(B+y,0)),Oy(u)?y<=B&&u.indexOf(h,y)>-1:!!B&&wa(u,h,y)>-1}var Tv=ln(function(u,h,y){var C=-1,B=typeof h=="function",Q=co(u)?Ee(u.length):[];return Qo(u,function(te){Q[++C]=B?Ar(h,te,y):io(te,h,y)}),Q}),id=Nf(function(u,h,y){Ko(u,y,h)});function sd(u,h){var y=en(u)?Gn:Tp;return y(u,bt(h,3))}function _h(u,h,y,C){return u==null?[]:(en(h)||(h=h==null?[]:[h]),y=C?t:y,en(y)||(y=y==null?[]:[y]),Yc(u,h,y))}var bv=Nf(function(u,h,y){u[y?0:1].push(h)},function(){return[[],[]]});function od(u,h,y){var C=en(u)?vo:_e,B=arguments.length<3;return C(u,bt(h,4),y,B,Qo)}function s(u,h,y){var C=en(u)?Qh:_e,B=arguments.length<3;return C(u,bt(h,4),y,B,Xm)}function a(u,h){var y=en(u)?Xs:_p;return y(u,ft(bt(h,3)))}function f(u){var h=en(u)?Go:Yi;return h(u)}function m(u,h,y){(y?us(u,h,y):h===t)?h=1:h=un(h);var C=en(u)?Jl:Ap;return C(u,h)}function E(u){var h=en(u)?Jm:oo;return h(u)}function S(u){if(u==null)return 0;if(co(u))return Oy(u)?$l(u):u.length;var h=Li(u);return h==st||h==hn?u.size:Ra(u).length}function V(u,h,y){var C=en(u)?Pu:Cp;return y&&us(u,h,y)&&(h=t),C(u,bt(h,3))}var Z=ln(function(u,h){if(u==null)return[];var y=h.length;return y>1&&us(u,h[0],h[1])?h=[]:y>2&&us(h[0],h[1],h[2])&&(h=[h[0]]),Yc(u,Lr(h,1),[])}),ae=fr||function(){return St.Date.now()};function Se(u,h){if(typeof h!="function")throw new Zs(l);return u=un(u),function(){if(--u<1)return h.apply(this,arguments)}}function Ve(u,h,y){return h=y?t:h,h=u&&h==null?u.length:h,ea(u,U,t,t,t,t,h)}function ze(u,h){var y;if(typeof h!="function")throw new Zs(l);return u=un(u),function(){return--u>0&&(y=h.apply(this,arguments)),u<=1&&(h=t),y}}var Ue=ln(function(u,h,y){var C=N;if(y.length){var B=Ys(y,Pa(Ue));C|=$}return ea(u,C,h,y,B)}),tt=ln(function(u,h,y){var C=N|D;if(y.length){var B=Ys(y,Pa(tt));C|=$}return ea(h,C,u,y,B)});function at(u,h,y){h=y?t:h;var C=ea(u,x,t,t,t,t,t,h);return C.placeholder=at.placeholder,C}function ht(u,h,y){h=y?t:h;var C=ea(u,M,t,t,t,t,t,h);return C.placeholder=ht.placeholder,C}function Dr(u,h,y){var C,B,Q,te,ue,ye,De=0,Me=!1,je=!1,Ze=!0;if(typeof u!="function")throw new Zs(l);h=ra(h)||0,$r(y)&&(Me=!!y.leading,je="maxWait"in y,Q=je?ti(ra(y.maxWait)||0,h):Q,Ze="trailing"in y?!!y.trailing:Ze);function mt(vi){var Ma=C,hu=B;return C=B=t,De=vi,te=u.apply(hu,Ma),te}function Ot(vi){return De=vi,ue=ac(Tn,h),Me?mt(vi):te}function dn(vi){var Ma=vi-ye,hu=vi-De,BT=h-Ma;return je?Gi(BT,Q-hu):BT}function Lt(vi){var Ma=vi-ye,hu=vi-De;return ye===t||Ma>=h||Ma<0||je&&hu>=Q}function Tn(){var vi=ae();if(Lt(vi))return Nn(vi);ue=ac(Tn,dn(vi))}function Nn(vi){return ue=t,Ze&&C?mt(vi):(C=B=t,te)}function ko(){ue!==t&&kp(ue),De=0,C=ye=B=ue=t}function Ws(){return ue===t?te:Nn(ae())}function No(){var vi=ae(),Ma=Lt(vi);if(C=arguments,B=this,ye=vi,Ma){if(ue===t)return Ot(ye);if(je)return kp(ue),ue=ac(Tn,h),mt(ye)}return ue===t&&(ue=ac(Tn,h)),te}return No.cancel=ko,No.flush=Ws,No}var ve=ln(function(u,h){return yp(u,1,h)}),de=ln(function(u,h,y){return yp(u,ra(h)||0,y)});function we(u){return ea(u,q)}function He(u,h){if(typeof u!="function"||h!=null&&typeof h!="function")throw new Zs(l);var y=function(){var C=arguments,B=h?h.apply(this,C):C[0],Q=y.cache;if(Q.has(B))return Q.get(B);var te=u.apply(this,C);return y.cache=Q.set(B,te)||Q,te};return y.cache=new(He.Cache||eo),y}He.Cache=eo;function ft(u){if(typeof u!="function")throw new Zs(l);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}function Et(u){return ze(2,u)}var Tt=ty(function(u,h){h=h.length==1&&en(h[0])?Gn(h[0],zn(bt())):Gn(Lr(h,1),zn(bt()));var y=h.length;return ln(function(C){for(var B=-1,Q=Gi(C.length,y);++B<Q;)C[B]=h[B].call(this,C[B]);return Ar(u,this,C)})}),Rt=ln(function(u,h){var y=Ys(h,Pa(Rt));return ea(u,$,t,h,y)}),yi=ln(function(u,h){var y=Ys(h,Pa(yi));return ea(u,G,t,h,y)}),Mn=ta(function(u,h){return ea(u,j,t,t,t,h)});function yl(u,h){if(typeof u!="function")throw new Zs(l);return h=h===t?h:un(h),ln(u,h)}function Sv(u,h){if(typeof u!="function")throw new Zs(l);return h=h==null?0:ti(un(h),0),ln(function(y){var C=y[h],B=Na(y,0,h);return C&&_o(B,C),Ar(u,this,B)})}function Ak(u,h,y){var C=!0,B=!0;if(typeof u!="function")throw new Zs(l);return $r(y)&&(C="leading"in y?!!y.leading:C,B="trailing"in y?!!y.trailing:B),Dr(u,h,{leading:C,maxWait:h,trailing:B})}function Ck(u){return Ve(u,1)}function xk(u,h){return Rt(Rf(h),u)}function Ik(){if(!arguments.length)return[];var u=arguments[0];return en(u)?u:[u]}function Rk(u){return Cs(u,b)}function kk(u,h){return h=typeof h=="function"?h:t,Cs(u,b,h)}function Nk(u){return Cs(u,v|b)}function Pk(u,h){return h=typeof h=="function"?h:t,Cs(u,v|b,h)}function Ok(u,h){return h==null||Gc(u,h,es(h))}function Da(u,h){return u===h||u!==u&&h!==h}var Lk=Mf(al),Dk=Mf(function(u,h){return u>=h}),vh=Ef(function(){return arguments}())?Ef:function(u){return ri(u)&&Dn.call(u,"callee")&&!sf.call(u,"callee")},en=Ee.isArray,Mk=wr?zn(wr):Zm;function co(u){return u!=null&&Py(u.length)&&!uu(u)}function _i(u){return ri(u)&&co(u)}function Fk(u){return u===!0||u===!1||ri(u)&&Pi(u)==Re}var cc=dp||Dv,Uk=sr?zn(sr):Ia;function Bk(u){return ri(u)&&u.nodeType===1&&!ug(u)}function Vk(u){if(u==null)return!0;if(co(u)&&(en(u)||typeof u=="string"||typeof u.splice=="function"||cc(u)||ad(u)||vh(u)))return!u.length;var h=Li(u);if(h==st||h==hn)return!u.size;if(Oa(u))return!Ra(u).length;for(var y in u)if(Dn.call(u,y))return!1;return!0}function jk(u,h){return so(u,h)}function qk(u,h,y){y=typeof y=="function"?y:t;var C=y?y(u,h):t;return C===t?so(u,h,t,y):!!C}function Av(u){if(!ri(u))return!1;var h=Pi(u);return h==Qe||h==Ye||typeof u.message=="string"&&typeof u.name=="string"&&!ug(u)}function $k(u){return typeof u=="number"&&Vu(u)}function uu(u){if(!$r(u))return!1;var h=Pi(u);return h==pt||h==gt||h==$e||h==Qn}function TT(u){return typeof u=="number"&&u==un(u)}function Py(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=se}function $r(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function ri(u){return u!=null&&typeof u=="object"}var bT=Pr?zn(Pr):ey;function zk(u,h){return u===h||Qu(u,h,lh(h))}function Hk(u,h,y){return y=typeof y=="function"?y:t,Qu(u,h,lh(h),y)}function Wk(u){return ST(u)&&u!=+u}function Gk(u){if(cv(u))throw new Bt(o);return wp(u)}function Kk(u){return u===null}function Jk(u){return u==null}function ST(u){return typeof u=="number"||ri(u)&&Pi(u)==zt}function ug(u){if(!ri(u)||Pi(u)!=Bn)return!1;var h=wo(u);if(h===null)return!0;var y=Dn.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&Fc.call(y)==nf}var Cv=ss?zn(ss):Qc;function Qk(u){return TT(u)&&u>=-9007199254740991&&u<=se}var AT=Es?zn(Es):Xo;function Oy(u){return typeof u=="string"||!en(u)&&ri(u)&&Pi(u)==Cn}function Ro(u){return typeof u=="symbol"||ri(u)&&Pi(u)==mn}var ad=_a?zn(_a):Xc;function Xk(u){return u===t}function Yk(u){return ri(u)&&Li(u)==xn}function Zk(u){return ri(u)&&Pi(u)==Dt}var eN=Mf(ll),tN=Mf(function(u,h){return u<=h});function CT(u){if(!u)return[];if(co(u))return Oy(u)?Vs(u):as(u);if(ba&&u[ba])return Z_(u[ba]());var h=Li(u),y=h==st?Yh:h==hn?Za:ld;return y(u)}function cu(u){if(!u)return u===0?u:0;if(u=ra(u),u===pe||u===-1/0){var h=u<0?-1:1;return h*ne}return u===u?u:0}function un(u){var h=cu(u),y=h%1;return h===h?y?h-y:h:0}function xT(u){return u?Aa(un(u),0,K):0}function ra(u){if(typeof u=="number")return u;if(Ro(u))return Y;if($r(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=$r(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=En(u);var y=Ni.test(u);return y||rs.test(u)?ut(u.slice(2),y?2:8):Jr.test(u)?Y:+u}function IT(u){return To(u,ho(u))}function nN(u){return u?Aa(un(u),-9007199254740991,se):u===0?u:0}function Zn(u){return u==null?"":xs(u)}var rN=nc(function(u,h){if(Oa(h)||co(h)){To(h,es(h),u);return}for(var y in h)Dn.call(h,y)&&Ql(u,y,h[y])}),RT=nc(function(u,h){To(h,ho(h),u)}),Ly=nc(function(u,h,y,C){To(h,ho(h),u,C)}),iN=nc(function(u,h,y,C){To(h,es(h),u,C)}),sN=ta(yf);function oN(u,h){var y=Hu(u);return h==null?y:pr(y,h)}var aN=ln(function(u,h){u=Yn(u);var y=-1,C=h.length,B=C>2?h[2]:t;for(B&&us(h[0],h[1],B)&&(C=1);++y<C;)for(var Q=h[y],te=ho(Q),ue=-1,ye=te.length;++ue<ye;){var De=te[ue],Me=u[De];(Me===t||Da(Me,$o[De])&&!Dn.call(u,De))&&(u[De]=Q[De])}return u}),lN=ln(function(u){return u.push(t,Bp),Ar(kT,t,u)});function uN(u,h){return Hi(u,bt(h,3),$s)}function cN(u,h){return Hi(u,bt(h,3),ol)}function hN(u,h){return u==null?u:_f(u,bt(h,3),ho)}function fN(u,h){return u==null?u:Jc(u,bt(h,3),ho)}function dN(u,h){return u&&$s(u,bt(h,3))}function pN(u,h){return u&&ol(u,bt(h,3))}function gN(u){return u==null?[]:Ju(u,es(u))}function mN(u){return u==null?[]:Ju(u,ho(u))}function xv(u,h,y){var C=u==null?t:Ca(u,h);return C===t?y:C}function yN(u,h){return u!=null&&zp(u,h,ro)}function Iv(u,h){return u!=null&&zp(u,h,Yl)}var _N=ay(function(u,h,y){h!=null&&typeof h.toString!="function"&&(h=Uc.call(h)),u[h]=y},kv(fo)),vN=ay(function(u,h,y){h!=null&&typeof h.toString!="function"&&(h=Uc.call(h)),Dn.call(u,h)?u[h].push(y):u[h]=[y]},bt),wN=ln(io);function es(u){return co(u)?Wo(u):Ra(u)}function ho(u){return co(u)?Wo(u,!0):Ep(u)}function EN(u,h){var y={};return h=bt(h,3),$s(u,function(C,B,Q){Ko(y,h(C,B,Q),C)}),y}function TN(u,h){var y={};return h=bt(h,3),$s(u,function(C,B,Q){Ko(y,B,h(C,B,Q))}),y}var bN=nc(function(u,h,y){Zl(u,h,y)}),kT=nc(function(u,h,y,C){Zl(u,h,y,C)}),SN=ta(function(u,h){var y={};if(u==null)return y;var C=!1;h=Gn(h,function(Q){return Q=Zo(Q,u),C||(C=Q.length>1),Q}),To(u,oh(u),y),C&&(y=Cs(y,v|w|b,Vp));for(var B=h.length;B--;)xf(y,h[B]);return y});function AN(u,h){return NT(u,ft(bt(h)))}var CN=ta(function(u,h){return u==null?{}:Sp(u,h)});function NT(u,h){if(u==null)return{};var y=Gn(oh(u),function(C){return[C]});return h=bt(h),ul(u,y,function(C,B){return h(C,B[0])})}function xN(u,h,y){h=Zo(h,u);var C=-1,B=h.length;for(B||(B=1,u=t);++C<B;){var Q=u==null?t:u[Co(h[C])];Q===t&&(C=B,Q=y),u=uu(Q)?Q.call(u):Q}return u}function IN(u,h,y){return u==null?u:tu(u,h,y)}function RN(u,h,y,C){return C=typeof C=="function"?C:t,u==null?u:tu(u,h,y,C)}var PT=Fp(es),OT=Fp(ho);function kN(u,h,y){var C=en(u),B=C||cc(u)||ad(u);if(h=bt(h,4),y==null){var Q=u&&u.constructor;B?y=C?new Q:[]:$r(u)?y=uu(Q)?Hu(wo(u)):{}:y={}}return(B?di:$s)(u,function(te,ue,ye){return h(y,te,ue,ye)}),y}function NN(u,h){return u==null?!0:xf(u,h)}function PN(u,h,y){return u==null?u:Rp(u,h,Rf(y))}function ON(u,h,y,C){return C=typeof C=="function"?C:t,u==null?u:Rp(u,h,Rf(y),C)}function ld(u){return u==null?[]:Or(u,es(u))}function LN(u){return u==null?[]:Or(u,ho(u))}function DN(u,h,y){return y===t&&(y=h,h=t),y!==t&&(y=ra(y),y=y===y?y:0),h!==t&&(h=ra(h),h=h===h?h:0),Aa(ra(u),h,y)}function MN(u,h,y){return h=cu(h),y===t?(y=h,h=0):y=cu(y),u=ra(u),vp(u,h,y)}function FN(u,h,y){if(y&&typeof y!="boolean"&&us(u,h,y)&&(h=y=t),y===t&&(typeof h=="boolean"?(y=h,h=t):typeof u=="boolean"&&(y=u,u=t)),u===t&&h===t?(u=0,h=1):(u=cu(u),h===t?(h=u,u=0):h=cu(h)),u>h){var C=u;u=h,h=C}if(y||u%1||h%1){var B=qc();return Gi(u+B*(h-u+It("1e-"+((B+"").length-1))),h)}return Yu(u,h)}var UN=nu(function(u,h,y){return h=h.toLowerCase(),u+(y?LT(h):h)});function LT(u){return Rv(Zn(u).toLowerCase())}function DT(u){return u=Zn(u),u&&u.replace(Te,Om).replace(Qa,"")}function BN(u,h,y){u=Zn(u),h=xs(h);var C=u.length;y=y===t?C:Aa(un(y),0,C);var B=y;return y-=h.length,y>=0&&u.slice(y,B)==h}function VN(u){return u=Zn(u),u&&Hn.test(u)?u.replace(Rn,Lm):u}function jN(u){return u=Zn(u),u&&Wn.test(u)?u.replace(nr,"\\$&"):u}var qN=nu(function(u,h,y){return u+(y?"-":"")+h.toLowerCase()}),$N=nu(function(u,h,y){return u+(y?" ":"")+h.toLowerCase()}),zN=Lp("toLowerCase");function HN(u,h,y){u=Zn(u),h=un(h);var C=h?$l(u):0;if(!h||C>=h)return u;var B=(h-C)/2;return ih(el(B),y)+u+ih(Hl(B),y)}function WN(u,h,y){u=Zn(u),h=un(h);var C=h?$l(u):0;return h&&C<h?u+ih(h-C,y):u}function GN(u,h,y){u=Zn(u),h=un(h);var C=h?$l(u):0;return h&&C<h?ih(h-C,y)+u:u}function KN(u,h,y){return y||h==null?h=0:h&&(h=+h),$m(Zn(u).replace(kr,""),h||0)}function JN(u,h,y){return(y?us(u,h,y):h===t)?h=1:h=un(h),eu(Zn(u),h)}function QN(){var u=arguments,h=Zn(u[0]);return u.length<3?h:h.replace(u[1],u[2])}var XN=nu(function(u,h,y){return u+(y?"_":"")+h.toLowerCase()});function YN(u,h,y){return y&&typeof y!="number"&&us(u,h,y)&&(h=y=t),y=y===t?K:y>>>0,y?(u=Zn(u),u&&(typeof h=="string"||h!=null&&!Cv(h))&&(h=xs(h),!h&&Mu(u))?Na(Vs(u),0,y):u.split(h,y)):[]}var ZN=nu(function(u,h,y){return u+(y?" ":"")+Rv(h)});function eP(u,h,y){return u=Zn(u),y=y==null?0:Aa(un(y),0,u.length),h=xs(h),u.slice(y,y+h.length)==h}function tP(u,h,y){var C=H.templateSettings;y&&us(u,h,y)&&(h=t),u=Zn(u),h=Ly({},h,C,Up);var B=Ly({},h.imports,C.imports,Up),Q=es(B),te=Or(B,Q),ue,ye,De=0,Me=h.interpolate||qe,je="__p += '",Ze=Mc((h.escape||qe).source+"|"+Me.source+"|"+(Me===ki?Br:qe).source+"|"+(h.evaluate||qe).source+"|$","g"),mt="//# sourceURL="+(Dn.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jo+"]")+`
`;u.replace(Ze,function(Lt,Tn,Nn,ko,Ws,No){return Nn||(Nn=ko),je+=u.slice(De,No).replace(nt,Dm),Tn&&(ue=!0,je+=`' +
__e(`+Tn+`) +
'`),Ws&&(ye=!0,je+=`';
`+Ws+`;
__p += '`),Nn&&(je+=`' +
((__t = (`+Nn+`)) == null ? '' : __t) +
'`),De=No+Lt.length,Lt}),je+=`';
`;var Ot=Dn.call(h,"variable")&&h.variable;if(!Ot)je=`with (obj) {
`+je+`
}
`;else if(Kr.test(Ot))throw new Bt(c);je=(ye?je.replace(yr,""):je).replace(or,"$1").replace(cr,"$1;"),je="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(ye?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+je+`return __p
}`;var dn=FT(function(){return Ln(Q,mt+"return "+je).apply(t,te)});if(dn.source=je,Av(dn))throw dn;return dn}function nP(u){return Zn(u).toLowerCase()}function rP(u){return Zn(u).toUpperCase()}function iP(u,h,y){if(u=Zn(u),u&&(y||h===t))return En(u);if(!u||!(h=xs(h)))return u;var C=Vs(u),B=Vs(h),Q=Ts(C,B),te=Ya(C,B)+1;return Na(C,Q,te).join("")}function sP(u,h,y){if(u=Zn(u),u&&(y||h===t))return u.slice(0,ef(u)+1);if(!u||!(h=xs(h)))return u;var C=Vs(u),B=Ya(C,Vs(h))+1;return Na(C,0,B).join("")}function oP(u,h,y){if(u=Zn(u),u&&(y||h===t))return u.replace(kr,"");if(!u||!(h=xs(h)))return u;var C=Vs(u),B=Ts(C,Vs(h));return Na(C,B).join("")}function aP(u,h){var y=k,C=P;if($r(h)){var B="separator"in h?h.separator:B;y="length"in h?un(h.length):y,C="omission"in h?xs(h.omission):C}u=Zn(u);var Q=u.length;if(Mu(u)){var te=Vs(u);Q=te.length}if(y>=Q)return u;var ue=y-$l(C);if(ue<1)return C;var ye=te?Na(te,0,ue).join(""):u.slice(0,ue);if(B===t)return ye+C;if(te&&(ue+=ye.length-ue),Cv(B)){if(u.slice(ue).search(B)){var De,Me=ye;for(B.global||(B=Mc(B.source,Zn(yn.exec(B))+"g")),B.lastIndex=0;De=B.exec(Me);)var je=De.index;ye=ye.slice(0,je===t?ue:je)}}else if(u.indexOf(xs(B),ue)!=ue){var Ze=ye.lastIndexOf(B);Ze>-1&&(ye=ye.slice(0,Ze))}return ye+C}function lP(u){return u=Zn(u),u&&ui.test(u)?u.replace(In,Mm):u}var uP=nu(function(u,h,y){return u+(y?" ":"")+h.toUpperCase()}),Rv=Lp("toUpperCase");function MT(u,h,y){return u=Zn(u),h=y?t:h,h===t?Y_(u)?nv(u):Ou(u):u.match(h)||[]}var FT=ln(function(u,h){try{return Ar(u,t,h)}catch(y){return Av(y)?y:new Bt(y)}}),cP=ta(function(u,h){return di(h,function(y){y=Co(y),Ko(u,y,Ue(u[y],u))}),u});function hP(u){var h=u==null?0:u.length,y=bt();return u=h?Gn(u,function(C){if(typeof C[1]!="function")throw new Zs(l);return[y(C[0]),C[1]]}):[],ln(function(C){for(var B=-1;++B<h;){var Q=u[B];if(Ar(Q[0],this,C))return Ar(Q[1],this,C)}})}function fP(u){return Qm(Cs(u,v))}function kv(u){return function(){return u}}function dP(u,h){return u==null||u!==u?h:u}var pP=Lf(),gP=Lf(!0);function fo(u){return u}function Nv(u){return Xu(typeof u=="function"?u:Cs(u,v))}function mP(u){return bf(Cs(u,v))}function yP(u,h){return Er(u,Cs(h,v))}var _P=ln(function(u,h){return function(y){return io(y,u,h)}}),vP=ln(function(u,h){return function(y){return io(u,y,h)}});function Pv(u,h,y){var C=es(h),B=Ju(h,C);y==null&&!($r(h)&&(B.length||!C.length))&&(y=h,h=u,u=this,B=Ju(h,es(h)));var Q=!($r(y)&&"chain"in y)||!!y.chain,te=uu(u);return di(B,function(ue){var ye=h[ue];u[ue]=ye,te&&(u.prototype[ue]=function(){var De=this.__chain__;if(Q||De){var Me=u(this.__wrapped__),je=Me.__actions__=as(this.__actions__);return je.push({func:ye,args:arguments,thisArg:u}),Me.__chain__=De,Me}return ye.apply(u,_o([this.value()],arguments))})}),u}function wP(){return St._===this&&(St._=Bm),this}function Ov(){}function EP(u){return u=un(u),ln(function(h){return Sf(h,u)})}var TP=Df(Gn),bP=Df(Vl),SP=Df(Pu);function UT(u){return it(u)?L(Co(u)):Cr(u)}function AP(u){return function(h){return u==null?t:Ca(u,h)}}var CP=Mp(),xP=Mp(!0);function Lv(){return[]}function Dv(){return!1}function IP(){return{}}function RP(){return""}function kP(){return!0}function NP(u,h){if(u=un(u),u<1||u>se)return[];var y=K,C=Gi(u,K);h=bt(h),u-=K;for(var B=jn(C,h);++y<u;)h(y);return B}function PP(u){return en(u)?Gn(u,Co):Ro(u)?[u]:as(Kp(Zn(u)))}function OP(u){var h=++Bu;return Zn(u)+h}var LP=rh(function(u,h){return u+h},0),DP=Oi("ceil"),MP=rh(function(u,h){return u/h},1),FP=Oi("floor");function UP(u){return u&&u.length?Xl(u,fo,al):t}function BP(u,h){return u&&u.length?Xl(u,bt(h,2),al):t}function VP(u){return T(u,fo)}function jP(u,h){return T(u,bt(h,2))}function qP(u){return u&&u.length?Xl(u,fo,ll):t}function $P(u,h){return u&&u.length?Xl(u,bt(h,2),ll):t}var zP=rh(function(u,h){return u*h},1),HP=Oi("round"),WP=rh(function(u,h){return u-h},0);function GP(u){return u&&u.length?Je(u,fo):0}function KP(u,h){return u&&u.length?Je(u,bt(h,2)):0}return H.after=Se,H.ary=Ve,H.assign=rN,H.assignIn=RT,H.assignInWith=Ly,H.assignWith=iN,H.at=sN,H.before=ze,H.bind=Ue,H.bindAll=cP,H.bindKey=tt,H.castArray=Ik,H.chain=Xf,H.chunk=$f,H.compact=Jp,H.concat=lo,H.cond=hP,H.conforms=fP,H.constant=kv,H.countBy=xy,H.create=oN,H.curry=at,H.curryRight=ht,H.debounce=Dr,H.defaults=aN,H.defaultsDeep=lN,H.defer=ve,H.delay=de,H.difference=kn,H.differenceBy=xi,H.differenceWith=ni,H.drop=Mi,H.dropRight=Hs,H.dropRightWhile=lc,H.dropWhile=mi,H.fill=fh,H.filter=ed,H.flatMap=ag,H.flatMapDeep=ky,H.flatMapDepth=lg,H.flatten=zf,H.flattenDeep=ph,H.flattenDepth=Is,H.flip=we,H.flow=pP,H.flowRight=gP,H.fromPairs=Qp,H.functions=gN,H.functionsIn=mN,H.groupBy=rd,H.initial=Hf,H.intersection=Xp,H.intersectionBy=dl,H.intersectionWith=Wf,H.invert=_N,H.invertBy=vN,H.invokeMap=Tv,H.iteratee=Nv,H.keyBy=id,H.keys=es,H.keysIn=ho,H.map=sd,H.mapKeys=EN,H.mapValues=TN,H.matches=mP,H.matchesProperty=yP,H.memoize=He,H.merge=bN,H.mergeWith=kT,H.method=_P,H.methodOf=vP,H.mixin=Pv,H.negate=ft,H.nthArg=EP,H.omit=SN,H.omitBy=AN,H.once=Et,H.orderBy=_h,H.over=TP,H.overArgs=Tt,H.overEvery=bP,H.overSome=SP,H.partial=Rt,H.partialRight=yi,H.partition=bv,H.pick=CN,H.pickBy=NT,H.property=UT,H.propertyOf=AP,H.pull=Gf,H.pullAll=mh,H.pullAllBy=hs,H.pullAllWith=gl,H.pullAt=xo,H.range=CP,H.rangeRight=xP,H.rearg=Mn,H.reject=a,H.remove=Rs,H.rest=yl,H.reverse=Kf,H.sampleSize=m,H.set=IN,H.setWith=RN,H.shuffle=E,H.slice=Zp,H.sortBy=Z,H.sortedUniq=ng,H.sortedUniqBy=ou,H.split=YN,H.spread=Sv,H.tail=wy,H.take=Ey,H.takeRight=rg,H.takeRightWhile=Jf,H.takeWhile=fv,H.tap=vv,H.throttle=Ak,H.thru=Io,H.toArray=CT,H.toPairs=PT,H.toPairsIn=OT,H.toPath=PP,H.toPlainObject=IT,H.transform=kN,H.unary=Ck,H.union=dv,H.unionBy=Ty,H.unionWith=by,H.uniq=au,H.uniqBy=pv,H.uniqWith=uc,H.unset=NN,H.unzip=Qf,H.unzipWith=xr,H.update=PN,H.updateWith=ON,H.values=ld,H.valuesIn=LN,H.without=gv,H.words=MT,H.wrap=xk,H.xor=Sy,H.xorBy=mv,H.xorWith=yv,H.zip=Ay,H.zipObject=Cy,H.zipObjectDeep=_v,H.zipWith=uo,H.entries=PT,H.entriesIn=OT,H.extend=RT,H.extendWith=Ly,Pv(H,H),H.add=LP,H.attempt=FT,H.camelCase=UN,H.capitalize=LT,H.ceil=DP,H.clamp=DN,H.clone=Rk,H.cloneDeep=Nk,H.cloneDeepWith=Pk,H.cloneWith=kk,H.conformsTo=Ok,H.deburr=DT,H.defaultTo=dP,H.divide=MP,H.endsWith=BN,H.eq=Da,H.escape=VN,H.escapeRegExp=jN,H.every=Iy,H.find=td,H.findIndex=fl,H.findKey=uN,H.findLast=Ry,H.findLastIndex=dh,H.findLastKey=cN,H.floor=FP,H.forEach=yh,H.forEachRight=nd,H.forIn=hN,H.forInRight=fN,H.forOwn=dN,H.forOwnRight=pN,H.get=xv,H.gt=Lk,H.gte=Dk,H.has=yN,H.hasIn=Iv,H.head=iu,H.identity=fo,H.includes=Ny,H.indexOf=La,H.inRange=MN,H.invoke=wN,H.isArguments=vh,H.isArray=en,H.isArrayBuffer=Mk,H.isArrayLike=co,H.isArrayLikeObject=_i,H.isBoolean=Fk,H.isBuffer=cc,H.isDate=Uk,H.isElement=Bk,H.isEmpty=Vk,H.isEqual=jk,H.isEqualWith=qk,H.isError=Av,H.isFinite=$k,H.isFunction=uu,H.isInteger=TT,H.isLength=Py,H.isMap=bT,H.isMatch=zk,H.isMatchWith=Hk,H.isNaN=Wk,H.isNative=Gk,H.isNil=Jk,H.isNull=Kk,H.isNumber=ST,H.isObject=$r,H.isObjectLike=ri,H.isPlainObject=ug,H.isRegExp=Cv,H.isSafeInteger=Qk,H.isSet=AT,H.isString=Oy,H.isSymbol=Ro,H.isTypedArray=ad,H.isUndefined=Xk,H.isWeakMap=Yk,H.isWeakSet=Zk,H.join=pl,H.kebabCase=qN,H.last=cs,H.lastIndexOf=gh,H.lowerCase=$N,H.lowerFirst=zN,H.lt=eN,H.lte=tN,H.max=UP,H.maxBy=BP,H.mean=VP,H.meanBy=jP,H.min=qP,H.minBy=$P,H.stubArray=Lv,H.stubFalse=Dv,H.stubObject=IP,H.stubString=RP,H.stubTrue=kP,H.multiply=zP,H.nth=Yp,H.noConflict=wP,H.noop=Ov,H.now=ae,H.pad=HN,H.padEnd=WN,H.padStart=GN,H.parseInt=KN,H.random=FN,H.reduce=od,H.reduceRight=s,H.repeat=JN,H.replace=QN,H.result=xN,H.round=HP,H.runInContext=ge,H.sample=f,H.size=S,H.snakeCase=XN,H.some=V,H.sortedIndex=eg,H.sortedIndexBy=hv,H.sortedIndexOf=ml,H.sortedLastIndex=vy,H.sortedLastIndexBy=tg,H.sortedLastIndexOf=su,H.startCase=ZN,H.startsWith=eP,H.subtract=WP,H.sum=GP,H.sumBy=KP,H.template=tP,H.times=NP,H.toFinite=cu,H.toInteger=un,H.toLength=xT,H.toLower=nP,H.toNumber=ra,H.toSafeInteger=nN,H.toString=Zn,H.toUpper=rP,H.trim=iP,H.trimEnd=sP,H.trimStart=oP,H.truncate=aP,H.unescape=lP,H.uniqueId=OP,H.upperCase=uP,H.upperFirst=Rv,H.each=yh,H.eachRight=nd,H.first=iu,Pv(H,function(){var u={};return $s(H,function(h,y){Dn.call(H.prototype,y)||(u[y]=h)}),u}(),{chain:!1}),H.VERSION=r,di(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){H[u].placeholder=H}),di(["drop","take"],function(u,h){Zt.prototype[u]=function(y){y=y===t?1:ti(un(y),0);var C=this.__filtered__&&!h?new Zt(this):this.clone();return C.__filtered__?C.__takeCount__=Gi(y,C.__takeCount__):C.__views__.push({size:Gi(y,K),type:u+(C.__dir__<0?"Right":"")}),C},Zt.prototype[u+"Right"]=function(y){return this.reverse()[u](y).reverse()}}),di(["filter","map","takeWhile"],function(u,h){var y=h+1,C=y==oe||y==re;Zt.prototype[u]=function(B){var Q=this.clone();return Q.__iteratees__.push({iteratee:bt(B,3),type:y}),Q.__filtered__=Q.__filtered__||C,Q}}),di(["head","last"],function(u,h){var y="take"+(h?"Right":"");Zt.prototype[u]=function(){return this[y](1).value()[0]}}),di(["initial","tail"],function(u,h){var y="drop"+(h?"":"Right");Zt.prototype[u]=function(){return this.__filtered__?new Zt(this):this[y](1)}}),Zt.prototype.compact=function(){return this.filter(fo)},Zt.prototype.find=function(u){return this.filter(u).head()},Zt.prototype.findLast=function(u){return this.reverse().find(u)},Zt.prototype.invokeMap=ln(function(u,h){return typeof u=="function"?new Zt(this):this.map(function(y){return io(y,u,h)})}),Zt.prototype.reject=function(u){return this.filter(ft(bt(u)))},Zt.prototype.slice=function(u,h){u=un(u);var y=this;return y.__filtered__&&(u>0||h<0)?new Zt(y):(u<0?y=y.takeRight(-u):u&&(y=y.drop(u)),h!==t&&(h=un(h),y=h<0?y.dropRight(-h):y.take(h-u)),y)},Zt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Zt.prototype.toArray=function(){return this.take(K)},$s(Zt.prototype,function(u,h){var y=/^(?:filter|find|map|reject)|While$/.test(h),C=/^(?:head|last)$/.test(h),B=H[C?"take"+(h=="last"?"Right":""):h],Q=C||/^find/.test(h);B&&(H.prototype[h]=function(){var te=this.__wrapped__,ue=C?[1]:arguments,ye=te instanceof Zt,De=ue[0],Me=ye||en(te),je=function(Tn){var Nn=B.apply(H,_o([Tn],ue));return C&&Ze?Nn[0]:Nn};Me&&y&&typeof De=="function"&&De.length!=1&&(ye=Me=!1);var Ze=this.__chain__,mt=!!this.__actions__.length,Ot=Q&&!Ze,dn=ye&&!mt;if(!Q&&Me){te=dn?te:new Zt(this);var Lt=u.apply(te,ue);return Lt.__actions__.push({func:Io,args:[je],thisArg:t}),new Ki(Lt,Ze)}return Ot&&dn?u.apply(this,ue):(Lt=this.thru(je),Ot?C?Lt.value()[0]:Lt.value():Lt)})}),di(["pop","push","shift","sort","splice","unshift"],function(u){var h=Ea[u],y=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",C=/^(?:pop|shift)$/.test(u);H.prototype[u]=function(){var B=arguments;if(C&&!this.__chain__){var Q=this.value();return h.apply(en(Q)?Q:[],B)}return this[y](function(te){return h.apply(en(te)?te:[],B)})}}),$s(Zt.prototype,function(u,h){var y=H[h];if(y){var C=y.name+"";Dn.call($u,C)||($u[C]=[]),$u[C].push({name:h,func:y})}}),$u[ic(t,D).name]=[{name:"wrapper",func:t}],Zt.prototype.clone=ff,Zt.prototype.reverse=gp,Zt.prototype.value=Wu,H.prototype.at=Yf,H.prototype.chain=lu,H.prototype.commit=Zf,H.prototype.next=ig,H.prototype.plant=wv,H.prototype.reverse=og,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=Ev,H.prototype.first=H.prototype.head,ba&&(H.prototype[ba]=sg),H},Fu=rv();gn?((gn.exports=Fu)._=Fu,an._=Fu):St._=Fu}).call(fj)}(xg,xg.exports)),xg.exports}var K0=dj();const iA=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"];function pj(n){const e=n.split("").reduce((t,r)=>(t=(t<<5)-t+r.charCodeAt(0),t&t),0);return iA[Math.abs(e)%iA.length]}function sA(n){return n.ops.reduce((e,t)=>typeof t.insert=="string"?e+t.insert.length:e+1,0)}function gj(n,e){const t=sA(n),r=sA(e);let i=0,o=0;for(let p=0;p<n.ops.length;p++){const _=n.ops[p],v=e.ops[p];if(K0.isEqual(_,v))i+=typeof _.insert=="string"?_.insert.length:1,o++;else{console.log("diff",_,v);break}}let l=0,c=0;for(let p=n.ops.length-1;p>=0;p--){const _=n.ops[p],v=e.ops[p];if(K0.isEqual(_,v))l+=typeof _.insert=="string"?_.insert.length:1,c++;else{console.log("diff",_,v);break}}console.log(`Keep start: ${i}, end: ${l}, length: ${r}`);let d=new lt;i>0&&(d=d.retain(i)),d=d.delete((t||0)-i-l);for(let p=o;p<e.ops.length-c;p++)d.push(e.ops[p]);return l>0&&(d=d.retain(l)),console.log(d.ops),d}class pw extends tD{constructor(t,r){var i;super();Ke(this,"id");Ke(this,"title");Ke(this,"description");Ke(this,"content");Ke(this,"owner");Ke(this,"permissions");Ke(this,"api");Ke(this,"cursors");Ke(this,"documentRef");Ke(this,"quill",null);Ke(this,"hasLocalChanges",!1);Ke(this,"isEditing",!1);Ke(this,"unsubscribe",null);Ke(this,"throttleSave");t?(this.id=t.id,this.title=t.title,this.description=t.description,this.cursors={},this.content=t.content,this.owner=t.owner,this.permissions=t.permissions,this.documentRef=Hx(r.firestore,"notes",this.id)):(this.id="DRAFT-"+Kb(),this.title="Unnamed Note",this.description="",this.cursors={},this.content=[{id:Kb(),type:"text",position:null,value:"",delta:{ops:[]}}],this.owner=((i=r.user)==null?void 0:i.uid)??"",this.permissions={global:null,edit:[],view:[],names:{}},this.documentRef=null),this.api=r,this.throttleSave=K0.throttle(async()=>{if(this.quill&&this.documentRef&&this.api.user){const o={};o.updatedAt=eD(),this.hasLocalChanges&&(o.content=this.export(this.quill.getContents()));const l=this.quill.getSelection();if(l&&(o.cursors={[this.api.user.uid]:{name:this.api.user.displayName,index:l.index,length:l.length,updatedAt:Date.now()}}),Object.keys(o).length===0)return;console.log("Saving content to Firestore:",o),await Wb(this.documentRef,o,{merge:!0}).catch(console.error),this.emit("update",o),this.hasLocalChanges=!1}},1e3)}serialize(){return{id:this.id.startsWith("DRAFT-")?"":this.id,title:this.title,description:this.description,content:this.content,owner:this.owner,permissions:this.permissions}}async share(t,r){return await this.api.shareNote(this.id,t,r)}async setTitle(t){var i;if(t===this.title)return;const r=(i=this.api.user)==null?void 0:i.uid;if(!r)return!1;if(this.owner!==r&&this.permissions.edit.includes(r)&&this.permissions.global!=="edit"){alert("You do not have permission to edit this note.");return}this.title=t||"Unnamed Note",this.emit(),this.documentRef&&await Wb(this.documentRef,{title:t},{merge:!0})}async save(t=!0){if(t){const r=await this.api.saveNote(this);return r!==null&&this.emit("save"),r}else console.log("Soft saving..."),this.throttleSave()}async createSession(){if(this.quill&&this.documentRef){const t=this.quill;this.unsubscribe=X5(this.documentRef,r=>{var i;if(console.log("Received Firestore snapshot"),r.exists()&&this.hasLocalChanges===!1&&!this.isEditing){const o=(i=t.container.parentElement)==null?void 0:i.scrollTop,l=t.getSelection(),c=this.import(r.data());t.updateContents(c,"silent"),l!==null&&t.setSelection(l,"silent"),t.container.parentElement&&o&&(t.container.parentElement.scrollTop=o)}}),this.quill.on("text-change",(r,i,o)=>{o==="user"&&(this.hasLocalChanges=!0,this.isEditing=!0,this.save(!1),setTimeout(()=>this.isEditing=!1,5e3))}),this.quill.on("selection-change",(r,i,o)=>{o==="user"&&this.save(!1)}),console.log("Realtime session started.")}else this.quill&&this.emit("realtime-start")}destroySession(){var t,r;this.unsubscribe&&(this.unsubscribe(),(t=this.quill)==null||t.off("text-change"),(r=this.quill)==null||r.off("selection-change"),console.log("Realtime session stopped."))}updateCursors(){var r,i;const t=(r=this.quill)==null?void 0:r.getModule("cursors");if(t!==void 0){for(const o of Object.keys(this.cursors))if(((i=this.api.user)==null?void 0:i.uid)!==o){if(new Date().getTime()-new Date(this.cursors[o].updatedAt).getTime()>3e4){t.removeCursor(o);continue}t.createCursor(o,this.cursors[o].name,pj(o)),t.moveCursor(o,{index:this.cursors[o].index,length:this.cursors[o].length})}}}export(t){let r="";for(const o of t.ops)typeof o.insert=="string"&&(r+=o.insert);const i=[{id:"1",type:"text",position:null,value:r,delta:{ops:t.ops}}];return this.content=i,this.emit(),i}import(t){if(!t)return this.importBlocks(this.content,!1);if(t.id!==this.id)throw new Error("Note ID mismatch");return this.title=t.title,this.description=t.description,this.owner=t.owner,this.cursors=t.cursors||{},this.permissions=t.permissions,setTimeout(()=>this.updateCursors(),0),this.importBlocks(t.content)}importBlocks(t,r=!0){const i=this.content.find(d=>d.type==="text"),o=i?new lt(i.delta):new lt,l=t.find(d=>d.type==="text"),c=l?new lt(l.delta):new lt;return this.content=t,r&&this.emit(),!r||o.ops.length===0?new lt(c.ops):gj(o,c)}async uploadMedia(t){const r=aj(this.api.storage,`notes/${this.id}/${t.name}`),i=await sj(r,t,{cacheControl:"public,max-age=31536000"});return console.log(i.metadata),i?await oj(r):null}toString(t){return t?t.value:this.value}get value(){return this.content.filter(r=>r.position===null).map(r=>this.toString(r)).join(`
`)}blockUpdate(){this.emit()}async search(t){return await this.api.search(this.id,t)}async generateSummary(){return await this.api.generateSummary(this.id)}async generateFlashcards(){return await this.api.generateFlashcards(this.id)}}var d1={exports:{}},lr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA;function mj(){if(oA)return lr;oA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),b=Symbol.for("react.client.reference");function A(R){if(typeof R=="object"&&R!==null){var N=R.$$typeof;switch(N){case n:switch(R=R.type,R){case t:case i:case r:case d:case p:return R;default:switch(R=R&&R.$$typeof,R){case l:case c:case v:case _:return R;case o:return R;default:return N}}case e:return N}}}return lr.ContextConsumer=o,lr.ContextProvider=l,lr.Element=n,lr.ForwardRef=c,lr.Fragment=t,lr.Lazy=v,lr.Memo=_,lr.Portal=e,lr.Profiler=i,lr.StrictMode=r,lr.Suspense=d,lr.SuspenseList=p,lr.isContextConsumer=function(R){return A(R)===o},lr.isContextProvider=function(R){return A(R)===l},lr.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},lr.isForwardRef=function(R){return A(R)===c},lr.isFragment=function(R){return A(R)===t},lr.isLazy=function(R){return A(R)===v},lr.isMemo=function(R){return A(R)===_},lr.isPortal=function(R){return A(R)===e},lr.isProfiler=function(R){return A(R)===i},lr.isStrictMode=function(R){return A(R)===r},lr.isSuspense=function(R){return A(R)===d},lr.isSuspenseList=function(R){return A(R)===p},lr.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===p||R===w||typeof R=="object"&&R!==null&&(R.$$typeof===v||R.$$typeof===_||R.$$typeof===l||R.$$typeof===o||R.$$typeof===c||R.$$typeof===b||R.getModuleId!==void 0)},lr.typeOf=A,lr}var aA;function yj(){return aA||(aA=1,d1.exports=mj()),d1.exports}var RR=yj();function pu(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function kR(n){if(ce.isValidElement(n)||RR.isValidElementType(n)||!pu(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=kR(n[t])}),e}function Mo(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return pu(n)&&pu(e)&&Object.keys(e).forEach(i=>{ce.isValidElement(e[i])||RR.isValidElementType(e[i])?r[i]=e[i]:pu(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&pu(n[i])?r[i]=Mo(n[i],e[i],t):t.clone?r[i]=pu(e[i])?kR(e[i]):e[i]:r[i]=e[i]}),r}function Dh(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Kd(n){if(typeof n!="string")throw new Error(Dh(7));return n.charAt(0).toUpperCase()+n.slice(1)}function gw(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],l=e[i];if(!l)t[i]=o||{};else if(!o)t[i]=l;else{t[i]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const d=c;t[i][d]=gw(o[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function _j(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let l="",c=!0;for(let d=0;d<o.length;d+=1){const p=o[d];p&&(l+=(c===!0?"":" ")+e(p),c=!1,t&&t[p]&&(l+=" "+t[p]))}r[i]=l}return r}const lA=n=>n,vj=()=>{let n=lA;return{configure(e){n=e},generate(e){return n(e)},reset(){n=lA}}},wj=vj(),Ej={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function NR(n,e,t="Mui"){const r=Ej[e];return r?`${t}-${r}`:`${wj.generate(n)}-${e}`}function Tj(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=NR(n,i,t)}),r}function bj(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function PR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=PR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Sj(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=PR(n))&&(r&&(r+=" "),r+=e);return r}function Fg(n,e){return e?Mo(n,e,{clone:!1}):n}function Aj(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,c;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((c=i.match(o))==null?void 0:c[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function Cj(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function xj(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function Ij(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...c)=>e(n.breakpoints.up(...c),l),o.down=(...c)=>e(n.breakpoints.down(...c),l),o.between=(...c)=>e(n.breakpoints.between(...c),l),o.only=(...c)=>e(n.breakpoints.only(...c),l),o.not=(...c)=>{const d=e(n.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const R_={xs:0,sm:600,md:900,lg:1200,xl:1536},uA={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${R_[n]}px)`},Rj={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:R_[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Iu(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||uA;return e.reduce((l,c,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||uA;return Object.keys(e).reduce((l,c)=>{if(Cj(o.keys,c)){const d=xj(r.containerQueries?r:Rj,c);d&&(l[d]=t(e[c],c))}else if(Object.keys(o.values||R_).includes(c)){const d=o.up(c);l[d]=t(e[c],c)}else{const d=c;l[d]=e[d]}return l},{})}return t(e)}function kj(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function Nj(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function k_(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function J0(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=k_(n,t)||r,e&&(i=e(i,r,n)),i}function Ei(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=l=>{if(l[e]==null)return null;const c=l[e],d=l.theme,p=k_(d,r)||{};return Iu(l,c,v=>{let w=J0(p,i,v);return v===w&&typeof v=="string"&&(w=J0(p,i,`${e}${v==="default"?"":Kd(v)}`,v)),t===!1?w:{[t]:w}})};return o.propTypes={},o.filterProps=[e],o}function Pj(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Oj={m:"margin",p:"padding"},Lj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Dj=Pj(n=>{if(n.length>2)if(cA[n])n=cA[n];else return[n];const[e,t]=n.split(""),r=Oj[e],i=Lj[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),qE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$E=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qE,...$E];function Tm(n,e,t,r){const i=k_(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=i[l];return o>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function zE(n){return Tm(n,"spacing",8)}function bm(n,e){return typeof e=="string"||e==null?e:n(e)}function Mj(n,e){return t=>n.reduce((r,i)=>(r[i]=bm(e,t),r),{})}function Fj(n,e,t,r){if(!e.includes(t))return null;const i=Dj(t),o=Mj(i,r),l=n[t];return Iu(n,l,o)}function OR(n,e){const t=zE(n.theme);return Object.keys(n).map(r=>Fj(n,e,r,t)).reduce(Fg,{})}function ii(n){return OR(n,qE)}ii.propTypes={};ii.filterProps=qE;function si(n){return OR(n,$E)}si.propTypes={};si.filterProps=$E;function N_(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Fg(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function aa(n){return typeof n!="number"?n:`${n}px solid`}function pa(n,e){return Ei({prop:n,themeKey:"borders",transform:e})}const Uj=pa("border",aa),Bj=pa("borderTop",aa),Vj=pa("borderRight",aa),jj=pa("borderBottom",aa),qj=pa("borderLeft",aa),$j=pa("borderColor"),zj=pa("borderTopColor"),Hj=pa("borderRightColor"),Wj=pa("borderBottomColor"),Gj=pa("borderLeftColor"),Kj=pa("outline",aa),Jj=pa("outlineColor"),P_=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Tm(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:bm(e,r)});return Iu(n,n.borderRadius,t)}return null};P_.propTypes={};P_.filterProps=["borderRadius"];N_(Uj,Bj,Vj,jj,qj,$j,zj,Hj,Wj,Gj,P_,Kj,Jj);const O_=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Tm(n.theme,"spacing",8),t=r=>({gap:bm(e,r)});return Iu(n,n.gap,t)}return null};O_.propTypes={};O_.filterProps=["gap"];const L_=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Tm(n.theme,"spacing",8),t=r=>({columnGap:bm(e,r)});return Iu(n,n.columnGap,t)}return null};L_.propTypes={};L_.filterProps=["columnGap"];const D_=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Tm(n.theme,"spacing",8),t=r=>({rowGap:bm(e,r)});return Iu(n,n.rowGap,t)}return null};D_.propTypes={};D_.filterProps=["rowGap"];const Qj=Ei({prop:"gridColumn"}),Xj=Ei({prop:"gridRow"}),Yj=Ei({prop:"gridAutoFlow"}),Zj=Ei({prop:"gridAutoColumns"}),eq=Ei({prop:"gridAutoRows"}),tq=Ei({prop:"gridTemplateColumns"}),nq=Ei({prop:"gridTemplateRows"}),rq=Ei({prop:"gridTemplateAreas"}),iq=Ei({prop:"gridArea"});N_(O_,L_,D_,Qj,Xj,Yj,Zj,eq,tq,nq,rq,iq);function Nd(n,e){return e==="grey"?e:n}const sq=Ei({prop:"color",themeKey:"palette",transform:Nd}),oq=Ei({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Nd}),aq=Ei({prop:"backgroundColor",themeKey:"palette",transform:Nd});N_(sq,oq,aq);function Po(n){return n<=1&&n!==0?`${n*100}%`:n}const lq=Ei({prop:"width",transform:Po}),HE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,l,c,d;const r=((l=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:l[t])||R_[t];return r?((d=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Po(t)}};return Iu(n,n.maxWidth,e)}return null};HE.filterProps=["maxWidth"];const uq=Ei({prop:"minWidth",transform:Po}),cq=Ei({prop:"height",transform:Po}),hq=Ei({prop:"maxHeight",transform:Po}),fq=Ei({prop:"minHeight",transform:Po});Ei({prop:"size",cssProperty:"width",transform:Po});Ei({prop:"size",cssProperty:"height",transform:Po});const dq=Ei({prop:"boxSizing"});N_(lq,HE,uq,cq,hq,fq,dq);const M_={border:{themeKey:"borders",transform:aa},borderTop:{themeKey:"borders",transform:aa},borderRight:{themeKey:"borders",transform:aa},borderBottom:{themeKey:"borders",transform:aa},borderLeft:{themeKey:"borders",transform:aa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:aa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:P_},color:{themeKey:"palette",transform:Nd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Nd},backgroundColor:{themeKey:"palette",transform:Nd},p:{style:si},pt:{style:si},pr:{style:si},pb:{style:si},pl:{style:si},px:{style:si},py:{style:si},padding:{style:si},paddingTop:{style:si},paddingRight:{style:si},paddingBottom:{style:si},paddingLeft:{style:si},paddingX:{style:si},paddingY:{style:si},paddingInline:{style:si},paddingInlineStart:{style:si},paddingInlineEnd:{style:si},paddingBlock:{style:si},paddingBlockStart:{style:si},paddingBlockEnd:{style:si},m:{style:ii},mt:{style:ii},mr:{style:ii},mb:{style:ii},ml:{style:ii},mx:{style:ii},my:{style:ii},margin:{style:ii},marginTop:{style:ii},marginRight:{style:ii},marginBottom:{style:ii},marginLeft:{style:ii},marginX:{style:ii},marginY:{style:ii},marginInline:{style:ii},marginInlineStart:{style:ii},marginInlineEnd:{style:ii},marginBlock:{style:ii},marginBlockStart:{style:ii},marginBlockEnd:{style:ii},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:O_},rowGap:{style:D_},columnGap:{style:L_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Po},maxWidth:{style:HE},minWidth:{transform:Po},height:{transform:Po},maxHeight:{transform:Po},minHeight:{transform:Po},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function pq(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function gq(n,e){return typeof n=="function"?n(e):n}function mq(){function n(t,r,i,o){const l={[t]:r,theme:i},c=o[t];if(!c)return{[t]:r};const{cssProperty:d=t,themeKey:p,transform:_,style:v}=c;if(r==null)return null;if(p==="typography"&&r==="inherit")return{[t]:r};const w=k_(i,p)||{};return v?v(l):Iu(l,r,A=>{let R=J0(w,_,A);return A===R&&typeof A=="string"&&(R=J0(w,_,`${t}${A==="default"?"":Kd(A)}`,A)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??M_;function l(c){let d=c;if(typeof c=="function")d=c(i);else if(typeof c!="object")return c;if(!d)return null;const p=kj(i.breakpoints),_=Object.keys(p);let v=p;return Object.keys(d).forEach(w=>{const b=gq(d[w],i);if(b!=null)if(typeof b=="object")if(o[w])v=Fg(v,n(w,b,i,o));else{const A=Iu({theme:i},b,R=>({[w]:R}));pq(A,b)?v[w]=e({sx:b,theme:i}):v=Fg(v,A)}else v=Fg(v,n(w,b,i,o))}),Aj(i,Nj(_,v))}return Array.isArray(r)?r.map(l):l(r)}return e}const Jd=mq();Jd.filterProps=["sx"];function mw(){return mw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mw.apply(null,arguments)}function yq(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function _q(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var vq=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_q(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=yq(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Ns="-ms-",Q0="-moz-",Kn="-webkit-",LR="comm",WE="rule",GE="decl",wq="@import",DR="@keyframes",Eq="@layer",Tq=Math.abs,F_=String.fromCharCode,bq=Object.assign;function Sq(n,e){return ps(n,0)^45?(((e<<2^ps(n,0))<<2^ps(n,1))<<2^ps(n,2))<<2^ps(n,3):0}function MR(n){return n.trim()}function Aq(n,e){return(n=e.exec(n))?n[0]:n}function Jn(n,e,t){return n.replace(e,t)}function yw(n,e){return n.indexOf(e)}function ps(n,e){return n.charCodeAt(e)|0}function tm(n,e,t){return n.slice(e,t)}function Tl(n){return n.length}function KE(n){return n.length}function Zy(n,e){return e.push(n),n}function Cq(n,e){return n.map(e).join("")}var U_=1,Qd=1,FR=0,yo=0,Ri=0,rp="";function B_(n,e,t,r,i,o,l){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:U_,column:Qd,length:l,return:""}}function pg(n,e){return bq(B_("",null,null,"",null,null,0),n,{length:-n.length},e)}function xq(){return Ri}function Iq(){return Ri=yo>0?ps(rp,--yo):0,Qd--,Ri===10&&(Qd=1,U_--),Ri}function Fo(){return Ri=yo<FR?ps(rp,yo++):0,Qd++,Ri===10&&(Qd=1,U_++),Ri}function kl(){return ps(rp,yo)}function y0(){return yo}function Sm(n,e){return tm(rp,n,e)}function nm(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UR(n){return U_=Qd=1,FR=Tl(rp=n),yo=0,[]}function BR(n){return rp="",n}function _0(n){return MR(Sm(yo-1,_w(n===91?n+2:n===40?n+1:n)))}function Rq(n){for(;(Ri=kl())&&Ri<33;)Fo();return nm(n)>2||nm(Ri)>3?"":" "}function kq(n,e){for(;--e&&Fo()&&!(Ri<48||Ri>102||Ri>57&&Ri<65||Ri>70&&Ri<97););return Sm(n,y0()+(e<6&&kl()==32&&Fo()==32))}function _w(n){for(;Fo();)switch(Ri){case n:return yo;case 34:case 39:n!==34&&n!==39&&_w(Ri);break;case 40:n===41&&_w(n);break;case 92:Fo();break}return yo}function Nq(n,e){for(;Fo()&&n+Ri!==57;)if(n+Ri===84&&kl()===47)break;return"/*"+Sm(e,yo-1)+"*"+F_(n===47?n:Fo())}function Pq(n){for(;!nm(kl());)Fo();return Sm(n,yo)}function Oq(n){return BR(v0("",null,null,null,[""],n=UR(n),0,[0],n))}function v0(n,e,t,r,i,o,l,c,d){for(var p=0,_=0,v=l,w=0,b=0,A=0,R=1,N=1,D=1,F=0,x="",M=i,$=o,G=r,U=x;N;)switch(A=F,F=Fo()){case 40:if(A!=108&&ps(U,v-1)==58){yw(U+=Jn(_0(F),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:U+=_0(F);break;case 9:case 10:case 13:case 32:U+=Rq(A);break;case 92:U+=kq(y0()-1,7);continue;case 47:switch(kl()){case 42:case 47:Zy(Lq(Nq(Fo(),y0()),e,t),d);break;default:U+="/"}break;case 123*R:c[p++]=Tl(U)*D;case 125*R:case 59:case 0:switch(F){case 0:case 125:N=0;case 59+_:D==-1&&(U=Jn(U,/\f/g,"")),b>0&&Tl(U)-v&&Zy(b>32?fA(U+";",r,t,v-1):fA(Jn(U," ","")+";",r,t,v-2),d);break;case 59:U+=";";default:if(Zy(G=hA(U,e,t,p,_,i,c,x,M=[],$=[],v),o),F===123)if(_===0)v0(U,e,G,G,M,o,v,c,$);else switch(w===99&&ps(U,3)===110?100:w){case 100:case 108:case 109:case 115:v0(n,G,G,r&&Zy(hA(n,G,G,0,0,i,c,x,i,M=[],v),$),i,$,v,c,r?M:$);break;default:v0(U,G,G,G,[""],$,0,c,$)}}p=_=b=0,R=D=1,x=U="",v=l;break;case 58:v=1+Tl(U),b=A;default:if(R<1){if(F==123)--R;else if(F==125&&R++==0&&Iq()==125)continue}switch(U+=F_(F),F*R){case 38:D=_>0?1:(U+="\f",-1);break;case 44:c[p++]=(Tl(U)-1)*D,D=1;break;case 64:kl()===45&&(U+=_0(Fo())),w=kl(),_=v=Tl(x=U+=Pq(y0())),F++;break;case 45:A===45&&Tl(U)==2&&(R=0)}}return o}function hA(n,e,t,r,i,o,l,c,d,p,_){for(var v=i-1,w=i===0?o:[""],b=KE(w),A=0,R=0,N=0;A<r;++A)for(var D=0,F=tm(n,v+1,v=Tq(R=l[A])),x=n;D<b;++D)(x=MR(R>0?w[D]+" "+F:Jn(F,/&\f/g,w[D])))&&(d[N++]=x);return B_(n,e,t,i===0?WE:c,d,p,_)}function Lq(n,e,t){return B_(n,e,t,LR,F_(xq()),tm(n,2,-2),0)}function fA(n,e,t,r){return B_(n,e,t,GE,tm(n,0,r),tm(n,r+1,-1),r)}function Pd(n,e){for(var t="",r=KE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Dq(n,e,t,r){switch(n.type){case Eq:if(n.children.length)break;case wq:case GE:return n.return=n.return||n.value;case LR:return"";case DR:return n.return=n.value+"{"+Pd(n.children,r)+"}";case WE:n.value=n.props.join(",")}return Tl(t=Pd(n.children,r))?n.return=n.value+"{"+t+"}":""}function Mq(n){var e=KE(n);return function(t,r,i,o){for(var l="",c=0;c<e;c++)l+=n[c](t,r,i,o)||"";return l}}function Fq(n){return function(e){e.root||(e=e.return)&&n(e)}}function VR(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Uq=function(e,t,r){for(var i=0,o=0;i=o,o=kl(),i===38&&o===12&&(t[r]=1),!nm(o);)Fo();return Sm(e,yo)},Bq=function(e,t){var r=-1,i=44;do switch(nm(i)){case 0:i===38&&kl()===12&&(t[r]=1),e[r]+=Uq(yo-1,t,r);break;case 2:e[r]+=_0(i);break;case 4:if(i===44){e[++r]=kl()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=F_(i)}while(i=Fo());return e},Vq=function(e,t){return BR(Bq(UR(e),t))},dA=new WeakMap,jq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!dA.get(r))&&!i){dA.set(e,!0);for(var o=[],l=Vq(t,o),c=r.props,d=0,p=0;d<l.length;d++)for(var _=0;_<c.length;_++,p++)e.props[p]=o[d]?l[d].replace(/&\f/g,c[_]):c[_]+" "+l[d]}}},qq=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function jR(n,e){switch(Sq(n,e)){case 5103:return Kn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Kn+n+Q0+n+Ns+n+n;case 6828:case 4268:return Kn+n+Ns+n+n;case 6165:return Kn+n+Ns+"flex-"+n+n;case 5187:return Kn+n+Jn(n,/(\w+).+(:[^]+)/,Kn+"box-$1$2"+Ns+"flex-$1$2")+n;case 5443:return Kn+n+Ns+"flex-item-"+Jn(n,/flex-|-self/,"")+n;case 4675:return Kn+n+Ns+"flex-line-pack"+Jn(n,/align-content|flex-|-self/,"")+n;case 5548:return Kn+n+Ns+Jn(n,"shrink","negative")+n;case 5292:return Kn+n+Ns+Jn(n,"basis","preferred-size")+n;case 6060:return Kn+"box-"+Jn(n,"-grow","")+Kn+n+Ns+Jn(n,"grow","positive")+n;case 4554:return Kn+Jn(n,/([^-])(transform)/g,"$1"+Kn+"$2")+n;case 6187:return Jn(Jn(Jn(n,/(zoom-|grab)/,Kn+"$1"),/(image-set)/,Kn+"$1"),n,"")+n;case 5495:case 3959:return Jn(n,/(image-set\([^]*)/,Kn+"$1$`$1");case 4968:return Jn(Jn(n,/(.+:)(flex-)?(.*)/,Kn+"box-pack:$3"+Ns+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kn+n+n;case 4095:case 3583:case 4068:case 2532:return Jn(n,/(.+)-inline(.+)/,Kn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tl(n)-1-e>6)switch(ps(n,e+1)){case 109:if(ps(n,e+4)!==45)break;case 102:return Jn(n,/(.+:)(.+)-([^]+)/,"$1"+Kn+"$2-$3$1"+Q0+(ps(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~yw(n,"stretch")?jR(Jn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ps(n,e+1)!==115)break;case 6444:switch(ps(n,Tl(n)-3-(~yw(n,"!important")&&10))){case 107:return Jn(n,":",":"+Kn)+n;case 101:return Jn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kn+(ps(n,14)===45?"inline-":"")+"box$3$1"+Kn+"$2$3$1"+Ns+"$2box$3")+n}break;case 5936:switch(ps(n,e+11)){case 114:return Kn+n+Ns+Jn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Kn+n+Ns+Jn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Kn+n+Ns+Jn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Kn+n+Ns+n+n}return n}var $q=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case GE:e.return=jR(e.value,e.length);break;case DR:return Pd([pg(e,{value:Jn(e.value,"@","@"+Kn)})],i);case WE:if(e.length)return Cq(e.props,function(o){switch(Aq(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pd([pg(e,{props:[Jn(o,/:(read-\w+)/,":"+Q0+"$1")]})],i);case"::placeholder":return Pd([pg(e,{props:[Jn(o,/:(plac\w+)/,":"+Kn+"input-$1")]}),pg(e,{props:[Jn(o,/:(plac\w+)/,":"+Q0+"$1")]}),pg(e,{props:[Jn(o,/:(plac\w+)/,Ns+"input-$1")]})],i)}return""})}},zq=[$q],Hq=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var N=R.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||zq,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var N=R.getAttribute("data-emotion").split(" "),D=1;D<N.length;D++)o[N[D]]=!0;c.push(R)});var d,p=[jq,qq];{var _,v=[Dq,Fq(function(R){_.insert(R)})],w=Mq(p.concat(i,v)),b=function(N){return Pd(Oq(N),w)};d=function(N,D,F,x){_=F,b(N?N+"{"+D.styles+"}":D.styles),x&&(A.inserted[D.name]=!0)}}var A={key:t,sheet:new vq({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return A.sheet.hydrate(c),A},Wq=!0;function Gq(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var qR=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Wq===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Kq=function(e,t,r){qR(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Jq(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Qq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xq=/[A-Z]|^ms/g,Yq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$R=function(e){return e.charCodeAt(1)===45},pA=function(e){return e!=null&&typeof e!="boolean"},p1=VR(function(n){return $R(n)?n:n.replace(Xq,"-$&").toLowerCase()}),gA=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Yq,function(r,i,o){return bl={name:i,styles:o,next:bl},i})}return Qq[e]!==1&&!$R(e)&&typeof t=="number"&&t!==0?t+"px":t};function rm(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return bl={name:i.name,styles:i.styles,next:bl},i.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)bl={name:l.name,styles:l.styles,next:bl},l=l.next;var c=o.styles+";";return c}return Zq(n,e,t)}case"function":{if(n!==void 0){var d=bl,p=t(n);return bl=d,rm(n,e,p)}break}}var _=t;if(e==null)return _;var v=e[_];return v!==void 0?v:_}function Zq(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=rm(n,e,t[i])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?r+=o+"{"+e[c]+"}":pA(c)&&(r+=p1(o)+":"+gA(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)pA(l[d])&&(r+=p1(o)+":"+gA(o,l[d])+";");else{var p=rm(n,e,l);switch(o){case"animation":case"animationName":{r+=p1(o)+":"+p+";";break}default:r+=o+"{"+p+"}"}}}return r}var mA=/label:\s*([^\s;{]+)\s*(;|$)/g,bl;function zR(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";bl=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=rm(t,e,o);else{var l=o;i+=l[0]}for(var c=1;c<n.length;c++)if(i+=rm(t,e,n[c]),r){var d=o;i+=d[c]}mA.lastIndex=0;for(var p="",_;(_=mA.exec(i))!==null;)p+="-"+_[1];var v=Jq(i)+p;return{name:v,styles:i,next:bl}}var e8=function(e){return e()},t8=zT.useInsertionEffect?zT.useInsertionEffect:!1,n8=t8||e8,HR=ce.createContext(typeof HTMLElement<"u"?Hq({key:"css"}):null);HR.Provider;var r8=function(e){return ce.forwardRef(function(t,r){var i=ce.useContext(HR);return e(t,i,r)})},i8=ce.createContext({}),s8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o8=VR(function(n){return s8.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),a8=o8,l8=function(e){return e!=="theme"},yA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?a8:l8},_A=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},u8=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return qR(t,r,i),n8(function(){return Kq(t,r,i)}),null},c8=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var c=_A(e,t,r),d=c||yA(i),p=!d("as");return function(){var _=arguments,v=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),_[0]==null||_[0].raw===void 0)v.push.apply(v,_);else{var w=_[0];v.push(w[0]);for(var b=_.length,A=1;A<b;A++)v.push(_[A],w[A])}var R=r8(function(N,D,F){var x=p&&N.as||i,M="",$=[],G=N;if(N.theme==null){G={};for(var U in N)G[U]=N[U];G.theme=ce.useContext(i8)}typeof N.className=="string"?M=Gq(D.registered,$,N.className):N.className!=null&&(M=N.className+" ");var j=zR(v.concat($),D.registered,G);M+=D.key+"-"+j.name,l!==void 0&&(M+=" "+l);var q=p&&c===void 0?yA(x):d,k={};for(var P in N)p&&P==="as"||q(P)&&(k[P]=N[P]);return k.className=M,F&&(k.ref=F),ce.createElement(ce.Fragment,null,ce.createElement(u8,{cache:D,serialized:j,isStringTag:typeof x=="string"}),ce.createElement(x,k))});return R.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=v,R.__emotion_forwardProp=c,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(N,D){var F=n(N,mw({},t,D,{shouldForwardProp:_A(R,D,!0)}));return F.apply(void 0,v)},R}},h8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vw=c8.bind(null);h8.forEach(function(n){vw[n]=vw(n)});/**
 * @mui/styled-engine v6.4.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function f8(n,e){return vw(n,e)}function d8(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const vA=[];function wA(n){return vA[0]=n,zR(vA)}const p8=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function g8(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=p8(e),l=Object.keys(o);function c(w){return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${t})`}function d(w){return`@media (max-width:${(typeof e[w]=="number"?e[w]:w)-r/100}${t})`}function p(w,b){const A=l.indexOf(b);return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${t}) and (max-width:${(A!==-1&&typeof e[l[A]]=="number"?e[l[A]]:b)-r/100}${t})`}function _(w){return l.indexOf(w)+1<l.length?p(w,l[l.indexOf(w)+1]):c(w)}function v(w){const b=l.indexOf(w);return b===0?c(l[1]):b===l.length-1?d(l[b]):p(w,l[l.indexOf(w)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:d,between:p,only:_,not:v,unit:t,...i}}const m8={borderRadius:4};function WR(n=8,e=zE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function y8(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function GR(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...l}=n,c=g8(t),d=WR(i);let p=Mo({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...m8,...o}},l);return p=Ij(p),p.applyStyles=y8,p=e.reduce((_,v)=>Mo(_,v),p),p.unstable_sxConfig={...M_,...l==null?void 0:l.unstable_sxConfig},p.unstable_sx=function(v){return Jd({sx:v,theme:this})},p}function KR(n){const{variants:e,...t}=n,r={variants:e,style:wA(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=wA(i.style))}),r}const _8=GR();function g1(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function v8(n){return n?(e,t)=>t[n]:null}function w8(n,e,t){n.theme=b8(n.theme)?t:n.theme[e]||n.theme}function w0(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>w0(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return JR(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function JR(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const c in l.props)if(n[c]!==l.props[c]&&((i=n.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function E8(n={}){const{themeId:e,defaultTheme:t=_8,rootShouldForwardProp:r=g1,slotShouldForwardProp:i=g1}=n;function o(c){w8(c,e,t)}return(c,d={})=>{d8(c,$=>$.filter(G=>G!==Jd));const{name:p,slot:_,skipVariantsResolver:v,skipSx:w,overridesResolver:b=v8(A8(_)),...A}=d,R=v!==void 0?v:_&&_!=="Root"&&_!=="root"||!1,N=w||!1;let D=g1;_==="Root"||_==="root"?D=r:_?D=i:S8(c)&&(D=void 0);const F=f8(c,{shouldForwardProp:D,label:T8(),...A}),x=$=>{if(typeof $=="function"&&$.__emotion_real!==$)return function(U){return w0(U,$)};if(pu($)){const G=KR($);return G.variants?function(j){return w0(j,G)}:G.style}return $},M=(...$)=>{const G=[],U=$.map(x),j=[];if(G.push(o),p&&b&&j.push(function(z){var re,pe;const oe=(pe=(re=z.theme.components)==null?void 0:re[p])==null?void 0:pe.styleOverrides;if(!oe)return null;const le={};for(const se in oe)le[se]=w0(z,oe[se]);return b(z,le)}),p&&!R&&j.push(function(z){var le,re;const O=z.theme,oe=(re=(le=O==null?void 0:O.components)==null?void 0:le[p])==null?void 0:re.variants;return oe?JR(z,oe):null}),N||j.push(Jd),Array.isArray(U[0])){const P=U.shift(),z=new Array(G.length).fill(""),O=new Array(j.length).fill("");let oe;oe=[...z,...P,...O],oe.raw=[...z,...P.raw,...O],G.unshift(oe)}const q=[...G,...U,...j],k=F(...q);return c.muiName&&(k.muiName=c.muiName),k};return F.withConfig&&(M.withConfig=F.withConfig),M}}function T8(n,e){return void 0}function b8(n){for(const e in n)return!1;return!0}function S8(n){return typeof n=="string"&&n.charCodeAt(0)>96}function A8(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function JE(n,e=0,t=1){return bj(n,e,t)}function C8(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function kc(n){if(n.type)return n;if(n.charAt(0)==="#")return kc(C8(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Dh(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Dh(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const x8=n=>{const e=kc(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Ig=(n,e)=>{try{return x8(n)}catch{return n}};function V_(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function QR(n){n=kc(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),l=(p,_=(p+t/30)%12)=>i-o*Math.max(Math.min(_-3,9-_,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(c+="a",d.push(e[3])),V_({type:c,values:d})}function ww(n){n=kc(n);let e=n.type==="hsl"||n.type==="hsla"?kc(QR(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function I8(n,e){const t=ww(n),r=ww(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function R8(n,e){return n=kc(n),e=JE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,V_(n)}function e0(n,e,t){try{return R8(n,e)}catch{return n}}function QE(n,e){if(n=kc(n),e=JE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return V_(n)}function gr(n,e,t){try{return QE(n,e)}catch{return n}}function XE(n,e){if(n=kc(n),e=JE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return V_(n)}function mr(n,e,t){try{return XE(n,e)}catch{return n}}function k8(n,e=.15){return ww(n)>.5?QE(n,e):XE(n,e)}function t0(n,e,t){try{return k8(n,e)}catch{return n}}const N8=ce.createContext(void 0);function P8(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?gw(i.defaultProps,r):!i.styleOverrides&&!i.variants?gw(i,r):r}function O8({props:n,name:e}){const t=ce.useContext(N8);return P8({props:n,name:e,theme:{components:t}})}const EA={theme:void 0};function L8(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(EA.theme=i.theme,o=KR(n(EA)),e=o,t=i.theme),o}}function D8(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const TA=(n,e,t,r=[])=>{let i=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},M8=(n,e,t)=>{function r(i,o=[],l=[]){Object.entries(i).forEach(([c,d])=>{(!t||!t([...o,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,c],Array.isArray(d)?[...l,c]:l):e([...o,c],d,l))})}r(n)},F8=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function m1(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},l={};return M8(n,(c,d,p)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const _=`--${t?`${t}-`:""}${c.join("-")}`,v=F8(c,d);Object.assign(i,{[_]:v}),TA(o,c,`var(${_})`,p),TA(l,c,`var(${_}, ${v})`,p)}},c=>c[0]==="vars"),{css:i,vars:o,varsWithDefaults:l}}function U8(n,e={}){const{getSelector:t=N,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...d}=n,{vars:p,css:_,varsWithDefaults:v}=m1(d,e);let w=v;const b={},{[c]:A,...R}=o;if(Object.entries(R||{}).forEach(([x,M])=>{const{vars:$,css:G,varsWithDefaults:U}=m1(M,e);w=Mo(w,U),b[x]={css:G,vars:$}}),A){const{css:x,vars:M,varsWithDefaults:$}=m1(A,e);w=Mo(w,$),b[c]={css:x,vars:M}}function N(x,M){var G,U;let $=i;if(i==="class"&&($=".%s"),i==="data"&&($="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&($=`[${i}="%s"]`),x){if($==="media")return n.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((U=(G=o[x])==null?void 0:G.palette)==null?void 0:U.mode)||x})`]:{":root":M}};if($)return n.defaultColorScheme===x?`:root, ${$.replace("%s",String(x))}`:$.replace("%s",String(x))}return":root"}return{vars:w,generateThemeVars:()=>{let x={...p};return Object.entries(b).forEach(([,{vars:M}])=>{x=Mo(x,M)}),x},generateStyleSheets:()=>{var j,q;const x=[],M=n.defaultColorScheme||"light";function $(k,P){Object.keys(P).length&&x.push(typeof k=="string"?{[k]:{...P}}:k)}$(t(void 0,{..._}),_);const{[M]:G,...U}=b;if(G){const{css:k}=G,P=(q=(j=o[M])==null?void 0:j.palette)==null?void 0:q.mode,z=!r&&P?{colorScheme:P,...k}:{...k};$(t(M,{...z}),z)}return Object.entries(U).forEach(([k,{css:P}])=>{var oe,le;const z=(le=(oe=o[k])==null?void 0:oe.palette)==null?void 0:le.mode,O=!r&&z?{colorScheme:z,...P}:{...P};$(t(k,{...O}),O)}),x}}}function B8(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const im={black:"#000",white:"#fff"},V8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ud={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},cd={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},gg={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},hd={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},fd={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},dd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function XR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:im.white,default:im.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const j8=XR();function YR(){return{text:{primary:im.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:im.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const bA=YR();function SA(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=XE(n.main,i):e==="dark"&&(n.dark=QE(n.main,o)))}function q8(n="light"){return n==="dark"?{main:hd[200],light:hd[50],dark:hd[400]}:{main:hd[700],light:hd[400],dark:hd[800]}}function $8(n="light"){return n==="dark"?{main:ud[200],light:ud[50],dark:ud[400]}:{main:ud[500],light:ud[300],dark:ud[700]}}function z8(n="light"){return n==="dark"?{main:cd[500],light:cd[300],dark:cd[700]}:{main:cd[700],light:cd[400],dark:cd[800]}}function H8(n="light"){return n==="dark"?{main:fd[400],light:fd[300],dark:fd[700]}:{main:fd[700],light:fd[500],dark:fd[900]}}function W8(n="light"){return n==="dark"?{main:dd[400],light:dd[300],dark:dd[700]}:{main:dd[800],light:dd[500],dark:dd[900]}}function G8(n="light"){return n==="dark"?{main:gg[400],light:gg[300],dark:gg[700]}:{main:"#ed6c02",light:gg[500],dark:gg[900]}}function YE(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||q8(e),l=n.secondary||$8(e),c=n.error||z8(e),d=n.info||H8(e),p=n.success||W8(e),_=n.warning||G8(e);function v(R){return I8(R,bA.text.primary)>=t?bA.text.primary:j8.text.primary}const w=({color:R,name:N,mainShade:D=500,lightShade:F=300,darkShade:x=700})=>{if(R={...R},!R.main&&R[D]&&(R.main=R[D]),!R.hasOwnProperty("main"))throw new Error(Dh(11,N?` (${N})`:"",D));if(typeof R.main!="string")throw new Error(Dh(12,N?` (${N})`:"",JSON.stringify(R.main)));return SA(R,"light",F,r),SA(R,"dark",x,r),R.contrastText||(R.contrastText=v(R.main)),R};let b;return e==="light"?b=XR():e==="dark"&&(b=YR()),Mo({common:{...im},mode:e,primary:w({color:o,name:"primary"}),secondary:w({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:w({color:c,name:"error"}),warning:w({color:_,name:"warning"}),info:w({color:d,name:"info"}),success:w({color:p,name:"success"}),grey:V8,contrastThreshold:t,getContrastText:v,augmentColor:w,tonalOffset:r,...b},i)}function K8(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function J8(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Q8(n){return Math.round(n*1e5)/1e5}const AA={textTransform:"uppercase"},CA='"Roboto", "Helvetica", "Arial", sans-serif';function X8(n,e){const{fontFamily:t=CA,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:p,pxToRem:_,...v}=typeof e=="function"?e(n):e,w=r/14,b=_||(N=>`${N/d*w}rem`),A=(N,D,F,x,M)=>({fontFamily:t,fontWeight:N,fontSize:b(D),lineHeight:F,...t===CA?{letterSpacing:`${Q8(x/D)}em`}:{},...M,...p}),R={h1:A(i,96,1.167,-1.5),h2:A(i,60,1.2,-.5),h3:A(o,48,1.167,0),h4:A(o,34,1.235,.25),h5:A(o,24,1.334,0),h6:A(l,20,1.6,.15),subtitle1:A(o,16,1.75,.15),subtitle2:A(l,14,1.57,.1),body1:A(o,16,1.5,.15),body2:A(o,14,1.43,.15),button:A(l,14,1.75,.4,AA),caption:A(o,12,1.66,.4),overline:A(o,12,2.66,1,AA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Mo({htmlFontSize:d,pxToRem:b,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...R},v,{clone:!1})}const Y8=.2,Z8=.14,e7=.12;function Mr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Y8})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Z8})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${e7})`].join(",")}const t7=["none",Mr(0,2,1,-1,0,1,1,0,0,1,3,0),Mr(0,3,1,-2,0,2,2,0,0,1,5,0),Mr(0,3,3,-2,0,3,4,0,0,1,8,0),Mr(0,2,4,-1,0,4,5,0,0,1,10,0),Mr(0,3,5,-1,0,5,8,0,0,1,14,0),Mr(0,3,5,-1,0,6,10,0,0,1,18,0),Mr(0,4,5,-2,0,7,10,1,0,2,16,1),Mr(0,5,5,-3,0,8,10,1,0,3,14,2),Mr(0,5,6,-3,0,9,12,1,0,3,16,2),Mr(0,6,6,-3,0,10,14,1,0,4,18,3),Mr(0,6,7,-4,0,11,15,1,0,4,20,3),Mr(0,7,8,-4,0,12,17,2,0,5,22,4),Mr(0,7,8,-4,0,13,19,2,0,5,24,4),Mr(0,7,9,-4,0,14,21,2,0,5,26,4),Mr(0,8,9,-5,0,15,22,2,0,6,28,5),Mr(0,8,10,-5,0,16,24,2,0,6,30,5),Mr(0,8,11,-5,0,17,26,2,0,6,32,5),Mr(0,9,11,-5,0,18,28,2,0,7,34,6),Mr(0,9,12,-6,0,19,29,2,0,7,36,6),Mr(0,10,13,-6,0,20,31,3,0,8,38,7),Mr(0,10,13,-6,0,21,33,3,0,8,40,7),Mr(0,10,14,-6,0,22,35,3,0,8,42,7),Mr(0,11,14,-7,0,23,36,3,0,9,44,8),Mr(0,11,15,-7,0,24,38,3,0,9,46,8)],n7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},r7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function xA(n){return`${Math.round(n)}ms`}function i7(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function s7(n){const e={...n7,...n.easing},t={...r7,...n.duration};return{getAutoHeightDuration:i7,create:(i=["all"],o={})=>{const{duration:l=t.standard,easing:c=e.easeInOut,delay:d=0,...p}=o;return(Array.isArray(i)?i:[i]).map(_=>`${_} ${typeof l=="string"?l:xA(l)} ${c} ${typeof d=="string"?d:xA(d)}`).join(",")},...n,easing:e,duration:t}}const o7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function a7(n){return pu(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function ZR(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[l,c]=i[o];!a7(c)||l.startsWith("unstable_")?delete r[l]:pu(c)&&(r[l]={...c},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Ew(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:l={},typography:c={},shape:d,...p}=n;if(n.vars)throw new Error(Dh(20));const _=YE(o),v=GR(n);let w=Mo(v,{mixins:J8(v.breakpoints,r),palette:_,shadows:t7.slice(),typography:X8(_,c),transitions:s7(l),zIndex:{...o7}});return w=Mo(w,p),w=e.reduce((b,A)=>Mo(b,A),w),w.unstable_sxConfig={...M_,...p==null?void 0:p.unstable_sxConfig},w.unstable_sx=function(A){return Jd({sx:A,theme:this})},w.toRuntimeSource=ZR,w}function l7(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const u7=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=l7(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function e2(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function t2(n){return n==="dark"?u7:[]}function c7(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=YE(e);return{palette:o,opacity:{...e2(o.mode),...t},overlays:r||t2(o.mode),...i}}function h7(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const f7=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],d7=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return f7(n.cssVarPrefix).forEach(c=>{l[c]=t[c],delete t[c]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function p7(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ne(n,e,t){!n[e]&&t&&(n[e]=t)}function Rg(n){return typeof n!="string"||!n.startsWith("hsl")?n:QR(n)}function du(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Ig(Rg(n[e])))}function g7(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const _l=n=>{try{return n()}catch{}},m7=(n="mui")=>D8(n);function y1(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=c7({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...l}=Ew({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...e2(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||t2(i)},l}function y7(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=h7,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...p}=n,_=Object.keys(t)[0],v=r||(t.light&&_!=="light"?"light":_),w=m7(o),{[v]:b,light:A,dark:R,...N}=t,D={...N};let F=b;if((v==="dark"&&!("dark"in t)||v==="light"&&!("light"in t))&&(F=!0),!F)throw new Error(Dh(21,v));const x=y1(D,F,p,v);A&&!D.light&&y1(D,A,void 0,"light"),R&&!D.dark&&y1(D,R,void 0,"dark");let M={defaultColorScheme:v,...x,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:d,getCssVar:w,colorSchemes:D,font:{...K8(x.typography),...x.font},spacing:g7(p.spacing)};Object.keys(M.colorSchemes).forEach(q=>{const k=M.colorSchemes[q].palette,P=z=>{const O=z.split("-"),oe=O[1],le=O[2];return w(z,k[oe][le])};if(k.mode==="light"&&(Ne(k.common,"background","#fff"),Ne(k.common,"onBackground","#000")),k.mode==="dark"&&(Ne(k.common,"background","#000"),Ne(k.common,"onBackground","#fff")),p7(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){Ne(k.Alert,"errorColor",gr(k.error.light,.6)),Ne(k.Alert,"infoColor",gr(k.info.light,.6)),Ne(k.Alert,"successColor",gr(k.success.light,.6)),Ne(k.Alert,"warningColor",gr(k.warning.light,.6)),Ne(k.Alert,"errorFilledBg",P("palette-error-main")),Ne(k.Alert,"infoFilledBg",P("palette-info-main")),Ne(k.Alert,"successFilledBg",P("palette-success-main")),Ne(k.Alert,"warningFilledBg",P("palette-warning-main")),Ne(k.Alert,"errorFilledColor",_l(()=>k.getContrastText(k.error.main))),Ne(k.Alert,"infoFilledColor",_l(()=>k.getContrastText(k.info.main))),Ne(k.Alert,"successFilledColor",_l(()=>k.getContrastText(k.success.main))),Ne(k.Alert,"warningFilledColor",_l(()=>k.getContrastText(k.warning.main))),Ne(k.Alert,"errorStandardBg",mr(k.error.light,.9)),Ne(k.Alert,"infoStandardBg",mr(k.info.light,.9)),Ne(k.Alert,"successStandardBg",mr(k.success.light,.9)),Ne(k.Alert,"warningStandardBg",mr(k.warning.light,.9)),Ne(k.Alert,"errorIconColor",P("palette-error-main")),Ne(k.Alert,"infoIconColor",P("palette-info-main")),Ne(k.Alert,"successIconColor",P("palette-success-main")),Ne(k.Alert,"warningIconColor",P("palette-warning-main")),Ne(k.AppBar,"defaultBg",P("palette-grey-100")),Ne(k.Avatar,"defaultBg",P("palette-grey-400")),Ne(k.Button,"inheritContainedBg",P("palette-grey-300")),Ne(k.Button,"inheritContainedHoverBg",P("palette-grey-A100")),Ne(k.Chip,"defaultBorder",P("palette-grey-400")),Ne(k.Chip,"defaultAvatarColor",P("palette-grey-700")),Ne(k.Chip,"defaultIconColor",P("palette-grey-700")),Ne(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ne(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ne(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ne(k.LinearProgress,"primaryBg",mr(k.primary.main,.62)),Ne(k.LinearProgress,"secondaryBg",mr(k.secondary.main,.62)),Ne(k.LinearProgress,"errorBg",mr(k.error.main,.62)),Ne(k.LinearProgress,"infoBg",mr(k.info.main,.62)),Ne(k.LinearProgress,"successBg",mr(k.success.main,.62)),Ne(k.LinearProgress,"warningBg",mr(k.warning.main,.62)),Ne(k.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),Ne(k.Slider,"primaryTrack",mr(k.primary.main,.62)),Ne(k.Slider,"secondaryTrack",mr(k.secondary.main,.62)),Ne(k.Slider,"errorTrack",mr(k.error.main,.62)),Ne(k.Slider,"infoTrack",mr(k.info.main,.62)),Ne(k.Slider,"successTrack",mr(k.success.main,.62)),Ne(k.Slider,"warningTrack",mr(k.warning.main,.62));const z=t0(k.background.default,.8);Ne(k.SnackbarContent,"bg",z),Ne(k.SnackbarContent,"color",_l(()=>k.getContrastText(z))),Ne(k.SpeedDialAction,"fabHoverBg",t0(k.background.paper,.15)),Ne(k.StepConnector,"border",P("palette-grey-400")),Ne(k.StepContent,"border",P("palette-grey-400")),Ne(k.Switch,"defaultColor",P("palette-common-white")),Ne(k.Switch,"defaultDisabledColor",P("palette-grey-100")),Ne(k.Switch,"primaryDisabledColor",mr(k.primary.main,.62)),Ne(k.Switch,"secondaryDisabledColor",mr(k.secondary.main,.62)),Ne(k.Switch,"errorDisabledColor",mr(k.error.main,.62)),Ne(k.Switch,"infoDisabledColor",mr(k.info.main,.62)),Ne(k.Switch,"successDisabledColor",mr(k.success.main,.62)),Ne(k.Switch,"warningDisabledColor",mr(k.warning.main,.62)),Ne(k.TableCell,"border",mr(e0(k.divider,1),.88)),Ne(k.Tooltip,"bg",e0(k.grey[700],.92))}if(k.mode==="dark"){Ne(k.Alert,"errorColor",mr(k.error.light,.6)),Ne(k.Alert,"infoColor",mr(k.info.light,.6)),Ne(k.Alert,"successColor",mr(k.success.light,.6)),Ne(k.Alert,"warningColor",mr(k.warning.light,.6)),Ne(k.Alert,"errorFilledBg",P("palette-error-dark")),Ne(k.Alert,"infoFilledBg",P("palette-info-dark")),Ne(k.Alert,"successFilledBg",P("palette-success-dark")),Ne(k.Alert,"warningFilledBg",P("palette-warning-dark")),Ne(k.Alert,"errorFilledColor",_l(()=>k.getContrastText(k.error.dark))),Ne(k.Alert,"infoFilledColor",_l(()=>k.getContrastText(k.info.dark))),Ne(k.Alert,"successFilledColor",_l(()=>k.getContrastText(k.success.dark))),Ne(k.Alert,"warningFilledColor",_l(()=>k.getContrastText(k.warning.dark))),Ne(k.Alert,"errorStandardBg",gr(k.error.light,.9)),Ne(k.Alert,"infoStandardBg",gr(k.info.light,.9)),Ne(k.Alert,"successStandardBg",gr(k.success.light,.9)),Ne(k.Alert,"warningStandardBg",gr(k.warning.light,.9)),Ne(k.Alert,"errorIconColor",P("palette-error-main")),Ne(k.Alert,"infoIconColor",P("palette-info-main")),Ne(k.Alert,"successIconColor",P("palette-success-main")),Ne(k.Alert,"warningIconColor",P("palette-warning-main")),Ne(k.AppBar,"defaultBg",P("palette-grey-900")),Ne(k.AppBar,"darkBg",P("palette-background-paper")),Ne(k.AppBar,"darkColor",P("palette-text-primary")),Ne(k.Avatar,"defaultBg",P("palette-grey-600")),Ne(k.Button,"inheritContainedBg",P("palette-grey-800")),Ne(k.Button,"inheritContainedHoverBg",P("palette-grey-700")),Ne(k.Chip,"defaultBorder",P("palette-grey-700")),Ne(k.Chip,"defaultAvatarColor",P("palette-grey-300")),Ne(k.Chip,"defaultIconColor",P("palette-grey-300")),Ne(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ne(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ne(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ne(k.LinearProgress,"primaryBg",gr(k.primary.main,.5)),Ne(k.LinearProgress,"secondaryBg",gr(k.secondary.main,.5)),Ne(k.LinearProgress,"errorBg",gr(k.error.main,.5)),Ne(k.LinearProgress,"infoBg",gr(k.info.main,.5)),Ne(k.LinearProgress,"successBg",gr(k.success.main,.5)),Ne(k.LinearProgress,"warningBg",gr(k.warning.main,.5)),Ne(k.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),Ne(k.Slider,"primaryTrack",gr(k.primary.main,.5)),Ne(k.Slider,"secondaryTrack",gr(k.secondary.main,.5)),Ne(k.Slider,"errorTrack",gr(k.error.main,.5)),Ne(k.Slider,"infoTrack",gr(k.info.main,.5)),Ne(k.Slider,"successTrack",gr(k.success.main,.5)),Ne(k.Slider,"warningTrack",gr(k.warning.main,.5));const z=t0(k.background.default,.98);Ne(k.SnackbarContent,"bg",z),Ne(k.SnackbarContent,"color",_l(()=>k.getContrastText(z))),Ne(k.SpeedDialAction,"fabHoverBg",t0(k.background.paper,.15)),Ne(k.StepConnector,"border",P("palette-grey-600")),Ne(k.StepContent,"border",P("palette-grey-600")),Ne(k.Switch,"defaultColor",P("palette-grey-300")),Ne(k.Switch,"defaultDisabledColor",P("palette-grey-600")),Ne(k.Switch,"primaryDisabledColor",gr(k.primary.main,.55)),Ne(k.Switch,"secondaryDisabledColor",gr(k.secondary.main,.55)),Ne(k.Switch,"errorDisabledColor",gr(k.error.main,.55)),Ne(k.Switch,"infoDisabledColor",gr(k.info.main,.55)),Ne(k.Switch,"successDisabledColor",gr(k.success.main,.55)),Ne(k.Switch,"warningDisabledColor",gr(k.warning.main,.55)),Ne(k.TableCell,"border",gr(e0(k.divider,1),.68)),Ne(k.Tooltip,"bg",e0(k.grey[700],.92))}du(k.background,"default"),du(k.background,"paper"),du(k.common,"background"),du(k.common,"onBackground"),du(k,"divider"),Object.keys(k).forEach(z=>{const O=k[z];z!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&Ne(k[z],"mainChannel",Ig(Rg(O.main))),O.light&&Ne(k[z],"lightChannel",Ig(Rg(O.light))),O.dark&&Ne(k[z],"darkChannel",Ig(Rg(O.dark))),O.contrastText&&Ne(k[z],"contrastTextChannel",Ig(Rg(O.contrastText))),z==="text"&&(du(k[z],"primary"),du(k[z],"secondary")),z==="action"&&(O.active&&du(k[z],"active"),O.selected&&du(k[z],"selected")))})}),M=e.reduce((q,k)=>Mo(q,k),M);const $={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:d7(M)},{vars:G,generateThemeVars:U,generateStyleSheets:j}=U8(M,$);return M.vars=G,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([q,k])=>{M[q]=k}),M.generateThemeVars=U,M.generateStyleSheets=j,M.generateSpacing=function(){return WR(p.spacing,zE(this))},M.getColorSchemeSelector=B8(c),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=l,M.unstable_sxConfig={...M_,...p==null?void 0:p.unstable_sxConfig},M.unstable_sx=function(k){return Jd({sx:k,theme:this})},M.toRuntimeSource=ZR,M}function IA(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:YE({...t===!0?{}:t.palette,mode:e})})}function _7(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...l}=n,c=o||"light",d=i==null?void 0:i[c],p={...i,...t?{[c]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Ew(n,...e);let _=t;"palette"in n||p[c]&&(p[c]!==!0?_=p[c].palette:c==="dark"&&(_={mode:"dark"}));const v=Ew({...n,palette:_},...e);return v.defaultColorScheme=c,v.colorSchemes=p,v.palette.mode==="light"&&(v.colorSchemes.light={...p.light!==!0&&p.light,palette:v.palette},IA(v,"dark",p.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:v.palette},IA(v,"light",p.light)),v}return!t&&!("light"in p)&&c==="light"&&(p.light=!0),y7({...l,colorSchemes:p,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const v7=_7(),w7="$$material";function E7(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const T7=n=>E7(n)&&n!=="classes",b7=E8({themeId:w7,defaultTheme:v7,rootShouldForwardProp:T7}),S7=L8;function A7(n){return O8(n)}function C7(n){return NR("MuiSvgIcon",n)}Tj("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const x7=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Kd(e)}`,`fontSize${Kd(t)}`]};return _j(i,C7,r)},I7=b7("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Kd(t.color)}`],e[`fontSize${Kd(t.fontSize)}`]]}})(S7(({theme:n})=>{var e,t,r,i,o,l,c,d,p,_,v,w,b,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((_=(p=n.typography)==null?void 0:p.pxToRem)==null?void 0:_.call(p,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var N,D;return{props:{color:R},style:{color:(D=(N=(n.vars??n).palette)==null?void 0:N[R])==null?void 0:D.main}}}),{props:{color:"action"},style:{color:(w=(v=(n.vars??n).palette)==null?void 0:v.action)==null?void 0:w.active}},{props:{color:"disabled"},style:{color:(A=(b=(n.vars??n).palette)==null?void 0:b.action)==null?void 0:A.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Tw=ce.forwardRef(function(e,t){const r=A7({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:p,inheritViewBox:_=!1,titleAccess:v,viewBox:w="0 0 24 24",...b}=r,A=ce.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:_,viewBox:w,hasSvgAsChild:A},N={};_||(N.viewBox=w);const D=x7(R);return X.jsxs(I7,{as:c,className:Sj(D.root,o),focusable:"false",color:p,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:t,...N,...b,...A&&i.props,ownerState:R,children:[A?i.props.children:i,v?X.jsx("title",{children:v}):null]})});Tw.muiName="SvgIcon";function Un(n,e){function t(r,i){return X.jsx(Tw,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=Tw.muiName,ce.memo(ce.forwardRef(t))}const ZE=Un(X.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),R7=Un(X.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),RA=Un(X.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),kA=Un(X.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),sm=Un(X.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),k7=Un(X.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96M3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4z"}),"CloudOff"),N7=Un(X.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),n2=Un(X.jsx("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5z"}),"DescriptionOutlined"),bw=Un(X.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),P7=Un(X.jsx("path",{d:"m14.06 9.02.92.92-1.11 1.11 1.41 1.41 2.52-2.52-3.75-3.75-2.52 2.52 1.41 1.41zm6.65-1.98c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75zM2.81 2.81 1.39 4.22l7.32 7.32L3 17.25V21h3.75l5.71-5.71 7.32 7.32 1.41-1.41zM5.92 19H5v-.92l5.13-5.13.92.92z"}),"EditOffOutlined"),O7=Un(X.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),L7=Un(X.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter"),D7=Un(X.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft"),M7=Un(X.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight"),F7=Un(X.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),U7=Un(X.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),B7=Un(X.jsx("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"}),"FormatStrikethrough"),V7=Un(X.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"}),"FormatUnderlined"),j7=Un(X.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google"),q7=Un(X.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock"),$7=Un(X.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),z7=Un(X.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),H7=Un(X.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public"),W7=Un(X.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),G7=Un(X.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),NA=Un(X.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),K7=Un(X.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),J7=Un(X.jsx("path",{d:"M2.5 4v3h5v12h3V7h5V4zm19 5h-9v3h3v7h3v-7h3z"}),"TextFields"),Q7=Un(X.jsx("path",{d:"M16 13h-3V3h-2v10H8l4 4zM4 19v2h16v-2z"}),"VerticalAlignBottom"),X7=Un(X.jsx("path",{d:"M8 11h3v10h2V11h3l-4-4zM4 3v2h16V3z"}),"VerticalAlignTop"),PA=Un(X.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Y7=Un(X.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Z7=Un(X.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi"),e$=Un(X.jsx("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53zM2 3.05 5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0"}),"WifiOff");var mg={},OA;function t$(){if(OA)return mg;OA=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.parse=l,mg.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,b){const A=new o,R=w.length;if(R<2)return A;const N=(b==null?void 0:b.decode)||_;let D=0;do{const F=w.indexOf("=",D);if(F===-1)break;const x=w.indexOf(";",D),M=x===-1?R:x;if(F>M){D=w.lastIndexOf(";",F-1)+1;continue}const $=c(w,D,F),G=d(w,F,$),U=w.slice($,G);if(A[U]===void 0){let j=c(w,F+1,M),q=d(w,M,j);const k=N(w.slice(j,q));A[U]=k}D=M+1}while(D<R);return A}function c(w,b,A){do{const R=w.charCodeAt(b);if(R!==32&&R!==9)return b}while(++b<A);return A}function d(w,b,A){for(;b>A;){const R=w.charCodeAt(--b);if(R!==32&&R!==9)return b+1}return A}function p(w,b,A){const R=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const N=R(b);if(!e.test(N))throw new TypeError(`argument val is invalid: ${b}`);let D=w+"="+N;if(!A)return D;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);D+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);D+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);D+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);D+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(D+="; HttpOnly"),A.secure&&(D+="; Secure"),A.partitioned&&(D+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return D}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return i.call(w)==="[object Date]"}return mg}t$();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LA="popstate";function n$(n={}){function e(i,o){let{pathname:l="/",search:c="",hash:d=""}=Jh(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Sw("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,p=d.indexOf("#");c=p===-1?d:d.slice(0,p)}return c+"#"+(typeof o=="string"?o:om(o))}function r(i,o){da(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return i$(e,t,r,n)}function Fr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function da(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r$(){return Math.random().toString(36).substring(2,10)}function DA(n,e){return{usr:n.state,key:n.key,idx:e}}function Sw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jh(e):e,state:t,key:e&&e.key||r||r$()}}function om({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function i$(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",d=null,p=_();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function _(){return(l.state||{idx:null}).idx}function v(){c="POP";let N=_(),D=N==null?null:N-p;p=N,d&&d({action:c,location:R.location,delta:D})}function w(N,D){c="PUSH";let F=Sw(R.location,N,D);t(F,N),p=_()+1;let x=DA(F,p),M=R.createHref(F);try{l.pushState(x,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(M)}o&&d&&d({action:c,location:R.location,delta:1})}function b(N,D){c="REPLACE";let F=Sw(R.location,N,D);t(F,N),p=_();let x=DA(F,p),M=R.createHref(F);l.replaceState(x,"",M),o&&d&&d({action:c,location:R.location,delta:0})}function A(N){let D=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof N=="string"?N:om(N);return F=F.replace(/ $/,"%20"),Fr(D,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,D)}let R={get action(){return c},get location(){return n(i,l)},listen(N){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(LA,v),d=N,()=>{i.removeEventListener(LA,v),d=null}},createHref(N){return e(i,N)},createURL:A,encodeLocation(N){let D=A(N);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:b,go(N){return l.go(N)}};return R}function r2(n,e,t="/"){return s$(n,e,t,!1)}function s$(n,e,t,r){let i=typeof e=="string"?Jh(e):e,o=Nc(i.pathname||"/",t);if(o==null)return null;let l=i2(n);o$(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=y$(o);c=g$(l[d],p,r)}return c}function i2(n,e=[],t=[],r=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Fr(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Eu([r,d.relativePath]),_=t.concat(d);o.children&&o.children.length>0&&(Fr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),i2(o.children,e,_,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:d$(p,o.index),routesMeta:_})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of s2(o.path))i(o,l,d)}),e}function s2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=s2(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function o$(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:p$(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var a$=/^:[\w-]+$/,l$=3,u$=2,c$=1,h$=10,f$=-2,MA=n=>n==="*";function d$(n,e){let t=n.split("/"),r=t.length;return t.some(MA)&&(r+=f$),e&&(r+=u$),t.filter(i=>!MA(i)).reduce((i,o)=>i+(a$.test(o)?l$:o===""?c$:h$),r)}function p$(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function g$(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,_=o==="/"?e:e.slice(o.length)||"/",v=X0({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),w=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=X0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Eu([o,v.pathname]),pathnameBase:E$(Eu([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=Eu([o,v.pathnameBase]))}return l}function X0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=m$(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:v},w)=>{if(_==="*"){let A=c[w]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const b=c[w];return v&&!b?p[_]=void 0:p[_]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function m$(n,e=!1,t=!0){da(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function y$(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return da(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Nc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function _$(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Jh(n):n;return{pathname:t?t.startsWith("/")?t:v$(t,e):e,search:T$(r),hash:b$(i)}}function v$(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function _1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w$(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eT(n){let e=w$(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function tT(n,e,t,r=!1){let i;typeof n=="string"?i=Jh(n):(i={...n},Fr(!i.pathname||!i.pathname.includes("?"),_1("?","pathname","search",i)),Fr(!i.pathname||!i.pathname.includes("#"),_1("#","pathname","hash",i)),Fr(!i.search||!i.search.includes("#"),_1("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}c=v>=0?e[v]:"/"}let d=_$(i,c),p=l&&l!=="/"&&l.endsWith("/"),_=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||_)&&(d.pathname+="/"),d}var Eu=n=>n.join("/").replace(/\/\/+/g,"/"),E$=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),T$=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,b$=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function S$(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var o2=["POST","PUT","PATCH","DELETE"];new Set(o2);var A$=["GET",...o2];new Set(A$);var ip=ce.createContext(null);ip.displayName="DataRouter";var j_=ce.createContext(null);j_.displayName="DataRouterState";var a2=ce.createContext({isTransitioning:!1});a2.displayName="ViewTransition";var C$=ce.createContext(new Map);C$.displayName="Fetchers";var x$=ce.createContext(null);x$.displayName="Await";var Ka=ce.createContext(null);Ka.displayName="Navigation";var Am=ce.createContext(null);Am.displayName="Location";var ga=ce.createContext({outlet:null,matches:[],isDataRoute:!1});ga.displayName="Route";var nT=ce.createContext(null);nT.displayName="RouteError";function I$(n,{relative:e}={}){Fr(sp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ce.useContext(Ka),{hash:i,pathname:o,search:l}=xm(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Eu([t,o])),r.createHref({pathname:c,search:l,hash:i})}function sp(){return ce.useContext(Am)!=null}function Lc(){return Fr(sp(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(Am).location}var l2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u2(n){ce.useContext(Ka).static||ce.useLayoutEffect(n)}function Cm(){let{isDataRoute:n}=ce.useContext(ga);return n?z$():R$()}function R$(){Fr(sp(),"useNavigate() may be used only in the context of a <Router> component.");let n=ce.useContext(ip),{basename:e,navigator:t}=ce.useContext(Ka),{matches:r}=ce.useContext(ga),{pathname:i}=Lc(),o=JSON.stringify(eT(r)),l=ce.useRef(!1);return u2(()=>{l.current=!0}),ce.useCallback((d,p={})=>{if(da(l.current,l2),!l.current)return;if(typeof d=="number"){t.go(d);return}let _=tT(d,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Eu([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,o,i,n])}var k$=ce.createContext(null);function N$(n){let e=ce.useContext(ga).outlet;return e&&ce.createElement(k$.Provider,{value:n},e)}function P$(){let{matches:n}=ce.useContext(ga),e=n[n.length-1];return e?e.params:{}}function xm(n,{relative:e}={}){let{matches:t}=ce.useContext(ga),{pathname:r}=Lc(),i=JSON.stringify(eT(t));return ce.useMemo(()=>tT(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function O$(n,e){return c2(n,e)}function c2(n,e,t,r){var F;Fr(sp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=ce.useContext(Ka),{matches:l}=ce.useContext(ga),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",_=c?c.pathnameBase:"/",v=c&&c.route;{let x=v&&v.path||"";h2(p,!v||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let w=Lc(),b;if(e){let x=typeof e=="string"?Jh(e):e;Fr(_==="/"||((F=x.pathname)==null?void 0:F.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${x.pathname}" was given in the \`location\` prop.`),b=x}else b=w;let A=b.pathname||"/",R=A;if(_!=="/"){let x=_.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(x.length).join("/")}let N=!o&&t&&t.matches&&t.matches.length>0?t.matches:r2(n,{pathname:R});da(v||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),da(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=U$(N&&N.map(x=>Object.assign({},x,{params:Object.assign({},d,x.params),pathname:Eu([_,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?_:Eu([_,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,t,r);return e&&D?ce.createElement(Am.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function L$(){let n=$$(),e=S$(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ce.createElement(ce.Fragment,null,ce.createElement("p",null,"💿 Hey developer 👋"),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:o},"ErrorBoundary")," or"," ",ce.createElement("code",{style:o},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),t?ce.createElement("pre",{style:i},t):null,l)}var D$=ce.createElement(L$,null),M$=class extends ce.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ce.createElement(ga.Provider,{value:this.props.routeContext},ce.createElement(nT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F$({routeContext:n,match:e,children:t}){let r=ce.useContext(ip);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(ga.Provider,{value:n},t)}function U$(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Fr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:_,errors:v}=t,w=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,p,_)=>{let v,w=!1,b=null,A=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||D$,l&&(c<0&&_===0?(h2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):c===_&&(w=!0,A=p.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,_+1)),N=()=>{let D;return v?D=b:w?D=A:p.route.Component?D=ce.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=d,ce.createElement(F$,{match:p,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?ce.createElement(M$,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):N()},null)}function rT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B$(n){let e=ce.useContext(ip);return Fr(e,rT(n)),e}function V$(n){let e=ce.useContext(j_);return Fr(e,rT(n)),e}function j$(n){let e=ce.useContext(ga);return Fr(e,rT(n)),e}function iT(n){let e=j$(n),t=e.matches[e.matches.length-1];return Fr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function q$(){return iT("useRouteId")}function $$(){var r;let n=ce.useContext(nT),e=V$("useRouteError"),t=iT("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function z$(){let{router:n}=B$("useNavigate"),e=iT("useNavigate"),t=ce.useRef(!1);return u2(()=>{t.current=!0}),ce.useCallback(async(i,o={})=>{da(t.current,l2),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var FA={};function h2(n,e,t){!e&&!FA[n]&&(FA[n]=!0,da(!1,t))}ce.memo(H$);function H$({routes:n,future:e,state:t}){return c2(n,void 0,t,e)}function UA({to:n,replace:e,state:t,relative:r}){Fr(sp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ce.useContext(Ka);da(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=ce.useContext(ga),{pathname:l}=Lc(),c=Cm(),d=tT(n,eT(o),l,r==="path"),p=JSON.stringify(d);return ce.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function W$(n){return N$(n.context)}function Eh(n){Fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G$({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Fr(!sp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=ce.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Jh(t));let{pathname:d="/",search:p="",hash:_="",state:v=null,key:w="default"}=t,b=ce.useMemo(()=>{let A=Nc(d,l);return A==null?null:{location:{pathname:A,search:p,hash:_,state:v,key:w},navigationType:r}},[l,d,p,_,v,w,r]);return da(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:ce.createElement(Ka.Provider,{value:c},ce.createElement(Am.Provider,{children:e,value:b}))}function K$({children:n,location:e}){return O$(Aw(n),e)}function Aw(n,e=[]){let t=[];return ce.Children.forEach(n,(r,i)=>{if(!ce.isValidElement(r))return;let o=[...e,i];if(r.type===ce.Fragment){t.push.apply(t,Aw(r.props.children,o));return}Fr(r.type===Eh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Aw(r.props.children,o)),t.push(l)}),t}var E0="get",T0="application/x-www-form-urlencoded";function q_(n){return n!=null&&typeof n.tagName=="string"}function J$(n){return q_(n)&&n.tagName.toLowerCase()==="button"}function Q$(n){return q_(n)&&n.tagName.toLowerCase()==="form"}function X$(n){return q_(n)&&n.tagName.toLowerCase()==="input"}function Y$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Z$(n,e){return n.button===0&&(!e||e==="_self")&&!Y$(n)}var n0=null;function ez(){if(n0===null)try{new FormData(document.createElement("form"),0),n0=!1}catch{n0=!0}return n0}var tz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v1(n){return n!=null&&!tz.has(n)?(da(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${T0}"`),null):n}function nz(n,e){let t,r,i,o,l;if(Q$(n)){let c=n.getAttribute("action");r=c?Nc(c,e):null,t=n.getAttribute("method")||E0,i=v1(n.getAttribute("enctype"))||T0,o=new FormData(n)}else if(J$(n)||X$(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?Nc(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||E0,i=v1(n.getAttribute("formenctype"))||v1(c.getAttribute("enctype"))||T0,o=new FormData(c,n),!ez()){let{name:p,type:_,value:v}=n;if(_==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,v)}}else{if(q_(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=E0,r=null,i=T0,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function sT(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function rz(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iz(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sz(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await rz(o,t);return l.links?l.links():[]}return[]}));return uz(r.flat(1).filter(iz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function BA(n,e,t,r,i,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,c=(d,p)=>{var _;return t[p].pathname!==d.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):o==="data"?e.filter((d,p)=>{var v;let _=r.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function oz(n,e,{includeHydrateFallback:t}={}){return az(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function az(n){return[...new Set(n)]}function lz(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function uz(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(lz(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function cz(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hz(){let n=ce.useContext(ip);return sT(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fz(){let n=ce.useContext(j_);return sT(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var oT=ce.createContext(void 0);oT.displayName="FrameworkContext";function f2(){let n=ce.useContext(oT);return sT(n,"You must render this element inside a <HydratedRouter> element"),n}function dz(n,e){let t=ce.useContext(oT),[r,i]=ce.useState(!1),[o,l]=ce.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:_,onTouchStart:v}=e,w=ce.useRef(null);ce.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=D=>{D.forEach(F=>{l(F.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[n]),ce.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let b=()=>{i(!0)},A=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:yg(c,b),onBlur:yg(d,A),onMouseEnter:yg(p,b),onMouseLeave:yg(_,A),onTouchStart:yg(v,b)}]:[!1,w,{}]}function yg(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pz({page:n,...e}){let{router:t}=hz(),r=ce.useMemo(()=>r2(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ce.createElement(mz,{page:n,matches:r,...e}):null}function gz(n){let{manifest:e,routeModules:t}=f2(),[r,i]=ce.useState([]);return ce.useEffect(()=>{let o=!1;return sz(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function mz({page:n,matches:e,...t}){let r=Lc(),{manifest:i,routeModules:o}=f2(),{loaderData:l,matches:c}=fz(),d=ce.useMemo(()=>BA(n,e,c,i,r,"data"),[n,e,c,i,r]),p=ce.useMemo(()=>BA(n,e,c,i,r,"assets"),[n,e,c,i,r]),_=ce.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,A=!1;if(e.forEach(N=>{var F;let D=i.routes[N.route.id];!D||!D.hasLoader||(!d.some(x=>x.route.id===N.route.id)&&N.route.id in l&&((F=o[N.route.id])!=null&&F.shouldRevalidate)||D.hasClientLoader?A=!0:b.add(N.route.id))}),b.size===0)return[];let R=cz(n);return A&&b.size>0&&R.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,o]),v=ce.useMemo(()=>oz(p,i),[p,i]),w=gz(p);return ce.createElement(ce.Fragment,null,_.map(b=>ce.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>ce.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:A})=>ce.createElement("link",{key:b,...A})))}function yz(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var d2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d2&&(window.__reactRouterVersion="7.2.0")}catch{}function _z({basename:n,children:e,window:t}){let r=ce.useRef();r.current==null&&(r.current=n$({window:t,v5Compat:!0}));let i=r.current,[o,l]=ce.useState({action:i.action,location:i.location}),c=ce.useCallback(d=>{ce.startTransition(()=>l(d))},[l]);return ce.useLayoutEffect(()=>i.listen(c),[i,c]),ce.createElement(G$,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var p2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g2=ce.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:p,preventScrollReset:_,viewTransition:v,...w},b){let{basename:A}=ce.useContext(Ka),R=typeof p=="string"&&p2.test(p),N,D=!1;if(typeof p=="string"&&R&&(N=p,d2))try{let q=new URL(window.location.href),k=p.startsWith("//")?new URL(q.protocol+p):new URL(p),P=Nc(k.pathname,A);k.origin===q.origin&&P!=null?p=P+k.search+k.hash:D=!0}catch{da(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=I$(p,{relative:i}),[x,M,$]=dz(r,w),G=Tz(p,{replace:l,state:c,target:d,preventScrollReset:_,relative:i,viewTransition:v});function U(q){e&&e(q),q.defaultPrevented||G(q)}let j=ce.createElement("a",{...w,...$,href:N||F,onClick:D||o?e:U,ref:yz(b,M),target:d,"data-discover":!R&&t==="render"?"true":void 0});return x&&!R?ce.createElement(ce.Fragment,null,j,ce.createElement(pz,{page:F})):j});g2.displayName="Link";var vz=ce.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...p},_){let v=xm(l,{relative:p.relative}),w=Lc(),b=ce.useContext(j_),{navigator:A,basename:R}=ce.useContext(Ka),N=b!=null&&xz(v)&&c===!0,D=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,F=w.pathname,x=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(F=F.toLowerCase(),x=x?x.toLowerCase():null,D=D.toLowerCase()),x&&R&&(x=Nc(x,R)||x);const M=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let $=F===D||!i&&F.startsWith(D)&&F.charAt(M)==="/",G=x!=null&&(x===D||!i&&x.startsWith(D)&&x.charAt(D.length)==="/"),U={isActive:$,isPending:G,isTransitioning:N},j=$?e:void 0,q;typeof r=="function"?q=r(U):q=[r,$?"active":null,G?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(U):o;return ce.createElement(g2,{...p,"aria-current":j,className:q,ref:_,style:k,to:l,viewTransition:c},typeof d=="function"?d(U):d)});vz.displayName="NavLink";var wz=ce.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=E0,action:c,onSubmit:d,relative:p,preventScrollReset:_,viewTransition:v,...w},b)=>{let A=Az(),R=Cz(c,{relative:p}),N=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&p2.test(c),F=x=>{if(d&&d(x),x.defaultPrevented)return;x.preventDefault();let M=x.nativeEvent.submitter,$=(M==null?void 0:M.getAttribute("formmethod"))||l;A(M||x.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:o,relative:p,preventScrollReset:_,viewTransition:v})};return ce.createElement("form",{ref:b,method:N,action:R,onSubmit:r?d:F,...w,"data-discover":!D&&n==="render"?"true":void 0})});wz.displayName="Form";function Ez(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m2(n){let e=ce.useContext(ip);return Fr(e,Ez(n)),e}function Tz(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=Cm(),d=Lc(),p=xm(n,{relative:o});return ce.useCallback(_=>{if(Z$(_,e)){_.preventDefault();let v=t!==void 0?t:om(d)===om(p);c(n,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,p,t,r,e,n,i,o,l])}var bz=0,Sz=()=>`__${String(++bz)}__`;function Az(){let{router:n}=m2("useSubmit"),{basename:e}=ce.useContext(Ka),t=q$();return ce.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:d,body:p}=nz(r,e);if(i.navigate===!1){let _=i.fetcherKey||Sz();await n.fetch(_,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function Cz(n,{relative:e}={}){let{basename:t}=ce.useContext(Ka),r=ce.useContext(ga);Fr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...xm(n||".",{relative:e})},l=Lc();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(_=>_==="")){c.delete("index"),d.filter(v=>v).forEach(v=>c.append("index",v));let _=c.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Eu([t,o.pathname])),om(o)}function xz(n,e={}){let t=ce.useContext(a2);Fr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=m2("useViewTransitionState"),i=xm(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Nc(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Nc(t.nextLocation.pathname,r)||t.nextLocation.pathname;return X0(i.pathname,l)!=null||X0(i.pathname,o)!=null}new TextEncoder;function Iz({api:n,setSettingsShown:e,isDarkMode:t,setIsDarkMode:r}){const i=Cm();function o(){n.signOut(),i("/login")}return X.jsx("div",{className:"modal",onClick:()=>e(!1),children:X.jsx("div",{className:"modal-inner",onClick:l=>l.stopPropagation(),children:X.jsxs("div",{className:"settings-container",children:[X.jsx("h2",{children:"Settings"}),X.jsxs("div",{className:"option",children:[X.jsx("label",{children:"Dark Mode"}),X.jsx("button",{className:`switch-button ${t?"on":"off"}`,onClick:()=>r(!t),children:X.jsx("div",{className:"switch-handle"})})]}),X.jsx("hr",{}),X.jsxs("div",{className:"option",children:[X.jsx("label",{children:"Sign out"}),X.jsx("button",{onClick:o,children:"Sign Out"})]}),X.jsx("button",{className:"closeBtn",onClick:()=>e(!1),children:X.jsx(sm,{})})]})})})}function Rz({note:n,setStudyMode:e,api:t,isDarkMode:r,setIsDarkMode:i}){const[o,l]=ce.useState(0),[c,d]=ce.useState(!1),[p,_]=ce.useState((n==null?void 0:n.title)??"Untitled Note"),[v,w]=ce.useState(!1),[b,A]=ce.useState(""),[R,N]=ce.useState(!1),[D,F]=ce.useState(null),[x,M]=ce.useState(!1);function $(){n==null||n.setTitle(p),d(!1)}async function G(){if(n&&b&&!R){N(!0);const q=await n.search(b);F(q),N(!1)}}function U(){F(null)}function j(){D&&navigator.clipboard.writeText(D)}return ce.useEffect(()=>{if(!n){N(!1),F(null);return}const q=k=>{k==="noteUpdate"&&l(P=>P+1),k==="save"&&w(!!n.documentRef)};return w(!!n.documentRef),n.addListener(q),()=>n.removeListener(q)},[n]),ce.useEffect(()=>{_((n==null?void 0:n.title)??"Untitled Note")},[n==null?void 0:n.title]),ce.useEffect(()=>{if(c){const q=document.querySelector(".sidebar-details input.title");q&&(q.focus(),q.addEventListener("blur",()=>d(!1)))}else p!==(n==null?void 0:n.title)&&$()},[c]),X.jsxs("div",{className:"sidebar-details",children:[X.jsxs("div",{className:"sidebar-header",children:[X.jsx(n2,{fontSize:"large"}),n===null&&X.jsx("div",{style:{height:"2em"},className:"skeleton"}),n!==null&&X.jsxs("div",{className:"text",children:[!c&&X.jsx("h2",{onClick:()=>d(!0),children:n==null?void 0:n.title}),c&&X.jsx("input",{className:"title",defaultValue:p,onChange:q=>_(q.target.value),onBlur:$,onKeyDown:q=>q.key==="Enter"&&$()}),X.jsx("p",{children:n?n.description:""}),!v&&X.jsxs("div",{className:"notice",children:[X.jsx(k7,{}),X.jsx("span",{children:"Unsaved changes"})]})]})]}),X.jsxs("div",{className:"sidebar-actions",children:[(R||D)&&X.jsx("div",{className:"search-result",children:R?X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"btn-row search-actions",children:[X.jsx("b",{children:"NoteFlow AI"}),X.jsx("span",{style:{flexGrow:1}})]}),X.jsx("span",{className:"skeleton"}),X.jsx("span",{className:"skeleton",style:{animationDelay:"0.2s"}}),X.jsx("span",{className:"skeleton",style:{animationDelay:"0.4s",width:"50%"}})]}):X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"btn-row search-actions",children:[X.jsx("b",{children:"NoteFlow AI"}),X.jsx("span",{style:{flexGrow:1}}),X.jsx("button",{onClick:j,children:X.jsx(N7,{})}),X.jsx("button",{onClick:U,children:X.jsx(sm,{})})]}),X.jsx("p",{children:D})]})}),!v&&X.jsxs("div",{className:"search disabled",children:[X.jsx("span",{children:"Save your note to search it"}),X.jsx("button",{children:X.jsx(NA,{})})]}),v&&X.jsxs("div",{className:"search "+(R||n===null?"disabled":""),children:[X.jsx("input",{type:"text",defaultValue:b,onChange:q=>A(q.target.value),onKeyUp:q=>q.key==="Enter"&&G(),placeholder:"Ask about your note..."}),X.jsx("button",{onClick:G,disabled:R,children:X.jsx(NA,{})})]}),X.jsxs("div",{className:"btn-row",children:[X.jsx("button",{onClick:()=>M(!0),children:X.jsx(K7,{})}),t!==null&&x&&X.jsx(Iz,{api:t,setSettingsShown:M,isDarkMode:r,setIsDarkMode:i}),X.jsx("button",{title:"Generate flashcards",onClick:()=>e("flashcards"),disabled:n===null||!v,children:X.jsx(W7,{})}),X.jsx("button",{title:"Generate a summary",onClick:()=>e("summary"),disabled:n===null||!v,children:X.jsx(z7,{})})]})]})]})}function kz({note:n,selected:e,owned:t,onDelete:r,setId:i}){return X.jsxs("div",{className:`note-card ${e?"selected":""}`,onClick:()=>i(n.id),children:[X.jsx(n2,{}),X.jsxs("div",{className:"text",children:[X.jsx("h3",{children:n.title}),X.jsx("p",{children:n.description})]}),t&&X.jsx("button",{onClick:o=>{o.stopPropagation(),r()},children:"Delete"})]})}function Nz({setId:n,note:e,api:t}){const[r,i]=ce.useState([]),[o,l]=ce.useState(null),[c,d]=ce.useState(!1),[p,_]=ce.useState(""),[v,w]=ce.useState("desc"),[b,A]=ce.useState(null),[R,N]=ce.useState(!1);async function D(M=!1){console.log("Loading notes");let $=r,G=o;if(M&&($=[],i([]),G=null,l(null)),!c){d(!0);try{const U=await t.getNotes(p,v,G);U&&(i([...$,...U.results]),l(U.cursor))}catch(U){console.error("Error fetching notes:",U)}d(!1)}}async function F(M){if(N(!0),(e==null?void 0:e.id)===M.id&&n(null),M.id)try{await t.deleteNote(M.id),A(null),D(!0)}catch{alert("Couldn't delete the note.")}N(!1)}const x=K0.throttle(()=>D(!0),2e3,{leading:!0,trailing:!1});return ce.useEffect(()=>{x()},[v,p]),ce.useEffect(()=>{function M(){D(!0)}return document.addEventListener("noteSaved",M),()=>document.removeEventListener("noteSaved",M)},[]),X.jsxs("div",{className:"note-cards",children:[X.jsxs("div",{className:"note-filters",children:[X.jsxs("div",{className:"search",children:[X.jsx("input",{type:"text",placeholder:"Search notes",value:p,onChange:M=>{M.target.value!==p&&_(M.target.value)}}),p?X.jsx("button",{onClick:()=>_(""),children:X.jsx(sm,{})}):X.jsx(G7,{})]}),X.jsx("button",{style:{flexGrow:0},onClick:()=>w(v==="asc"?"desc":"asc"),children:v==="asc"?X.jsx(X7,{}):X.jsx(Q7,{})}),X.jsx("button",{className:e&&e.id===""?"active":"",style:{flexGrow:0},onClick:()=>n(null),children:X.jsx(ZE,{})})]}),X.jsxs("div",{className:"note-list",children:[r.length===0&&!c&&X.jsxs("div",{className:"initial",children:[X.jsx(P7,{fontSize:"large"}),"When you save a note to the cloud, it'll show up here."]}),r.map(M=>{var $;return X.jsx(kz,{note:M,setId:n,selected:(e==null?void 0:e.id)===M.id,owned:M.owner===(($=t.user)==null?void 0:$.uid),onDelete:()=>A(M)},M.id)}),!c&&o&&X.jsx("button",{onClick:()=>D(),className:"load-more-btn",children:"Load More"}),c&&X.jsxs(X.Fragment,{children:[X.jsx("div",{className:"skeleton",style:{height:75,borderRadius:20}}),X.jsx("div",{className:"skeleton",style:{height:75,borderRadius:20}}),X.jsx("div",{className:"skeleton",style:{height:75,borderRadius:20}})]}),b&&X.jsx("div",{className:"modal",onClick:()=>A(null),children:X.jsxs("div",{className:"modal-inner",onClick:M=>M.stopPropagation(),children:[X.jsxs("h2",{children:['Delete "',b.title,'"?']}),X.jsx("p",{children:"This action cannot be undone."}),X.jsxs("div",{className:"btn-row",children:[X.jsx("button",{onClick:()=>A(null),children:"Cancel"}),X.jsx("button",{className:"danger-btn",disabled:R,onClick:M=>{M.preventDefault(),F(b)},children:"Yes, I really want to delete"})]})]})})]})]})}function Pz({note:n,setId:e,setStudyMode:t,api:r,collapsed:i,isDarkMode:o,setIsDarkMode:l}){return X.jsx("div",{className:"sidebar-wrapper "+(i?"collapsed":""),children:X.jsxs("div",{className:"sidebar",children:[X.jsx(Rz,{note:n,setStudyMode:t,api:r,isDarkMode:o,setIsDarkMode:l}),X.jsx(Nz,{setId:e,note:n,api:r})]})})}function Oz({note:n}){const[e,t]=ce.useState(0),[r,i]=ce.useState(null),[o,l]=ce.useState(!1),[c,d]=ce.useState(!1);async function p(){if(c)return;d(!0);const b=await n.generateFlashcards();b!==null&&i(b),d(!1)}ce.useEffect(()=>{p()},[]);function _(){r!==null&&(l(!1),t(b=>(b+1)%r.length))}function v(){r!==null&&(l(!1),t(b=>(b-1+r.length)%r.length))}const w=()=>{l(!o)};return c||r===null?X.jsx("p",{children:"Generating study flashcards..."}):r.length===0?X.jsxs("div",{className:"flashcards",children:[X.jsx("div",{className:"card disabled",children:X.jsxs("div",{className:"front",children:[X.jsx("h2",{children:"Couldn't make any flashcards."}),X.jsx("p",{children:"Add more to your note to study it!"})]})}),X.jsxs("div",{className:"nav-content",children:[X.jsx("button",{disabled:!0,children:X.jsx(RA,{})}),X.jsxs("h2",{children:["0/",r.length]}),X.jsx("button",{disabled:!0,children:X.jsx(kA,{})})]})]}):X.jsxs("div",{className:"flashcards",children:[X.jsxs("div",{className:"card "+(o?"flip":""),onClick:w,children:[X.jsx("div",{className:"front",children:X.jsx("h2",{children:r[e].term})}),X.jsx("div",{className:"back",children:X.jsx("p",{children:r[e].definition})})]},e),X.jsxs("div",{className:"nav-content",children:[X.jsx("button",{onClick:v,children:X.jsx(RA,{})}),X.jsxs("h2",{children:[e+1,"/",r.length]}),X.jsx("button",{onClick:_,children:X.jsx(kA,{})})]})]})}function Lz({note:n}){const[e,t]=ce.useState(null);async function r(){const i=await n.generateSummary();i!==null&&t(i)}return ce.useEffect(()=>{r()},[]),e===null?X.jsx("p",{children:"Loading..."}):X.jsxs("div",{className:"summary",children:[X.jsx("h2",{children:"Summary"}),e&&X.jsx("p",{children:e})]})}function Dz({note:n,setStudyMode:e,mode:t}){return X.jsx("div",{className:"modal",onClick:()=>e(null),children:X.jsxs("div",{className:"study modal-inner",onClick:r=>r.stopPropagation(),children:[t==="flashcards"&&X.jsx(Oz,{note:n}),t==="summary"&&X.jsx(Lz,{note:n})]})})}const Mz=n=>{const e=n.permissions.edit.map(r=>({email:r,name:n.permissions.names[r],permission:"edit"})),t=n.permissions.view.map(r=>({email:r,name:n.permissions.names[r],permission:"view"}));return[...e,...t]};function Fz({note:n,setShareShown:e}){const[t,r]=ce.useState(Mz(n)),[i,o]=ce.useState(n.permissions.global),[l,c]=ce.useState(""),d=ce.useRef(null),[p,_]=ce.useState(!1),[v,w]=ce.useState(null),[b,A]=ce.useState({successes:[],failures:[]});function R(){var M,$;const x=(M=d.current)==null?void 0:M.value.trim();if(x===(($=n.api.user)==null?void 0:$.email)){c("That's your email!");return}x&&x.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(t.map(G=>G.email).includes(x)?c("Already added "+x):r([...t,{email:x,name:x,permission:"edit"}]),d.current&&(d.current.value="")):c("Invalid email address")}function N(x){l&&c(""),(x.key==="Enter"||x.key==="Space")&&R()}function D(x,M,$){if($.target.value==="remove"){const U=t.filter((j,q)=>q!==M);r(U);return}else x.permission=$.target.value;const G=[...t];G[M]=x,r(G)}async function F(){_(!0);const x={};t.forEach($=>{x[$.email]=$.permission});const M=await n.share(x,i);_(!1),M?(n.permissions=M.permissions,w(!0),A({successes:M.successes,failures:M.failures})):w(!1)}return v===!0?X.jsx("div",{className:"modal",onClick:()=>e(!1),children:X.jsxs("div",{className:"modal-inner",onClick:x=>x.stopPropagation(),children:[X.jsxs("div",{className:"header-cont",children:[X.jsxs("h2",{children:['Share "',n.title,'"']}),X.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:X.jsx(sm,{})})]}),X.jsxs("div",{className:"btn-row",children:[X.jsx(R7,{}),X.jsxs("span",{children:["Shared with ",b.successes.length," account(s)."]})]}),b.failures.length>0&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"btn-row",children:[X.jsx(Y7,{}),X.jsxs("p",{children:["Could not share to ",b.failures.length," email(s). Check if they have an account on NoteFlow."]})]}),X.jsx("div",{className:"email-list",children:b.failures.map(x=>X.jsxs("div",{className:"email",children:[X.jsx("span",{children:x}),X.jsx("b",{children:"Could not share"})]},x))})]})]})}):X.jsx("div",{className:"modal",onClick:()=>e(!1),children:X.jsxs("div",{className:"modal-inner",onClick:x=>x.stopPropagation(),children:[X.jsxs("div",{className:"header-cont",children:[X.jsxs("h2",{children:['Share "',n.title,'"']}),X.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:X.jsx(sm,{})})]}),X.jsx("label",{htmlFor:"email-input",children:"Enter email addresses"}),X.jsxs("div",{className:"btn-row",children:[X.jsx("input",{ref:d,id:"email-input",placeholder:"john@mail.com",onKeyUp:N,className:"email-input"}),X.jsx("button",{style:{flexGrow:0,width:"auto"},onClick:R,children:X.jsx(ZE,{})})]}),X.jsx("p",{style:{height:"1em"},className:"error",children:l}),X.jsx("hr",{}),X.jsxs("div",{className:"email-list",children:[t.map((x,M)=>X.jsxs("div",{className:"email",children:[X.jsx("span",{children:x.name}),X.jsxs("select",{defaultValue:x.permission,onChange:D.bind(null,x,M),children:[X.jsx("option",{value:"edit",children:"Edit"}),X.jsx("option",{value:"view",children:"View"}),X.jsx("option",{value:"remove",children:"Remove"})]}),x.permission==="edit"&&X.jsx(bw,{}),x.permission==="view"&&X.jsx(PA,{})]},x.email)),t.length===0&&X.jsx("p",{style:{margin:"8px",fontStyle:"italic"},children:"Enter user associated email(s) to share..."})]}),X.jsxs("div",{className:"email",children:[X.jsx(H7,{}),X.jsx("span",{children:"Anyone with the link"}),X.jsxs("select",{defaultValue:(i==null?void 0:i.toString())??"null",onChange:x=>o(x.target.value==="null"?null:x.target.value),children:[X.jsx("option",{value:"edit",children:"Edit"}),X.jsx("option",{value:"view",children:"View"}),X.jsx("option",{value:"null",children:"No access"})]}),i==="edit"&&X.jsx(bw,{}),i==="view"&&X.jsx(PA,{}),i===null&&X.jsx(q7,{})]}),v===!1&&X.jsx("p",{className:"error",children:"Failed to share note. Try again later."}),X.jsx("div",{className:"cont",children:X.jsx("button",{id:"submitBtn",onClick:F,disabled:p,children:"Save"})})]})})}function Uz({quill:n}){const[e,t]=ce.useState([]),[r,i]=ce.useState("left");ce.useEffect(()=>{if(n){const c=()=>{if(n.getSelection()===null){t([]),i("left");return}const d=n.getFormat();t(Object.keys(d)),d.align?i(d.align):i("left")};return n.on("editor-change",c),n.container.addEventListener("keydown",c),()=>{n.off("editor-change",c),n.container.removeEventListener("keydown",c)}}},[n]);function o(c){if(n){const d=n.getSelection();n.getFormat(d??void 0)[c]?(n.format(c,!1),t(e.filter(_=>_!==c))):(n.format(c,!0),t([...e,c]))}}function l(c){n&&(c==="left"?n.format("align",!1):n.format("align",c))}return X.jsxs("div",{className:"tools text",children:[X.jsx("div",{className:"tool-label",children:X.jsx(J7,{})}),X.jsxs("div",{className:"group",children:[X.jsx("button",{onClick:()=>o("bold"),className:"format "+(e.includes("bold")?"active":""),children:X.jsx(F7,{})}),X.jsx("button",{onClick:()=>o("italic"),className:"format "+(e.includes("italic")?"active":""),children:X.jsx(U7,{})}),X.jsx("button",{onClick:()=>o("underline"),className:"format "+(e.includes("underline")?"active":""),children:X.jsx(V7,{})}),X.jsx("button",{onClick:()=>o("strike"),className:"format "+(e.includes("strike")?"active":""),children:X.jsx(B7,{})})]}),X.jsxs("div",{className:"group",children:[X.jsx("button",{onClick:()=>l("left"),className:"format "+(r==="left"?"active":""),children:X.jsx(D7,{})}),X.jsx("button",{onClick:()=>l("center"),className:"format "+(r==="center"?"active":""),children:X.jsx(L7,{})}),X.jsx("button",{onClick:()=>l("right"),className:"format "+(r==="right"?"active":""),children:X.jsx(M7,{})})]})]})}function Bz({note:n,quill:e,setShareShown:t,toggleSidebarCollapsed:r}){const[i,o]=ce.useState(!1),[l,c]=ce.useState(!1);async function d(){e&&(o(!0),n.export(e.getContents()),await n.save(),o(!1),c(!0),document.dispatchEvent(new CustomEvent("noteSaved")))}ce.useEffect(()=>{var _;n.owner===((_=n.api.user)==null?void 0:_.uid)?c(!0):c(!1)},[n.id]);function p(){if(!e)return;const _=document.createElement("input");_.type="file",_.accept="image/*",_.click(),_.onchange=async()=>{var b,A;const v=(b=_.files)==null?void 0:b[0];if(!v||!n||!e)return;const w=await n.uploadMedia(v);w!==null?e.insertEmbed(((A=e.getSelection())==null?void 0:A.index)??0,"image",w,"user"):alert("Failed to upload media. Try again later."),_.remove()}}return X.jsxs("div",{className:"toolbar",children:[X.jsx("button",{className:"transparentBtn",onClick:r,children:X.jsx($7,{})}),X.jsx("hr",{}),X.jsx("p",{children:n.documentRef?X.jsx(Z7,{}):X.jsx(e$,{})}),e&&X.jsx(Uz,{quill:e}),X.jsx("div",{className:"tools scribble",children:X.jsx("button",{children:X.jsx(bw,{})})}),X.jsx("div",{className:"tools media",children:X.jsx("button",{onClick:p,children:X.jsx(ZE,{})})}),X.jsx("div",{style:{flexGrow:"1"}}),X.jsxs("div",{className:"tools-share",children:[l&&X.jsx("button",{disabled:!n.documentRef,onClick:()=>t(!0),children:"Share"}),X.jsx("button",{onClick:d,disabled:i,children:"Save"})]})]})}var w1={exports:{}},VA;function Vz(){return VA||(VA=1,function(n){var e=function(t){var r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(ne,Y,K){ne[Y]=K.value},l,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",p=c.asyncIterator||"@@asyncIterator",_=c.toStringTag||"@@toStringTag";function v(ne,Y,K){return Object.defineProperty(ne,Y,{value:K,enumerable:!0,configurable:!0,writable:!0}),ne[Y]}try{v({},"")}catch{v=function(Y,K,ie){return Y[K]=ie}}function w(ne,Y,K,ie){var fe=Y&&Y.prototype instanceof x?Y:x,Pe=Object.create(fe.prototype),xe=new re(ie||[]);return o(Pe,"_invoke",{value:z(ne,K,xe)}),Pe}t.wrap=w;function b(ne,Y,K){try{return{type:"normal",arg:ne.call(Y,K)}}catch(ie){return{type:"throw",arg:ie}}}var A="suspendedStart",R="suspendedYield",N="executing",D="completed",F={};function x(){}function M(){}function $(){}var G={};v(G,d,function(){return this});var U=Object.getPrototypeOf,j=U&&U(U(pe([])));j&&j!==r&&i.call(j,d)&&(G=j);var q=$.prototype=x.prototype=Object.create(G);M.prototype=$,o(q,"constructor",{value:$,configurable:!0}),o($,"constructor",{value:M,configurable:!0}),M.displayName=v($,_,"GeneratorFunction");function k(ne){["next","throw","return"].forEach(function(Y){v(ne,Y,function(K){return this._invoke(Y,K)})})}t.isGeneratorFunction=function(ne){var Y=typeof ne=="function"&&ne.constructor;return Y?Y===M||(Y.displayName||Y.name)==="GeneratorFunction":!1},t.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,$):(ne.__proto__=$,v(ne,_,"GeneratorFunction")),ne.prototype=Object.create(q),ne},t.awrap=function(ne){return{__await:ne}};function P(ne,Y){function K(Pe,xe,Le,$e){var Re=b(ne[Pe],ne,xe);if(Re.type==="throw")$e(Re.arg);else{var Ge=Re.arg,Ye=Ge.value;return Ye&&typeof Ye=="object"&&i.call(Ye,"__await")?Y.resolve(Ye.__await).then(function(Qe){K("next",Qe,Le,$e)},function(Qe){K("throw",Qe,Le,$e)}):Y.resolve(Ye).then(function(Qe){Ge.value=Qe,Le(Ge)},function(Qe){return K("throw",Qe,Le,$e)})}}var ie;function fe(Pe,xe){function Le(){return new Y(function($e,Re){K(Pe,xe,$e,Re)})}return ie=ie?ie.then(Le,Le):Le()}o(this,"_invoke",{value:fe})}k(P.prototype),v(P.prototype,p,function(){return this}),t.AsyncIterator=P,t.async=function(ne,Y,K,ie,fe){fe===void 0&&(fe=Promise);var Pe=new P(w(ne,Y,K,ie),fe);return t.isGeneratorFunction(Y)?Pe:Pe.next().then(function(xe){return xe.done?xe.value:Pe.next()})};function z(ne,Y,K){var ie=A;return function(Pe,xe){if(ie===N)throw new Error("Generator is already running");if(ie===D){if(Pe==="throw")throw xe;return se()}for(K.method=Pe,K.arg=xe;;){var Le=K.delegate;if(Le){var $e=O(Le,K);if($e){if($e===F)continue;return $e}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(ie===A)throw ie=D,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);ie=N;var Re=b(ne,Y,K);if(Re.type==="normal"){if(ie=K.done?D:R,Re.arg===F)continue;return{value:Re.arg,done:K.done}}else Re.type==="throw"&&(ie=D,K.method="throw",K.arg=Re.arg)}}}function O(ne,Y){var K=Y.method,ie=ne.iterator[K];if(ie===l)return Y.delegate=null,K==="throw"&&ne.iterator.return&&(Y.method="return",Y.arg=l,O(ne,Y),Y.method==="throw")||K!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+K+"' method")),F;var fe=b(ie,ne.iterator,Y.arg);if(fe.type==="throw")return Y.method="throw",Y.arg=fe.arg,Y.delegate=null,F;var Pe=fe.arg;if(!Pe)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,F;if(Pe.done)Y[ne.resultName]=Pe.value,Y.next=ne.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=l);else return Pe;return Y.delegate=null,F}k(q),v(q,_,"Generator"),v(q,d,function(){return this}),v(q,"toString",function(){return"[object Generator]"});function oe(ne){var Y={tryLoc:ne[0]};1 in ne&&(Y.catchLoc=ne[1]),2 in ne&&(Y.finallyLoc=ne[2],Y.afterLoc=ne[3]),this.tryEntries.push(Y)}function le(ne){var Y=ne.completion||{};Y.type="normal",delete Y.arg,ne.completion=Y}function re(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(oe,this),this.reset(!0)}t.keys=function(ne){var Y=Object(ne),K=[];for(var ie in Y)K.push(ie);return K.reverse(),function fe(){for(;K.length;){var Pe=K.pop();if(Pe in Y)return fe.value=Pe,fe.done=!1,fe}return fe.done=!0,fe}};function pe(ne){if(ne){var Y=ne[d];if(Y)return Y.call(ne);if(typeof ne.next=="function")return ne;if(!isNaN(ne.length)){var K=-1,ie=function fe(){for(;++K<ne.length;)if(i.call(ne,K))return fe.value=ne[K],fe.done=!1,fe;return fe.value=l,fe.done=!0,fe};return ie.next=ie}}return{next:se}}t.values=pe;function se(){return{value:l,done:!0}}return re.prototype={constructor:re,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(le),!ne)for(var Y in this)Y.charAt(0)==="t"&&i.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=l)},stop:function(){this.done=!0;var ne=this.tryEntries[0],Y=ne.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var Y=this;function K($e,Re){return Pe.type="throw",Pe.arg=ne,Y.next=$e,Re&&(Y.method="next",Y.arg=l),!!Re}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var fe=this.tryEntries[ie],Pe=fe.completion;if(fe.tryLoc==="root")return K("end");if(fe.tryLoc<=this.prev){var xe=i.call(fe,"catchLoc"),Le=i.call(fe,"finallyLoc");if(xe&&Le){if(this.prev<fe.catchLoc)return K(fe.catchLoc,!0);if(this.prev<fe.finallyLoc)return K(fe.finallyLoc)}else if(xe){if(this.prev<fe.catchLoc)return K(fe.catchLoc,!0)}else if(Le){if(this.prev<fe.finallyLoc)return K(fe.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ne,Y){for(var K=this.tryEntries.length-1;K>=0;--K){var ie=this.tryEntries[K];if(ie.tryLoc<=this.prev&&i.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var fe=ie;break}}fe&&(ne==="break"||ne==="continue")&&fe.tryLoc<=Y&&Y<=fe.finallyLoc&&(fe=null);var Pe=fe?fe.completion:{};return Pe.type=ne,Pe.arg=Y,fe?(this.method="next",this.next=fe.finallyLoc,F):this.complete(Pe)},complete:function(ne,Y){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&Y&&(this.next=Y),F},finish:function(ne){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var K=this.tryEntries[Y];if(K.finallyLoc===ne)return this.complete(K.completion,K.afterLoc),le(K),F}},catch:function(ne){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var K=this.tryEntries[Y];if(K.tryLoc===ne){var ie=K.completion;if(ie.type==="throw"){var fe=ie.arg;le(K)}return fe}}throw new Error("illegal catch attempt")},delegateYield:function(ne,Y,K){return this.delegate={iterator:pe(ne),resultName:Y,nextLoc:K},this.method==="next"&&(this.arg=l),F}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(w1)),w1.exports}Vz();const jz=n=>({applyHtmlTags:["h1","h2","h3","h4","h5","h6","header"].map(e=>e.toLowerCase())});class Ks{_getCustomPatternOrDefault(e,t,r){return e.tags&&e.tags[t]&&e.tags[t].pattern?e.tags[t].pattern:r}_getActiveTagsWithoutIgnore(e,t){return Array.isArray(t)?e.reduce((r,i)=>(t.includes(i)||r.push(i.toLowerCase()),r),[]):e}}class jA extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="header",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(#){1,6}\s/g),this.getAction.bind(this),this._meta=jz(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length||!this.activeTags.find(p=>p==="header")){i(!1);return}const l=o[0].length,[c]=this.quillJS.getLine(t.index),d=this.quillJS.getIndex(c);if(!this.activeTags.includes(`h${l-1}`))return i(!1);setTimeout(()=>{this.quillJS.formatLine(d,0,"header",l-1),this.quillJS.deleteText(d,l),i(!0)},0)})}}}const y2=n=>({applyHtmlTags:["blockquote"].map(e=>e.toLowerCase())});let qz=class extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="blockquote",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(>)\s/g),this.getAction.bind(this),this._meta=y2(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const l=o[0]||"";setTimeout(()=>{this.quillJS.formatText(t.index,o.input.length-1,"blockquote",!0),this.quillJS.deleteText(t.index-l.length,l.length),i(!0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,[,t]=this.quillJS.getLine(e);t===0&&this.quillJS.format("blockquote",!1)},0)}}}};class $z extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="blockquote",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,99}(>)\s/g),this.getAction.bind(this),this._meta=y2(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const l=o[0]||"";setTimeout(()=>{const c=t.index-1;this.quillJS.deleteText(c,2),setTimeout(()=>{this.quillJS.formatLine(c,l.length-3,"blockquote",!0),i(!0)},0)},0)})}}}const zz=n=>({applyHtmlTags:["bold"].map(e=>e.toLowerCase())});let qA=class extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="bold",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(\*|_){2}(.+?)(?:\1){2}/g),this.getAction.bind(this),this._meta=zz(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let l=r.exec(e);const[c,,d]=l,p=i+l.index;if(e.match(/^([*_ \n]+)$/g)||!this.activeTags.length){o(!1);return}setTimeout(()=>{this.quillJS.deleteText(p,c.length),setTimeout(()=>{this.quillJS.insertText(p,d,{bold:!0}),this.quillJS.format("bold",!1),o(!0)})},0)})}}};const _2=n=>({applyHtmlTags:["checkbox"].map(e=>e.toLowerCase())});let Hz=class extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="checkbox-checked",this.pattern=this._getCustomPatternOrDefault(t,"checkbox",/^(\[x\])+\s/g),this.getAction.bind(this),this._meta=_2(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[l]=this.quillJS.getLine(t.index),c=this.quillJS.getIndex(l);setTimeout(()=>{const d=e.split("[x] ").splice(1,1).join("");this.quillJS.insertText(c,d),this.quillJS.deleteText(c+d.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(c,0,"list","checked"),i(!0)})},0)})}}};class Wz extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="checkbox-unchecked",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(\[\s?\])+\s/g),this.getAction.bind(this),this._meta=_2(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[l]=this.quillJS.getLine(t.index),c=this.quillJS.getIndex(l);setTimeout(()=>{let d=e.split("[ ] ").length>1?e.split("[ ] ").splice(1,1).join(""):e;d=d.split("[] ").length>1?d.split("[] ").splice(1,1).join(""):d,this.quillJS.insertText(c,d),this.quillJS.deleteText(c+d.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(c,0,"list","unchecked"),i(!0)})},0)})}}}const Gz=n=>({applyHtmlTags:["code"].map(e=>e.toLowerCase())});class $A extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="code",this.pattern=this._getCustomPatternOrDefault(t,this.name,r=>/(`){1}(.+)(`){1}/g.test(r)&&!/```.*/.test(r)?r:null),this.getAction.bind(this),this._meta=Gz(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let l=/(`){1}(.+)(`){1}/g.exec(e);if(!l||!this.activeTags.length){o(!1);return}const[c]=l,d=i+l.index;setTimeout(()=>{this.quillJS.deleteText(d,c.length),setTimeout(()=>{const p=c.replace(/`/g,"");this.quillJS.insertText(d,p,{code:!0}),this.quillJS.insertText(d+p.length," ",{code:!1}),o(!0)},0)},0)})}}}const Kz=n=>({applyHtmlTags:["italics"].map(e=>e.toLowerCase())});let zA=class extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="italic",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:^|\s)(?:(\*|_)\s*(?<text1>[^*_]+)\s*?\1|(\*|_){3}\s*(?<text3>[^*_]*)\s*\1{3})(?:$|(?=\s))/g),this.getAction.bind(this),this._meta=Kz(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let l=r.exec(e);if(!l||!this.activeTags.length){o(!1);return}const[c,d,p]=l,_=this.quillJS.getText()[i+l.index],v=this.quillJS.getText()[i+l.index+1];if(d===_&&_===v){o(!1);return}const w=i+l.index;setTimeout(()=>{const b=!l.index,A=b?w:w+1,R=b?c.length:c.length-1;this.quillJS.deleteText(A,R),this.quillJS.insertText(A,p,{italic:!0}),this.quillJS.format("italic",!1),o(!0)},0)})}}};const v2=n=>({applyHtmlTags:["link"].map(e=>e.toLowerCase())});let Jz=class extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="link",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:\[(.+?)\])(?:\((.+?)\))/g),this.getAction.bind(this),this._meta=v2(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{const l=r.exec(e),c=i+l.index,d=e.search(r),p=e.match(r)[0],_=e.match(/(?:\[(.*?)\])/g)[0],v=e.match(/(?:\((.*?)\))/g)[0];if(!this.activeTags.length){o(!1);return}d!==-1?setTimeout(()=>{const w=c;this.quillJS.deleteText(w,p.length),this.quillJS.insertText(w,_.slice(1,_.length-1),"link",v.slice(1,v.length-1)),o(!0)},0):o(!1)})}}},Qz=class extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="link",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:\[(.+?)\])(?:\((.+?)\))/g),this.getAction.bind(this),this._meta=v2(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=e.search(r),l=e.match(r)[0],c=e.match(/(?:\[(.*?)\])/g)[0],d=e.match(/(?:\((.*?)\))/g)[0],p=t.index-1+o;if(!this.activeTags.length){i(!1);return}o!==-1?setTimeout(()=>{const v=this.quillJS.getText(p-l.length,l.length)===l?p-l.length:p;this.quillJS.deleteText(v,l.length),this.quillJS.insertText(v,c.slice(1,c.length-1),"link",d.slice(1,d.length-1)),i(!0)},0):i(!1)})}}};const Xz=n=>({applyHtmlTags:["li"].map(e=>e.toLowerCase())});let Yz=class extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="li",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,9}(\d)+\.\s/g),this.getAction.bind(this),this._meta=Xz(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[l]=this.quillJS.getLine(t.index),c=this.quillJS.getIndex(l);setTimeout(()=>{const d=e.split(". ")[0].split("").filter(_=>/\s/gi.test(_)).length,p=e.split(". ").splice(1,1).join("");this.quillJS.insertText(c,p),this.quillJS.deleteText(c+p.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(c,0,{list:"ordered",indent:d}),i(!0)},0)},0)})}}};const Zz=n=>({applyHtmlTags:["ul"].map(e=>e.toLowerCase())});class eH extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="ul",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,9}(-|\*){1}\s/),this.getAction.bind(this),this._meta=Zz(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}if(!e.split("- ")[1]&&!e.split("* ")[1]){i(!1);return}const[l]=this.quillJS.getLine(t.index),c=this.quillJS.getIndex(l);setTimeout(()=>{let d=/^\s{0,9}(\*){1}\s/.test(e)?e.replace("*","-"):e;const p=d.split("- ")[0].split("").filter(v=>/\s/gi.test(v)).length;let _=d.split("- ").length>1?d.split("- ").splice(1,1).join(""):d;this.quillJS.insertText(c,_),this.quillJS.deleteText(c+_.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(c,0,{list:"bullet",indent:p}),i(!0)},0)},0)})}}}const w2=n=>({applyHtmlTags:["pre"].map(e=>e.toLowerCase())});let tH=class extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="pre",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(```).*/g),this.getAction.bind(this),this._meta=w2(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const l=o[0]||"";setTimeout(()=>{const c=t.index-l.length;this.quillJS.deleteText(c,l.length),setTimeout(()=>{this.quillJS.insertText(c,`
`);const d=c+1+1+1;this.quillJS.insertText(d-1,`
`),this.quillJS.formatLine(d-2,1,"code-block",!0),i(!0)},0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,t=this.quillJS.getLine(e)[0],r=t.domNode.textContent;t&&r&&r.replace(`
`,"").length<=0&&this.quillJS.format("code-block",!1)},0)}}}};class nH extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="pre",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(```)/g),this.getAction.bind(this),this._meta=w2(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const l=o[0]||"",[c]=this.quillJS.getLine(t.index);setTimeout(()=>{const d=this.quillJS.getIndex(c);this.quillJS.deleteText(d,l.length+1),setTimeout(()=>{let p=this.quillJS.getLine(d)[0];for(;p;){const _=this.quillJS.getIndex(p),v=p.domNode.textContent,w=p.domNode.textContent.length;if(this.pattern.test(v)){this.quillJS.deleteText(_,v.length),i(!0);return}this.quillJS.formatLine(_,0,"code-block",!0),p=this.quillJS.getLine(_+w+1)[0]}i(!0)},0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,t=this.quillJS.getLine(e)[0],r=t.domNode.textContent;t&&r&&r.replace(`
`,"").length<=0&&this.quillJS.format("code-block",!1)},0)}}}}const rH=n=>({applyHtmlTags:["strikethrough"].map(e=>e.toLowerCase())});class HA extends Ks{constructor(e,t={}){super(),this.quillJS=e,this.name="strikethrough",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:~|_){2}(.+?)(?:~|_){2}/g),this.getAction.bind(this),this._meta=rH(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let l=r.exec(e);if(!this.activeTags.length){o(!1);return}const c=l[0],d=l[1],p=i+l.index;if(e.match(/^([~_ \n]+)$/g)){o(!1);return}setTimeout(()=>{this.quillJS.deleteText(p,c.length),this.quillJS.insertText(p,d,{strike:!0}),this.quillJS.format("strike",!1),o(!0)},0)})}}}class iH{constructor(e,t={tags:{}}){this.quillJS=e,this.getOperatorsAll.bind(this),this.supportInlineTags=[new jA(this.quillJS,t).getAction(),new qz(this.quillJS,t).getAction(),new qA(this.quillJS,t).getAction(),new tH(this.quillJS,t).getAction(),new $A(this.quillJS,t).getAction(),new HA(this.quillJS,t).getAction(),new zA(this.quillJS,t).getAction(),new Jz(this.quillJS,t).getAction()],this.supportfullTextTags=[new jA(this.quillJS,t).getAction(),new Hz(this.quillJS,t).getAction(),new Wz(this.quillJS,t).getAction(),new Yz(this.quillJS,t).getAction(),new eH(this.quillJS,t).getAction(),new $z(this.quillJS,t).getAction(),new nH(this.quillJS,t).getAction(),new qA(this.quillJS,t).getAction(),new Qz(this.quillJS,t).getAction(),new $A(this.quillJS,t).getAction(),new HA(this.quillJS,t).getAction(),new zA(this.quillJS,t).getAction()],this.tags=[...this.supportInlineTags],this.fullTextTags=[...this.supportfullTextTags]}getOperatorsAll(){return this.tags}getFullTextOperatorsAll(){return this.fullTextTags}}class E2{constructor(e,t={}){this.quillJS=e,this.options=t,this.onTextChangeBound=this.onTextChange.bind(this),this.quillJS.on("text-change",this.onTextChangeBound),this.actionCharacters={whiteSpace:" ",newLine:`
`,asterisk:"*",rightParenthesis:")",grave:"`",tilde:"~",underscore:"_"},this.ignoreTags=["PRE",...t.ignoreTags||[]],this.tags=new iH(this.quillJS,t),this.matches=this.tags.getOperatorsAll(),this.fullMatches=this.tags.getFullTextOperatorsAll()}destroy(){this.quillJS.off("text-change",this.onTextChangeBound)}onTextChange(e,t,r){if(r!=="user")return;const i=e.ops[0]&&e.ops[0].retain||0,o=e.ops[0].insert||e.ops[1]&&e.ops[1].insert,[l]=this.quillJS.getLine(i),c=e.ops.find(p=>p.hasOwnProperty("insert"))||{};if((e.ops.find(p=>p.hasOwnProperty("delete"))||c.insert===`
`)&&l.domNode.textContent.length<=1&&["PRE","BLOCKQUOTE"].includes(l.domNode.tagName)&&this.onRemoveElement({delete:1}),!!o){if(o.length>1){setTimeout(async()=>{const p=i,_=o.split(`
`);let v=p;for(let w of _){const[b]=this.quillJS.getLine(v);if(!b)return 0;const A=this.quillJS.getIndex(b);let R="",N=await this.onFullTextExecute.bind(this)({index:A,delta:e,length:0});if(N)for(;N;){const[D]=this.quillJS.getLine(v),F=this.quillJS.getIndex(D);if(!D||!D.domNode){N=!1;break}R=D.domNode.textContent||"",N=await this.onFullTextExecute.bind(this)({index:F,delta:e,length:0})}else R=b.domNode.textContent||"";v+=R.length+1}},0);return}e.ops.filter(p=>p.hasOwnProperty("insert")).forEach(p=>{switch(p.insert){case this.actionCharacters.whiteSpace:case this.actionCharacters.rightParenthesis:case this.actionCharacters.asterisk:case this.actionCharacters.grave:case this.actionCharacters.newLine:case this.actionCharacters.tilde:case this.actionCharacters.underscore:this.onInlineExecute.bind(this)();break}}),e.ops.filter(p=>p.hasOwnProperty("delete")).forEach(p=>{this.onRemoveElement(p)})}}onInlineExecute(){const e=this.quillJS.getSelection();if(!e)return;const[t,r]=this.quillJS.getLine(e.index),i=t.domNode.textContent,o=e.index-r,l=this.quillJS.getFormat(o);if(!(l["code-block"]||l.code)){for(let c of this.matches)if(typeof c.pattern=="function"?c.pattern(i):i.match(c.pattern)){c.action(i,e,c.pattern,o);return}}}async onFullTextExecute(e){let t=e||this.quillJS.getSelection();const r=e.delta;if(!t)return!1;const[i,o]=this.quillJS.getLine(t.index);if(!i||o<0)return!1;const l=r&&r.ops&&r.ops[0].retain||0,c=t.index-o,d=l?l-1:c,p=this.quillJS.getFormat(d);if(p["code-block"]||p.code){if(p.code){const b=r.ops.filter(A=>A.insert).map(A=>A.insert).join("");this.quillJS.deleteText(l,b.length),this.quillJS.insertText(l,b.replace(/\n/g,""),{code:!0}),this.quillJS.format("code",!1)}return!1}const _=this.quillJS.getLine(c-1)[0],v=_&&_.domNode.textContent,w=i.domNode.textContent+" ";if(t.length=t.index++,typeof v=="string"&&v.length>0&&w===" "){const b=this.fullMatches.find(A=>A.name===i.domNode.tagName.toLowerCase());if(b&&b.release)return b.release(t),!1}for(let b of this.fullMatches)if(typeof b.pattern=="function"?b.pattern(w):w.match(b.pattern))return await b.action(w,t,b.pattern,c);return!1}onRemoveElement(e){const t=this.quillJS.getSelection();if(e&&e.delete===1){const i=this.quillJS.getLine(t.index)[0],o=this.matches.find(l=>l.name===i.domNode.tagName.toLowerCase());o&&o.release&&o.release(t)}}}typeof window<"u"&&(window.QuillMarkdown=E2);var E1={exports:{}};/*! For license information please see quill-cursors.js.LICENSE.txt */var WA;function sH(){return WA||(WA=1,function(n,e){(function(t,r){n.exports=r()})(self,()=>(()=>{var t={582:(l,c,d)=>{d.d(c,{Z:()=>b});var p=d(81),_=d.n(p),v=d(645),w=d.n(v)()(_());w.push([l.id,".ql-container{position:relative;overflow:hidden}@media(pointer: coarse){.ql-cursor-caret-container{z-index:-1}}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{cursor:text;margin-left:-9px;padding:0 9px}.ql-cursor .ql-cursor-caret-container.hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-caret-container.no-pointer{pointer-events:none}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const b=w},645:l=>{l.exports=function(c){var d=[];return d.toString=function(){return this.map(function(p){var _="",v=p[5]!==void 0;return p[4]&&(_+="@supports (".concat(p[4],") {")),p[2]&&(_+="@media ".concat(p[2]," {")),v&&(_+="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {")),_+=c(p),v&&(_+="}"),p[2]&&(_+="}"),p[4]&&(_+="}"),_}).join("")},d.i=function(p,_,v,w,b){typeof p=="string"&&(p=[[null,p,void 0]]);var A={};if(v)for(var R=0;R<this.length;R++){var N=this[R][0];N!=null&&(A[N]=!0)}for(var D=0;D<p.length;D++){var F=[].concat(p[D]);v&&A[F[0]]||(b!==void 0&&(F[5]===void 0||(F[1]="@layer".concat(F[5].length>0?" ".concat(F[5]):""," {").concat(F[1],"}")),F[5]=b),_&&(F[2]&&(F[1]="@media ".concat(F[2]," {").concat(F[1],"}")),F[2]=_),w&&(F[4]?(F[1]="@supports (".concat(F[4],") {").concat(F[1],"}"),F[4]=w):F[4]="".concat(w)),d.push(F))}},d}},81:l=>{l.exports=function(c){return c[1]}},529:l=>{var c=-1;function d(x,M,$,G){if(x===M)return x?[[0,x]]:[];if($!=null){var U=function(z,O,oe){var le=typeof oe=="number"?{index:oe,length:0}:oe.oldRange,re=typeof oe=="number"?null:oe.newRange,pe=z.length,se=O.length;if(le.length===0&&(re===null||re.length===0)){var ne=le.index,Y=z.slice(0,ne),K=z.slice(ne),ie=re?re.index:null,fe=ne+se-pe;if((ie===null||ie===fe)&&!(fe<0||fe>se)){var Pe=O.slice(0,fe);if(($e=O.slice(fe))===K){var xe=Math.min(ne,fe);if((Ge=Y.slice(0,xe))===(Qe=Pe.slice(0,xe)))return D(Ge,Y.slice(xe),Pe.slice(xe),K)}}if(ie===null||ie===ne){var Le=ne,$e=(Pe=O.slice(0,Le),O.slice(Le));if(Pe===Y){var Re=Math.min(pe-Le,se-Le);if((Ye=K.slice(K.length-Re))===(pt=$e.slice($e.length-Re)))return D(Y,K.slice(0,K.length-Re),$e.slice(0,$e.length-Re),Ye)}}}if(le.length>0&&re&&re.length===0){var Ge=z.slice(0,le.index),Ye=z.slice(le.index+le.length);if(!(se<(xe=Ge.length)+(Re=Ye.length))){var Qe=O.slice(0,xe),pt=O.slice(se-Re);if(Ge===Qe&&Ye===pt)return D(Ge,z.slice(xe,pe-Re),O.slice(xe,se-Re),Ye)}}return null}(x,M,$);if(U)return U}var j=_(x,M),q=x.substring(0,j);j=v(x=x.substring(j),M=M.substring(j));var k=x.substring(x.length-j),P=function(z,O){var oe;if(!z)return[[1,O]];if(!O)return[[c,z]];var le=z.length>O.length?z:O,re=z.length>O.length?O:z,pe=le.indexOf(re);if(pe!==-1)return oe=[[1,le.substring(0,pe)],[0,re],[1,le.substring(pe+re.length)]],z.length>O.length&&(oe[0][0]=oe[2][0]=c),oe;if(re.length===1)return[[c,z],[1,O]];var se=function(Le,$e){var Re=Le.length>$e.length?Le:$e,Ge=Le.length>$e.length?$e:Le;if(Re.length<4||2*Ge.length<Re.length)return null;function Ye(ur,Qn,cn){for(var hn,Cn,mn,Ht,xn=ur.substring(cn,cn+Math.floor(ur.length/4)),Dt=-1,wt="";(Dt=Qn.indexOf(xn,Dt+1))!==-1;){var Ut=_(ur.substring(cn),Qn.substring(Dt)),qn=v(ur.substring(0,cn),Qn.substring(0,Dt));wt.length<qn+Ut&&(wt=Qn.substring(Dt-qn,Dt)+Qn.substring(Dt,Dt+Ut),hn=ur.substring(0,cn-qn),Cn=ur.substring(cn+Ut),mn=Qn.substring(0,Dt-qn),Ht=Qn.substring(Dt+Ut))}return 2*wt.length>=ur.length?[hn,Cn,mn,Ht,wt]:null}var Qe,pt,gt,st,zt,tr=Ye(Re,Ge,Math.ceil(Re.length/4)),Bn=Ye(Re,Ge,Math.ceil(Re.length/2));return tr||Bn?(Qe=Bn?tr&&tr[4].length>Bn[4].length?tr:Bn:tr,Le.length>$e.length?(pt=Qe[0],gt=Qe[1],st=Qe[2],zt=Qe[3]):(st=Qe[0],zt=Qe[1],pt=Qe[2],gt=Qe[3]),[pt,gt,st,zt,Qe[4]]):null}(z,O);if(se){var ne=se[0],Y=se[1],K=se[2],ie=se[3],fe=se[4],Pe=d(ne,K),xe=d(Y,ie);return Pe.concat([[0,fe]],xe)}return function(Le,$e){for(var Re=Le.length,Ge=$e.length,Ye=Math.ceil((Re+Ge)/2),Qe=Ye,pt=2*Ye,gt=new Array(pt),st=new Array(pt),zt=0;zt<pt;zt++)gt[zt]=-1,st[zt]=-1;gt[Qe+1]=0,st[Qe+1]=0;for(var tr=Re-Ge,Bn=tr%2!=0,ur=0,Qn=0,cn=0,hn=0,Cn=0;Cn<Ye;Cn++){for(var mn=-Cn+ur;mn<=Cn-Qn;mn+=2){for(var Ht=Qe+mn,xn=(Jt=mn===-Cn||mn!==Cn&&gt[Ht-1]<gt[Ht+1]?gt[Ht+1]:gt[Ht-1]+1)-mn;Jt<Re&&xn<Ge&&Le.charAt(Jt)===$e.charAt(xn);)Jt++,xn++;if(gt[Ht]=Jt,Jt>Re)Qn+=2;else if(xn>Ge)ur+=2;else if(Bn&&(Ut=Qe+tr-mn)>=0&&Ut<pt&&st[Ut]!==-1&&Jt>=(wt=Re-st[Ut]))return p(Le,$e,Jt,xn)}for(var Dt=-Cn+cn;Dt<=Cn-hn;Dt+=2){for(var wt,Ut=Qe+Dt,qn=(wt=Dt===-Cn||Dt!==Cn&&st[Ut-1]<st[Ut+1]?st[Ut+1]:st[Ut-1]+1)-Dt;wt<Re&&qn<Ge&&Le.charAt(Re-wt-1)===$e.charAt(Ge-qn-1);)wt++,qn++;if(st[Ut]=wt,wt>Re)hn+=2;else if(qn>Ge)cn+=2;else if(!Bn){var Jt;if((Ht=Qe+tr-Dt)>=0&&Ht<pt&&gt[Ht]!==-1&&(xn=Qe+(Jt=gt[Ht])-Ht,Jt>=(wt=Re-wt)))return p(Le,$e,Jt,xn)}}}return[[c,Le],[1,$e]]}(z,O)}(x=x.substring(0,x.length-j),M=M.substring(0,M.length-j));return q&&P.unshift([0,q]),k&&P.push([0,k]),w(P,G),P}function p(x,M,$,G){var U=x.substring(0,$),j=M.substring(0,G),q=x.substring($),k=M.substring(G),P=d(U,j),z=d(q,k);return P.concat(z)}function _(x,M){if(!x||!M||x.charAt(0)!==M.charAt(0))return 0;for(var $=0,G=Math.min(x.length,M.length),U=G,j=0;$<U;)x.substring(j,U)==M.substring(j,U)?j=$=U:G=U,U=Math.floor((G-$)/2+$);return b(x.charCodeAt(U-1))&&U--,U}function v(x,M){if(!x||!M||x.slice(-1)!==M.slice(-1))return 0;for(var $=0,G=Math.min(x.length,M.length),U=G,j=0;$<U;)x.substring(x.length-U,x.length-j)==M.substring(M.length-U,M.length-j)?j=$=U:G=U,U=Math.floor((G-$)/2+$);return A(x.charCodeAt(x.length-U))&&U--,U}function w(x,M){x.push([0,""]);for(var $,G=0,U=0,j=0,q="",k="";G<x.length;)if(G<x.length-1&&!x[G][1])x.splice(G,1);else switch(x[G][0]){case 1:j++,k+=x[G][1],G++;break;case c:U++,q+=x[G][1],G++;break;case 0:var P=G-j-U-1;if(M){if(P>=0&&N(x[P][1])){var z=x[P][1].slice(-1);if(x[P][1]=x[P][1].slice(0,-1),q=z+q,k=z+k,!x[P][1]){x.splice(P,1),G--;var O=P-1;x[O]&&x[O][0]===1&&(j++,k=x[O][1]+k,O--),x[O]&&x[O][0]===c&&(U++,q=x[O][1]+q,O--),P=O}}R(x[G][1])&&(z=x[G][1].charAt(0),x[G][1]=x[G][1].slice(1),q+=z,k+=z)}if(G<x.length-1&&!x[G][1]){x.splice(G,1);break}if(q.length>0||k.length>0){q.length>0&&k.length>0&&(($=_(k,q))!==0&&(P>=0?x[P][1]+=k.substring(0,$):(x.splice(0,0,[0,k.substring(0,$)]),G++),k=k.substring($),q=q.substring($)),($=v(k,q))!==0&&(x[G][1]=k.substring(k.length-$)+x[G][1],k=k.substring(0,k.length-$),q=q.substring(0,q.length-$)));var oe=j+U;q.length===0&&k.length===0?(x.splice(G-oe,oe),G-=oe):q.length===0?(x.splice(G-oe,oe,[1,k]),G=G-oe+1):k.length===0?(x.splice(G-oe,oe,[c,q]),G=G-oe+1):(x.splice(G-oe,oe,[c,q],[1,k]),G=G-oe+2)}G!==0&&x[G-1][0]===0?(x[G-1][1]+=x[G][1],x.splice(G,1)):G++,j=0,U=0,q="",k=""}x[x.length-1][1]===""&&x.pop();var le=!1;for(G=1;G<x.length-1;)x[G-1][0]===0&&x[G+1][0]===0&&(x[G][1].substring(x[G][1].length-x[G-1][1].length)===x[G-1][1]?(x[G][1]=x[G-1][1]+x[G][1].substring(0,x[G][1].length-x[G-1][1].length),x[G+1][1]=x[G-1][1]+x[G+1][1],x.splice(G-1,1),le=!0):x[G][1].substring(0,x[G+1][1].length)==x[G+1][1]&&(x[G-1][1]+=x[G+1][1],x[G][1]=x[G][1].substring(x[G+1][1].length)+x[G+1][1],x.splice(G+1,1),le=!0)),G++;le&&w(x,M)}function b(x){return x>=55296&&x<=56319}function A(x){return x>=56320&&x<=57343}function R(x){return A(x.charCodeAt(0))}function N(x){return b(x.charCodeAt(x.length-1))}function D(x,M,$,G){return N(x)||R(G)?null:function(U){for(var j=[],q=0;q<U.length;q++)U[q][1].length>0&&j.push(U[q]);return j}([[0,x],[c,M],[1,$],[0,G]])}function F(x,M,$){return d(x,M,$,!0)}F.INSERT=1,F.DELETE=c,F.EQUAL=0,l.exports=F},465:(l,c,d)=>{l=d.nmd(l);var p="__lodash_hash_undefined__",_=9007199254740991,v="[object Arguments]",w="[object Boolean]",b="[object Date]",A="[object Function]",R="[object GeneratorFunction]",N="[object Map]",D="[object Number]",F="[object Object]",x="[object Promise]",M="[object RegExp]",$="[object Set]",G="[object String]",U="[object Symbol]",j="[object WeakMap]",q="[object ArrayBuffer]",k="[object DataView]",P="[object Float32Array]",z="[object Float64Array]",O="[object Int8Array]",oe="[object Int16Array]",le="[object Int32Array]",re="[object Uint8Array]",pe="[object Uint8ClampedArray]",se="[object Uint16Array]",ne="[object Uint32Array]",Y=/\w*$/,K=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,fe={};fe[v]=fe["[object Array]"]=fe[q]=fe[k]=fe[w]=fe[b]=fe[P]=fe[z]=fe[O]=fe[oe]=fe[le]=fe[N]=fe[D]=fe[F]=fe[M]=fe[$]=fe[G]=fe[U]=fe[re]=fe[pe]=fe[se]=fe[ne]=!0,fe["[object Error]"]=fe[A]=fe[j]=!1;var Pe=typeof d.g=="object"&&d.g&&d.g.Object===Object&&d.g,xe=typeof self=="object"&&self&&self.Object===Object&&self,Le=Pe||xe||Function("return this")(),$e=c&&!c.nodeType&&c,Re=$e&&l&&!l.nodeType&&l,Ge=Re&&Re.exports===$e;function Ye(he,be){return he.set(be[0],be[1]),he}function Qe(he,be){return he.add(be),he}function pt(he,be,Be,Xe){var _t=-1,jt=he?he.length:0;for(Xe;++_t<jt;)Be=be(Be,he[_t],_t,he);return Be}function gt(he){var be=!1;if(he!=null&&typeof he.toString!="function")try{be=!!(he+"")}catch{}return be}function st(he){var be=-1,Be=Array(he.size);return he.forEach(function(Xe,_t){Be[++be]=[_t,Xe]}),Be}function zt(he,be){return function(Be){return he(be(Be))}}function tr(he){var be=-1,Be=Array(he.size);return he.forEach(function(Xe){Be[++be]=Xe}),Be}var Bn,ur=Array.prototype,Qn=Function.prototype,cn=Object.prototype,hn=Le["__core-js_shared__"],Cn=(Bn=/[^.]+$/.exec(hn&&hn.keys&&hn.keys.IE_PROTO||""))?"Symbol(src)_1."+Bn:"",mn=Qn.toString,Ht=cn.hasOwnProperty,xn=cn.toString,Dt=RegExp("^"+mn.call(Ht).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Ge?Le.Buffer:void 0,Ut=Le.Symbol,qn=Le.Uint8Array,Jt=zt(Object.getPrototypeOf,Object),Wr=Object.create,Rr=cn.propertyIsEnumerable,ns=ur.splice,Ti=Object.getOwnPropertySymbols,bi=wt?wt.isBuffer:void 0,Vi=zt(Object.keys,Object),Gr=hi(Le,"DataView"),yr=hi(Le,"Map"),or=hi(Le,"Promise"),cr=hi(Le,"Set"),In=hi(Le,"WeakMap"),Rn=hi(Object,"create"),ui=Qr(Gr),Hn=Qr(yr),Si=Qr(or),Ur=Qr(cr),ki=Qr(In),_r=Ut?Ut.prototype:void 0,ji=_r?_r.valueOf:void 0;function Gt(he){var be=-1,Be=he?he.length:0;for(this.clear();++be<Be;){var Xe=he[be];this.set(Xe[0],Xe[1])}}function nr(he){var be=-1,Be=he?he.length:0;for(this.clear();++be<Be;){var Xe=he[be];this.set(Xe[0],Xe[1])}}function Wn(he){var be=-1,Be=he?he.length:0;for(this.clear();++be<Be;){var Xe=he[be];this.set(Xe[0],Xe[1])}}function kr(he){this.__data__=new nr(he)}function vr(he,be,Be){var Xe=he[be];Ht.call(he,be)&&rs(Xe,Be)&&(Be!==void 0||be in he)||(he[be]=Be)}function ci(he,be){for(var Be=he.length;Be--;)if(rs(he[Be][0],be))return Be;return-1}function Qt(he,be,Be,Xe,_t,jt,Xt){var Mt;if(Xe&&(Mt=jt?Xe(he,_t,jt,Xt):Xe(he)),Mt!==void 0)return Mt;if(!rt(he))return he;var Yt=me(he);if(Yt){if(Mt=function(ct){var Ft=ct.length,pn=ct.constructor(Ft);return Ft&&typeof ct[0]=="string"&&Ht.call(ct,"index")&&(pn.index=ct.index,pn.input=ct.input),pn}(he),!be)return function(ct,Ft){var pn=-1,Pt=ct.length;for(Ft||(Ft=Array(Pt));++pn<Pt;)Ft[pn]=ct[pn];return Ft}(he,Mt)}else{var bn=yn(he),Xr=bn==A||bn==R;if(qe(he))return function(ct,Ft){if(Ft)return ct.slice();var pn=new ct.constructor(ct.length);return ct.copy(pn),pn}(he,be);if(bn==F||bn==v||Xr&&!jt){if(gt(he))return jt?he:{};if(Mt=function(ct){return typeof ct.constructor!="function"||Ni(ct)?{}:rt(Ft=Jt(ct))?Wr(Ft):{};var Ft}(Xr?{}:he),!be)return function(ct,Ft){return Js(ct,Br(ct),Ft)}(he,function(ct,Ft){return ct&&Js(Ft,At(Ft),ct)}(Mt,he))}else{if(!fe[bn])return jt?he:{};Mt=function(ct,Ft,pn,Pt){var Ct,$n=ct.constructor;switch(Ft){case q:return qi(ct);case w:case b:return new $n(+ct);case k:return function(xt,vn){var wn=vn?qi(xt.buffer):xt.buffer;return new xt.constructor(wn,xt.byteOffset,xt.byteLength)}(ct,Pt);case P:case z:case O:case oe:case le:case re:case pe:case se:case ne:return function(xt,vn){var wn=vn?qi(xt.buffer):xt.buffer;return new xt.constructor(wn,xt.byteOffset,xt.length)}(ct,Pt);case N:return function(xt,vn,wn){return pt(vn?wn(st(xt),!0):st(xt),Ye,new xt.constructor)}(ct,Pt,pn);case D:case G:return new $n(ct);case M:return function(xt){var vn=new xt.constructor(xt.source,Y.exec(xt));return vn.lastIndex=xt.lastIndex,vn}(ct);case $:return function(xt,vn,wn){return pt(vn?wn(tr(xt),!0):tr(xt),Qe,new xt.constructor)}(ct,Pt,pn);case U:return Ct=ct,ji?Object(ji.call(Ct)):{}}}(he,bn,Qt,be)}}Xt||(Xt=new kr);var Nr=Xt.get(he);if(Nr)return Nr;if(Xt.set(he,Mt),!Yt)var Sr=Be?function(ct){return function(Ft,pn,Pt){var Ct=pn(Ft);return me(Ft)?Ct:function($n,xt){for(var vn=-1,wn=xt.length,qt=$n.length;++vn<wn;)$n[qt+vn]=xt[vn];return $n}(Ct,Pt(Ft))}(ct,At,Br)}(he):At(he);return function(ct,Ft){for(var pn=-1,Pt=ct?ct.length:0;++pn<Pt&&Ft(ct[pn],pn)!==!1;);}(Sr||he,function(ct,Ft){Sr&&(ct=he[Ft=ct]),vr(Mt,Ft,Qt(ct,be,Be,Xe,Ft,he,Xt))}),Mt}function qi(he){var be=new he.constructor(he.byteLength);return new qn(be).set(new qn(he)),be}function Js(he,be,Be,Xe){Be||(Be={});for(var _t=-1,jt=be.length;++_t<jt;){var Xt=be[_t],Mt=void 0;vr(Be,Xt,Mt===void 0?he[Xt]:Mt)}return Be}function Kr(he,be){var Be,Xe,_t=he.__data__;return((Xe=typeof(Be=be))=="string"||Xe=="number"||Xe=="symbol"||Xe=="boolean"?Be!=="__proto__":Be===null)?_t[typeof be=="string"?"string":"hash"]:_t.map}function hi(he,be){var Be=function(Xe,_t){return Xe==null?void 0:Xe[_t]}(he,be);return function(Xe){return!(!rt(Xe)||(_t=Xe,Cn&&Cn in _t))&&(nt(Xe)||gt(Xe)?Dt:K).test(Qr(Xe));var _t}(Be)?Be:void 0}Gt.prototype.clear=function(){this.__data__=Rn?Rn(null):{}},Gt.prototype.delete=function(he){return this.has(he)&&delete this.__data__[he]},Gt.prototype.get=function(he){var be=this.__data__;if(Rn){var Be=be[he];return Be===p?void 0:Be}return Ht.call(be,he)?be[he]:void 0},Gt.prototype.has=function(he){var be=this.__data__;return Rn?be[he]!==void 0:Ht.call(be,he)},Gt.prototype.set=function(he,be){return this.__data__[he]=Rn&&be===void 0?p:be,this},nr.prototype.clear=function(){this.__data__=[]},nr.prototype.delete=function(he){var be=this.__data__,Be=ci(be,he);return!(Be<0||(Be==be.length-1?be.pop():ns.call(be,Be,1),0))},nr.prototype.get=function(he){var be=this.__data__,Be=ci(be,he);return Be<0?void 0:be[Be][1]},nr.prototype.has=function(he){return ci(this.__data__,he)>-1},nr.prototype.set=function(he,be){var Be=this.__data__,Xe=ci(Be,he);return Xe<0?Be.push([he,be]):Be[Xe][1]=be,this},Wn.prototype.clear=function(){this.__data__={hash:new Gt,map:new(yr||nr),string:new Gt}},Wn.prototype.delete=function(he){return Kr(this,he).delete(he)},Wn.prototype.get=function(he){return Kr(this,he).get(he)},Wn.prototype.has=function(he){return Kr(this,he).has(he)},Wn.prototype.set=function(he,be){return Kr(this,he).set(he,be),this},kr.prototype.clear=function(){this.__data__=new nr},kr.prototype.delete=function(he){return this.__data__.delete(he)},kr.prototype.get=function(he){return this.__data__.get(he)},kr.prototype.has=function(he){return this.__data__.has(he)},kr.prototype.set=function(he,be){var Be=this.__data__;if(Be instanceof nr){var Xe=Be.__data__;if(!yr||Xe.length<199)return Xe.push([he,be]),this;Be=this.__data__=new Wn(Xe)}return Be.set(he,be),this};var Br=Ti?zt(Ti,Object):function(){return[]},yn=function(he){return xn.call(he)};function Jr(he,be){return!!(be=be??_)&&(typeof he=="number"||ie.test(he))&&he>-1&&he%1==0&&he<be}function Ni(he){var be=he&&he.constructor;return he===(typeof be=="function"&&be.prototype||cn)}function Qr(he){if(he!=null){try{return mn.call(he)}catch{}try{return he+""}catch{}}return""}function rs(he,be){return he===be||he!=he&&be!=be}(Gr&&yn(new Gr(new ArrayBuffer(1)))!=k||yr&&yn(new yr)!=N||or&&yn(or.resolve())!=x||cr&&yn(new cr)!=$||In&&yn(new In)!=j)&&(yn=function(he){var be=xn.call(he),Be=be==F?he.constructor:void 0,Xe=Be?Qr(Be):void 0;if(Xe)switch(Xe){case ui:return k;case Hn:return N;case Si:return x;case Ur:return $;case ki:return j}return be});var me=Array.isArray;function Te(he){return he!=null&&function(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=_}(he.length)&&!nt(he)}var qe=bi||function(){return!1};function nt(he){var be=rt(he)?xn.call(he):"";return be==A||be==R}function rt(he){var be=typeof he;return!!he&&(be=="object"||be=="function")}function At(he){return Te(he)?function(be,Be){var Xe=me(be)||function(Mt){return function(Yt){return function(bn){return!!bn&&typeof bn=="object"}(Yt)&&Te(Yt)}(Mt)&&Ht.call(Mt,"callee")&&(!Rr.call(Mt,"callee")||xn.call(Mt)==v)}(be)?function(Mt,Yt){for(var bn=-1,Xr=Array(Mt);++bn<Mt;)Xr[bn]=Yt(bn);return Xr}(be.length,String):[],_t=Xe.length,jt=!!_t;for(var Xt in be)!Ht.call(be,Xt)||jt&&(Xt=="length"||Jr(Xt,_t))||Xe.push(Xt);return Xe}(he):function(be){if(!Ni(be))return Vi(be);var Be=[];for(var Xe in Object(be))Ht.call(be,Xe)&&Xe!="constructor"&&Be.push(Xe);return Be}(he)}l.exports=function(he){return Qt(he,!0,!0)}},307:(l,c,d)=>{l=d.nmd(l);var p="__lodash_hash_undefined__",_=9007199254740991,v="[object Arguments]",w="[object Array]",b="[object Boolean]",A="[object Date]",R="[object Error]",N="[object Function]",D="[object Map]",F="[object Number]",x="[object Object]",M="[object Promise]",$="[object RegExp]",G="[object Set]",U="[object String]",j="[object WeakMap]",q="[object ArrayBuffer]",k="[object DataView]",P=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O[v]=O[w]=O[q]=O[b]=O[k]=O[A]=O[R]=O[N]=O[D]=O[F]=O[x]=O[$]=O[G]=O[U]=O[j]=!1;var oe=typeof d.g=="object"&&d.g&&d.g.Object===Object&&d.g,le=typeof self=="object"&&self&&self.Object===Object&&self,re=oe||le||Function("return this")(),pe=c&&!c.nodeType&&c,se=pe&&l&&!l.nodeType&&l,ne=se&&se.exports===pe,Y=ne&&oe.process,K=function(){try{return Y&&Y.binding&&Y.binding("util")}catch{}}(),ie=K&&K.isTypedArray;function fe(me,Te){for(var qe=-1,nt=me==null?0:me.length;++qe<nt;)if(Te(me[qe],qe,me))return!0;return!1}function Pe(me){var Te=-1,qe=Array(me.size);return me.forEach(function(nt,rt){qe[++Te]=[rt,nt]}),qe}function xe(me){var Te=-1,qe=Array(me.size);return me.forEach(function(nt){qe[++Te]=nt}),qe}var Le,$e,Re,Ge=Array.prototype,Ye=Function.prototype,Qe=Object.prototype,pt=re["__core-js_shared__"],gt=Ye.toString,st=Qe.hasOwnProperty,zt=(Le=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||""))?"Symbol(src)_1."+Le:"",tr=Qe.toString,Bn=RegExp("^"+gt.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ur=ne?re.Buffer:void 0,Qn=re.Symbol,cn=re.Uint8Array,hn=Qe.propertyIsEnumerable,Cn=Ge.splice,mn=Qn?Qn.toStringTag:void 0,Ht=Object.getOwnPropertySymbols,xn=ur?ur.isBuffer:void 0,Dt=($e=Object.keys,Re=Object,function(me){return $e(Re(me))}),wt=Wn(re,"DataView"),Ut=Wn(re,"Map"),qn=Wn(re,"Promise"),Jt=Wn(re,"Set"),Wr=Wn(re,"WeakMap"),Rr=Wn(Object,"create"),ns=Qt(wt),Ti=Qt(Ut),bi=Qt(qn),Vi=Qt(Jt),Gr=Qt(Wr),yr=Qn?Qn.prototype:void 0,or=yr?yr.valueOf:void 0;function cr(me){var Te=-1,qe=me==null?0:me.length;for(this.clear();++Te<qe;){var nt=me[Te];this.set(nt[0],nt[1])}}function In(me){var Te=-1,qe=me==null?0:me.length;for(this.clear();++Te<qe;){var nt=me[Te];this.set(nt[0],nt[1])}}function Rn(me){var Te=-1,qe=me==null?0:me.length;for(this.clear();++Te<qe;){var nt=me[Te];this.set(nt[0],nt[1])}}function ui(me){var Te=-1,qe=me==null?0:me.length;for(this.__data__=new Rn;++Te<qe;)this.add(me[Te])}function Hn(me){var Te=this.__data__=new In(me);this.size=Te.size}function Si(me,Te){for(var qe=me.length;qe--;)if(qi(me[qe][0],Te))return qe;return-1}function Ur(me){return me==null?me===void 0?"[object Undefined]":"[object Null]":mn&&mn in Object(me)?function(Te){var qe=st.call(Te,mn),nt=Te[mn];try{Te[mn]=void 0;var rt=!0}catch{}var At=tr.call(Te);return rt&&(qe?Te[mn]=nt:delete Te[mn]),At}(me):function(Te){return tr.call(Te)}(me)}function ki(me){return Ni(me)&&Ur(me)==v}function _r(me,Te,qe,nt,rt){return me===Te||(me==null||Te==null||!Ni(me)&&!Ni(Te)?me!=me&&Te!=Te:function(At,he,be,Be,Xe,_t){var jt=Kr(At),Xt=Kr(he),Mt=jt?w:vr(At),Yt=Xt?w:vr(he),bn=(Mt=Mt==v?x:Mt)==x,Xr=(Yt=Yt==v?x:Yt)==x,Nr=Mt==Yt;if(Nr&&hi(At)){if(!hi(he))return!1;jt=!0,bn=!1}if(Nr&&!bn)return _t||(_t=new Hn),jt||Qr(At)?ji(At,he,be,Be,Xe,_t):function(Pt,Ct,$n,xt,vn,wn,qt){switch($n){case k:if(Pt.byteLength!=Ct.byteLength||Pt.byteOffset!=Ct.byteOffset)return!1;Pt=Pt.buffer,Ct=Ct.buffer;case q:return!(Pt.byteLength!=Ct.byteLength||!wn(new cn(Pt),new cn(Ct)));case b:case A:case F:return qi(+Pt,+Ct);case R:return Pt.name==Ct.name&&Pt.message==Ct.message;case $:case U:return Pt==Ct+"";case D:var rr=Pe;case G:var vt=1&xt;if(rr||(rr=xe),Pt.size!=Ct.size&&!vt)return!1;var Vn=qt.get(Pt);if(Vn)return Vn==Ct;xt|=2,qt.set(Pt,Ct);var hr=ji(rr(Pt),rr(Ct),xt,vn,wn,qt);return qt.delete(Pt),hr;case"[object Symbol]":if(or)return or.call(Pt)==or.call(Ct)}return!1}(At,he,Mt,be,Be,Xe,_t);if(!(1&be)){var Sr=bn&&st.call(At,"__wrapped__"),ct=Xr&&st.call(he,"__wrapped__");if(Sr||ct){var Ft=Sr?At.value():At,pn=ct?he.value():he;return _t||(_t=new Hn),Xe(Ft,pn,be,Be,_t)}}return!!Nr&&(_t||(_t=new Hn),function(Pt,Ct,$n,xt,vn,wn){var qt=1&$n,rr=Gt(Pt),vt=rr.length;if(vt!=Gt(Ct).length&&!qt)return!1;for(var Vn=vt;Vn--;){var hr=rr[Vn];if(!(qt?hr in Ct:st.call(Ct,hr)))return!1}var _s=wn.get(Pt);if(_s&&wn.get(Ct))return _s==Ct;var Yr=!0;wn.set(Pt,Ct),wn.set(Ct,Pt);for(var Bs=qt;++Vn<vt;){var vs=Pt[hr=rr[Vn]],is=Ct[hr];if(xt)var Ai=qt?xt(is,vs,hr,Ct,Pt,wn):xt(vs,is,hr,Pt,Ct,wn);if(!(Ai===void 0?vs===is||vn(vs,is,$n,xt,wn):Ai)){Yr=!1;break}Bs||(Bs=hr=="constructor")}if(Yr&&!Bs){var ir=Pt.constructor,On=Ct.constructor;ir==On||!("constructor"in Pt)||!("constructor"in Ct)||typeof ir=="function"&&ir instanceof ir&&typeof On=="function"&&On instanceof On||(Yr=!1)}return wn.delete(Pt),wn.delete(Ct),Yr}(At,he,be,Be,Xe,_t))}(me,Te,qe,nt,_r,rt))}function ji(me,Te,qe,nt,rt,At){var he=1&qe,be=me.length,Be=Te.length;if(be!=Be&&!(he&&Be>be))return!1;var Xe=At.get(me);if(Xe&&At.get(Te))return Xe==Te;var _t=-1,jt=!0,Xt=2&qe?new ui:void 0;for(At.set(me,Te),At.set(Te,me);++_t<be;){var Mt=me[_t],Yt=Te[_t];if(nt)var bn=he?nt(Yt,Mt,_t,Te,me,At):nt(Mt,Yt,_t,me,Te,At);if(bn!==void 0){if(bn)continue;jt=!1;break}if(Xt){if(!fe(Te,function(Xr,Nr){if(Sr=Nr,!Xt.has(Sr)&&(Mt===Xr||rt(Mt,Xr,qe,nt,At)))return Xt.push(Nr);var Sr})){jt=!1;break}}else if(Mt!==Yt&&!rt(Mt,Yt,qe,nt,At)){jt=!1;break}}return At.delete(me),At.delete(Te),jt}function Gt(me){return function(Te,qe,nt){var rt=qe(Te);return Kr(Te)?rt:function(At,he){for(var be=-1,Be=he.length,Xe=At.length;++be<Be;)At[Xe+be]=he[be];return At}(rt,nt(Te))}(me,rs,kr)}function nr(me,Te){var qe,nt,rt=me.__data__;return((nt=typeof(qe=Te))=="string"||nt=="number"||nt=="symbol"||nt=="boolean"?qe!=="__proto__":qe===null)?rt[typeof Te=="string"?"string":"hash"]:rt.map}function Wn(me,Te){var qe=function(nt,rt){return nt==null?void 0:nt[rt]}(me,Te);return function(nt){return!(!Jr(nt)||function(rt){return!!zt&&zt in rt}(nt))&&(Br(nt)?Bn:P).test(Qt(nt))}(qe)?qe:void 0}cr.prototype.clear=function(){this.__data__=Rr?Rr(null):{},this.size=0},cr.prototype.delete=function(me){var Te=this.has(me)&&delete this.__data__[me];return this.size-=Te?1:0,Te},cr.prototype.get=function(me){var Te=this.__data__;if(Rr){var qe=Te[me];return qe===p?void 0:qe}return st.call(Te,me)?Te[me]:void 0},cr.prototype.has=function(me){var Te=this.__data__;return Rr?Te[me]!==void 0:st.call(Te,me)},cr.prototype.set=function(me,Te){var qe=this.__data__;return this.size+=this.has(me)?0:1,qe[me]=Rr&&Te===void 0?p:Te,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(me){var Te=this.__data__,qe=Si(Te,me);return!(qe<0||(qe==Te.length-1?Te.pop():Cn.call(Te,qe,1),--this.size,0))},In.prototype.get=function(me){var Te=this.__data__,qe=Si(Te,me);return qe<0?void 0:Te[qe][1]},In.prototype.has=function(me){return Si(this.__data__,me)>-1},In.prototype.set=function(me,Te){var qe=this.__data__,nt=Si(qe,me);return nt<0?(++this.size,qe.push([me,Te])):qe[nt][1]=Te,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new cr,map:new(Ut||In),string:new cr}},Rn.prototype.delete=function(me){var Te=nr(this,me).delete(me);return this.size-=Te?1:0,Te},Rn.prototype.get=function(me){return nr(this,me).get(me)},Rn.prototype.has=function(me){return nr(this,me).has(me)},Rn.prototype.set=function(me,Te){var qe=nr(this,me),nt=qe.size;return qe.set(me,Te),this.size+=qe.size==nt?0:1,this},ui.prototype.add=ui.prototype.push=function(me){return this.__data__.set(me,p),this},ui.prototype.has=function(me){return this.__data__.has(me)},Hn.prototype.clear=function(){this.__data__=new In,this.size=0},Hn.prototype.delete=function(me){var Te=this.__data__,qe=Te.delete(me);return this.size=Te.size,qe},Hn.prototype.get=function(me){return this.__data__.get(me)},Hn.prototype.has=function(me){return this.__data__.has(me)},Hn.prototype.set=function(me,Te){var qe=this.__data__;if(qe instanceof In){var nt=qe.__data__;if(!Ut||nt.length<199)return nt.push([me,Te]),this.size=++qe.size,this;qe=this.__data__=new Rn(nt)}return qe.set(me,Te),this.size=qe.size,this};var kr=Ht?function(me){return me==null?[]:(me=Object(me),function(Te,qe){for(var nt=-1,rt=Te==null?0:Te.length,At=0,he=[];++nt<rt;){var be=Te[nt];Be=be,hn.call(me,Be)&&(he[At++]=be)}var Be;return he}(Ht(me)))}:function(){return[]},vr=Ur;function ci(me,Te){return!!(Te=Te??_)&&(typeof me=="number"||z.test(me))&&me>-1&&me%1==0&&me<Te}function Qt(me){if(me!=null){try{return gt.call(me)}catch{}try{return me+""}catch{}}return""}function qi(me,Te){return me===Te||me!=me&&Te!=Te}(wt&&vr(new wt(new ArrayBuffer(1)))!=k||Ut&&vr(new Ut)!=D||qn&&vr(qn.resolve())!=M||Jt&&vr(new Jt)!=G||Wr&&vr(new Wr)!=j)&&(vr=function(me){var Te=Ur(me),qe=Te==x?me.constructor:void 0,nt=qe?Qt(qe):"";if(nt)switch(nt){case ns:return k;case Ti:return D;case bi:return M;case Vi:return G;case Gr:return j}return Te});var Js=ki(function(){return arguments}())?ki:function(me){return Ni(me)&&st.call(me,"callee")&&!hn.call(me,"callee")},Kr=Array.isArray,hi=xn||function(){return!1};function Br(me){if(!Jr(me))return!1;var Te=Ur(me);return Te==N||Te=="[object GeneratorFunction]"||Te=="[object AsyncFunction]"||Te=="[object Proxy]"}function yn(me){return typeof me=="number"&&me>-1&&me%1==0&&me<=_}function Jr(me){var Te=typeof me;return me!=null&&(Te=="object"||Te=="function")}function Ni(me){return me!=null&&typeof me=="object"}var Qr=ie?function(me){return function(Te){return me(Te)}}(ie):function(me){return Ni(me)&&yn(me.length)&&!!O[Ur(me)]};function rs(me){return(Te=me)!=null&&yn(Te.length)&&!Br(Te)?function(qe,nt){var rt=Kr(qe),At=!rt&&Js(qe),he=!rt&&!At&&hi(qe),be=!rt&&!At&&!he&&Qr(qe),Be=rt||At||he||be,Xe=Be?function(Xt,Mt){for(var Yt=-1,bn=Array(Xt);++Yt<Xt;)bn[Yt]=Mt(Yt);return bn}(qe.length,String):[],_t=Xe.length;for(var jt in qe)!st.call(qe,jt)||Be&&(jt=="length"||he&&(jt=="offset"||jt=="parent")||be&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||ci(jt,_t))||Xe.push(jt);return Xe}(me):function(qe){if(rt=(nt=qe)&&nt.constructor,nt!==(typeof rt=="function"&&rt.prototype||Qe))return Dt(qe);var nt,rt,At=[];for(var he in Object(qe))st.call(qe,he)&&he!="constructor"&&At.push(he);return At}(me);var Te}l.exports=function(me,Te){return _r(me,Te)}},210:function(l,c,d){var p=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(c,"__esModule",{value:!0});var _,v=p(d(465)),w=p(d(307));(function(b){b.compose=function(A,R,N){A===void 0&&(A={}),R===void 0&&(R={}),typeof A!="object"&&(A={}),typeof R!="object"&&(R={});var D=v.default(R);for(var F in N||(D=Object.keys(D).reduce(function(x,M){return D[M]!=null&&(x[M]=D[M]),x},{})),A)A[F]!==void 0&&R[F]===void 0&&(D[F]=A[F]);return Object.keys(D).length>0?D:void 0},b.diff=function(A,R){A===void 0&&(A={}),R===void 0&&(R={}),typeof A!="object"&&(A={}),typeof R!="object"&&(R={});var N=Object.keys(A).concat(Object.keys(R)).reduce(function(D,F){return w.default(A[F],R[F])||(D[F]=R[F]===void 0?null:R[F]),D},{});return Object.keys(N).length>0?N:void 0},b.invert=function(A,R){A===void 0&&(A={}),R===void 0&&(R={}),A=A||{};var N=Object.keys(R).reduce(function(D,F){return R[F]!==A[F]&&A[F]!==void 0&&(D[F]=R[F]),D},{});return Object.keys(A).reduce(function(D,F){return A[F]!==R[F]&&R[F]===void 0&&(D[F]=null),D},N)},b.transform=function(A,R,N){if(N===void 0&&(N=!1),typeof A!="object")return R;if(typeof R=="object"){if(!N)return R;var D=Object.keys(R).reduce(function(F,x){return A[x]===void 0&&(F[x]=R[x]),F},{});return Object.keys(D).length>0?D:void 0}}})(_||(_={})),c.default=_},895:function(l,c,d){var p=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}},_=p(d(529)),v=p(d(465)),w=p(d(307)),b=p(d(210)),A=p(d(430)),R="\0",N=function(){function D(F){Array.isArray(F)?this.ops=F:F!=null&&Array.isArray(F.ops)?this.ops=F.ops:this.ops=[]}return D.prototype.insert=function(F,x){var M={};return typeof F=="string"&&F.length===0?this:(M.insert=F,x!=null&&typeof x=="object"&&Object.keys(x).length>0&&(M.attributes=x),this.push(M))},D.prototype.delete=function(F){return F<=0?this:this.push({delete:F})},D.prototype.retain=function(F,x){if(F<=0)return this;var M={retain:F};return x!=null&&typeof x=="object"&&Object.keys(x).length>0&&(M.attributes=x),this.push(M)},D.prototype.push=function(F){var x=this.ops.length,M=this.ops[x-1];if(F=v.default(F),typeof M=="object"){if(typeof F.delete=="number"&&typeof M.delete=="number")return this.ops[x-1]={delete:M.delete+F.delete},this;if(typeof M.delete=="number"&&F.insert!=null&&(x-=1,typeof(M=this.ops[x-1])!="object"))return this.ops.unshift(F),this;if(w.default(F.attributes,M.attributes)){if(typeof F.insert=="string"&&typeof M.insert=="string")return this.ops[x-1]={insert:M.insert+F.insert},typeof F.attributes=="object"&&(this.ops[x-1].attributes=F.attributes),this;if(typeof F.retain=="number"&&typeof M.retain=="number")return this.ops[x-1]={retain:M.retain+F.retain},typeof F.attributes=="object"&&(this.ops[x-1].attributes=F.attributes),this}}return x===this.ops.length?this.ops.push(F):this.ops.splice(x,0,F),this},D.prototype.chop=function(){var F=this.ops[this.ops.length-1];return F&&F.retain&&!F.attributes&&this.ops.pop(),this},D.prototype.filter=function(F){return this.ops.filter(F)},D.prototype.forEach=function(F){this.ops.forEach(F)},D.prototype.map=function(F){return this.ops.map(F)},D.prototype.partition=function(F){var x=[],M=[];return this.forEach(function($){(F($)?x:M).push($)}),[x,M]},D.prototype.reduce=function(F,x){return this.ops.reduce(F,x)},D.prototype.changeLength=function(){return this.reduce(function(F,x){return x.insert?F+A.default.length(x):x.delete?F-x.delete:F},0)},D.prototype.length=function(){return this.reduce(function(F,x){return F+A.default.length(x)},0)},D.prototype.slice=function(F,x){F===void 0&&(F=0),x===void 0&&(x=1/0);for(var M=[],$=A.default.iterator(this.ops),G=0;G<x&&$.hasNext();){var U=void 0;G<F?U=$.next(F-G):(U=$.next(x-G),M.push(U)),G+=A.default.length(U)}return new D(M)},D.prototype.compose=function(F){var x=A.default.iterator(this.ops),M=A.default.iterator(F.ops),$=[],G=M.peek();if(G!=null&&typeof G.retain=="number"&&G.attributes==null){for(var U=G.retain;x.peekType()==="insert"&&x.peekLength()<=U;)U-=x.peekLength(),$.push(x.next());G.retain-U>0&&M.next(G.retain-U)}for(var j=new D($);x.hasNext()||M.hasNext();)if(M.peekType()==="insert")j.push(M.next());else if(x.peekType()==="delete")j.push(x.next());else{var q=Math.min(x.peekLength(),M.peekLength()),k=x.next(q),P=M.next(q);if(typeof P.retain=="number"){var z={};typeof k.retain=="number"?z.retain=q:z.insert=k.insert;var O=b.default.compose(k.attributes,P.attributes,typeof k.retain=="number");if(O&&(z.attributes=O),j.push(z),!M.hasNext()&&w.default(j.ops[j.ops.length-1],z)){var oe=new D(x.rest());return j.concat(oe).chop()}}else typeof P.delete=="number"&&typeof k.retain=="number"&&j.push(P)}return j.chop()},D.prototype.concat=function(F){var x=new D(this.ops.slice());return F.ops.length>0&&(x.push(F.ops[0]),x.ops=x.ops.concat(F.ops.slice(1))),x},D.prototype.diff=function(F,x){if(this.ops===F.ops)return new D;var M=[this,F].map(function(q){return q.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:R;throw new Error("diff() called "+(q===F?"on":"with")+" non-document")}).join("")}),$=new D,G=_.default(M[0],M[1],x),U=A.default.iterator(this.ops),j=A.default.iterator(F.ops);return G.forEach(function(q){for(var k=q[1].length;k>0;){var P=0;switch(q[0]){case _.default.INSERT:P=Math.min(j.peekLength(),k),$.push(j.next(P));break;case _.default.DELETE:P=Math.min(k,U.peekLength()),U.next(P),$.delete(P);break;case _.default.EQUAL:P=Math.min(U.peekLength(),j.peekLength(),k);var z=U.next(P),O=j.next(P);w.default(z.insert,O.insert)?$.retain(P,b.default.diff(z.attributes,O.attributes)):$.push(O).delete(P)}k-=P}}),$.chop()},D.prototype.eachLine=function(F,x){x===void 0&&(x=`
`);for(var M=A.default.iterator(this.ops),$=new D,G=0;M.hasNext();){if(M.peekType()!=="insert")return;var U=M.peek(),j=A.default.length(U)-M.peekLength(),q=typeof U.insert=="string"?U.insert.indexOf(x,j)-j:-1;if(q<0)$.push(M.next());else if(q>0)$.push(M.next(q));else{if(F($,M.next(1).attributes||{},G)===!1)return;G+=1,$=new D}}$.length()>0&&F($,{},G)},D.prototype.invert=function(F){var x=new D;return this.reduce(function(M,$){if($.insert)x.delete(A.default.length($));else{if($.retain&&$.attributes==null)return x.retain($.retain),M+$.retain;if($.delete||$.retain&&$.attributes){var G=$.delete||$.retain;return F.slice(M,M+G).forEach(function(U){$.delete?x.push(U):$.retain&&$.attributes&&x.retain(A.default.length(U),b.default.invert($.attributes,U.attributes))}),M+G}}return M},0),x.chop()},D.prototype.transform=function(F,x){if(x===void 0&&(x=!1),x=!!x,typeof F=="number")return this.transformPosition(F,x);for(var M=F,$=A.default.iterator(this.ops),G=A.default.iterator(M.ops),U=new D;$.hasNext()||G.hasNext();)if($.peekType()!=="insert"||!x&&G.peekType()==="insert")if(G.peekType()==="insert")U.push(G.next());else{var j=Math.min($.peekLength(),G.peekLength()),q=$.next(j),k=G.next(j);if(q.delete)continue;k.delete?U.push(k):U.retain(j,b.default.transform(q.attributes,k.attributes,x))}else U.retain(A.default.length($.next()));return U.chop()},D.prototype.transformPosition=function(F,x){x===void 0&&(x=!1),x=!!x;for(var M=A.default.iterator(this.ops),$=0;M.hasNext()&&$<=F;){var G=M.peekLength(),U=M.peekType();M.next(),U!=="delete"?(U==="insert"&&($<F||!x)&&(F+=G),$+=G):F-=Math.min(G,F-$)}return F},D.Op=A.default,D.AttributeMap=b.default,D}();l.exports=N},977:function(l,c,d){var p=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0});var _=p(d(430)),v=function(){function w(b){this.ops=b,this.index=0,this.offset=0}return w.prototype.hasNext=function(){return this.peekLength()<1/0},w.prototype.next=function(b){b||(b=1/0);var A=this.ops[this.index];if(A){var R=this.offset,N=_.default.length(A);if(b>=N-R?(b=N-R,this.index+=1,this.offset=0):this.offset+=b,typeof A.delete=="number")return{delete:b};var D={};return A.attributes&&(D.attributes=A.attributes),typeof A.retain=="number"?D.retain=b:typeof A.insert=="string"?D.insert=A.insert.substr(R,b):D.insert=A.insert,D}return{retain:1/0}},w.prototype.peek=function(){return this.ops[this.index]},w.prototype.peekLength=function(){return this.ops[this.index]?_.default.length(this.ops[this.index])-this.offset:1/0},w.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},w.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var b=this.offset,A=this.index,R=this.next(),N=this.ops.slice(this.index);return this.offset=b,this.index=A,[R].concat(N)}return[]},w}();c.default=v},430:function(l,c,d){var p=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0});var _,v=p(d(977));(function(w){w.iterator=function(b){return new v.default(b)},w.length=function(b){return typeof b.delete=="number"?b.delete:typeof b.retain=="number"?b.retain:typeof b.insert=="string"?b.insert.length:1}})(_||(_={})),c.default=_},165:function(l,c,d){var p,_;(_=typeof(p=function(){var v,w={};function b(N,D,F){var x=N.getClientRects();if(x.length===2){var M=N.getBoundingClientRect();return x[D][F]<M[F]}return!1}function A(N){if(!N||screen.deviceXDPI===screen.logicalXDPI)return N;if("length"in N)return Array.prototype.map.call(N,A);var D=screen.deviceXDPI/screen.logicalXDPI;return{top:N.top/D,bottom:N.bottom/D,left:N.left/D,right:N.right/D,width:N.width/D,height:N.height/D}}function R(N,D){var F,x=0,M=1024;if(M>=D.length)return Array.prototype.push.apply(N,D);for(;x<D.length;)F=Array.prototype.push.apply(N,Array.prototype.slice.call(D,x,x+M)),x+=M;return F}return w.isBroken=function(){if(v===void 0){var N=document.createElement("p"),D=document.createElement("span"),F=document.createTextNode("aa"),x=document.createTextNode("aa"),M=document.createElement("img");M.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=");var $=document.createRange();if(v={},N.appendChild(F),N.appendChild(D),D.appendChild(M),D.appendChild(x),document.body.appendChild(N),$.setStart(F,1),$.setEnd(D,0),v.getClientRects=v.getBoundingClientRect=$.getClientRects().length>1,v.getClientRects||($.setEnd(x,1),v.getClientRects=v.getBoundingClientRect=$.getClientRects().length===2),!v.getBoundingClientRect){$.setEnd($.startContainer,$.startOffset);var G=$.getBoundingClientRect();v.getBoundingClientRect=G.top===0&&G.left===0}if(document.body.removeChild(N),!v.getBoundingClientRect){var U=document.createElement("p");U.style.width="0px",U.style.fontSize="20px",U.style.whiteSpace="normal",U.style.wordBreak="normal";var j=document.createTextNode("m mm");U.appendChild(j),document.body.appendChild(U),$.setStart(j,1),$.setEnd(j,2),b($,1,"left")?v.getBoundingClientRect=!0:($.setStart(j,1),$.setEnd(j,3),b($,0,"top")&&(v.getBoundingClientRect=!0)),document.body.removeChild(U)}var q=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")();v.ieZoom=!!q&&q<=10}return v},w.getClientRects=function(N){var D=this.isBroken();if(D.ieZoom)return A(N.getClientRects());if(!D.getClientRects)return N.getClientRects();var F=[],x=[],M=N.endContainer,$=N.endOffset,G=document.createRange();function U(j){for(var q=0;j=j.previousSibling;)q++;return q}for(;M!==N.commonAncestorContainer;)G.setStart(M,0),G.setEnd(M,$),R(x,G.getClientRects()),$=U(M),M=M.parentNode;return(G=N.cloneRange()).setEnd(M,$),R(F,G.getClientRects()),R(F,x),F},w.getBoundingClientRect=function(N){var D=this.getClientRects(N);if(D.length===0)return null;var F,x=N.getBoundingClientRect(),M=this.isBroken();if(M.ieZoom)return A(x);if(!M.getBoundingClientRect)return x;if(x.width===0&&x.height===0)return D[0];for(var $=0,G=D.length;$<G;$++){var U=D[$];F?(F.left=Math.min(F.left,U.left),F.top=Math.min(F.top,U.top),F.right=Math.max(F.right,U.right),F.bottom=Math.max(F.bottom,U.bottom)):F={left:U.left,top:U.top,right:U.right,bottom:U.bottom}}return F&&(F.width=F.right-F.left,F.height=F.bottom-F.top),F},w})=="function"?p.call(c,d,c,l):p)===void 0||(l.exports=_)},33:(l,c,d)=>{d.r(c),d.d(c,{default:()=>O});var p=function(){if(typeof Map<"u")return Map;function oe(le,re){var pe=-1;return le.some(function(se,ne){return se[0]===re&&(pe=ne,!0)}),pe}return function(){function le(){this.__entries__=[]}return Object.defineProperty(le.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),le.prototype.get=function(re){var pe=oe(this.__entries__,re),se=this.__entries__[pe];return se&&se[1]},le.prototype.set=function(re,pe){var se=oe(this.__entries__,re);~se?this.__entries__[se][1]=pe:this.__entries__.push([re,pe])},le.prototype.delete=function(re){var pe=this.__entries__,se=oe(pe,re);~se&&pe.splice(se,1)},le.prototype.has=function(re){return!!~oe(this.__entries__,re)},le.prototype.clear=function(){this.__entries__.splice(0)},le.prototype.forEach=function(re,pe){pe===void 0&&(pe=null);for(var se=0,ne=this.__entries__;se<ne.length;se++){var Y=ne[se];re.call(pe,Y[1],Y[0])}},le}()}(),_=typeof window<"u"&&typeof document<"u"&&window.document===document,v=d.g!==void 0&&d.g.Math===Math?d.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),w=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(v):function(oe){return setTimeout(function(){return oe(Date.now())},1e3/60)},b=["top","right","bottom","left","width","height","size","weight"],A=typeof MutationObserver<"u",R=function(){function oe(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(le,re){var pe=!1,se=!1,ne=0;function Y(){pe&&(pe=!1,le()),se&&ie()}function K(){w(Y)}function ie(){var fe=Date.now();if(pe){if(fe-ne<2)return;se=!0}else pe=!0,se=!1,setTimeout(K,20);ne=fe}return ie}(this.refresh.bind(this))}return oe.prototype.addObserver=function(le){~this.observers_.indexOf(le)||this.observers_.push(le),this.connected_||this.connect_()},oe.prototype.removeObserver=function(le){var re=this.observers_,pe=re.indexOf(le);~pe&&re.splice(pe,1),!re.length&&this.connected_&&this.disconnect_()},oe.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},oe.prototype.updateObservers_=function(){var le=this.observers_.filter(function(re){return re.gatherActive(),re.hasActive()});return le.forEach(function(re){return re.broadcastActive()}),le.length>0},oe.prototype.connect_=function(){_&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),A?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},oe.prototype.disconnect_=function(){_&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},oe.prototype.onTransitionEnd_=function(le){var re=le.propertyName,pe=re===void 0?"":re;b.some(function(se){return!!~pe.indexOf(se)})&&this.refresh()},oe.getInstance=function(){return this.instance_||(this.instance_=new oe),this.instance_},oe.instance_=null,oe}(),N=function(oe,le){for(var re=0,pe=Object.keys(le);re<pe.length;re++){var se=pe[re];Object.defineProperty(oe,se,{value:le[se],enumerable:!1,writable:!1,configurable:!0})}return oe},D=function(oe){return oe&&oe.ownerDocument&&oe.ownerDocument.defaultView||v},F=U(0,0,0,0);function x(oe){return parseFloat(oe)||0}function M(oe){for(var le=[],re=1;re<arguments.length;re++)le[re-1]=arguments[re];return le.reduce(function(pe,se){return pe+x(oe["border-"+se+"-width"])},0)}var $=typeof SVGGraphicsElement<"u"?function(oe){return oe instanceof D(oe).SVGGraphicsElement}:function(oe){return oe instanceof D(oe).SVGElement&&typeof oe.getBBox=="function"};function G(oe){return _?$(oe)?function(le){var re=le.getBBox();return U(0,0,re.width,re.height)}(oe):function(le){var re=le.clientWidth,pe=le.clientHeight;if(!re&&!pe)return F;var se=D(le).getComputedStyle(le),ne=function(Le){for(var $e={},Re=0,Ge=["top","right","bottom","left"];Re<Ge.length;Re++){var Ye=Ge[Re],Qe=Le["padding-"+Ye];$e[Ye]=x(Qe)}return $e}(se),Y=ne.left+ne.right,K=ne.top+ne.bottom,ie=x(se.width),fe=x(se.height);if(se.boxSizing==="border-box"&&(Math.round(ie+Y)!==re&&(ie-=M(se,"left","right")+Y),Math.round(fe+K)!==pe&&(fe-=M(se,"top","bottom")+K)),!function(Le){return Le===D(Le).document.documentElement}(le)){var Pe=Math.round(ie+Y)-re,xe=Math.round(fe+K)-pe;Math.abs(Pe)!==1&&(ie-=Pe),Math.abs(xe)!==1&&(fe-=xe)}return U(ne.left,ne.top,ie,fe)}(oe):F}function U(oe,le,re,pe){return{x:oe,y:le,width:re,height:pe}}var j=function(){function oe(le){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=U(0,0,0,0),this.target=le}return oe.prototype.isActive=function(){var le=G(this.target);return this.contentRect_=le,le.width!==this.broadcastWidth||le.height!==this.broadcastHeight},oe.prototype.broadcastRect=function(){var le=this.contentRect_;return this.broadcastWidth=le.width,this.broadcastHeight=le.height,le},oe}(),q=function(oe,le){var re,pe,se,ne,Y,K,ie,fe=(pe=(re=le).x,se=re.y,ne=re.width,Y=re.height,K=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,ie=Object.create(K.prototype),N(ie,{x:pe,y:se,width:ne,height:Y,top:se,right:pe+ne,bottom:Y+se,left:pe}),ie);N(this,{target:oe,contentRect:fe})},k=function(){function oe(le,re,pe){if(this.activeObservations_=[],this.observations_=new p,typeof le!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=le,this.controller_=re,this.callbackCtx_=pe}return oe.prototype.observe=function(le){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(le instanceof D(le).Element))throw new TypeError('parameter 1 is not of type "Element".');var re=this.observations_;re.has(le)||(re.set(le,new j(le)),this.controller_.addObserver(this),this.controller_.refresh())}},oe.prototype.unobserve=function(le){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(le instanceof D(le).Element))throw new TypeError('parameter 1 is not of type "Element".');var re=this.observations_;re.has(le)&&(re.delete(le),re.size||this.controller_.removeObserver(this))}},oe.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},oe.prototype.gatherActive=function(){var le=this;this.clearActive(),this.observations_.forEach(function(re){re.isActive()&&le.activeObservations_.push(re)})},oe.prototype.broadcastActive=function(){if(this.hasActive()){var le=this.callbackCtx_,re=this.activeObservations_.map(function(pe){return new q(pe.target,pe.broadcastRect())});this.callback_.call(le,re,le),this.clearActive()}},oe.prototype.clearActive=function(){this.activeObservations_.splice(0)},oe.prototype.hasActive=function(){return this.activeObservations_.length>0},oe}(),P=typeof WeakMap<"u"?new WeakMap:new p,z=function oe(le){if(!(this instanceof oe))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var re=R.getInstance(),pe=new k(le,re,this);P.set(this,pe)};["observe","unobserve","disconnect"].forEach(function(oe){z.prototype[oe]=function(){var le;return(le=P.get(this))[oe].apply(le,arguments)}});const O=v.ResizeObserver!==void 0?v.ResizeObserver:z},413:(l,c,d)=>{d.r(c),d.d(c,{default:()=>U});var p=d(379),_=d.n(p),v=d(795),w=d.n(v),b=d(569),A=d.n(b),R=d(565),N=d.n(R),D=d(216),F=d.n(D),x=d(589),M=d.n(x),$=d(582),G={};G.styleTagTransform=M(),G.setAttributes=N(),G.insert=A().bind(null,"head"),G.domAPI=w(),G.insertStyleElement=F(),_()($.Z,G);const U=$.Z&&$.Z.locals?$.Z.locals:void 0},379:l=>{var c=[];function d(v){for(var w=-1,b=0;b<c.length;b++)if(c[b].identifier===v){w=b;break}return w}function p(v,w){for(var b={},A=[],R=0;R<v.length;R++){var N=v[R],D=w.base?N[0]+w.base:N[0],F=b[D]||0,x="".concat(D," ").concat(F);b[D]=F+1;var M=d(x),$={css:N[1],media:N[2],sourceMap:N[3],supports:N[4],layer:N[5]};if(M!==-1)c[M].references++,c[M].updater($);else{var G=_($,w);w.byIndex=R,c.splice(R,0,{identifier:x,updater:G,references:1})}A.push(x)}return A}function _(v,w){var b=w.domAPI(w);return b.update(v),function(A){if(A){if(A.css===v.css&&A.media===v.media&&A.sourceMap===v.sourceMap&&A.supports===v.supports&&A.layer===v.layer)return;b.update(v=A)}else b.remove()}}l.exports=function(v,w){var b=p(v=v||[],w=w||{});return function(A){A=A||[];for(var R=0;R<b.length;R++){var N=d(b[R]);c[N].references--}for(var D=p(A,w),F=0;F<b.length;F++){var x=d(b[F]);c[x].references===0&&(c[x].updater(),c.splice(x,1))}b=D}}},569:l=>{var c={};l.exports=function(d,p){var _=function(v){if(c[v]===void 0){var w=document.querySelector(v);if(window.HTMLIFrameElement&&w instanceof window.HTMLIFrameElement)try{w=w.contentDocument.head}catch{w=null}c[v]=w}return c[v]}(d);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");_.appendChild(p)}},216:l=>{l.exports=function(c){var d=document.createElement("style");return c.setAttributes(d,c.attributes),c.insert(d,c.options),d}},565:(l,c,d)=>{l.exports=function(p){var _=d.nc;_&&p.setAttribute("nonce",_)}},795:l=>{l.exports=function(c){var d=c.insertStyleElement(c);return{update:function(p){(function(_,v,w){var b="";w.supports&&(b+="@supports (".concat(w.supports,") {")),w.media&&(b+="@media ".concat(w.media," {"));var A=w.layer!==void 0;A&&(b+="@layer".concat(w.layer.length>0?" ".concat(w.layer):""," {")),b+=w.css,A&&(b+="}"),w.media&&(b+="}"),w.supports&&(b+="}");var R=w.sourceMap;R&&typeof btoa<"u"&&(b+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(R))))," */")),v.styleTagTransform(b,_,v.options)})(d,c,p)},remove:function(){(function(p){if(p.parentNode===null)return!1;p.parentNode.removeChild(p)})(d)}}}},589:l=>{l.exports=function(c,d){if(d.styleSheet)d.styleSheet.cssText=c;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(c))}}},607:function(l,c,d){var p=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0}),c.Cursor=c.default=void 0;var _=p(d(678));c.default=_.default;var v=p(d(353));c.Cursor=v.default,d(413)},353:(l,c)=>{Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function p(_,v,w){this.id=_,this.name=v,this.color=w,this.toggleNearCursor=this.toggleNearCursor.bind(this),this._toggleOpenedCursor=this._toggleOpenedCursor.bind(this),this._setHoverState=this._setHoverState.bind(this)}return p.prototype.build=function(_){var v=document.createElement(p.CONTAINER_ELEMENT_TAG);v.classList.add(p.CURSOR_CLASS),v.id="ql-cursor-".concat(this.id),v.innerHTML=_.template;var w=v.getElementsByClassName(p.SELECTION_CLASS)[0],b=v.getElementsByClassName(p.CARET_CONTAINER_CLASS)[0],A=b.getElementsByClassName(p.CARET_CLASS)[0],R=v.getElementsByClassName(p.FLAG_CLASS)[0];return R.style.backgroundColor=this.color,A.style.backgroundColor=this.color,v.getElementsByClassName(p.NAME_CLASS)[0].textContent=this.name,this._hideDelay="".concat(_.hideDelayMs,"ms"),this._hideSpeedMs=_.hideSpeedMs,this._positionFlag=_.positionFlag,R.style.transitionDelay=this._hideDelay,R.style.transitionDuration="".concat(this._hideSpeedMs,"ms"),this._el=v,this._selectionEl=w,this._caretEl=b,this._flagEl=R,b.addEventListener("mouseover",this._setHoverState,{passive:!0}),this._el},p.prototype.show=function(){this._el.classList.remove(p.HIDDEN_CLASS)},p.prototype.hide=function(){this._el.classList.add(p.HIDDEN_CLASS)},p.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},p.prototype.toggleNearCursor=function(_,v){var w=this._getCoordinates(),b=w.left,A=w.right,R=w.top,N=w.bottom,D=_>=b&&_<=A&&v>=R&&v<=N;return this._caretEl.classList.toggle(p.CONTAINER_HOVER_CLASS,D),D},p.prototype.toggleFlag=function(_){var v=this;this._caretEl.classList.toggle(p.CONTAINER_HOVER_CLASS,_)||(this._flagEl.classList.add(p.NO_DELAY_CLASS),setTimeout(function(){return v._flagEl.classList.remove(p.NO_DELAY_CLASS)},this._hideSpeedMs))},p.prototype.updateCaret=function(_,v){this._caretEl.style.top="".concat(_.top,"px"),this._caretEl.style.left="".concat(_.left,"px"),this._caretEl.style.height="".concat(_.height,"px"),this._positionFlag?this._positionFlag(this._flagEl,_,v):this._updateCaretFlag(_,v)},p.prototype.updateSelection=function(_,v){var w=this;this._clearSelection(),_=_||[],_=Array.from(_),_=this._sanitize(_),(_=this._sortByDomPosition(_)).forEach(function(b){return w._addSelection(b,v)})},p.prototype._setHoverState=function(){document.addEventListener("mousemove",this._toggleOpenedCursor,{passive:!0})},p.prototype._toggleOpenedCursor=function(_){var v=this.toggleNearCursor(_.clientX,_.clientY);this._caretEl.classList.toggle(p.CONTAINER_NO_POINTER_CLASS,v),v||document.removeEventListener("mousemove",this._toggleOpenedCursor)},p.prototype._getCoordinates=function(){return this._caretEl.getBoundingClientRect()},p.prototype._updateCaretFlag=function(_,v){this._flagEl.style.width="";var w=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(p.FLAG_FLIPPED_CLASS),_.left>v.width-w.width&&this._flagEl.classList.add(p.FLAG_FLIPPED_CLASS),this._flagEl.style.left="".concat(_.left,"px"),this._flagEl.style.top="".concat(_.top,"px"),this._flagEl.style.width="".concat(Math.ceil(w.width),"px")},p.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},p.prototype._addSelection=function(_,v){var w=this._selectionBlock(_,v);this._selectionEl.appendChild(w)},p.prototype._selectionBlock=function(_,v){var w=document.createElement(p.SELECTION_ELEMENT_TAG);return w.classList.add(p.SELECTION_BLOCK_CLASS),w.style.top="".concat(_.top-v.top,"px"),w.style.left="".concat(_.left-v.left,"px"),w.style.width="".concat(_.width,"px"),w.style.height="".concat(_.height,"px"),w.style.backgroundColor=this.color,w.style.opacity="0.3",w},p.prototype._sortByDomPosition=function(_){return _.sort(function(v,w){return v.top===w.top?v.left-w.left:v.top-w.top})},p.prototype._sanitize=function(_){var v=this,w=new Set;return _.filter(function(b){if(!b.width||!b.height)return!1;var A=v._serialize(b);return!w.has(A)&&(w.add(A),!0)})},p.prototype._serialize=function(_){return["top:".concat(_.top),"right:".concat(_.right),"bottom:".concat(_.bottom),"left:".concat(_.left)].join(";")},p.CONTAINER_ELEMENT_TAG="SPAN",p.SELECTION_ELEMENT_TAG="SPAN",p.CURSOR_CLASS="ql-cursor",p.SELECTION_CLASS="ql-cursor-selections",p.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",p.CARET_CLASS="ql-cursor-caret",p.CARET_CONTAINER_CLASS="ql-cursor-caret-container",p.CONTAINER_HOVER_CLASS="hover",p.CONTAINER_NO_POINTER_CLASS="no-pointer",p.FLAG_CLASS="ql-cursor-flag",p.FLAG_FLIPPED_CLASS="flag-flipped",p.NAME_CLASS="ql-cursor-name",p.HIDDEN_CLASS="hidden",p.NO_DELAY_CLASS="no-delay",p}();c.default=d},678:function(l,c,d){var p=this&&this.__createBinding||(Object.create?function(x,M,$,G){G===void 0&&(G=$);var U=Object.getOwnPropertyDescriptor(M,$);U&&!("get"in U?!M.__esModule:U.writable||U.configurable)||(U={enumerable:!0,get:function(){return M[$]}}),Object.defineProperty(x,G,U)}:function(x,M,$,G){G===void 0&&(G=$),x[G]=M[$]}),_=this&&this.__setModuleDefault||(Object.create?function(x,M){Object.defineProperty(x,"default",{enumerable:!0,value:M})}:function(x,M){x.default=M}),v=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var M={};if(x!=null)for(var $ in x)$!=="default"&&Object.prototype.hasOwnProperty.call(x,$)&&p(M,x,$);return _(M,x),M},w=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(c,"__esModule",{value:!0});var b=w(d(353)),A=v(d(165)),R=w(d(338)),N=w(d(33)),D=d(895),F=function(){function x(M,$){$===void 0&&($={}),this._cursors={},this._isObserving=!1,this._handleCursorTouch=this._handleCursorTouch.bind(this),this.quill=M,this.options=this._setDefaults($),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return x.prototype.createCursor=function(M,$,G){var U=this._cursors[M];if(!U){U=new b.default(M,$,G),this._cursors[M]=U;var j=U.build(this.options);this._container.appendChild(j)}return U},x.prototype.moveCursor=function(M,$){var G=this._cursors[M];G&&(G.range=$,this._updateCursor(G))},x.prototype.removeCursor=function(M){var $=this._cursors[M];$&&($.remove(),delete this._cursors[M])},x.prototype.update=function(){var M=this;this.cursors().forEach(function($){return M._updateCursor($)})},x.prototype.clearCursors=function(){var M=this;this.cursors().forEach(function($){return M.removeCursor($.id)})},x.prototype.toggleFlag=function(M,$){var G=this._cursors[M];G&&G.toggleFlag($)},x.prototype.cursors=function(){var M=this;return Object.keys(this._cursors).map(function($){return M._cursors[$]})},x.prototype._registerSelectionChangeListeners=function(){var M=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function($){M._currentSelection=$})},x.prototype._registerTextChangeListener=function(){var M=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function($){return M._handleTextChange($)})},x.prototype._registerDomListeners=function(){var M=this,$=this.quill.container.getElementsByClassName("ql-editor")[0];$.addEventListener("scroll",function(){return M.update()},{passive:!0}),$.addEventListener("touchstart",this._handleCursorTouch,{passive:!0})},x.prototype._handleCursorTouch=function(M){var $=this;this.cursors().forEach(function(G){G.toggleNearCursor(M.pageX,M.pageY),setTimeout(function(){return G.toggleFlag(!1)},$.options.hideDelayMs)})},x.prototype._registerResizeObserver=function(){var M=this;if(!this._isObserving){var $=this.quill.container.getElementsByClassName("ql-editor")[0],G=new N.default(function(U){if(!U[0].target.isConnected)return G.disconnect(),void(M._isObserving=!1);M.update()});G.observe($),this._isObserving=!0}},x.prototype._updateCursor=function(M){if(this._registerResizeObserver(),!M.range)return M.hide();var $=this._indexWithinQuillBounds(M.range.index),G=this._indexWithinQuillBounds(M.range.index+M.range.length),U=this.quill.getLeaf($),j=this.quill.getLeaf(G);if(!this._leafIsValid(U)||!this._leafIsValid(j))return M.hide();M.show();var q=this._boundsContainer.getBoundingClientRect(),k=this.quill.getBounds(G);M.updateCaret(k,q);var P=this._lineRanges(M,U,j).reduce(function(z,O){return z.concat(Array.from(A.getClientRects(O)))},[]);M.updateSelection(P,q)},x.prototype._indexWithinQuillBounds=function(M){var $=this.quill.getLength(),G=$?$-1:0;return M=Math.max(M,0),Math.min(M,G)},x.prototype._leafIsValid=function(M){return M&&M[0]&&M[0].domNode&&M[1]>=0},x.prototype._handleTextChange=function(M){var $=this;window.setTimeout(function(){$.options.transformOnTextChange&&$._transformCursors(M),$.options.selectionChangeSource&&($._emitSelection(),$.update())})},x.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},x.prototype._setDefaults=function(M){return(M=Object.assign({},M)).template||(M.template=x.DEFAULTS.template),M.containerClass||(M.containerClass=x.DEFAULTS.containerClass),M.selectionChangeSource!==null&&(M.selectionChangeSource||(M.selectionChangeSource=x.DEFAULTS.selectionChangeSource)),M.hideDelayMs=Number.isInteger(M.hideDelayMs)?M.hideDelayMs:x.DEFAULTS.hideDelayMs,M.hideSpeedMs=Number.isInteger(M.hideSpeedMs)?M.hideSpeedMs:x.DEFAULTS.hideSpeedMs,M.transformOnTextChange=!!M.transformOnTextChange,M},x.prototype._lineRanges=function(M,$,G){var U=this.quill.getLines(M.range);return U.reduce(function(j,q,k){if(!q.children){var P=document.createRange();return P.selectNode(q.domNode),j.concat(P)}var z=k===0?$:q.path(0).pop(),O=z[0],oe=z[1],le=k===U.length-1?G:q.path(q.length()-1).pop(),re=le[0],pe=le[1],se=document.createRange();return O.domNode.nodeType===Node.TEXT_NODE?se.setStart(O.domNode,oe):se.setStartBefore(O.domNode),re.domNode.nodeType===Node.TEXT_NODE?se.setEnd(re.domNode,pe):se.setEndAfter(re.domNode),j.concat(se)},[])},x.prototype._transformCursors=function(M){var $=this;M=new D(M),this.cursors().filter(function(G){return G.range}).forEach(function(G){G.range.index=M.transformPosition(G.range.index),$._updateCursor(G)})},x.DEFAULTS={template:R.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},x}();c.default=F},338:function(l,c,d){var p=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0});var _=p(d(353)),v=`
  <span class="`.concat(_.default.SELECTION_CLASS,`"></span>
  <span class="`).concat(_.default.CARET_CONTAINER_CLASS,`">
    <span class="`).concat(_.default.CARET_CLASS,`"></span>
  </span>
  <div class="`).concat(_.default.FLAG_CLASS,`">
    <small class="`).concat(_.default.NAME_CLASS,`"></small>
  </div>
`);c.default=v}},r={};function i(l){var c=r[l];if(c!==void 0)return c.exports;var d=r[l]={id:l,loaded:!1,exports:{}};return t[l].call(d.exports,d,d.exports,i),d.loaded=!0,d.exports}i.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return i.d(c,{a:c}),c},i.d=(l,c)=>{for(var d in c)i.o(c,d)&&!i.o(l,d)&&Object.defineProperty(l,d,{enumerable:!0,get:c[d]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),i.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.nmd=l=>(l.paths=[],l.children||(l.children=[]),l),i.nc=void 0;var o=i(607);return o.default})())}(E1)),E1.exports}var oH=sH();const aH=s_(oH);Oe.register("modules/cursors",aH);function lH({readOnly:n,defaultValue:e,placeholder:t,onTextChange:r,onSelectionChange:i},o){const l=ce.useRef(null),c=ce.useRef(e??[]),d=ce.useRef(r),p=ce.useRef(i);ce.useLayoutEffect(()=>{d.current=r,p.current=i});function _(w){typeof o=="function"?o(w):o!==null&&(o.current=w)}function v(){return typeof o=="function"?null:o?o.current:null}return ce.useEffect(()=>{var w;(w=v())==null||w.enable(!n)},[o,n]),ce.useEffect(()=>{const w=l.current;if(!w)return;const b=w.appendChild(w.ownerDocument.createElement("div")),A=new Oe(b,{theme:"snow",placeholder:t,modules:{cursors:!0,toolbar:!1}});_(A);const R=new E2(A);return c.current&&A.setContents(c.current),A.on(Oe.events.TEXT_CHANGE,(...N)=>{var D;(D=d.current)==null||D.call(d,...N)}),A.on(Oe.events.SELECTION_CHANGE,(...N)=>{var D;(D=p.current)==null||D.call(p,...N)}),()=>{_(null),R.destroy(),w.innerHTML=""}},[o]),X.jsx("div",{className:"ql-wrapper",ref:l})}const T2=ce.forwardRef(lH);T2.displayName="QuillEditor";function uH({note:n,setShareShown:e,toggleSidebarCollapsed:t}){const[r,i]=ce.useState(null),o=ce.useCallback(c=>{i(c)},[]);function l(){if(!r)return;console.log("Focusing first line");const c=r.getLines(0,1);r.setSelection(Math.max(0,c[0].length()-1),"silent"),console.log(c[0]),r.focus()}return ce.useEffect(()=>{if(r)return n.quill=r,n.createSession(),n.addListener(c=>{c==="realtime-start"&&l()}),()=>n.destroySession()},[r,n.documentRef]),X.jsxs("main",{children:[X.jsx(Bz,{note:n,quill:r,setShareShown:e,toggleSidebarCollapsed:t}),X.jsx(T2,{placeholder:"Write something new...",defaultValue:n.import(),ref:o},n.id)]},n.id)}function GA({api:n}){const e=P$(),t=Cm(),[r,i]=ce.useState(null),[o,l]=ce.useState(null),[c,d]=ce.useState(!1),[p,_]=ce.useState(!1),[v,w]=ce.useState(!1),[b,A]=ce.useState(!1),[R,N]=ce.useState(()=>localStorage.getItem("theme")==="dark");ce.useEffect(()=>{document.documentElement.setAttribute("data-theme",R?"dark":"light"),localStorage.setItem("theme",R?"dark":"light")},[R]);const D=F=>{F?t(`/note/${F}`):(r==null||r.destroySession(),i(new pw(null,n)),t("/note"))};return ce.useEffect(()=>{(async()=>{if(b){A(!1);return}if(!e.id){i(new pw(null,n));return}w(!0);try{const x=await n.getNote(e.id);x&&i(x)}catch(x){console.error("Error loading note:",x),t("/note")}w(!1)})()},[e.id,n]),ce.useEffect(()=>{const F=()=>{r!=null&&r.id&&e.id!==r.id&&(A(!0),t(`/note/${r.id}`,{replace:!0}))};return document.addEventListener("noteSaved",F),()=>document.removeEventListener("noteSaved",F)}),X.jsxs("div",{className:"note-editor","data-theme":R?"dark":"light",children:[X.jsx(Pz,{note:v?null:r,setStudyMode:l,setId:D,api:n,collapsed:c,isDarkMode:R,setIsDarkMode:N}),r!==null&&o&&X.jsx(Dz,{note:r,mode:o,setStudyMode:l}),r!==null&&p&&X.jsx(Fz,{note:r,setShareShown:_}),v&&X.jsxs("main",{children:[X.jsx("div",{className:"toolbar"}),X.jsx("div",{className:"ql-wrapper",children:X.jsx("div",{className:"ql-container ql-snow",children:X.jsxs("div",{className:"ql-editor",children:[X.jsx("div",{className:"skeleton",style:{height:"2em",width:"75%",margin:"0.5em 0"}}),X.jsx("div",{className:"skeleton",style:{height:"1em",margin:"0.5em 0"}}),X.jsx("div",{className:"skeleton",style:{height:"1em",margin:"0.5em 0"}}),X.jsx("div",{className:"skeleton",style:{height:"1em",width:"50%"}})]})})})]}),r!==null&&!v&&X.jsx(uH,{note:r,setShareShown:_,toggleSidebarCollapsed:()=>d(!c)})]})}function b2(n,e){return function(){return n.apply(e,arguments)}}const{toString:cH}=Object.prototype,{getPrototypeOf:aT}=Object,$_=(n=>e=>{const t=cH.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ja=n=>(n=n.toLowerCase(),e=>$_(e)===n),z_=n=>e=>typeof e===n,{isArray:op}=Array,am=z_("undefined");function hH(n){return n!==null&&!am(n)&&n.constructor!==null&&!am(n.constructor)&&Uo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const S2=Ja("ArrayBuffer");function fH(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&S2(n.buffer),e}const dH=z_("string"),Uo=z_("function"),A2=z_("number"),H_=n=>n!==null&&typeof n=="object",pH=n=>n===!0||n===!1,b0=n=>{if($_(n)!=="object")return!1;const e=aT(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},gH=Ja("Date"),mH=Ja("File"),yH=Ja("Blob"),_H=Ja("FileList"),vH=n=>H_(n)&&Uo(n.pipe),wH=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Uo(n.append)&&((e=$_(n))==="formdata"||e==="object"&&Uo(n.toString)&&n.toString()==="[object FormData]"))},EH=Ja("URLSearchParams"),[TH,bH,SH,AH]=["ReadableStream","Request","Response","Headers"].map(Ja),CH=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Im(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),op(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let c;for(r=0;r<l;r++)c=o[r],e.call(null,n[c],c,n)}}function C2(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const bh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x2=n=>!am(n)&&n!==bh;function Cw(){const{caseless:n}=x2(this)&&this||{},e={},t=(r,i)=>{const o=n&&C2(e,i)||i;b0(e[o])&&b0(r)?e[o]=Cw(e[o],r):b0(r)?e[o]=Cw({},r):op(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Im(arguments[r],t);return e}const xH=(n,e,t,{allOwnKeys:r}={})=>(Im(e,(i,o)=>{t&&Uo(i)?n[o]=b2(i,t):n[o]=i},{allOwnKeys:r}),n),IH=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),RH=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},kH=(n,e,t,r)=>{let i,o,l;const c={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)l=i[o],(!r||r(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=t!==!1&&aT(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},NH=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},PH=n=>{if(!n)return null;if(op(n))return n;let e=n.length;if(!A2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},OH=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&aT(Uint8Array)),LH=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},DH=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},MH=Ja("HTMLFormElement"),FH=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),KA=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),UH=Ja("RegExp"),I2=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Im(t,(i,o)=>{let l;(l=e(i,o,n))!==!1&&(r[o]=l||i)}),Object.defineProperties(n,r)},BH=n=>{I2(n,(e,t)=>{if(Uo(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Uo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},VH=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return op(n)?r(n):r(String(n).split(e)),t},jH=()=>{},qH=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,T1="abcdefghijklmnopqrstuvwxyz",JA="0123456789",R2={DIGIT:JA,ALPHA:T1,ALPHA_DIGIT:T1+T1.toUpperCase()+JA},$H=(n=16,e=R2.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function zH(n){return!!(n&&Uo(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const HH=n=>{const e=new Array(10),t=(r,i)=>{if(H_(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=op(r)?[]:{};return Im(r,(l,c)=>{const d=t(l,i+1);!am(d)&&(o[c]=d)}),e[i]=void 0,o}}return r};return t(n,0)},WH=Ja("AsyncFunction"),GH=n=>n&&(H_(n)||Uo(n))&&Uo(n.then)&&Uo(n.catch),k2=((n,e)=>n?setImmediate:e?((t,r)=>(bh.addEventListener("message",({source:i,data:o})=>{i===bh&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),bh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Uo(bh.postMessage)),KH=typeof queueMicrotask<"u"?queueMicrotask.bind(bh):typeof process<"u"&&process.nextTick||k2,Ce={isArray:op,isArrayBuffer:S2,isBuffer:hH,isFormData:wH,isArrayBufferView:fH,isString:dH,isNumber:A2,isBoolean:pH,isObject:H_,isPlainObject:b0,isReadableStream:TH,isRequest:bH,isResponse:SH,isHeaders:AH,isUndefined:am,isDate:gH,isFile:mH,isBlob:yH,isRegExp:UH,isFunction:Uo,isStream:vH,isURLSearchParams:EH,isTypedArray:OH,isFileList:_H,forEach:Im,merge:Cw,extend:xH,trim:CH,stripBOM:IH,inherits:RH,toFlatObject:kH,kindOf:$_,kindOfTest:Ja,endsWith:NH,toArray:PH,forEachEntry:LH,matchAll:DH,isHTMLForm:MH,hasOwnProperty:KA,hasOwnProp:KA,reduceDescriptors:I2,freezeMethods:BH,toObjectSet:VH,toCamelCase:FH,noop:jH,toFiniteNumber:qH,findKey:C2,global:bh,isContextDefined:x2,ALPHABET:R2,generateString:$H,isSpecCompliantForm:zH,toJSONObject:HH,isAsyncFn:WH,isThenable:GH,setImmediate:k2,asap:KH};function rn(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ce.inherits(rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const N2=rn.prototype,P2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{P2[n]={value:n}});Object.defineProperties(rn,P2);Object.defineProperty(N2,"isAxiosError",{value:!0});rn.from=(n,e,t,r,i,o)=>{const l=Object.create(N2);return Ce.toFlatObject(n,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),rn.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const JH=null;function xw(n){return Ce.isPlainObject(n)||Ce.isArray(n)}function O2(n){return Ce.endsWith(n,"[]")?n.slice(0,-2):n}function QA(n,e,t){return n?n.concat(e).map(function(i,o){return i=O2(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function QH(n){return Ce.isArray(n)&&!n.some(xw)}const XH=Ce.toFlatObject(Ce,{},null,function(e){return/^is[A-Z]/.test(e)});function W_(n,e,t){if(!Ce.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ce.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,N){return!Ce.isUndefined(N[R])});const r=t.metaTokens,i=t.visitor||_,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(e);if(!Ce.isFunction(i))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(Ce.isDate(A))return A.toISOString();if(!d&&Ce.isBlob(A))throw new rn("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(A)||Ce.isTypedArray(A)?d&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function _(A,R,N){let D=A;if(A&&!N&&typeof A=="object"){if(Ce.endsWith(R,"{}"))R=r?R:R.slice(0,-2),A=JSON.stringify(A);else if(Ce.isArray(A)&&QH(A)||(Ce.isFileList(A)||Ce.endsWith(R,"[]"))&&(D=Ce.toArray(A)))return R=O2(R),D.forEach(function(x,M){!(Ce.isUndefined(x)||x===null)&&e.append(l===!0?QA([R],M,o):l===null?R:R+"[]",p(x))}),!1}return xw(A)?!0:(e.append(QA(N,R,o),p(A)),!1)}const v=[],w=Object.assign(XH,{defaultVisitor:_,convertValue:p,isVisitable:xw});function b(A,R){if(!Ce.isUndefined(A)){if(v.indexOf(A)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(A),Ce.forEach(A,function(D,F){(!(Ce.isUndefined(D)||D===null)&&i.call(e,D,Ce.isString(F)?F.trim():F,R,w))===!0&&b(D,R?R.concat(F):[F])}),v.pop()}}if(!Ce.isObject(n))throw new TypeError("data must be an object");return b(n),e}function XA(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function lT(n,e){this._pairs=[],n&&W_(n,this,e)}const L2=lT.prototype;L2.append=function(e,t){this._pairs.push([e,t])};L2.toString=function(e){const t=e?function(r){return e.call(this,r,XA)}:XA;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function YH(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D2(n,e,t){if(!e)return n;const r=t&&t.encode||YH;Ce.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=Ce.isURLSearchParams(e)?e.toString():new lT(e,t).toString(r),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class YA{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ce.forEach(this.handlers,function(r){r!==null&&e(r)})}}const M2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZH=typeof URLSearchParams<"u"?URLSearchParams:lT,eW=typeof FormData<"u"?FormData:null,tW=typeof Blob<"u"?Blob:null,nW={isBrowser:!0,classes:{URLSearchParams:ZH,FormData:eW,Blob:tW},protocols:["http","https","file","blob","url","data"]},uT=typeof window<"u"&&typeof document<"u",Iw=typeof navigator=="object"&&navigator||void 0,rW=uT&&(!Iw||["ReactNative","NativeScript","NS"].indexOf(Iw.product)<0),iW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sW=uT&&window.location.href||"http://localhost",oW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uT,hasStandardBrowserEnv:rW,hasStandardBrowserWebWorkerEnv:iW,navigator:Iw,origin:sW},Symbol.toStringTag,{value:"Module"})),Ds={...oW,...nW};function aW(n,e){return W_(n,new Ds.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Ds.isNode&&Ce.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function lW(n){return Ce.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uW(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function F2(n){function e(t,r,i,o){let l=t[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=t.length;return l=!l&&Ce.isArray(i)?i.length:l,d?(Ce.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!Ce.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],o)&&Ce.isArray(i[l])&&(i[l]=uW(i[l])),!c)}if(Ce.isFormData(n)&&Ce.isFunction(n.entries)){const t={};return Ce.forEachEntry(n,(r,i)=>{e(lW(r),i,t,0)}),t}return null}function cW(n,e,t){if(Ce.isString(n))try{return(e||JSON.parse)(n),Ce.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const Rm={transitional:M2,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ce.isObject(e);if(o&&Ce.isHTMLForm(e)&&(e=new FormData(e)),Ce.isFormData(e))return i?JSON.stringify(F2(e)):e;if(Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e)||Ce.isReadableStream(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return aW(e,this.formSerializer).toString();if((c=Ce.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return W_(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),cW(e)):e}],transformResponse:[function(e){const t=this.transitional||Rm.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Ce.isResponse(e)||Ce.isReadableStream(e))return e;if(e&&Ce.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?rn.from(c,rn.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ds.classes.FormData,Blob:Ds.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],n=>{Rm.headers[n]={}});const hW=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fW=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&hW[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},ZA=Symbol("internals");function _g(n){return n&&String(n).trim().toLowerCase()}function S0(n){return n===!1||n==null?n:Ce.isArray(n)?n.map(S0):String(n)}function dW(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const pW=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function b1(n,e,t,r,i){if(Ce.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Ce.isString(e)){if(Ce.isString(r))return e.indexOf(r)!==-1;if(Ce.isRegExp(r))return r.test(e)}}function gW(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function mW(n,e){const t=Ce.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}class mo{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(c,d,p){const _=_g(d);if(!_)throw new Error("header name must be a non-empty string");const v=Ce.findKey(i,_);(!v||i[v]===void 0||p===!0||p===void 0&&i[v]!==!1)&&(i[v||d]=S0(c))}const l=(c,d)=>Ce.forEach(c,(p,_)=>o(p,_,d));if(Ce.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(Ce.isString(e)&&(e=e.trim())&&!pW(e))l(fW(e),t);else if(Ce.isHeaders(e))for(const[c,d]of e.entries())o(d,c,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=_g(e),e){const r=Ce.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return dW(i);if(Ce.isFunction(t))return t.call(this,i,r);if(Ce.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_g(e),e){const r=Ce.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||b1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(l){if(l=_g(l),l){const c=Ce.findKey(r,l);c&&(!t||b1(r,r[c],c,t))&&(delete r[c],i=!0)}}return Ce.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||b1(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return Ce.forEach(this,(i,o)=>{const l=Ce.findKey(r,o);if(l){t[l]=S0(i),delete t[o];return}const c=e?gW(o):String(o).trim();c!==o&&delete t[o],t[c]=S0(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ce.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Ce.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ZA]=this[ZA]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=_g(l);r[c]||(mW(i,l),r[c]=!0)}return Ce.isArray(e)?e.forEach(o):o(e),this}}mo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(mo.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Ce.freezeMethods(mo);function S1(n,e){const t=this||Rm,r=e||t,i=mo.from(r.headers);let o=r.data;return Ce.forEach(n,function(c){o=c.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function U2(n){return!!(n&&n.__CANCEL__)}function ap(n,e,t){rn.call(this,n??"canceled",rn.ERR_CANCELED,e,t),this.name="CanceledError"}Ce.inherits(ap,rn,{__CANCEL__:!0});function B2(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new rn("Request failed with status code "+t.status,[rn.ERR_BAD_REQUEST,rn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function yW(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function _W(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),_=r[o];l||(l=p),t[i]=d,r[i]=p;let v=o,w=0;for(;v!==i;)w+=t[v++],v=v%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),p-l<e)return;const b=_&&p-_;return b?Math.round(w*1e3/b):void 0}}function vW(n,e){let t=0,r=1e3/e,i,o;const l=(p,_=Date.now())=>{t=_,i=null,o&&(clearTimeout(o),o=null),n.apply(null,p)};return[(...p)=>{const _=Date.now(),v=_-t;v>=r?l(p,_):(i=p,o||(o=setTimeout(()=>{o=null,l(i)},r-v)))},()=>i&&l(i)]}const Y0=(n,e,t=3)=>{let r=0;const i=_W(50,250);return vW(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-r,p=i(d),_=l<=c;r=l;const v={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&_?(c-l)/p:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(v)},t)},eC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},tC=n=>(...e)=>Ce.asap(()=>n(...e)),wW=Ds.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ds.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ds.origin),Ds.navigator&&/(msie|trident)/i.test(Ds.navigator.userAgent)):()=>!0,EW=Ds.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const l=[n+"="+encodeURIComponent(e)];Ce.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Ce.isString(r)&&l.push("path="+r),Ce.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function TW(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function bW(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function V2(n,e){return n&&!TW(e)?bW(n,e):e}const nC=n=>n instanceof mo?{...n}:n;function Mh(n,e){e=e||{};const t={};function r(p,_,v,w){return Ce.isPlainObject(p)&&Ce.isPlainObject(_)?Ce.merge.call({caseless:w},p,_):Ce.isPlainObject(_)?Ce.merge({},_):Ce.isArray(_)?_.slice():_}function i(p,_,v,w){if(Ce.isUndefined(_)){if(!Ce.isUndefined(p))return r(void 0,p,v,w)}else return r(p,_,v,w)}function o(p,_){if(!Ce.isUndefined(_))return r(void 0,_)}function l(p,_){if(Ce.isUndefined(_)){if(!Ce.isUndefined(p))return r(void 0,p)}else return r(void 0,_)}function c(p,_,v){if(v in e)return r(p,_);if(v in n)return r(void 0,p)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,_,v)=>i(nC(p),nC(_),v,!0)};return Ce.forEach(Object.keys(Object.assign({},n,e)),function(_){const v=d[_]||i,w=v(n[_],e[_],_);Ce.isUndefined(w)&&v!==c||(t[_]=w)}),t}const j2=n=>{const e=Mh({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=mo.from(l),e.url=D2(V2(e.baseURL,e.url),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(Ce.isFormData(t)){if(Ds.hasStandardBrowserEnv||Ds.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,..._]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",..._].join("; "))}}if(Ds.hasStandardBrowserEnv&&(r&&Ce.isFunction(r)&&(r=r(e)),r||r!==!1&&wW(e.url))){const p=i&&o&&EW.read(o);p&&l.set(i,p)}return e},SW=typeof XMLHttpRequest<"u",AW=SW&&function(n){return new Promise(function(t,r){const i=j2(n);let o=i.data;const l=mo.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=i,_,v,w,b,A;function R(){b&&b(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(_),i.signal&&i.signal.removeEventListener("abort",_)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function D(){if(!N)return;const x=mo.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),$={data:!c||c==="text"||c==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:x,config:n,request:N};B2(function(U){t(U),R()},function(U){r(U),R()},$),N=null}"onloadend"in N?N.onloadend=D:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(D)},N.onabort=function(){N&&(r(new rn("Request aborted",rn.ECONNABORTED,n,N)),N=null)},N.onerror=function(){r(new rn("Network Error",rn.ERR_NETWORK,n,N)),N=null},N.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||M2;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new rn(M,$.clarifyTimeoutError?rn.ETIMEDOUT:rn.ECONNABORTED,n,N)),N=null},o===void 0&&l.setContentType(null),"setRequestHeader"in N&&Ce.forEach(l.toJSON(),function(M,$){N.setRequestHeader($,M)}),Ce.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),c&&c!=="json"&&(N.responseType=i.responseType),p&&([w,A]=Y0(p,!0),N.addEventListener("progress",w)),d&&N.upload&&([v,b]=Y0(d),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(_=x=>{N&&(r(!x||x.type?new ap(null,n,N):x),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(_),i.signal&&(i.signal.aborted?_():i.signal.addEventListener("abort",_)));const F=yW(i.url);if(F&&Ds.protocols.indexOf(F)===-1){r(new rn("Unsupported protocol "+F+":",rn.ERR_BAD_REQUEST,n));return}N.send(o||null)})},CW=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(p){if(!i){i=!0,c();const _=p instanceof Error?p:this.reason;r.abort(_ instanceof rn?_:new ap(_ instanceof Error?_.message:_))}};let l=e&&setTimeout(()=>{l=null,o(new rn(`timeout ${e} of ms exceeded`,rn.ETIMEDOUT))},e);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),n=null)};n.forEach(p=>p.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>Ce.asap(c),d}},xW=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},IW=async function*(n,e){for await(const t of RW(n))yield*xW(t,e)},RW=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},rC=(n,e,t,r)=>{const i=IW(n,e);let o=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:p,value:_}=await i.next();if(p){c(),d.close();return}let v=_.byteLength;if(t){let w=o+=v;t(w)}d.enqueue(new Uint8Array(_))}catch(p){throw c(p),p}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},G_=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",q2=G_&&typeof ReadableStream=="function",kW=G_&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),$2=(n,...e)=>{try{return!!n(...e)}catch{return!1}},NW=q2&&$2(()=>{let n=!1;const e=new Request(Ds.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),iC=64*1024,Rw=q2&&$2(()=>Ce.isReadableStream(new Response("").body)),Z0={stream:Rw&&(n=>n.body)};G_&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Z0[e]&&(Z0[e]=Ce.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new rn(`Response type '${e}' is not supported`,rn.ERR_NOT_SUPPORT,r)})})})(new Response);const PW=async n=>{if(n==null)return 0;if(Ce.isBlob(n))return n.size;if(Ce.isSpecCompliantForm(n))return(await new Request(Ds.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(n)||Ce.isArrayBuffer(n))return n.byteLength;if(Ce.isURLSearchParams(n)&&(n=n+""),Ce.isString(n))return(await kW(n)).byteLength},OW=async(n,e)=>{const t=Ce.toFiniteNumber(n.getContentLength());return t??PW(e)},LW=G_&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:p,headers:_,withCredentials:v="same-origin",fetchOptions:w}=j2(n);p=p?(p+"").toLowerCase():"text";let b=CW([i,o&&o.toAbortSignal()],l),A;const R=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let N;try{if(d&&NW&&t!=="get"&&t!=="head"&&(N=await OW(_,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),G;if(Ce.isFormData(r)&&(G=$.headers.get("content-type"))&&_.setContentType(G),$.body){const[U,j]=eC(N,Y0(tC(d)));r=rC($.body,iC,U,j)}}Ce.isString(v)||(v=v?"include":"omit");const D="credentials"in Request.prototype;A=new Request(e,{...w,signal:b,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:D?v:void 0});let F=await fetch(A);const x=Rw&&(p==="stream"||p==="response");if(Rw&&(c||x&&R)){const $={};["status","statusText","headers"].forEach(q=>{$[q]=F[q]});const G=Ce.toFiniteNumber(F.headers.get("content-length")),[U,j]=c&&eC(G,Y0(tC(c),!0))||[];F=new Response(rC(F.body,iC,U,()=>{j&&j(),R&&R()}),$)}p=p||"text";let M=await Z0[Ce.findKey(Z0,p)||"text"](F,n);return!x&&R&&R(),await new Promise(($,G)=>{B2($,G,{data:M,headers:mo.from(F.headers),status:F.status,statusText:F.statusText,config:n,request:A})})}catch(D){throw R&&R(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new rn("Network Error",rn.ERR_NETWORK,n,A),{cause:D.cause||D}):rn.from(D,D&&D.code,n,A)}}),kw={http:JH,xhr:AW,fetch:LW};Ce.forEach(kw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const sC=n=>`- ${n}`,DW=n=>Ce.isFunction(n)||n===null||n===!1,z2={getAdapter:n=>{n=Ce.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let l;if(r=t,!DW(t)&&(r=kw[(l=String(t)).toLowerCase()],r===void 0))throw new rn(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(sC).join(`
`):" "+sC(o[0]):"as no adapter specified";throw new rn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:kw};function A1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ap(null,n)}function oC(n){return A1(n),n.headers=mo.from(n.headers),n.data=S1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),z2.getAdapter(n.adapter||Rm.adapter)(n).then(function(r){return A1(n),r.data=S1.call(n,n.transformResponse,r),r.headers=mo.from(r.headers),r},function(r){return U2(r)||(A1(n),r&&r.response&&(r.response.data=S1.call(n,n.transformResponse,r.response),r.response.headers=mo.from(r.response.headers))),Promise.reject(r)})}const H2="1.7.9",K_={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{K_[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const aC={};K_.transitional=function(e,t,r){function i(o,l){return"[Axios v"+H2+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(e===!1)throw new rn(i(l," has been removed"+(t?" in "+t:"")),rn.ERR_DEPRECATED);return t&&!aC[l]&&(aC[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,c):!0}};K_.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function MW(n,e,t){if(typeof n!="object")throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const c=n[o],d=c===void 0||l(c,o,n);if(d!==!0)throw new rn("option "+o+" must be "+d,rn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new rn("Unknown option "+o,rn.ERR_BAD_OPTION)}}const A0={assertOptions:MW,validators:K_},vl=A0.validators;class xh{constructor(e){this.defaults=e,this.interceptors={request:new YA,response:new YA}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Mh(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&A0.assertOptions(r,{silentJSONParsing:vl.transitional(vl.boolean),forcedJSONParsing:vl.transitional(vl.boolean),clarifyTimeoutError:vl.transitional(vl.boolean)},!1),i!=null&&(Ce.isFunction(i)?t.paramsSerializer={serialize:i}:A0.assertOptions(i,{encode:vl.function,serialize:vl.function},!0)),A0.assertOptions(t,{baseUrl:vl.spelling("baseURL"),withXsrfToken:vl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&Ce.merge(o.common,o[t.method]);o&&Ce.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),t.headers=mo.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,c.unshift(R.fulfilled,R.rejected))});const p=[];this.interceptors.response.forEach(function(R){p.push(R.fulfilled,R.rejected)});let _,v=0,w;if(!d){const A=[oC.bind(this),void 0];for(A.unshift.apply(A,c),A.push.apply(A,p),w=A.length,_=Promise.resolve(t);v<w;)_=_.then(A[v++],A[v++]);return _}w=c.length;let b=t;for(v=0;v<w;){const A=c[v++],R=c[v++];try{b=A(b)}catch(N){R.call(this,N);break}}try{_=oC.call(this,b)}catch(A){return Promise.reject(A)}for(v=0,w=p.length;v<w;)_=_.then(p[v++],p[v++]);return _}getUri(e){e=Mh(this.defaults,e);const t=V2(e.baseURL,e.url);return D2(t,e.params,e.paramsSerializer)}}Ce.forEach(["delete","get","head","options"],function(e){xh.prototype[e]=function(t,r){return this.request(Mh(r||{},{method:e,url:t,data:(r||{}).data}))}});Ce.forEach(["post","put","patch"],function(e){function t(r){return function(o,l,c){return this.request(Mh(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}xh.prototype[e]=t(),xh.prototype[e+"Form"]=t(!0)});class cT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,c){r.reason||(r.reason=new ap(o,l,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new cT(function(i){e=i}),cancel:e}}}function FW(n){return function(t){return n.apply(null,t)}}function UW(n){return Ce.isObject(n)&&n.isAxiosError===!0}const Nw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nw).forEach(([n,e])=>{Nw[e]=n});function W2(n){const e=new xh(n),t=b2(xh.prototype.request,e);return Ce.extend(t,xh.prototype,e,{allOwnKeys:!0}),Ce.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return W2(Mh(n,i))},t}const zr=W2(Rm);zr.Axios=xh;zr.CanceledError=ap;zr.CancelToken=cT;zr.isCancel=U2;zr.VERSION=H2;zr.toFormData=W_;zr.AxiosError=rn;zr.Cancel=zr.CanceledError;zr.all=function(e){return Promise.all(e)};zr.spread=FW;zr.isAxiosError=UW;zr.mergeConfig=Mh;zr.AxiosHeaders=mo;zr.formToJSON=n=>F2(Ce.isHTMLForm(n)?new FormData(n):n);zr.getAdapter=z2.getAdapter;zr.HttpStatusCode=Nw;zr.default=zr;function hT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function G2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BW=G2,K2=new um("auth","Firebase",G2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Mw("@firebase/auth");function VW(n,...e){e_.logLevel<=Sn.WARN&&e_.warn(`Auth (${Uh}): ${n}`,...e)}function C0(n,...e){e_.logLevel<=Sn.ERROR&&e_.error(`Auth (${Uh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n,...e){throw dT(n,...e)}function $a(n,...e){return dT(n,...e)}function fT(n,e,t){const r=Object.assign(Object.assign({},BW()),{[e]:t});return new um("auth","Firebase",r).create(e,{appName:n.name})}function Ih(n){return fT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jW(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ml(n,"argument-error"),fT(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return K2.create(n,...e)}function $t(n,e,...t){if(!n)throw dT(e,...t)}function yu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw C0(e),new Error(e)}function Ru(n,e){n||yu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function qW(){return lC()==="http:"||lC()==="https:"}function lC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qW()||wO()||"connection"in navigator)?navigator.onLine:!0}function zW(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ru(t>e,"Short delay should be less than long delay!"),this.isMobile=yO()||EO()}get(){return $W()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,e){Ru(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new km(3e4,6e4);function gT(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function lp(n,e,t,r,i={}){return Q2(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=cm(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},o);return vO()||(p.referrerPolicy="no-referrer"),J2.fetch()(X2(n,n.config.apiHost,t,c),p)})}async function Q2(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HW),e);try{const i=new KW(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw r0(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw r0(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw r0(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw r0(n,"user-disabled",l);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw fT(n,_,p);Ml(n,_)}}catch(i){if(i instanceof Fl)throw i;Ml(n,"network-request-failed",{message:String(i)})}}async function GW(n,e,t,r,i={}){const o=await lp(n,e,t,r,i);return"mfaPendingCredential"in o&&Ml(n,"multi-factor-auth-required",{_serverResponse:o}),o}function X2(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?pT(n.config,i):`${n.config.apiScheme}://${i}`}class KW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($a(this.auth,"network-request-failed")),WW.get())})}}function r0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=$a(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(n,e){return lp(n,"POST","/v1/accounts:delete",e)}async function Y2(n,e){return lp(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QW(n,e=!1){const t=Us(n),r=await t.getIdToken(e),i=mT(r);$t(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ug(C1(i.auth_time)),issuedAtTime:Ug(C1(i.iat)),expirationTime:Ug(C1(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function C1(n){return Number(n)*1e3}function mT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return C0("JWT malformed, contained fewer than 3 sections"),null;try{const i=xC(t);return i?JSON.parse(i):(C0("Failed to decode base64 JWT payload"),null)}catch(i){return C0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uC(n){const e=mT(n);return $t(e,"internal-error"),$t(typeof e.exp<"u","internal-error"),$t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Fl&&XW(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function XW({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ug(this.lastLoginAt),this.creationTime=Ug(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_(n){var e;const t=n.auth,r=await n.getIdToken(),i=await lm(n,Y2(t,{idToken:r}));$t(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Z2(o.providerUserInfo):[],c=eG(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),_=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ow(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function ZW(n){const e=Us(n);await t_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eG(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z2(n){return n.map(e=>{var{providerId:t}=e,r=hT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(n,e){const t=await Q2(n,{},async()=>{const r=cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=X2(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",J2.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nG(n,e){return lp(n,"POST","/v2/accounts:revokeToken",gT(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$t(e.idToken,"internal-error"),$t(typeof e.idToken<"u","internal-error"),$t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$t(e.length!==0,"internal-error");const t=uC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await tG(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Od;return r&&($t(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&($t(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&($t(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Od,this.toJSON())}_performRefresh(){return yu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n,e){$t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _u{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=hT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ow(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await lm(this,this.stsTokenManager.getToken(this.auth,e));return $t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QW(this,e)}reload(){return ZW(this)}_assign(e){this!==e&&($t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _u(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await t_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mu(this.auth.app))return Promise.reject(Ih(this.auth));const e=await this.getIdToken();return await lm(this,JW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,c,d,p,_;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:x,emailVerified:M,isAnonymous:$,providerData:G,stsTokenManager:U}=t;$t(x&&U,e,"internal-error");const j=Od.fromJSON(this.name,U);$t(typeof x=="string",e,"internal-error"),hc(v,e.name),hc(w,e.name),$t(typeof M=="boolean",e,"internal-error"),$t(typeof $=="boolean",e,"internal-error"),hc(b,e.name),hc(A,e.name),hc(R,e.name),hc(N,e.name),hc(D,e.name),hc(F,e.name);const q=new _u({uid:x,auth:e,email:w,emailVerified:M,displayName:v,isAnonymous:$,photoURL:A,phoneNumber:b,tenantId:R,stsTokenManager:j,createdAt:D,lastLoginAt:F});return G&&Array.isArray(G)&&(q.providerData=G.map(k=>Object.assign({},k))),N&&(q._redirectEventId=N),q}static async _fromIdTokenResponse(e,t,r=!1){const i=new Od;i.updateFromServerResponse(t);const o=new _u({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await t_(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];$t(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Z2(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Od;c.updateFromIdToken(r);const d=new _u({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ow(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Map;function vu(n){Ru(n instanceof Function,"Expected a class definition");let e=cC.get(n);return e?(Ru(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cC.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ek.type="NONE";const hC=ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e,t){return`firebase:${n}:${e}:${t}`}class Ld{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=x0(this.userKey,i.apiKey,o),this.fullPersistenceKey=x0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_u._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ld(vu(hC),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||vu(hC);const l=x0(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const _=await p._get(l);if(_){const v=_u._fromJSON(e,_);p!==o&&(c=v),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ld(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Ld(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ik(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ok(e))return"Blackberry";if(ak(e))return"Webos";if(nk(e))return"Safari";if((e.includes("chrome/")||rk(e))&&!e.includes("edge/"))return"Chrome";if(sk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tk(n=Fs()){return/firefox\//i.test(n)}function nk(n=Fs()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rk(n=Fs()){return/crios\//i.test(n)}function ik(n=Fs()){return/iemobile/i.test(n)}function sk(n=Fs()){return/android/i.test(n)}function ok(n=Fs()){return/blackberry/i.test(n)}function ak(n=Fs()){return/webos/i.test(n)}function yT(n=Fs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rG(n=Fs()){var e;return yT(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iG(){return TO()&&document.documentMode===10}function lk(n=Fs()){return yT(n)||sk(n)||ak(n)||ok(n)||/windows phone/i.test(n)||ik(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n,e=[]){let t;switch(n){case"Browser":t=fC(Fs());break;case"Worker":t=`${fC(Fs())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oG(n,e={}){return lp(n,"GET","/v2/passwordPolicy",gT(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG=6;class lG{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:aG,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dC(this),this.idTokenSubscription=new dC(this),this.beforeStateQueue=new sG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vu(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ld.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Y2(this,{idToken:e}),r=await _u._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mu(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await t_(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mu(this.app))return Promise.reject(Ih(this));const t=e?Us(e):null;return t&&$t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mu(this.app)?Promise.reject(Ih(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mu(this.app)?Promise.reject(Ih(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oG(this),t=new lG(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new um("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await nG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vu(e)||this._popupRedirectResolver;$t(t,this,"argument-error"),this.redirectPersistenceManager=await Ld.create(this,[vu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if($t(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&VW(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function J_(n){return Us(n)}class dC{constructor(e){this.auth=e,this.observer=null,this.addObserver=kO(t=>this.observer=t)}get next(){return $t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _T={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cG(n){_T=n}function hG(n){return _T.loadJS(n)}function fG(){return _T.gapiScript}function dG(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(n,e){const t=a_(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(N0(o,e??{}))return i;Ml(i,"already-initialized")}return t.initialize({options:e})}function gG(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(vu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mG(n,e,t){const r=J_(n);$t(r._canInitEmulator,r,"emulator-config-failed"),$t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=ck(e),{host:l,port:c}=yG(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),_G()}function ck(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yG(n){const e=ck(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:pC(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:pC(l)}}}function pC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _G(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yu("not implemented")}_getIdTokenResponse(e){return yu("not implemented")}_linkToIdToken(e,t){return yu("not implemented")}_getReauthenticationResolver(e){return yu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(n,e){return GW(n,"POST","/v1/accounts:signInWithIdp",gT(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG="http://localhost";class Fh extends hk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ml("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=hT(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Fh(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Dd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dd(e,t)}buildRequest(){const e={requestUri:vG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cm(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Nm{constructor(){super("facebook.com")}static credential(e){return Fh._fromParams({providerId:pc.PROVIDER_ID,signInMethod:pc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pc.credentialFromTaggedObject(e)}static credentialFromError(e){return pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pc.credential(e.oauthAccessToken)}catch{return null}}}pc.FACEBOOK_SIGN_IN_METHOD="facebook.com";pc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Nm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fh._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gu.credentialFromTaggedObject(e)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gu.credential(t,r)}catch{return null}}}gu.GOOGLE_SIGN_IN_METHOD="google.com";gu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Nm{constructor(){super("github.com")}static credential(e){return Fh._fromParams({providerId:gc.PROVIDER_ID,signInMethod:gc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gc.credentialFromTaggedObject(e)}static credentialFromError(e){return gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gc.credential(e.oauthAccessToken)}catch{return null}}}gc.GITHUB_SIGN_IN_METHOD="github.com";gc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Nm{constructor(){super("twitter.com")}static credential(e,t){return Fh._fromParams({providerId:mc.PROVIDER_ID,signInMethod:mc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mc.credentialFromTaggedObject(e)}static credentialFromError(e){return mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return mc.credential(t,r)}catch{return null}}}mc.TWITTER_SIGN_IN_METHOD="twitter.com";mc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await _u._fromIdTokenResponse(e,r,i),l=gC(r);return new Xd({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=gC(r);return new Xd({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function gC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends Fl{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n_.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n_(e,t,r,i)}}function fk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?n_._fromErrorAndOperation(n,o,e,r):o})}async function wG(n,e,t=!1){const r=await lm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xd._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(n,e,t=!1){const{auth:r}=n;if(mu(r.app))return Promise.reject(Ih(r));const i="reauthenticate";try{const o=await lm(n,fk(r,i,e,n),t);$t(o.idToken,r,"internal-error");const l=mT(o.idToken);$t(l,r,"internal-error");const{sub:c}=l;return $t(n.uid===c,r,"user-mismatch"),Xd._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ml(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TG(n,e,t=!1){if(mu(n.app))return Promise.reject(Ih(n));const r="signIn",i=await fk(n,r,e),o=await Xd._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function bG(n,e,t,r){return Us(n).onIdTokenChanged(e,t,r)}function SG(n,e,t){return Us(n).beforeAuthStateChanged(e,t)}function AG(n,e,t,r){return Us(n).onAuthStateChanged(e,t,r)}const r_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(r_,"1"),this.storage.removeItem(r_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=1e3,xG=10;class pk extends dk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);iG()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xG):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},CG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pk.type="LOCAL";const IG=pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends dk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gk.type="SESSION";const mk=gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Q_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,o)),d=await RG(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Q_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const p=wT("",20);i.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(){return window}function NG(n){Nl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return typeof Nl().WorkerGlobalScope<"u"&&typeof Nl().importScripts=="function"}async function PG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OG(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function LG(){return yk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebaseLocalStorageDb",DG=1,i_="firebaseLocalStorage",vk="fbase_key";class Pm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function X_(n,e){return n.transaction([i_],e?"readwrite":"readonly").objectStore(i_)}function MG(){const n=indexedDB.deleteDatabase(_k);return new Pm(n).toPromise()}function Lw(){const n=indexedDB.open(_k,DG);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(i_,{keyPath:vk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(i_)?e(r):(r.close(),await MG(),e(await Lw()))})})}async function mC(n,e,t){const r=X_(n,!0).put({[vk]:e,value:t});return new Pm(r).toPromise()}async function FG(n,e){const t=X_(n,!1).get(e),r=await new Pm(t).toPromise();return r===void 0?null:r.value}function yC(n,e){const t=X_(n,!0).delete(e);return new Pm(t).toPromise()}const UG=800,BG=3;class wk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>BG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Q_._getInstance(LG()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PG(),!this.activeServiceWorker)return;this.sender=new kG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lw();return await mC(e,r_,"1"),await yC(e,r_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>mC(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>FG(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=X_(i,!1).getAll();return new Pm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wk.type="LOCAL";const VG=wk;new km(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n,e){return e?vu(e):($t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends hk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jG(n){return TG(n.auth,new ET(n),n.bypassAuthState)}function qG(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),EG(t,new ET(n),n.bypassAuthState)}async function $G(n){const{auth:e,user:t}=n;return $t(t,e,"internal-error"),wG(t,new ET(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jG;case"linkViaPopup":case"linkViaRedirect":return $G;case"reauthViaPopup":case"reauthViaRedirect":return qG;default:Ml(this.auth,"internal-error")}}resolve(e){Ru(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ru(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=new km(2e3,1e4);async function HG(n,e,t){if(mu(n.app))return Promise.reject($a(n,"operation-not-supported-in-this-environment"));const r=J_(n);jW(n,e,vT);const i=Ek(r,t);return new Sh(r,"signInViaPopup",e,i).executeNotNull()}class Sh extends Tk{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sh.currentPopupAction&&Sh.currentPopupAction.cancel(),Sh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $t(e,this.auth,"internal-error"),e}async onExecution(){Ru(this.filter.length===1,"Popup operations only handle one event");const e=wT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zG.get())};e()}}Sh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG="pendingRedirect",I0=new Map;class GG extends Tk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=I0.get(this.auth._key());if(!e){try{const r=await KG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}I0.set(this.auth._key(),e)}return this.bypassAuthState||I0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KG(n,e){const t=XG(e),r=QG(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function JG(n,e){I0.set(n._key(),e)}function QG(n){return vu(n._redirectPersistence)}function XG(n){return x0(WG,n.config.apiKey,n.name)}async function YG(n,e,t=!1){if(mu(n.app))return Promise.reject(Ih(n));const r=J_(n),i=Ek(r,e),l=await new GG(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG=10*60*1e3;class eK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tK(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($a(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZG&&this.cachedEventUids.clear(),this.cachedEventUids.has(_C(e))}saveEventToCache(e){this.cachedEventUids.add(_C(e)),this.lastProcessedEventTime=Date.now()}}function _C(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tK(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nK(n,e={}){return lp(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iK=/^https?/;async function sK(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nK(n);for(const t of e)try{if(oK(t))return}catch{}Ml(n,"unauthorized-domain")}function oK(n){const e=Pw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!iK.test(t))return!1;if(rK.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=new km(3e4,6e4);function vC(){const n=Nl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lK(n){return new Promise((e,t)=>{var r,i,o;function l(){vC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vC(),t($a(n,"network-request-failed"))},timeout:aK.get()})}if(!((i=(r=Nl().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Nl().gapi)===null||o===void 0)&&o.load)l();else{const c=dG("iframefcb");return Nl()[c]=()=>{gapi.load?l():t($a(n,"network-request-failed"))},hG(`${fG()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw R0=null,e})}let R0=null;function uK(n){return R0=R0||lK(n),R0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=new km(5e3,15e3),hK="__/auth/iframe",fK="emulator/auth/iframe",dK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gK(n){const e=n.config;$t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pT(e,fK):`https://${n.config.authDomain}/${hK}`,r={apiKey:e.apiKey,appName:n.name,v:Uh},i=pK.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${cm(r).slice(1)}`}async function mK(n){const e=await uK(n),t=Nl().gapi;return $t(t,n,"internal-error"),e.open({where:document.body,url:gK(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dK,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=$a(n,"network-request-failed"),c=Nl().setTimeout(()=>{o(l)},cK.get());function d(){Nl().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_K=500,vK=600,wK="_blank",EK="http://localhost";class wC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TK(n,e,t,r=_K,i=vK){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},yK),{width:r.toString(),height:i.toString(),top:o,left:l}),p=Fs().toLowerCase();t&&(c=rk(p)?wK:t),tk(p)&&(e=e||EK,d.scrollbars="yes");const _=Object.entries(d).reduce((w,[b,A])=>`${w}${b}=${A},`,"");if(rG(p)&&c!=="_self")return bK(e||"",c),new wC(null);const v=window.open(e||"",c,_);$t(v,n,"popup-blocked");try{v.focus()}catch{}return new wC(v)}function bK(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK="__/auth/handler",AK="emulator/auth/handler",CK=encodeURIComponent("fac");async function EC(n,e,t,r,i,o){$t(n.config.authDomain,n,"auth-domain-config-required"),$t(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Uh,eventId:i};if(e instanceof vT){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",RO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))l[_]=v}if(e instanceof Nm){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(l.scopes=_.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const _ of Object.keys(c))c[_]===void 0&&delete c[_];const d=await n._getAppCheckToken(),p=d?`#${CK}=${encodeURIComponent(d)}`:"";return`${xK(n)}?${cm(c).slice(1)}${p}`}function xK({config:n}){return n.emulator?pT(n,AK):`https://${n.authDomain}/${SK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="webStorageSupport";class IK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mk,this._completeRedirectFn=YG,this._overrideRedirectResult=JG}async _openPopup(e,t,r,i){var o;Ru((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await EC(e,t,r,Pw(),i);return TK(e,l,wT())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await EC(e,t,r,Pw(),i);return NG(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ru(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await mK(e),r=new eK(e);return t.register("authEvent",i=>($t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(x1,{type:x1},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[x1];l!==void 0&&t(!!l),Ml(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sK(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lk()||nk()||yT()}}const RK=IK;var TC="@firebase/auth",bC="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NK(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PK(n){Rh(new bc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;$t(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uk(n)},p=new uG(r,i,o,d);return gG(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Rh(new bc("auth-internal",e=>{const t=J_(e.getProvider("auth").getImmediate());return(r=>new kK(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Al(TC,bC,NK(n)),Al(TC,bC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=5*60,LK=NC("authIdTokenMaxAge")||OK;let SC=null;const DK=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>LK)return;const i=t==null?void 0:t.token;SC!==i&&(SC=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MK(n=Uw()){const e=a_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=pG(n,{popupRedirectResolver:RK,persistence:[VG,IG,mk]}),r=NC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=DK(o.toString());SG(t,l,()=>l(t.currentUser)),bG(t,c=>l(c))}}const i=IC("auth");return i&&mG(t,`http://${i}`),t}function FK(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cG({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=$a("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",FK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PK("Browser");const vg="https://server-212131836065.us-west1.run.app";class UK{constructor(e){Ke(this,"app");Ke(this,"firestore");Ke(this,"storage");this.app=e,this.firestore=D5(e),this.storage=lj(e)}async POST(e,t,r){const i=await zr.post(vg+e,t,{headers:{Authorization:"Bearer "+await this.token,...r}});return i.status!==200?[i.status,null]:[i.status,i.data]}async PUT(e,t,r){const i=await zr.put(vg+e,t,{headers:{Authorization:"Bearer "+await this.token,...r}});return i.status!==200?[i.status,null]:[i.status,i.data]}async DELETE(e,t){const r=await zr.delete(vg+e,{headers:{Authorization:"Bearer "+await this.token,...t}});return r.status!==200?[r.status,null]:[r.status,r.data]}async GET(e,t){const r=await zr.get(vg+e,{headers:{Authorization:"Bearer "+await this.token,...t}});return r.status!==200?[r.status,null]:[r.status,r.data]}get user(){return this.auth.currentUser}get token(){return this.user?this.user.getIdToken():""}get auth(){return MK(this.app)}async signInWithGoogle(){console.log("Signing in with Google...");const e=new gu;e.setCustomParameters({prompt:"select_account"});try{return console.log("Signing in...",this.user),await HG(this.auth,e),console.log("Signed in!"),!0}catch(t){console.error("Error signing in: ",t)}return!1}signOut(){return this.user?(this.auth.signOut(),!0):!1}async getNotes(e,t="asc",r){let i="/notes";const o=[`sort=${t}`];e&&o.push(`q=${encodeURIComponent(e)}`),r&&o.push(`cursor=${encodeURIComponent(r)}`),o.length&&(i+="?"+o.join("&"));const[l,c]=await this.GET(i);return l!==200?null:c}async getNote(e){const t=await this.GET(`/notes/${e}`);return t[0]!==200?null:new pw(t[1].data,this)}async saveNote(e){var t;if(!e.id||e.id.startsWith("DRAFT")){const r=await this.POST("/notes",e.serialize());if(r[0]!==200)return null;e.id=r[1].id,e.documentRef=Hx(this.firestore,"notes",r[1].id),e.createSession()}else{const r=(t=e.api.user)==null?void 0:t.uid;if(!r)return null;if(e.owner!==r&&!e.permissions.edit.includes(r)&&e.permissions.global!=="edit")return alert("You do not have permission to edit this note."),null;if((await this.PUT(`/notes/${e.id}`,e.serialize()))[0]!==200)return null}return e}async deleteNote(e){return(await this.DELETE(`/notes/${e}`))[0]===200}async shareNote(e,t,r){const i=await this.POST(`/notes/${e}/share`,{user:t,global:r});return i[0]!==200?null:i[1]}getMediaURL(e){return vg+"/media/"+e}async searchNotes(e){return(await this.GET(`/search?q=${encodeURIComponent(e)}`))[1].results}async search(e,t){return(await this.GET(`/notes/${e}/search?q=${encodeURIComponent(t)}`))[1].data}async generateSummary(e,t){const r=await this.POST("/ai/summarize",{id:e,value:t});return r[0]!==200?null:r[1].data}async generateFlashcards(e,t){const r=await this.POST("/ai/flashcards",{id:e,value:t});return r[0]!==200?null:r[1].data}async hasPermission(e,t){var i;const r=(i=this.user)==null?void 0:i.uid;if(!r)return!1;try{const o=await this.getNoteById(e);return o?!!(o.owner===r||o.permissions.global===t||o.permissions[t].includes(r)):!1}catch(o){return console.error("Error checking permissions:",o),!1}}async getNoteById(e){try{const[t,r]=await this.GET(`/notes/${e}`);return t!==200||!r?null:r}catch(t){return console.error("Error fetching note:",t),null}}}var BK="firebase",VK="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Al(BK,VK,"app");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jK(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(_){try{p(r.next(_))}catch(v){l(v)}}function d(_){try{p(r.throw(_))}catch(v){l(v)}}function p(_){_.done?o(_.value):i(_.value).then(c,d)}p((r=r.apply(n,[])).next())})}function qK(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(_){return d([p,_])}}function d(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){t.label=p[1];break}if(p[0]===6&&t.label<o[1]){t.label=o[1],o=p;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(p);break}o[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(_){p=[6,_],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ad=function(){return Ad=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ad.apply(this,arguments)},Sk=function(n){return{loading:n==null,value:n}},$K=function(){return function(n,e){switch(e.type){case"error":return Ad(Ad({},n),{error:e.error,loading:!1,value:void 0});case"reset":return Sk(e.defaultValue);case"value":return Ad(Ad({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},zK=function(n){var e=n(),t=ce.useReducer($K(),Sk(e)),r=t[0],i=t[1],o=ce.useCallback(function(){var d=n();i({type:"reset",defaultValue:d})},[n]),l=ce.useCallback(function(d){i({type:"error",error:d})},[]),c=ce.useCallback(function(d){i({type:"value",value:d})},[]);return ce.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:l,setValue:c,value:r.value}},[r.error,r.loading,o,l,c,r.value])},HK=function(n,e){var t=zK(function(){return n.currentUser}),r=t.error,i=t.loading,o=t.setError,l=t.setValue,c=t.value;return ce.useEffect(function(){var d=AG(n,function(p){return jK(void 0,void 0,void 0,function(){var _;return qK(this,function(v){switch(v.label){case 0:return[3,4];case 1:return v.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return v.sent(),[3,4];case 3:return _=v.sent(),o(_),[3,4];case 4:return l(p),[2]}})})},o);return function(){d()}},[n]),[c,i,r]};function WK({api:n}){const[e,t]=ce.useState(!1),r=Cm(),i=async()=>{try{await n.signInWithGoogle(),r("/")}catch(l){console.error("Sign in error:",l)}},o=()=>{t(l=>!l)};return X.jsxs("div",{className:"container",children:[X.jsxs("div",{className:"left",children:[X.jsx("div",{className:"logo",children:"NoteFlow"}),X.jsxs("div",{className:"title-cont-outer",children:[X.jsx("h2",{children:"Note-taking,"}),X.jsx("div",{className:"title-cont-inner",children:"Enhanced."}),X.jsx("div",{className:"info-icon",children:X.jsx(O7,{onClick:o})}),X.jsx("div",{className:`info-box ${e?"expanded":""}`,children:"NoteFlow is note-taking application that integrates Retrieval Augmented Generation (RAG) to retrieve information from notes faster. Notes are LLM-enhanced for quick summarization and flashcard generation."})]})]}),X.jsx("div",{className:"right",children:X.jsxs("div",{className:"login",children:[X.jsx("h3",{children:"Sign in to start writing better notes."}),X.jsxs("button",{onClick:i,children:[X.jsx(j7,{className:"g-icon"}),"Sign in with Google"]})]})})]})}const GK={apiKey:"AIzaSyBT8w1img6usS8Bx4LSlFza_DD3-G2RWBk",authDomain:"noteflow-77eb6.firebaseapp.com",projectId:"noteflow-77eb6",storageBucket:"noteflow-77eb6.firebasestorage.app",messagingSenderId:"212131836065",appId:"1:212131836065:web:328e7d473d67a1279fc0e0",measurementId:"G-4BQNZ69GHR"},KK=DC(GK);function JK(){const[n]=ce.useState(new UK(KK)),[e,t]=HK(n.auth);if(t)return X.jsx("div",{children:"Loading..."});const r=()=>e?X.jsx(W$,{}):X.jsx(UA,{to:"/login",replace:!0});return X.jsx(_z,{children:X.jsxs(K$,{children:[X.jsx(Eh,{path:"/",element:X.jsx(UA,{to:"/note",replace:!0})}),X.jsx(Eh,{path:"/login",element:X.jsx(WK,{api:n})}),X.jsxs(Eh,{element:X.jsx(r,{}),children:[X.jsx(Eh,{path:"note",element:X.jsx(GA,{api:n})}),X.jsx(Eh,{path:"note/:id",element:X.jsx(GA,{api:n})})]}),X.jsx(Eh,{path:"*",element:X.jsx("div",{children:"404 - Page Not Found"})})]})})}lO.createRoot(document.getElementById("root")).render(X.jsx(ce.StrictMode,{children:X.jsx(JK,{})}))});export default QK();
