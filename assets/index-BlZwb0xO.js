var qN=Object.defineProperty;var jN=(n,e,t)=>e in n?qN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $N=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Fe=(n,e,t)=>jN(n,typeof e!="symbol"?e+"":e,t);var iW=$N((fo,po)=>{function zN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var h1={exports:{}},Zp={},f1={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function HN(){if(iT)return Ut;iT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function D(j,ne,pe){this.props=j,this.context=ne,this.refs=O,this.updater=pe||R}D.prototype.isReactComponent={},D.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},D.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function H(){}H.prototype=D.prototype;function te(j,ne,pe){this.props=j,this.context=ne,this.refs=O,this.updater=pe||R}var X=te.prototype=new H;X.constructor=te,P(X,D.prototype),X.isPureReactComponent=!0;var se=Array.isArray,oe=Object.prototype.hasOwnProperty,me={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function q(j,ne,pe){var ke,Ce={},qe=null,He=null;if(ne!=null)for(ke in ne.ref!==void 0&&(He=ne.ref),ne.key!==void 0&&(qe=""+ne.key),ne)oe.call(ne,ke)&&!$.hasOwnProperty(ke)&&(Ce[ke]=ne[ke]);var Ue=arguments.length-2;if(Ue===1)Ce.children=pe;else if(1<Ue){for(var Ke=Array(Ue),rt=0;rt<Ue;rt++)Ke[rt]=arguments[rt+2];Ce.children=Ke}if(j&&j.defaultProps)for(ke in Ue=j.defaultProps,Ue)Ce[ke]===void 0&&(Ce[ke]=Ue[ke]);return{$$typeof:n,type:j,key:qe,ref:He,props:Ce,_owner:me.current}}function z(j,ne){return{$$typeof:n,type:j.type,key:ne,ref:j.ref,props:j.props,_owner:j._owner}}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function x(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(pe){return ne[pe]})}var B=/\/+/g;function k(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?x(""+j.key):ne.toString(36)}function Se(j,ne,pe,ke,Ce){var qe=typeof j;(qe==="undefined"||qe==="boolean")&&(j=null);var He=!1;if(j===null)He=!0;else switch(qe){case"string":case"number":He=!0;break;case"object":switch(j.$$typeof){case n:case e:He=!0}}if(He)return He=j,Ce=Ce(He),j=ke===""?"."+k(He,0):ke,se(Ce)?(pe="",j!=null&&(pe=j.replace(B,"$&/")+"/"),Se(Ce,ne,pe,"",function(rt){return rt})):Ce!=null&&(C(Ce)&&(Ce=z(Ce,pe+(!Ce.key||He&&He.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+j)),ne.push(Ce)),1;if(He=0,ke=ke===""?".":ke+":",se(j))for(var Ue=0;Ue<j.length;Ue++){qe=j[Ue];var Ke=ke+k(qe,Ue);He+=Se(qe,ne,pe,Ke,Ce)}else if(Ke=A(j),typeof Ke=="function")for(j=Ke.call(j),Ue=0;!(qe=j.next()).done;)qe=qe.value,Ke=ke+k(qe,Ue++),He+=Se(qe,ne,pe,Ke,Ce);else if(qe==="object")throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return He}function Ae(j,ne,pe){if(j==null)return j;var ke=[],Ce=0;return Se(j,ke,"","",function(qe){return ne.call(pe,qe,Ce++)}),ke}function ve(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(pe){(j._status===0||j._status===-1)&&(j._status=1,j._result=pe)},function(pe){(j._status===0||j._status===-1)&&(j._status=2,j._result=pe)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var Te={current:null},he={transition:null},ee={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:he,ReactCurrentOwner:me};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ut.Children={map:Ae,forEach:function(j,ne,pe){Ae(j,function(){ne.apply(this,arguments)},pe)},count:function(j){var ne=0;return Ae(j,function(){ne++}),ne},toArray:function(j){return Ae(j,function(ne){return ne})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ut.Component=D,Ut.Fragment=t,Ut.Profiler=i,Ut.PureComponent=te,Ut.StrictMode=r,Ut.Suspense=p,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ut.act=Q,Ut.cloneElement=function(j,ne,pe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ke=P({},j.props),Ce=j.key,qe=j.ref,He=j._owner;if(ne!=null){if(ne.ref!==void 0&&(qe=ne.ref,He=me.current),ne.key!==void 0&&(Ce=""+ne.key),j.type&&j.type.defaultProps)var Ue=j.type.defaultProps;for(Ke in ne)oe.call(ne,Ke)&&!$.hasOwnProperty(Ke)&&(ke[Ke]=ne[Ke]===void 0&&Ue!==void 0?Ue[Ke]:ne[Ke])}var Ke=arguments.length-2;if(Ke===1)ke.children=pe;else if(1<Ke){Ue=Array(Ke);for(var rt=0;rt<Ke;rt++)Ue[rt]=arguments[rt+2];ke.children=Ue}return{$$typeof:n,type:j.type,key:Ce,ref:qe,props:ke,_owner:He}},Ut.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},Ut.createElement=q,Ut.createFactory=function(j){var ne=q.bind(null,j);return ne.type=j,ne},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(j){return{$$typeof:f,render:j}},Ut.isValidElement=C,Ut.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ve}},Ut.memo=function(j,ne){return{$$typeof:y,type:j,compare:ne===void 0?null:ne}},Ut.startTransition=function(j){var ne=he.transition;he.transition={};try{j()}finally{he.transition=ne}},Ut.unstable_act=Q,Ut.useCallback=function(j,ne){return Te.current.useCallback(j,ne)},Ut.useContext=function(j){return Te.current.useContext(j)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(j){return Te.current.useDeferredValue(j)},Ut.useEffect=function(j,ne){return Te.current.useEffect(j,ne)},Ut.useId=function(){return Te.current.useId()},Ut.useImperativeHandle=function(j,ne,pe){return Te.current.useImperativeHandle(j,ne,pe)},Ut.useInsertionEffect=function(j,ne){return Te.current.useInsertionEffect(j,ne)},Ut.useLayoutEffect=function(j,ne){return Te.current.useLayoutEffect(j,ne)},Ut.useMemo=function(j,ne){return Te.current.useMemo(j,ne)},Ut.useReducer=function(j,ne,pe){return Te.current.useReducer(j,ne,pe)},Ut.useRef=function(j){return Te.current.useRef(j)},Ut.useState=function(j){return Te.current.useState(j)},Ut.useSyncExternalStore=function(j,ne,pe){return Te.current.useSyncExternalStore(j,ne,pe)},Ut.useTransition=function(){return Te.current.useTransition()},Ut.version="18.3.1",Ut}var sT;function lw(){return sT||(sT=1,f1.exports=HN()),f1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function WN(){if(oT)return Zp;oT=1;var n=lw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,y){var v,E={},A=null,R=null;y!==void 0&&(A=""+y),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(R=p.ref);for(v in p)r.call(p,v)&&!o.hasOwnProperty(v)&&(E[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)E[v]===void 0&&(E[v]=p[v]);return{$$typeof:e,type:f,key:A,ref:R,props:E,_owner:i.current}}return Zp.Fragment=t,Zp.jsx=u,Zp.jsxs=u,Zp}var aT;function GN(){return aT||(aT=1,h1.exports=WN()),h1.exports}var J=GN(),Be=lw();const KN=aw(Be),lT=zN({__proto__:null,default:KN},[Be]);var yy={},d1={exports:{}},Bs={},p1={exports:{}},g1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function JN(){return uT||(uT=1,function(n){function e(he,ee){var Q=he.length;he.push(ee);e:for(;0<Q;){var j=Q-1>>>1,ne=he[j];if(0<i(ne,ee))he[j]=ee,he[Q]=ne,Q=j;else break e}}function t(he){return he.length===0?null:he[0]}function r(he){if(he.length===0)return null;var ee=he[0],Q=he.pop();if(Q!==ee){he[0]=Q;e:for(var j=0,ne=he.length,pe=ne>>>1;j<pe;){var ke=2*(j+1)-1,Ce=he[ke],qe=ke+1,He=he[qe];if(0>i(Ce,Q))qe<ne&&0>i(He,Ce)?(he[j]=He,he[qe]=Q,j=qe):(he[j]=Ce,he[ke]=Q,j=ke);else if(qe<ne&&0>i(He,Q))he[j]=He,he[qe]=Q,j=qe;else break e}}return ee}function i(he,ee){var Q=he.sortIndex-ee.sortIndex;return Q!==0?Q:he.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],y=[],v=1,E=null,A=3,R=!1,P=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(he){for(var ee=t(y);ee!==null;){if(ee.callback===null)r(y);else if(ee.startTime<=he)r(y),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=t(y)}}function se(he){if(O=!1,X(he),!P)if(t(p)!==null)P=!0,ve(oe);else{var ee=t(y);ee!==null&&Te(se,ee.startTime-he)}}function oe(he,ee){P=!1,O&&(O=!1,H(q),q=-1),R=!0;var Q=A;try{for(X(ee),E=t(p);E!==null&&(!(E.expirationTime>ee)||he&&!x());){var j=E.callback;if(typeof j=="function"){E.callback=null,A=E.priorityLevel;var ne=j(E.expirationTime<=ee);ee=n.unstable_now(),typeof ne=="function"?E.callback=ne:E===t(p)&&r(p),X(ee)}else r(p);E=t(p)}if(E!==null)var pe=!0;else{var ke=t(y);ke!==null&&Te(se,ke.startTime-ee),pe=!1}return pe}finally{E=null,A=Q,R=!1}}var me=!1,$=null,q=-1,z=5,C=-1;function x(){return!(n.unstable_now()-C<z)}function B(){if($!==null){var he=n.unstable_now();C=he;var ee=!0;try{ee=$(!0,he)}finally{ee?k():(me=!1,$=null)}}else me=!1}var k;if(typeof te=="function")k=function(){te(B)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ae=Se.port2;Se.port1.onmessage=B,k=function(){Ae.postMessage(null)}}else k=function(){D(B,0)};function ve(he){$=he,me||(me=!0,k())}function Te(he,ee){q=D(function(){he(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(he){he.callback=null},n.unstable_continueExecution=function(){P||R||(P=!0,ve(oe))},n.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<he?Math.floor(1e3/he):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(he){switch(A){case 1:case 2:case 3:var ee=3;break;default:ee=A}var Q=A;A=ee;try{return he()}finally{A=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(he,ee){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Q=A;A=he;try{return ee()}finally{A=Q}},n.unstable_scheduleCallback=function(he,ee,Q){var j=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?j+Q:j):Q=j,he){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,he={id:v++,callback:ee,priorityLevel:he,startTime:Q,expirationTime:ne,sortIndex:-1},Q>j?(he.sortIndex=Q,e(y,he),t(p)===null&&he===t(y)&&(O?(H(q),q=-1):O=!0,Te(se,Q-j))):(he.sortIndex=ne,e(p,he),P||R||(P=!0,ve(oe))),he},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(he){var ee=A;return function(){var Q=A;A=ee;try{return he.apply(this,arguments)}finally{A=Q}}}}(g1)),g1}var cT;function QN(){return cT||(cT=1,p1.exports=JN()),p1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function XN(){if(hT)return Bs;hT=1;var n=lw(),e=QN();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function A(s){return p.call(E,s)?!0:p.call(v,s)?!1:y.test(s)?E[s]=!0:(v[s]=!0,!1)}function R(s,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,a,h,g){if(a===null||typeof a>"u"||R(s,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function O(s,a,h,g,_,T,L){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=s,this.type=a,this.sanitizeURL=T,this.removeEmptyString=L}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){D[s]=new O(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];D[a]=new O(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){D[s]=new O(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){D[s]=new O(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){D[s]=new O(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){D[s]=new O(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){D[s]=new O(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){D[s]=new O(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){D[s]=new O(s,5,!1,s.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function te(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(H,te);D[a]=new O(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(H,te);D[a]=new O(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(H,te);D[a]=new O(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){D[s]=new O(s,1,!1,s.toLowerCase(),null,!1,!1)}),D.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){D[s]=new O(s,1,!1,s.toLowerCase(),null,!0,!0)});function X(s,a,h,g){var _=D.hasOwnProperty(a)?D[a]:null;(_!==null?_.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,h,_,g)&&(h=null),g||_===null?A(a)&&(h===null?s.removeAttribute(a):s.setAttribute(a,""+h)):_.mustUseProperty?s[_.propertyName]=h===null?_.type===3?!1:"":h:(a=_.attributeName,g=_.attributeNamespace,h===null?s.removeAttribute(a):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,g?s.setAttributeNS(g,a,h):s.setAttribute(a,h))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),me=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),he=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=he&&s[he]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Object.assign,j;function ne(s){if(j===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+s}var pe=!1;function ke(s,a){if(!s||pe)return"";pe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(de){var g=de}Reflect.construct(s,[],a)}else{try{a.call()}catch(de){g=de}s.call(a.prototype)}else{try{throw Error()}catch(de){g=de}s()}}catch(de){if(de&&g&&typeof de.stack=="string"){for(var _=de.stack.split(`
`),T=g.stack.split(`
`),L=_.length-1,W=T.length-1;1<=L&&0<=W&&_[L]!==T[W];)W--;for(;1<=L&&0<=W;L--,W--)if(_[L]!==T[W]){if(L!==1||W!==1)do if(L--,W--,0>W||_[L]!==T[W]){var Y=`
`+_[L].replace(" at new "," at ");return s.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",s.displayName)),Y}while(1<=L&&0<=W);break}}}finally{pe=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?ne(s):""}function Ce(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=ke(s.type,!1),s;case 11:return s=ke(s.type.render,!1),s;case 1:return s=ke(s.type,!0),s;default:return""}}function qe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case $:return"Fragment";case me:return"Portal";case z:return"Profiler";case q:return"StrictMode";case k:return"Suspense";case Se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case x:return(s.displayName||"Context")+".Consumer";case C:return(s._context.displayName||"Context")+".Provider";case B:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return a=s.displayName||null,a!==null?a:qe(s.type)||"Memo";case ve:a=s._payload,s=s._init;try{return qe(s(a))}catch{}}return null}function He(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(a);case 8:return a===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rt(s){var a=Ke(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),g=""+s[a];if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,T=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return _.call(this)},set:function(L){g=""+L,T.call(this,L)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ot(s){s._valueTracker||(s._valueTracker=rt(s))}function It(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return s&&(g=Ke(s)?s.checked?"true":"false":s.value),s=g,s!==h?(a.setValue(s),!0):!1}function Pt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ot(s,a){var h=a.checked;return Q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function cn(s,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=Ue(a.value!=null?a.value:h),s._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function zs(s,a){a=a.checked,a!=null&&X(s,"checked",a,!1)}function _r(s,a){zs(s,a);var h=Ue(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?wo(s,a.type,h):a.hasOwnProperty("defaultValue")&&wo(s,a.type,Ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ea(s,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,h||a===s.value||(s.value=a),s.defaultValue=a}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function wo(s,a,h){(a!=="number"||Pt(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var Gn=Array.isArray;function mn(s,a,h,g){if(s=s.options,a){a={};for(var _=0;_<h.length;_++)a["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=a.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&g&&(s[h].defaultSelected=!0)}else{for(h=""+Ue(h),a=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}a!==null||s[_].disabled||(a=s[_])}a!==null&&(a.selected=!0)}}function Si(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function bi(s,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(Gn(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}s._wrapperState={initialValue:Ue(h)}}function Rr(s,a){var h=Ue(a.value),g=Ue(a.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),a.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),g!=null&&(s.defaultValue=""+g)}function Fr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Cn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Cn(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Bn,Xi=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,_){MSApp.execUnsafeLocalFunction(function(){return s(a,h,g,_)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Bn=Bn||document.createElement("div"),Bn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Bn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function xn(s,a){if(a){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=a;return}}s.textContent=a}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ii=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(s){Ii.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ai[a]=Ai[s]})});function Hs(s,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||Ai.hasOwnProperty(s)&&Ai[s]?(""+a).trim():a+"px"}function Yi(s,a){s=s.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,_=Hs(h,a[h],g);h==="float"&&(h="cssFloat"),g?s.setProperty(h,_):s[h]=_}}var Ci=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ps(s,a){if(a){if(Ci[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function xi(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function vr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zi=null,sr=null,or=null;function gs(s){if(s=Gr(s)){if(typeof Zi!="function")throw Error(t(280));var a=s.stateNode;a&&(a=rf(a),Zi(s.stateNode,s.type,a))}}function wr(s){sr?or?or.push(s):or=[s]:sr=s}function Ws(){if(sr){var s=sr,a=or;if(or=sr=null,gs(s),a)for(s=0;s<a.length;s++)gs(a[s])}}function es(s,a){return s(a)}function ms(){}var Er=!1;function Eo(s,a,h){if(Er)return s(a,h);Er=!0;try{return es(s,a,h)}finally{Er=!1,(sr!==null||or!==null)&&(ms(),Ws())}}function Yt(s,a){var h=s.stateNode;if(h===null)return null;var g=rf(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var ys=!1;if(f)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){ys=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{ys=!1}function ts(s,a,h,g,_,T,L,W,Y){var de=Array.prototype.slice.call(arguments,3);try{a.apply(h,de)}catch(Pe){this.onError(Pe)}}var _s=!1,vs=null,tn=!1,ta=null,Ol={onError:function(s){_s=!0,vs=s}};function To(s,a,h,g,_,T,L,W,Y){_s=!1,vs=null,ts.apply(Ol,arguments)}function Fa(s,a,h,g,_,T,L,W,Y){if(To.apply(this,arguments),_s){if(_s){var de=vs;_s=!1,vs=null}else throw Error(t(198));tn||(tn=!0,ta=de)}}function ri(s){var a=s,h=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(h=a.return),s=a.return;while(s)}return a.tag===3?h:null}function yn(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function ii(s){if(ri(s)!==s)throw Error(t(188))}function Ba(s){var a=s.alternate;if(!a){if(a=ri(s),a===null)throw Error(t(188));return a!==s?null:s}for(var h=s,g=a;;){var _=h.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===h)return ii(_),s;if(T===g)return ii(_),a;T=T.sibling}throw Error(t(188))}if(h.return!==g.return)h=_,g=T;else{for(var L=!1,W=_.child;W;){if(W===h){L=!0,h=_,g=T;break}if(W===g){L=!0,g=_,h=T;break}W=W.sibling}if(!L){for(W=T.child;W;){if(W===h){L=!0,h=T,g=_;break}if(W===g){L=!0,g=T,h=_;break}W=W.sibling}if(!L)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?s:a}function na(s){return s=Ba(s),s!==null?So(s):null}function So(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=So(s);if(a!==null)return a;s=s.sibling}return null}var bo=e.unstable_scheduleCallback,Kn=e.unstable_cancelCallback,Gs=e.unstable_shouldYield,Ll=e.unstable_requestPaint,jt=e.unstable_now,qa=e.unstable_getCurrentPriorityLevel,Ks=e.unstable_ImmediatePriority,si=e.unstable_UserBlockingPriority,Tr=e.unstable_NormalPriority,ns=e.unstable_LowPriority,Br=e.unstable_IdlePriority,rs=null,kr=null;function ja(s){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(rs,s,void 0,(s.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:ws,Ao=Math.log,ra=Math.LN2;function ws(s){return s>>>=0,s===0?32:31-(Ao(s)/ra|0)|0}var Ri=64,ki=4194304;function Ni(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function oi(s,a){var h=s.pendingLanes;if(h===0)return 0;var g=0,_=s.suspendedLanes,T=s.pingedLanes,L=h&268435455;if(L!==0){var W=L&~_;W!==0?g=Ni(W):(T&=L,T!==0&&(g=Ni(T)))}else L=h&~_,L!==0?g=Ni(L):T!==0&&(g=Ni(T));if(g===0)return 0;if(a!==0&&a!==g&&!(a&_)&&(_=g&-g,T=a&-a,_>=T||_===16&&(T&4194240)!==0))return a;if(g&4&&(g|=h&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=g;0<a;)h=31-ar(a),_=1<<h,g|=s[h],a&=~_;return g}function $a(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(s,a){for(var h=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,T=s.pendingLanes;0<T;){var L=31-ar(T),W=1<<L,Y=_[L];Y===-1?(!(W&h)||W&g)&&(_[L]=$a(W,a)):Y<=a&&(s.expiredLanes|=W),T&=~W}}function Sr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Es(){var s=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),s}function qr(s){for(var a=[],h=0;31>h;h++)a.push(s);return a}function Ts(s,a,h){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ar(a),s[a]=h}function Wt(s,a){var h=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<h;){var _=31-ar(h),T=1<<_;a[_]=0,g[_]=-1,s[_]=-1,h&=~T}}function br(s,a){var h=s.entangledLanes|=a;for(s=s.entanglements;h;){var g=31-ar(h),_=1<<g;_&a|s[g]&a&&(s[g]|=a),h&=~_}}var ct=0;function Rn(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var ai,Js,li,ia,sa,Io=!1,ui=[],Ln=null,hn=null,jr=null,Pi=new Map,lr=new Map,$r=[],Co="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function za(s,a){switch(s){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Pi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(a.pointerId)}}function qn(s,a,h,g,_,T){return s===null||s.nativeEvent!==T?(s={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},a!==null&&(a=Gr(a),a!==null&&Js(a)),s):(s.eventSystemFlags|=g,a=s.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),s)}function oa(s,a,h,g,_){switch(a){case"focusin":return Ln=qn(Ln,s,a,h,g,_),!0;case"dragenter":return hn=qn(hn,s,a,h,g,_),!0;case"mouseover":return jr=qn(jr,s,a,h,g,_),!0;case"pointerover":var T=_.pointerId;return Pi.set(T,qn(Pi.get(T)||null,s,a,h,g,_)),!0;case"gotpointercapture":return T=_.pointerId,lr.set(T,qn(lr.get(T)||null,s,a,h,g,_)),!0}return!1}function aa(s){var a=Po(s.target);if(a!==null){var h=ri(a);if(h!==null){if(a=h.tag,a===13){if(a=yn(h),a!==null){s.blockedOn=a,sa(s.priority,function(){li(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jn(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var h=bt(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);ti=g,h.target.dispatchEvent(g),ti=null}else return a=Gr(h),a!==null&&Js(a),s.blockedOn=h,!1;a.shift()}return!0}function Ss(s,a,h){Jn(s)&&h.delete(a)}function xo(){Io=!1,Ln!==null&&Jn(Ln)&&(Ln=null),hn!==null&&Jn(hn)&&(hn=null),jr!==null&&Jn(jr)&&(jr=null),Pi.forEach(Ss),lr.forEach(Ss)}function Ct(s,a){s.blockedOn===a&&(s.blockedOn=null,Io||(Io=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xo)))}function St(s){function a(_){return Ct(_,s)}if(0<ui.length){Ct(ui[0],s);for(var h=1;h<ui.length;h++){var g=ui[h];g.blockedOn===s&&(g.blockedOn=null)}}for(Ln!==null&&Ct(Ln,s),hn!==null&&Ct(hn,s),jr!==null&&Ct(jr,s),Pi.forEach(a),lr.forEach(a),h=0;h<$r.length;h++)g=$r[h],g.blockedOn===s&&(g.blockedOn=null);for(;0<$r.length&&(h=$r[0],h.blockedOn===null);)aa(h),h.blockedOn===null&&$r.shift()}var b=se.ReactCurrentBatchConfig,U=!0;function G(s,a,h,g){var _=ct,T=b.transition;b.transition=null;try{ct=1,ht(s,a,h,g)}finally{ct=_,b.transition=T}}function _e(s,a,h,g){var _=ct,T=b.transition;b.transition=null;try{ct=4,ht(s,a,h,g)}finally{ct=_,b.transition=T}}function ht(s,a,h,g){if(U){var _=bt(s,a,h,g);if(_===null)np(s,a,g,Qe,h),za(s,g);else if(oa(_,s,a,h,g))g.stopPropagation();else if(za(s,g),a&4&&-1<Co.indexOf(s)){for(;_!==null;){var T=Gr(_);if(T!==null&&ai(T),T=bt(s,a,h,g),T===null&&np(s,a,g,Qe,h),T===_)break;_=T}_!==null&&g.stopPropagation()}else np(s,a,g,null,h)}}var Qe=null;function bt(s,a,h,g){if(Qe=null,s=vr(g),s=Po(s),s!==null)if(a=ri(s),a===null)s=null;else if(h=a.tag,h===13){if(s=yn(a),s!==null)return s;s=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Qe=s,null}function xt(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qa()){case Ks:return 1;case si:return 4;case Tr:case ns:return 16;case Br:return 536870912;default:return 16}default:return 16}}var ut=null,Rt=null,Mt=null;function jn(){if(Mt)return Mt;var s,a=Rt,h=a.length,g,_="value"in ut?ut.value:ut.textContent,T=_.length;for(s=0;s<h&&a[s]===_[s];s++);var L=h-s;for(g=1;g<=L&&a[h-g]===_[T-g];g++);return Mt=_.slice(s,1<g?1-g:void 0)}function on(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Lt(){return!0}function Sn(){return!1}function fn(s){function a(h,g,_,T,L){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(h=s[W],this[W]=h?h(T):T[W]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Lt:Sn,this.isPropagationStopped=Sn,this}return Q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Lt)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Lt)},persist:function(){},isPersistent:Lt}),a}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=fn(Dn),Oi=Q({},Dn,{view:0,detail:0}),la=fn(Oi),kn,ua,ur,Dl=Q({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ur&&(ur&&s.type==="mousemove"?(kn=s.screenX-ur.screenX,ua=s.screenY-ur.screenY):ua=kn=0,ur=s),kn)},movementY:function(s){return"movementY"in s?s.movementY:ua}}),Ml=fn(Dl),bs=Q({},Dl,{dataTransfer:0}),Ul=fn(bs),Ha=Q({},Oi,{relatedTarget:0}),nn=fn(Ha),Qs=Q({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xs=fn(Qs),jh=Q({},Dn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Cu=fn(jh),$h=Q({},Dn,{data:0}),kc=fn($h),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ca(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Vl[s])?!!a[s]:!1}function Ro(){return ca}var d=Q({},Oi,{key:function(s){if(s.key){var a=xu[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=on(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(s){return s.type==="keypress"?on(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?on(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=fn(d),I=Q({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V=fn(I),le=Q({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),ge=fn(le),Ve=Q({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zt=fn(Ve),cr=Q({},Dl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Vt=fn(cr),en=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Hr=null;f&&"documentMode"in document&&(Hr=document.documentMode);var Li=f&&"TextEvent"in window&&!Hr,Wa=f&&(!Mn||Hr&&8<Hr&&11>=Hr),Ru=" ",gm=!1;function mm(s,a){switch(s){case"keyup":return en.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ku=!1;function Nu(s,a){switch(s){case"compositionend":return ym(a);case"keypress":return a.which!==32?null:(gm=!0,Ru);case"textInput":return s=a.data,s===Ru&&gm?null:s;default:return null}}function C_(s,a){if(ku)return s==="compositionend"||!Mn&&mm(s,a)?(s=jn(),Mt=Rt=ut=null,ku=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wa&&a.locale!=="ko"?null:a.data;default:return null}}var x_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!x_[s.type]:a==="textarea"}function Yd(s,a,h,g){wr(g),a=Zh(a,"onChange"),0<a.length&&(h=new ci("onChange","change",null,h,g),s.push({event:h,listeners:a}))}var As=null,Ga=null;function R_(s){bm(s,0)}function Hh(s){var a=Et(s);if(It(a))return s}function k_(s,a){if(s==="change")return a}var Fl=!1;if(f){var ss;if(f){var Wh="oninput"in document;if(!Wh){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),Wh=typeof _m.oninput=="function"}ss=Wh}else ss=!1;Fl=ss&&(!document.documentMode||9<document.documentMode)}function vm(){As&&(As.detachEvent("onpropertychange",wm),Ga=As=null)}function wm(s){if(s.propertyName==="value"&&Hh(Ga)){var a=[];Yd(a,Ga,s,vr(s)),Eo(R_,a)}}function N_(s,a,h){s==="focusin"?(vm(),As=a,Ga=h,As.attachEvent("onpropertychange",wm)):s==="focusout"&&vm()}function P_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hh(Ga)}function Pu(s,a){if(s==="click")return Hh(a)}function ie(s,a){if(s==="input"||s==="change")return Hh(a)}function we(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var fe=typeof Object.is=="function"?Object.is:we;function $e(s,a){if(fe(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var h=Object.keys(s),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!p.call(a,_)||!fe(s[_],a[_]))return!1}return!0}function mt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Gt(s,a){var h=mt(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=a&&g>=a)return{node:h,offset:a-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=mt(h)}}function Qn(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Qn(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function an(){for(var s=window,a=Pt();a instanceof s.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)s=a.contentWindow;else break;a=Pt(s.document)}return a}function Nc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function O_(s){var a=an(),h=s.focusedElem,g=s.selectionRange;if(a!==h&&h&&h.ownerDocument&&Qn(h.ownerDocument.documentElement,h)){if(g!==null&&Nc(h)){if(a=g.start,s=g.end,s===void 0&&(s=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(s,h.value.length);else if(s=(a=h.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var _=h.textContent.length,T=Math.min(g.start,_);g=g.end===void 0?T:Math.min(g.end,_),!s.extend&&T>g&&(_=g,g=T,T=_),_=Gt(h,T);var L=Gt(h,g);_&&L&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==L.node||s.focusOffset!==L.offset)&&(a=a.createRange(),a.setStart(_.node,_.offset),s.removeAllRanges(),T>g?(s.addRange(a),s.extend(L.node,L.offset)):(a.setEnd(L.node,L.offset),s.addRange(a)))}}for(a=[],s=h;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)s=a[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Is=f&&"documentMode"in document&&11>=document.documentMode,ha=null,Zd=null,ko=null,Ou=!1;function Pc(s,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ou||ha==null||ha!==Pt(g)||(g=ha,"selectionStart"in g&&Nc(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ko&&$e(ko,g)||(ko=g,g=Zh(Zd,"onSelect"),0<g.length&&(a=new ci("onSelect","select",null,a,h),s.push({event:a,listeners:g}),a.target=ha)))}function Kt(s,a){var h={};return h[s.toLowerCase()]=a.toLowerCase(),h["Webkit"+s]="webkit"+a,h["Moz"+s]="moz"+a,h}var Lu={animationend:Kt("Animation","AnimationEnd"),animationiteration:Kt("Animation","AnimationIteration"),animationstart:Kt("Animation","AnimationStart"),transitionend:Kt("Transition","TransitionEnd")},Gh={},Oc={};f&&(Oc=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function Kh(s){if(Gh[s])return Gh[s];if(!Lu[s])return s;var a=Lu[s],h;for(h in a)if(a.hasOwnProperty(h)&&h in Oc)return Gh[s]=a[h];return s}var Em=Kh("animationend"),Tm=Kh("animationiteration"),Lc=Kh("animationstart"),fa=Kh("transitionend"),Dc=new Map,ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(s,a){Dc.set(s,a),o(a,[s])}for(var Jh=0;Jh<ep.length;Jh++){var Qh=ep[Jh],Xh=Qh.toLowerCase(),Sm=Qh[0].toUpperCase()+Qh.slice(1);Ys(Xh,"on"+Sm)}Ys(Em,"onAnimationEnd"),Ys(Tm,"onAnimationIteration"),Ys(Lc,"onAnimationStart"),Ys("dblclick","onDoubleClick"),Ys("focusin","onFocus"),Ys("focusout","onBlur"),Ys(fa,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bl=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function Mc(s,a,h){var g=s.type||"unknown-event";s.currentTarget=h,Fa(g,a,void 0,s),s.currentTarget=null}function bm(s,a){a=(a&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],_=g.event;g=g.listeners;e:{var T=void 0;if(a)for(var L=g.length-1;0<=L;L--){var W=g[L],Y=W.instance,de=W.currentTarget;if(W=W.listener,Y!==T&&_.isPropagationStopped())break e;Mc(_,W,de),T=Y}else for(L=0;L<g.length;L++){if(W=g[L],Y=W.instance,de=W.currentTarget,W=W.listener,Y!==T&&_.isPropagationStopped())break e;Mc(_,W,de),T=Y}}}if(tn)throw s=ta,tn=!1,ta=null,s}function _n(s,a){var h=a[nf];h===void 0&&(h=a[nf]=new Set);var g=s+"__bubble";h.has(g)||(Yh(a,s,2,!1),h.add(g))}function tp(s,a,h){var g=0;a&&(g|=4),Yh(h,s,g,a)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Ka(s){if(!s[ql]){s[ql]=!0,r.forEach(function(h){h!=="selectionchange"&&(Bl.has(h)||tp(h,!1,s),tp(h,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ql]||(a[ql]=!0,tp("selectionchange",!1,a))}}function Yh(s,a,h,g){switch(xt(a)){case 1:var _=G;break;case 4:_=_e;break;default:_=ht}h=_.bind(null,a,h,s),_=void 0,!ys||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(a,h,{capture:!0,passive:_}):s.addEventListener(a,h,!0):_!==void 0?s.addEventListener(a,h,{passive:_}):s.addEventListener(a,h,!1)}function np(s,a,h,g,_){var T=g;if(!(a&1)&&!(a&2)&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var W=g.stateNode.containerInfo;if(W===_||W.nodeType===8&&W.parentNode===_)break;if(L===4)for(L=g.return;L!==null;){var Y=L.tag;if((Y===3||Y===4)&&(Y=L.stateNode.containerInfo,Y===_||Y.nodeType===8&&Y.parentNode===_))return;L=L.return}for(;W!==null;){if(L=Po(W),L===null)return;if(Y=L.tag,Y===5||Y===6){g=T=L;continue e}W=W.parentNode}}g=g.return}Eo(function(){var de=T,Pe=vr(h),Le=[];e:{var Ne=Dc.get(s);if(Ne!==void 0){var ze=ci,Je=s;switch(s){case"keypress":if(on(h)===0)break e;case"keydown":case"keyup":ze=w;break;case"focusin":Je="focus",ze=nn;break;case"focusout":Je="blur",ze=nn;break;case"beforeblur":case"afterblur":ze=nn;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=ge;break;case Em:case Tm:case Lc:ze=Xs;break;case fa:ze=Zt;break;case"scroll":ze=la;break;case"wheel":ze=Vt;break;case"copy":case"cut":case"paste":ze=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=V}var Xe=(a&4)!==0,Vn=!Xe&&s==="scroll",ue=Xe?Ne!==null?Ne+"Capture":null:Ne;Xe=[];for(var re=de,ce;re!==null;){ce=re;var Me=ce.stateNode;if(ce.tag===5&&Me!==null&&(ce=Me,ue!==null&&(Me=Yt(re,ue),Me!=null&&Xe.push(Du(re,Me,ce)))),Vn)break;re=re.return}0<Xe.length&&(Ne=new ze(Ne,Je,null,h,Pe),Le.push({event:Ne,listeners:Xe}))}}if(!(a&7)){e:{if(Ne=s==="mouseover"||s==="pointerover",ze=s==="mouseout"||s==="pointerout",Ne&&h!==ti&&(Je=h.relatedTarget||h.fromElement)&&(Po(Je)||Je[os]))break e;if((ze||Ne)&&(Ne=Pe.window===Pe?Pe:(Ne=Pe.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,ze?(Je=h.relatedTarget||h.toElement,ze=de,Je=Je?Po(Je):null,Je!==null&&(Vn=ri(Je),Je!==Vn||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(ze=null,Je=de),ze!==Je)){if(Xe=Ml,Me="onMouseLeave",ue="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(Xe=V,Me="onPointerLeave",ue="onPointerEnter",re="pointer"),Vn=ze==null?Ne:Et(ze),ce=Je==null?Ne:Et(Je),Ne=new Xe(Me,re+"leave",ze,h,Pe),Ne.target=Vn,Ne.relatedTarget=ce,Me=null,Po(Pe)===de&&(Xe=new Xe(ue,re+"enter",Je,h,Pe),Xe.target=ce,Xe.relatedTarget=Vn,Me=Xe),Vn=Me,ze&&Je)t:{for(Xe=ze,ue=Je,re=0,ce=Xe;ce;ce=Mu(ce))re++;for(ce=0,Me=ue;Me;Me=Mu(Me))ce++;for(;0<re-ce;)Xe=Mu(Xe),re--;for(;0<ce-re;)ue=Mu(ue),ce--;for(;re--;){if(Xe===ue||ue!==null&&Xe===ue.alternate)break t;Xe=Mu(Xe),ue=Mu(ue)}Xe=null}else Xe=null;ze!==null&&Xn(Le,Ne,ze,Xe,!1),Je!==null&&Vn!==null&&Xn(Le,Vn,Je,Xe,!0)}}e:{if(Ne=de?Et(de):window,ze=Ne.nodeName&&Ne.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Ne.type==="file")var Ye=k_;else if(zh(Ne))if(Fl)Ye=ie;else{Ye=P_;var it=N_}else(ze=Ne.nodeName)&&ze.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(Ye=Pu);if(Ye&&(Ye=Ye(s,de))){Yd(Le,Ye,h,Pe);break e}it&&it(s,Ne,de),s==="focusout"&&(it=Ne._wrapperState)&&it.controlled&&Ne.type==="number"&&wo(Ne,"number",Ne.value)}switch(it=de?Et(de):window,s){case"focusin":(zh(it)||it.contentEditable==="true")&&(ha=it,Zd=de,ko=null);break;case"focusout":ko=Zd=ha=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Pc(Le,h,Pe);break;case"selectionchange":if(Is)break;case"keydown":case"keyup":Pc(Le,h,Pe)}var st;if(Mn)e:{switch(s){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ku?mm(s,h)&&(ft="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(ft="onCompositionStart");ft&&(Wa&&h.locale!=="ko"&&(ku||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ku&&(st=jn()):(ut=Pe,Rt="value"in ut?ut.value:ut.textContent,ku=!0)),it=Zh(de,ft),0<it.length&&(ft=new kc(ft,s,null,h,Pe),Le.push({event:ft,listeners:it}),st?ft.data=st:(st=ym(h),st!==null&&(ft.data=st)))),(st=Li?Nu(s,h):C_(s,h))&&(de=Zh(de,"onBeforeInput"),0<de.length&&(Pe=new kc("onBeforeInput","beforeinput",null,h,Pe),Le.push({event:Pe,listeners:de}),Pe.data=st))}bm(Le,a)})}function Du(s,a,h){return{instance:s,listener:a,currentTarget:h}}function Zh(s,a){for(var h=a+"Capture",g=[];s!==null;){var _=s,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=Yt(s,h),T!=null&&g.unshift(Du(s,T,_)),T=Yt(s,a),T!=null&&g.push(Du(s,T,_))),s=s.return}return g}function Mu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Xn(s,a,h,g,_){for(var T=a._reactName,L=[];h!==null&&h!==g;){var W=h,Y=W.alternate,de=W.stateNode;if(Y!==null&&Y===g)break;W.tag===5&&de!==null&&(W=de,_?(Y=Yt(h,T),Y!=null&&L.unshift(Du(h,Y,W))):_||(Y=Yt(h,T),Y!=null&&L.push(Du(h,Y,W)))),h=h.return}L.length!==0&&s.push({event:a,listeners:L})}var Wr=/\r\n?/g,L_=/\u0000|\uFFFD/g;function Am(s){return(typeof s=="string"?s:""+s).replace(Wr,`
`).replace(L_,"")}function Uc(s,a,h){if(a=Am(a),Am(s)!==a&&h)throw Error(t(425))}function ef(){}var Vc=null,jl=null;function Fc(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,Bc=typeof clearTimeout=="function"?clearTimeout:void 0,Uu=typeof Promise=="function"?Promise:void 0,tf=typeof queueMicrotask=="function"?queueMicrotask:typeof Uu<"u"?function(s){return Uu.resolve(null).then(s).catch(Vu)}:Ja;function Vu(s){setTimeout(function(){throw s})}function rp(s,a){var h=a,g=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(g===0){s.removeChild(_),St(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=_}while(h);St(a)}function Qa(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Im(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return s;a--}else h==="/$"&&a++}s=s.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),No="__reactFiber$"+Fu,Xa="__reactProps$"+Fu,os="__reactContainer$"+Fu,nf="__reactEvents$"+Fu,M="__reactListeners$"+Fu,Bu="__reactHandles$"+Fu;function Po(s){var a=s[No];if(a)return a;for(var h=s.parentNode;h;){if(a=h[os]||h[No]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(s=Im(s);s!==null;){if(h=s[No])return h;s=Im(s)}return a}s=h,h=s.parentNode}return null}function Gr(s){return s=s[No]||s[os],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Et(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function rf(s){return s[Xa]||null}var ip=[],qu=-1;function Di(s){return{current:s}}function vn(s){0>qu||(s.current=ip[qu],ip[qu]=null,qu--)}function pn(s,a){qu++,ip[qu]=s.current,s.current=a}var Ya={},Kr=Di(Ya),Mi=Di(!1),hi=Ya;function ju(s,a){var h=s.type.contextTypes;if(!h)return Ya;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in h)_[T]=a[T];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=_),_}function Ui(s){return s=s.childContextTypes,s!=null}function sf(){vn(Mi),vn(Kr)}function Cm(s,a,h){if(Kr.current!==Ya)throw Error(t(168));pn(Kr,a),pn(Mi,h)}function xm(s,a,h){var g=s.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var _ in g)if(!(_ in a))throw Error(t(108,He(s)||"Unknown",_));return Q({},h,g)}function Cs(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ya,hi=Kr.current,pn(Kr,s),pn(Mi,Mi.current),!0}function Rm(s,a,h){var g=s.stateNode;if(!g)throw Error(t(169));h?(s=xm(s,a,hi),g.__reactInternalMemoizedMergedChildContext=s,vn(Mi),vn(Kr),pn(Kr,s)):vn(Mi),pn(Mi,h)}var pa=null,of=!1,sp=!1;function km(s){pa===null?pa=[s]:pa.push(s)}function $l(s){of=!0,km(s)}function Za(){if(!sp&&pa!==null){sp=!0;var s=0,a=ct;try{var h=pa;for(ct=1;s<h.length;s++){var g=h[s];do g=g(!0);while(g!==null)}pa=null,of=!1}catch(_){throw pa!==null&&(pa=pa.slice(s+1)),bo(Ks,Za),_}finally{ct=a,sp=!1}}return null}var $u=[],Jr=0,af=null,lf=0,xs=[],Rs=0,zl=null,Oo=1,Lo="";function Hl(s,a){$u[Jr++]=lf,$u[Jr++]=af,af=s,lf=a}function Nm(s,a,h){xs[Rs++]=Oo,xs[Rs++]=Lo,xs[Rs++]=zl,zl=s;var g=Oo;s=Lo;var _=32-ar(g)-1;g&=~(1<<_),h+=1;var T=32-ar(a)+_;if(30<T){var L=_-_%5;T=(g&(1<<L)-1).toString(32),g>>=L,_-=L,Oo=1<<32-ar(a)+_|h<<_|g,Lo=T+s}else Oo=1<<T|h<<_|g,Lo=s}function qc(s){s.return!==null&&(Hl(s,1),Nm(s,1,0))}function Wl(s){for(;s===af;)af=$u[--Jr],$u[Jr]=null,lf=$u[--Jr],$u[Jr]=null;for(;s===zl;)zl=xs[--Rs],xs[Rs]=null,Lo=xs[--Rs],xs[Rs]=null,Oo=xs[--Rs],xs[Rs]=null}var Qr=null,as=null,wn=!1,Zs=null;function Do(s,a){var h=Ms(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=s,a=s.deletions,a===null?(s.deletions=[h],s.flags|=16):a.push(h)}function uf(s,a){switch(s.tag){case 5:var h=s.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Qr=s,as=Qa(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Qr=s,as=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=zl!==null?{id:Oo,overflow:Lo}:null,s.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=Ms(18,null,null,0),h.stateNode=a,h.return=s,s.child=h,Qr=s,as=null,!0):!1;default:return!1}}function ga(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Vi(s){if(wn){var a=as;if(a){var h=a;if(!uf(s,a)){if(ga(s))throw Error(t(418));a=Qa(h.nextSibling);var g=Qr;a&&uf(s,a)?Do(g,h):(s.flags=s.flags&-4097|2,wn=!1,Qr=s)}}else{if(ga(s))throw Error(t(418));s.flags=s.flags&-4097|2,wn=!1,Qr=s}}}function Pm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Qr=s}function jc(s){if(s!==Qr)return!1;if(!wn)return Pm(s),wn=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Fc(s.type,s.memoizedProps)),a&&(a=as)){if(ga(s))throw op(),Error(t(418));for(;a;)Do(s,a),a=Qa(a.nextSibling)}if(Pm(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(a===0){as=Qa(s.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}s=s.nextSibling}as=null}}else as=Qr?Qa(s.stateNode.nextSibling):null;return!0}function op(){for(var s=as;s;)s=Qa(s.nextSibling)}function Mo(){as=Qr=null,wn=!1}function Uo(s){Zs===null?Zs=[s]:Zs.push(s)}var Om=se.ReactCurrentBatchConfig;function $c(s,a,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,s));var _=g,T=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(L){var W=_.refs;L===null?delete W[T]:W[T]=L},a._stringRef=T,a)}if(typeof s!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,s))}return s}function Gl(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Lm(s){var a=s._init;return a(s._payload)}function ap(s){function a(ue,re){if(s){var ce=ue.deletions;ce===null?(ue.deletions=[re],ue.flags|=16):ce.push(re)}}function h(ue,re){if(!s)return null;for(;re!==null;)a(ue,re),re=re.sibling;return null}function g(ue,re){for(ue=new Map;re!==null;)re.key!==null?ue.set(re.key,re):ue.set(re.index,re),re=re.sibling;return ue}function _(ue,re){return ue=oo(ue,re),ue.index=0,ue.sibling=null,ue}function T(ue,re,ce){return ue.index=ce,s?(ce=ue.alternate,ce!==null?(ce=ce.index,ce<re?(ue.flags|=2,re):ce):(ue.flags|=2,re)):(ue.flags|=1048576,re)}function L(ue){return s&&ue.alternate===null&&(ue.flags|=2),ue}function W(ue,re,ce,Me){return re===null||re.tag!==6?(re=Gp(ce,ue.mode,Me),re.return=ue,re):(re=_(re,ce),re.return=ue,re)}function Y(ue,re,ce,Me){var Ye=ce.type;return Ye===$?Pe(ue,re,ce.props.children,Me,ce.key):re!==null&&(re.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===ve&&Lm(Ye)===re.type)?(Me=_(re,ce.props),Me.ref=$c(ue,re,ce),Me.return=ue,Me):(Me=zf(ce.type,ce.key,ce.props,null,ue.mode,Me),Me.ref=$c(ue,re,ce),Me.return=ue,Me)}function de(ue,re,ce,Me){return re===null||re.tag!==4||re.stateNode.containerInfo!==ce.containerInfo||re.stateNode.implementation!==ce.implementation?(re=Kp(ce,ue.mode,Me),re.return=ue,re):(re=_(re,ce.children||[]),re.return=ue,re)}function Pe(ue,re,ce,Me,Ye){return re===null||re.tag!==7?(re=iu(ce,ue.mode,Me,Ye),re.return=ue,re):(re=_(re,ce),re.return=ue,re)}function Le(ue,re,ce){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Gp(""+re,ue.mode,ce),re.return=ue,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case oe:return ce=zf(re.type,re.key,re.props,null,ue.mode,ce),ce.ref=$c(ue,null,re),ce.return=ue,ce;case me:return re=Kp(re,ue.mode,ce),re.return=ue,re;case ve:var Me=re._init;return Le(ue,Me(re._payload),ce)}if(Gn(re)||ee(re))return re=iu(re,ue.mode,ce,null),re.return=ue,re;Gl(ue,re)}return null}function Ne(ue,re,ce,Me){var Ye=re!==null?re.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:W(ue,re,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case oe:return ce.key===Ye?Y(ue,re,ce,Me):null;case me:return ce.key===Ye?de(ue,re,ce,Me):null;case ve:return Ye=ce._init,Ne(ue,re,Ye(ce._payload),Me)}if(Gn(ce)||ee(ce))return Ye!==null?null:Pe(ue,re,ce,Me,null);Gl(ue,ce)}return null}function ze(ue,re,ce,Me,Ye){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return ue=ue.get(ce)||null,W(re,ue,""+Me,Ye);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case oe:return ue=ue.get(Me.key===null?ce:Me.key)||null,Y(re,ue,Me,Ye);case me:return ue=ue.get(Me.key===null?ce:Me.key)||null,de(re,ue,Me,Ye);case ve:var it=Me._init;return ze(ue,re,ce,it(Me._payload),Ye)}if(Gn(Me)||ee(Me))return ue=ue.get(ce)||null,Pe(re,ue,Me,Ye,null);Gl(re,Me)}return null}function Je(ue,re,ce,Me){for(var Ye=null,it=null,st=re,ft=re=0,dr=null;st!==null&&ft<ce.length;ft++){st.index>ft?(dr=st,st=null):dr=st.sibling;var Jt=Ne(ue,st,ce[ft],Me);if(Jt===null){st===null&&(st=dr);break}s&&st&&Jt.alternate===null&&a(ue,st),re=T(Jt,re,ft),it===null?Ye=Jt:it.sibling=Jt,it=Jt,st=dr}if(ft===ce.length)return h(ue,st),wn&&Hl(ue,ft),Ye;if(st===null){for(;ft<ce.length;ft++)st=Le(ue,ce[ft],Me),st!==null&&(re=T(st,re,ft),it===null?Ye=st:it.sibling=st,it=st);return wn&&Hl(ue,ft),Ye}for(st=g(ue,st);ft<ce.length;ft++)dr=ze(st,ue,ft,ce[ft],Me),dr!==null&&(s&&dr.alternate!==null&&st.delete(dr.key===null?ft:dr.key),re=T(dr,re,ft),it===null?Ye=dr:it.sibling=dr,it=dr);return s&&st.forEach(function(hl){return a(ue,hl)}),wn&&Hl(ue,ft),Ye}function Xe(ue,re,ce,Me){var Ye=ee(ce);if(typeof Ye!="function")throw Error(t(150));if(ce=Ye.call(ce),ce==null)throw Error(t(151));for(var it=Ye=null,st=re,ft=re=0,dr=null,Jt=ce.next();st!==null&&!Jt.done;ft++,Jt=ce.next()){st.index>ft?(dr=st,st=null):dr=st.sibling;var hl=Ne(ue,st,Jt.value,Me);if(hl===null){st===null&&(st=dr);break}s&&st&&hl.alternate===null&&a(ue,st),re=T(hl,re,ft),it===null?Ye=hl:it.sibling=hl,it=hl,st=dr}if(Jt.done)return h(ue,st),wn&&Hl(ue,ft),Ye;if(st===null){for(;!Jt.done;ft++,Jt=ce.next())Jt=Le(ue,Jt.value,Me),Jt!==null&&(re=T(Jt,re,ft),it===null?Ye=Jt:it.sibling=Jt,it=Jt);return wn&&Hl(ue,ft),Ye}for(st=g(ue,st);!Jt.done;ft++,Jt=ce.next())Jt=ze(st,ue,ft,Jt.value,Me),Jt!==null&&(s&&Jt.alternate!==null&&st.delete(Jt.key===null?ft:Jt.key),re=T(Jt,re,ft),it===null?Ye=Jt:it.sibling=Jt,it=Jt);return s&&st.forEach(function(Z_){return a(ue,Z_)}),wn&&Hl(ue,ft),Ye}function Vn(ue,re,ce,Me){if(typeof ce=="object"&&ce!==null&&ce.type===$&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case oe:e:{for(var Ye=ce.key,it=re;it!==null;){if(it.key===Ye){if(Ye=ce.type,Ye===$){if(it.tag===7){h(ue,it.sibling),re=_(it,ce.props.children),re.return=ue,ue=re;break e}}else if(it.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===ve&&Lm(Ye)===it.type){h(ue,it.sibling),re=_(it,ce.props),re.ref=$c(ue,it,ce),re.return=ue,ue=re;break e}h(ue,it);break}else a(ue,it);it=it.sibling}ce.type===$?(re=iu(ce.props.children,ue.mode,Me,ce.key),re.return=ue,ue=re):(Me=zf(ce.type,ce.key,ce.props,null,ue.mode,Me),Me.ref=$c(ue,re,ce),Me.return=ue,ue=Me)}return L(ue);case me:e:{for(it=ce.key;re!==null;){if(re.key===it)if(re.tag===4&&re.stateNode.containerInfo===ce.containerInfo&&re.stateNode.implementation===ce.implementation){h(ue,re.sibling),re=_(re,ce.children||[]),re.return=ue,ue=re;break e}else{h(ue,re);break}else a(ue,re);re=re.sibling}re=Kp(ce,ue.mode,Me),re.return=ue,ue=re}return L(ue);case ve:return it=ce._init,Vn(ue,re,it(ce._payload),Me)}if(Gn(ce))return Je(ue,re,ce,Me);if(ee(ce))return Xe(ue,re,ce,Me);Gl(ue,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,re!==null&&re.tag===6?(h(ue,re.sibling),re=_(re,ce),re.return=ue,ue=re):(h(ue,re),re=Gp(ce,ue.mode,Me),re.return=ue,ue=re),L(ue)):h(ue,re)}return Vn}var Un=ap(!0),cf=ap(!1),zc=Di(null),ls=null,el=null,zu=null;function ma(){zu=el=ls=null}function hf(s){var a=zc.current;vn(zc),s._currentValue=a}function Nr(s,a,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),s===h)break;s=s.return}}function tl(s,a){ls=s,zu=el=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(di=!0),s.firstContext=null)}function ks(s){var a=s._currentValue;if(zu!==s)if(s={context:s,memoizedValue:a,next:null},el===null){if(ls===null)throw Error(t(308));el=s,ls.dependencies={lanes:0,firstContext:s}}else el=el.next=s;return a}var Kl=null;function lp(s){Kl===null?Kl=[s]:Kl.push(s)}function ff(s,a,h,g){var _=a.interleaved;return _===null?(h.next=h,lp(a)):(h.next=_.next,_.next=h),a.interleaved=h,ya(s,g)}function ya(s,a){s.lanes|=a;var h=s.alternate;for(h!==null&&(h.lanes|=a),h=s,s=s.return;s!==null;)s.childLanes|=a,h=s.alternate,h!==null&&(h.childLanes|=a),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Ns=!1;function df(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _a(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ps(s,a,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,$t&2){var _=g.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),g.pending=a,ya(s,h)}return _=g.interleaved,_===null?(a.next=a,lp(g)):(a.next=_.next,_.next=a),g.interleaved=a,ya(s,h)}function pf(s,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=s.pendingLanes,h|=g,a.lanes=h,br(s,h)}}function Mm(s,a){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var L={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};T===null?_=T=L:T=T.next=L,h=h.next}while(h!==null);T===null?_=T=a:T=T.next=a}else _=T=a;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,effects:g.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=a:s.next=a,h.lastBaseUpdate=a}function Hu(s,a,h,g){var _=s.updateQueue;Ns=!1;var T=_.firstBaseUpdate,L=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var Y=W,de=Y.next;Y.next=null,L===null?T=de:L.next=de,L=Y;var Pe=s.alternate;Pe!==null&&(Pe=Pe.updateQueue,W=Pe.lastBaseUpdate,W!==L&&(W===null?Pe.firstBaseUpdate=de:W.next=de,Pe.lastBaseUpdate=Y))}if(T!==null){var Le=_.baseState;L=0,Pe=de=Y=null,W=T;do{var Ne=W.lane,ze=W.eventTime;if((g&Ne)===Ne){Pe!==null&&(Pe=Pe.next={eventTime:ze,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Je=s,Xe=W;switch(Ne=a,ze=h,Xe.tag){case 1:if(Je=Xe.payload,typeof Je=="function"){Le=Je.call(ze,Le,Ne);break e}Le=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Xe.payload,Ne=typeof Je=="function"?Je.call(ze,Le,Ne):Je,Ne==null)break e;Le=Q({},Le,Ne);break e;case 2:Ns=!0}}W.callback!==null&&W.lane!==0&&(s.flags|=64,Ne=_.effects,Ne===null?_.effects=[W]:Ne.push(W))}else ze={eventTime:ze,lane:Ne,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Pe===null?(de=Pe=ze,Y=Le):Pe=Pe.next=ze,L|=Ne;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;Ne=W,W=Ne.next,Ne.next=null,_.lastBaseUpdate=Ne,_.shared.pending=null}}while(!0);if(Pe===null&&(Y=Le),_.baseState=Y,_.firstBaseUpdate=de,_.lastBaseUpdate=Pe,a=_.shared.interleaved,a!==null){_=a;do L|=_.lane,_=_.next;while(_!==a)}else T===null&&(_.shared.lanes=0);ol|=L,s.lanes=L,s.memoizedState=Le}}function up(s,a,h){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var g=s[a],_=g.callback;if(_!==null){if(g.callback=null,g=h,typeof _!="function")throw Error(t(191,_));_.call(g)}}}var Hc={},Vo=Di(Hc),Wc=Di(Hc),Wu=Di(Hc);function va(s){if(s===Hc)throw Error(t(174));return s}function cp(s,a){switch(pn(Wu,a),pn(Wc,s),pn(Vo,Hc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Xt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Xt(a,s)}vn(Vo),pn(Vo,a)}function nl(){vn(Vo),vn(Wc),vn(Wu)}function hp(s){va(Wu.current);var a=va(Vo.current),h=Xt(a,s.type);a!==h&&(pn(Wc,s),pn(Vo,h))}function gf(s){Wc.current===s&&(vn(Vo),vn(Wc))}var bn=Di(0);function Jl(s){for(var a=s;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fp=[];function mf(){for(var s=0;s<fp.length;s++)fp[s]._workInProgressVersionPrimary=null;fp.length=0}var Gc=se.ReactCurrentDispatcher,dp=se.ReactCurrentBatchConfig,rl=0,Nn=null,$n=null,hr=null,Gu=!1,Kc=!1,Ql=0,kt=0;function Xr(){throw Error(t(321))}function pp(s,a){if(a===null)return!1;for(var h=0;h<a.length&&h<s.length;h++)if(!fe(s[h],a[h]))return!1;return!0}function Xl(s,a,h,g,_,T){if(rl=T,Nn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Gc.current=s===null||s.memoizedState===null?M_:Sf,s=h(g,_),Kc){T=0;do{if(Kc=!1,Ql=0,25<=T)throw Error(t(301));T+=1,hr=$n=null,a.updateQueue=null,Gc.current=Xu,s=h(g,_)}while(Kc)}if(Gc.current=Tf,a=$n!==null&&$n.next!==null,rl=0,hr=$n=Nn=null,Gu=!1,a)throw Error(t(300));return s}function yf(){var s=Ql!==0;return Ql=0,s}function Fo(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Nn.memoizedState=hr=s:hr=hr.next=s,hr}function Os(){if($n===null){var s=Nn.alternate;s=s!==null?s.memoizedState:null}else s=$n.next;var a=hr===null?Nn.memoizedState:hr.next;if(a!==null)hr=a,$n=s;else{if(s===null)throw Error(t(310));$n=s,s={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},hr===null?Nn.memoizedState=hr=s:hr=hr.next=s}return hr}function Yr(s,a){return typeof a=="function"?a(s):a}function gp(s){var a=Os(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var g=$n,_=g.baseQueue,T=h.pending;if(T!==null){if(_!==null){var L=_.next;_.next=T.next,T.next=L}g.baseQueue=_=T,h.pending=null}if(_!==null){T=_.next,g=g.baseState;var W=L=null,Y=null,de=T;do{var Pe=de.lane;if((rl&Pe)===Pe)Y!==null&&(Y=Y.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),g=de.hasEagerState?de.eagerState:s(g,de.action);else{var Le={lane:Pe,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Y===null?(W=Y=Le,L=g):Y=Y.next=Le,Nn.lanes|=Pe,ol|=Pe}de=de.next}while(de!==null&&de!==T);Y===null?L=g:Y.next=W,fe(g,a.memoizedState)||(di=!0),a.memoizedState=g,a.baseState=L,a.baseQueue=Y,h.lastRenderedState=g}if(s=h.interleaved,s!==null){_=s;do T=_.lane,Nn.lanes|=T,ol|=T,_=_.next;while(_!==s)}else _===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Ku(s){var a=Os(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var g=h.dispatch,_=h.pending,T=a.memoizedState;if(_!==null){h.pending=null;var L=_=_.next;do T=s(T,L.action),L=L.next;while(L!==_);fe(T,a.memoizedState)||(di=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),h.lastRenderedState=T}return[T,g]}function _f(){}function mp(s,a){var h=Nn,g=Os(),_=a(),T=!fe(g.memoizedState,_);if(T&&(g.memoizedState=_,di=!0),g=g.queue,Bo(wa.bind(null,h,g,s),[s]),g.getSnapshot!==a||T||hr!==null&&hr.memoizedState.tag&1){if(h.flags|=2048,Ju(9,Fi.bind(null,h,g,_,a),void 0,null),Ir===null)throw Error(t(349));rl&30||yp(h,a,_)}return _}function yp(s,a,h){s.flags|=16384,s={getSnapshot:a,value:h},a=Nn.updateQueue,a===null?(a={lastEffect:null,stores:null},Nn.updateQueue=a,a.stores=[s]):(h=a.stores,h===null?a.stores=[s]:h.push(s))}function Fi(s,a,h,g){a.value=h,a.getSnapshot=g,vf(a)&&_p(s)}function wa(s,a,h){return h(function(){vf(a)&&_p(s)})}function vf(s){var a=s.getSnapshot;s=s.value;try{var h=a();return!fe(s,h)}catch{return!0}}function _p(s){var a=ya(s,1);a!==null&&so(a,s,1,-1)}function Jc(s){var a=Fo();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:s},a.queue=s,s=s.dispatch=jm.bind(null,Nn,s),[a.memoizedState,s]}function Ju(s,a,h,g){return s={tag:s,create:a,destroy:h,deps:g,next:null},a=Nn.updateQueue,a===null?(a={lastEffect:null,stores:null},Nn.updateQueue=a,a.lastEffect=s.next=s):(h=a.lastEffect,h===null?a.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,a.lastEffect=s)),s}function wf(){return Os().memoizedState}function Qc(s,a,h,g){var _=Fo();Nn.flags|=s,_.memoizedState=Ju(1|a,h,void 0,g===void 0?null:g)}function Qu(s,a,h,g){var _=Os();g=g===void 0?null:g;var T=void 0;if($n!==null){var L=$n.memoizedState;if(T=L.destroy,g!==null&&pp(g,L.deps)){_.memoizedState=Ju(a,h,T,g);return}}Nn.flags|=s,_.memoizedState=Ju(1|a,h,T,g)}function Ef(s,a){return Qc(8390656,8,s,a)}function Bo(s,a){return Qu(2048,8,s,a)}function Um(s,a){return Qu(4,2,s,a)}function Ea(s,a){return Qu(4,4,s,a)}function vp(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function wp(s,a,h){return h=h!=null?h.concat([s]):null,Qu(4,4,vp.bind(null,a,s),h)}function Xc(){}function Vm(s,a){var h=Os();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&pp(a,g[1])?g[0]:(h.memoizedState=[s,a],s)}function Fm(s,a){var h=Os();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&pp(a,g[1])?g[0]:(s=s(),h.memoizedState=[s,a],s)}function Bm(s,a,h){return rl&21?(fe(h,a)||(h=Es(),Nn.lanes|=h,ol|=h,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,di=!0),s.memoizedState=h)}function qm(s,a){var h=ct;ct=h!==0&&4>h?h:4,s(!0);var g=dp.transition;dp.transition={};try{s(!1),a()}finally{ct=h,dp.transition=g}}function Ep(){return Os().memoizedState}function D_(s,a,h){var g=ul(s);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Tp(s))fi(a,h);else if(h=ff(s,a,h,g),h!==null){var _=mi();so(h,s,g,_),eo(h,a,g)}}function jm(s,a,h){var g=ul(s),_={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Tp(s))fi(a,_);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var L=a.lastRenderedState,W=T(L,h);if(_.hasEagerState=!0,_.eagerState=W,fe(W,L)){var Y=a.interleaved;Y===null?(_.next=_,lp(a)):(_.next=Y.next,Y.next=_),a.interleaved=_;return}}catch{}finally{}h=ff(s,a,_,g),h!==null&&(_=mi(),so(h,s,g,_),eo(h,a,g))}}function Tp(s){var a=s.alternate;return s===Nn||a!==null&&a===Nn}function fi(s,a){Kc=Gu=!0;var h=s.pending;h===null?a.next=a:(a.next=h.next,h.next=a),s.pending=a}function eo(s,a,h){if(h&4194240){var g=a.lanes;g&=s.pendingLanes,h|=g,a.lanes=h,br(s,h)}}var Tf={readContext:ks,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},M_={readContext:ks,useCallback:function(s,a){return Fo().memoizedState=[s,a===void 0?null:a],s},useContext:ks,useEffect:Ef,useImperativeHandle:function(s,a,h){return h=h!=null?h.concat([s]):null,Qc(4194308,4,vp.bind(null,a,s),h)},useLayoutEffect:function(s,a){return Qc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Qc(4,2,s,a)},useMemo:function(s,a){var h=Fo();return a=a===void 0?null:a,s=s(),h.memoizedState=[s,a],s},useReducer:function(s,a,h){var g=Fo();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},g.queue=s,s=s.dispatch=D_.bind(null,Nn,s),[g.memoizedState,s]},useRef:function(s){var a=Fo();return s={current:s},a.memoizedState=s},useState:Jc,useDebugValue:Xc,useDeferredValue:function(s){return Fo().memoizedState=s},useTransition:function(){var s=Jc(!1),a=s[0];return s=qm.bind(null,s[1]),Fo().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,h){var g=Nn,_=Fo();if(wn){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),Ir===null)throw Error(t(349));rl&30||yp(g,a,h)}_.memoizedState=h;var T={value:h,getSnapshot:a};return _.queue=T,Ef(wa.bind(null,g,T,s),[s]),g.flags|=2048,Ju(9,Fi.bind(null,g,T,h,a),void 0,null),h},useId:function(){var s=Fo(),a=Ir.identifierPrefix;if(wn){var h=Lo,g=Oo;h=(g&~(1<<32-ar(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=Ql++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=kt++,a=":"+a+"r"+h.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Sf={readContext:ks,useCallback:Vm,useContext:ks,useEffect:Bo,useImperativeHandle:wp,useInsertionEffect:Um,useLayoutEffect:Ea,useMemo:Fm,useReducer:gp,useRef:wf,useState:function(){return gp(Yr)},useDebugValue:Xc,useDeferredValue:function(s){var a=Os();return Bm(a,$n.memoizedState,s)},useTransition:function(){var s=gp(Yr)[0],a=Os().memoizedState;return[s,a]},useMutableSource:_f,useSyncExternalStore:mp,useId:Ep,unstable_isNewReconciler:!1},Xu={readContext:ks,useCallback:Vm,useContext:ks,useEffect:Bo,useImperativeHandle:wp,useInsertionEffect:Um,useLayoutEffect:Ea,useMemo:Fm,useReducer:Ku,useRef:wf,useState:function(){return Ku(Yr)},useDebugValue:Xc,useDeferredValue:function(s){var a=Os();return $n===null?a.memoizedState=s:Bm(a,$n.memoizedState,s)},useTransition:function(){var s=Ku(Yr)[0],a=Os().memoizedState;return[s,a]},useMutableSource:_f,useSyncExternalStore:mp,useId:Ep,unstable_isNewReconciler:!1};function Ls(s,a){if(s&&s.defaultProps){a=Q({},a),s=s.defaultProps;for(var h in s)a[h]===void 0&&(a[h]=s[h]);return a}return a}function bf(s,a,h,g){a=s.memoizedState,h=h(g,a),h=h==null?a:Q({},a,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Af={isMounted:function(s){return(s=s._reactInternals)?ri(s)===s:!1},enqueueSetState:function(s,a,h){s=s._reactInternals;var g=mi(),_=ul(s),T=_a(g,_);T.payload=a,h!=null&&(T.callback=h),a=Ps(s,T,_),a!==null&&(so(a,s,_,g),pf(a,s,_))},enqueueReplaceState:function(s,a,h){s=s._reactInternals;var g=mi(),_=ul(s),T=_a(g,_);T.tag=1,T.payload=a,h!=null&&(T.callback=h),a=Ps(s,T,_),a!==null&&(so(a,s,_,g),pf(a,s,_))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var h=mi(),g=ul(s),_=_a(h,g);_.tag=2,a!=null&&(_.callback=a),a=Ps(s,_,g),a!==null&&(so(a,s,g,h),pf(a,s,g))}};function Sp(s,a,h,g,_,T,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,T,L):a.prototype&&a.prototype.isPureReactComponent?!$e(h,g)||!$e(_,T):!0}function Yl(s,a,h){var g=!1,_=Ya,T=a.contextType;return typeof T=="object"&&T!==null?T=ks(T):(_=Ui(a)?hi:Kr.current,g=a.contextTypes,T=(g=g!=null)?ju(s,_):Ya),a=new a(h,T),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Af,s.stateNode=a,a._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=T),a}function Yu(s,a,h,g){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==s&&Af.enqueueReplaceState(a,a.state,null)}function bp(s,a,h,g){var _=s.stateNode;_.props=h,_.state=s.memoizedState,_.refs={},df(s);var T=a.contextType;typeof T=="object"&&T!==null?_.context=ks(T):(T=Ui(a)?hi:Kr.current,_.context=ju(s,T)),_.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(bf(s,a,T,h),_.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(a=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),a!==_.state&&Af.enqueueReplaceState(_,_.state,null),Hu(s,h,_,g),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function Zl(s,a){try{var h="",g=a;do h+=Ce(g),g=g.return;while(g);var _=h}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:a,stack:_,digest:null}}function If(s,a,h){return{value:s,source:null,stack:h??null,digest:a??null}}function Zu(s,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var $m=typeof WeakMap=="function"?WeakMap:Map;function Yc(s,a,h){h=_a(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){Uf||(Uf=!0,Bp=g),Zu(s,a)},h}function Cf(s,a,h){h=_a(-1,h),h.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var _=a.value;h.payload=function(){return g(_)},h.callback=function(){Zu(s,a)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(h.callback=function(){Zu(s,a),typeof g!="function"&&(al===null?al=new Set([this]):al.add(this));var L=a.stack;this.componentDidCatch(a.value,{componentStack:L!==null?L:""})}),h}function Zc(s,a,h){var g=s.pingCache;if(g===null){g=s.pingCache=new $m;var _=new Set;g.set(a,_)}else _=g.get(a),_===void 0&&(_=new Set,g.set(a,_));_.has(h)||(_.add(h),s=z_.bind(null,s,a,h),a.then(s,s))}function zm(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Ap(s,a,h,g,_){return s.mode&1?(s.flags|=65536,s.lanes=_,s):(s===a?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=_a(-1,1),a.tag=2,Ps(h,a,1))),h.lanes|=1),s)}var xf=se.ReactCurrentOwner,di=!1;function Pr(s,a,h,g){a.child=s===null?cf(a,null,h,g):Un(a,s.child,h,g)}function Hm(s,a,h,g,_){h=h.render;var T=a.ref;return tl(a,_),g=Xl(s,a,h,g,T,_),h=yf(),s!==null&&!di?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~_,to(s,a,_)):(wn&&h&&qc(a),a.flags|=1,Pr(s,a,g,_),a.child)}function Ip(s,a,h,g,_){if(s===null){var T=h.type;return typeof T=="function"&&!$f(T)&&T.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=T,qo(s,a,T,g,_)):(s=zf(h.type,null,g,a,a.mode,_),s.ref=a.ref,s.return=a,a.child=s)}if(T=s.child,!(s.lanes&_)){var L=T.memoizedProps;if(h=h.compare,h=h!==null?h:$e,h(L,g)&&s.ref===a.ref)return to(s,a,_)}return a.flags|=1,s=oo(T,g),s.ref=a.ref,s.return=a,a.child=s}function qo(s,a,h,g,_){if(s!==null){var T=s.memoizedProps;if($e(T,g)&&s.ref===a.ref)if(di=!1,a.pendingProps=g=T,(s.lanes&_)!==0)s.flags&131072&&(di=!0);else return a.lanes=s.lanes,to(s,a,_)}return Rp(s,a,h,g,_)}function Cp(s,a,h){var g=a.pendingProps,_=g.children,T=s!==null?s.memoizedState:null;if(g.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(rc,cs),cs|=h;else{if(!(h&1073741824))return s=T!==null?T.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,pn(rc,cs),cs|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:h,pn(rc,cs),cs|=g}else T!==null?(g=T.baseLanes|h,a.memoizedState=null):g=h,pn(rc,cs),cs|=g;return Pr(s,a,_,h),a.child}function xp(s,a){var h=a.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function Rp(s,a,h,g,_){var T=Ui(h)?hi:Kr.current;return T=ju(a,T),tl(a,_),h=Xl(s,a,h,g,T,_),g=yf(),s!==null&&!di?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~_,to(s,a,_)):(wn&&g&&qc(a),a.flags|=1,Pr(s,a,h,_),a.child)}function kp(s,a,h,g,_){if(Ui(h)){var T=!0;Cs(a)}else T=!1;if(tl(a,_),a.stateNode===null)kf(s,a),Yl(a,h,g),bp(a,h,g,_),g=!0;else if(s===null){var L=a.stateNode,W=a.memoizedProps;L.props=W;var Y=L.context,de=h.contextType;typeof de=="object"&&de!==null?de=ks(de):(de=Ui(h)?hi:Kr.current,de=ju(a,de));var Pe=h.getDerivedStateFromProps,Le=typeof Pe=="function"||typeof L.getSnapshotBeforeUpdate=="function";Le||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(W!==g||Y!==de)&&Yu(a,L,g,de),Ns=!1;var Ne=a.memoizedState;L.state=Ne,Hu(a,g,L,_),Y=a.memoizedState,W!==g||Ne!==Y||Mi.current||Ns?(typeof Pe=="function"&&(bf(a,h,Pe,g),Y=a.memoizedState),(W=Ns||Sp(a,h,W,g,Ne,Y,de))?(Le||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(a.flags|=4194308)):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=Y),L.props=g,L.state=Y,L.context=de,g=W):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{L=a.stateNode,Dm(s,a),W=a.memoizedProps,de=a.type===a.elementType?W:Ls(a.type,W),L.props=de,Le=a.pendingProps,Ne=L.context,Y=h.contextType,typeof Y=="object"&&Y!==null?Y=ks(Y):(Y=Ui(h)?hi:Kr.current,Y=ju(a,Y));var ze=h.getDerivedStateFromProps;(Pe=typeof ze=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(W!==Le||Ne!==Y)&&Yu(a,L,g,Y),Ns=!1,Ne=a.memoizedState,L.state=Ne,Hu(a,g,L,_);var Je=a.memoizedState;W!==Le||Ne!==Je||Mi.current||Ns?(typeof ze=="function"&&(bf(a,h,ze,g),Je=a.memoizedState),(de=Ns||Sp(a,h,de,g,Ne,Je,Y)||!1)?(Pe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(g,Je,Y),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(g,Je,Y)),typeof L.componentDidUpdate=="function"&&(a.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof L.componentDidUpdate!="function"||W===s.memoizedProps&&Ne===s.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Ne===s.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Je),L.props=g,L.state=Je,L.context=Y,g=de):(typeof L.componentDidUpdate!="function"||W===s.memoizedProps&&Ne===s.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Ne===s.memoizedState||(a.flags|=1024),g=!1)}return Np(s,a,h,g,T,_)}function Np(s,a,h,g,_,T){xp(s,a);var L=(a.flags&128)!==0;if(!g&&!L)return _&&Rm(a,h,!1),to(s,a,T);g=a.stateNode,xf.current=a;var W=L&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,s!==null&&L?(a.child=Un(a,s.child,null,T),a.child=Un(a,null,W,T)):Pr(s,a,W,T),a.memoizedState=g.state,_&&Rm(a,h,!0),a.child}function Wm(s){var a=s.stateNode;a.pendingContext?Cm(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Cm(s,a.context,!1),cp(s,a.containerInfo)}function jo(s,a,h,g,_){return Mo(),Uo(_),a.flags|=256,Pr(s,a,h,g),a.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(s){return{baseLanes:s,cachePool:null,transitions:null}}function Rf(s,a,h){var g=a.pendingProps,_=bn.current,T=!1,L=(a.flags&128)!==0,W;if((W=L)||(W=s!==null&&s.memoizedState===null?!1:(_&2)!==0),W?(T=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),pn(bn,_&1),s===null)return Vi(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(L=g.children,s=g.fallback,T?(g=a.mode,T=a.child,L={mode:"hidden",children:L},!(g&1)&&T!==null?(T.childLanes=0,T.pendingProps=L):T=Hf(L,g,0,null),s=iu(s,g,h,null),T.return=a,s.return=a,T.sibling=s,a.child=T,a.child.memoizedState=th(h),a.memoizedState=eh,s):ec(a,L));if(_=s.memoizedState,_!==null&&(W=_.dehydrated,W!==null))return at(s,a,L,g,W,_,h);if(T){T=g.fallback,L=a.mode,_=s.child,W=_.sibling;var Y={mode:"hidden",children:g.children};return!(L&1)&&a.child!==_?(g=a.child,g.childLanes=0,g.pendingProps=Y,a.deletions=null):(g=oo(_,Y),g.subtreeFlags=_.subtreeFlags&14680064),W!==null?T=oo(W,T):(T=iu(T,L,h,null),T.flags|=2),T.return=a,g.return=a,g.sibling=T,a.child=g,g=T,T=a.child,L=s.child.memoizedState,L=L===null?th(h):{baseLanes:L.baseLanes|h,cachePool:null,transitions:L.transitions},T.memoizedState=L,T.childLanes=s.childLanes&~h,a.memoizedState=eh,g}return T=s.child,s=T.sibling,g=oo(T,{mode:"visible",children:g.children}),!(a.mode&1)&&(g.lanes=h),g.return=a,g.sibling=null,s!==null&&(h=a.deletions,h===null?(a.deletions=[s],a.flags|=16):h.push(s)),a.child=g,a.memoizedState=null,g}function ec(s,a){return a=Hf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ta(s,a,h,g){return g!==null&&Uo(g),Un(a,s.child,null,h),s=ec(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function at(s,a,h,g,_,T,L){if(h)return a.flags&256?(a.flags&=-257,g=If(Error(t(422))),Ta(s,a,L,g)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(T=g.fallback,_=a.mode,g=Hf({mode:"visible",children:g.children},_,0,null),T=iu(T,_,L,null),T.flags|=2,g.return=a,T.return=a,g.sibling=T,a.child=g,a.mode&1&&Un(a,s.child,null,L),a.child.memoizedState=th(L),a.memoizedState=eh,T);if(!(a.mode&1))return Ta(s,a,L,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var W=g.dgst;return g=W,T=Error(t(419)),g=If(T,g,void 0),Ta(s,a,L,g)}if(W=(L&s.childLanes)!==0,di||W){if(g=Ir,g!==null){switch(L&-L){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(g.suspendedLanes|L)?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,ya(s,_),so(g,s,_,-1))}return Wp(),g=If(Error(t(421))),Ta(s,a,L,g)}return _.data==="$?"?(a.flags|=128,a.child=s.child,a=H_.bind(null,s),_._reactRetry=a,null):(s=T.treeContext,as=Qa(_.nextSibling),Qr=a,wn=!0,Zs=null,s!==null&&(xs[Rs++]=Oo,xs[Rs++]=Lo,xs[Rs++]=zl,Oo=s.id,Lo=s.overflow,zl=a),a=ec(a,g.children),a.flags|=4096,a)}function nh(s,a,h){s.lanes|=a;var g=s.alternate;g!==null&&(g.lanes|=a),Nr(s.return,a,h)}function rh(s,a,h,g,_){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=h,T.tailMode=_)}function il(s,a,h){var g=a.pendingProps,_=g.revealOrder,T=g.tail;if(Pr(s,a,g.children,h),g=bn.current,g&2)g=g&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&nh(s,h,a);else if(s.tag===19)nh(s,h,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(pn(bn,g),!(a.mode&1))a.memoizedState=null;else switch(_){case"forwards":for(h=a.child,_=null;h!==null;)s=h.alternate,s!==null&&Jl(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=a.child,a.child=null):(_=h.sibling,h.sibling=null),rh(a,!1,_,h,T);break;case"backwards":for(h=null,_=a.child,a.child=null;_!==null;){if(s=_.alternate,s!==null&&Jl(s)===null){a.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}rh(a,!0,h,null,T);break;case"together":rh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function kf(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function to(s,a,h){if(s!==null&&(a.dependencies=s.dependencies),ol|=a.lanes,!(h&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,h=oo(s,s.pendingProps),a.child=h,h.return=a;s.sibling!==null;)s=s.sibling,h=h.sibling=oo(s,s.pendingProps),h.return=a;h.sibling=null}return a.child}function Gm(s,a,h){switch(a.tag){case 3:Wm(a),Mo();break;case 5:hp(a);break;case 1:Ui(a.type)&&Cs(a);break;case 4:cp(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,_=a.memoizedProps.value;pn(zc,g._currentValue),g._currentValue=_;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(pn(bn,bn.current&1),a.flags|=128,null):h&a.child.childLanes?Rf(s,a,h):(pn(bn,bn.current&1),s=to(s,a,h),s!==null?s.sibling:null);pn(bn,bn.current&1);break;case 19:if(g=(h&a.childLanes)!==0,s.flags&128){if(g)return il(s,a,h);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),pn(bn,bn.current),g)break;return null;case 22:case 23:return a.lanes=0,Cp(s,a,h)}return to(s,a,h)}var Or,Pp,Km,Op;Or=function(s,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Pp=function(){},Km=function(s,a,h,g){var _=s.memoizedProps;if(_!==g){s=a.stateNode,va(Vo.current);var T=null;switch(h){case"input":_=Ot(s,_),g=Ot(s,g),T=[];break;case"select":_=Q({},_,{value:void 0}),g=Q({},g,{value:void 0}),T=[];break;case"textarea":_=Si(s,_),g=Si(s,g),T=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=ef)}ps(h,g);var L;h=null;for(de in _)if(!g.hasOwnProperty(de)&&_.hasOwnProperty(de)&&_[de]!=null)if(de==="style"){var W=_[de];for(L in W)W.hasOwnProperty(L)&&(h||(h={}),h[L]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?T||(T=[]):(T=T||[]).push(de,null));for(de in g){var Y=g[de];if(W=_!=null?_[de]:void 0,g.hasOwnProperty(de)&&Y!==W&&(Y!=null||W!=null))if(de==="style")if(W){for(L in W)!W.hasOwnProperty(L)||Y&&Y.hasOwnProperty(L)||(h||(h={}),h[L]="");for(L in Y)Y.hasOwnProperty(L)&&W[L]!==Y[L]&&(h||(h={}),h[L]=Y[L])}else h||(T||(T=[]),T.push(de,h)),h=Y;else de==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(T=T||[]).push(de,Y)):de==="children"?typeof Y!="string"&&typeof Y!="number"||(T=T||[]).push(de,""+Y):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(Y!=null&&de==="onScroll"&&_n("scroll",s),T||W===Y||(T=[])):(T=T||[]).push(de,Y))}h&&(T=T||[]).push("style",h);var de=T;(a.updateQueue=de)&&(a.flags|=4)}},Op=function(s,a,h,g){h!==g&&(a.flags|=4)};function ih(s,a){if(!wn)switch(s.tailMode){case"hidden":a=s.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Lr(s){var a=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(a)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=h,a}function U_(s,a,h){var g=a.pendingProps;switch(Wl(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(a),null;case 1:return Ui(a.type)&&sf(),Lr(a),null;case 3:return g=a.stateNode,nl(),vn(Mi),vn(Kr),mf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(jc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Zs!==null&&($p(Zs),Zs=null))),Pp(s,a),Lr(a),null;case 5:gf(a);var _=va(Wu.current);if(h=a.type,s!==null&&a.stateNode!=null)Km(s,a,h,g,_),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return Lr(a),null}if(s=va(Vo.current),jc(a)){g=a.stateNode,h=a.type;var T=a.memoizedProps;switch(g[No]=a,g[Xa]=T,s=(a.mode&1)!==0,h){case"dialog":_n("cancel",g),_n("close",g);break;case"iframe":case"object":case"embed":_n("load",g);break;case"video":case"audio":for(_=0;_<da.length;_++)_n(da[_],g);break;case"source":_n("error",g);break;case"img":case"image":case"link":_n("error",g),_n("load",g);break;case"details":_n("toggle",g);break;case"input":cn(g,T),_n("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},_n("invalid",g);break;case"textarea":bi(g,T),_n("invalid",g)}ps(h,T),_=null;for(var L in T)if(T.hasOwnProperty(L)){var W=T[L];L==="children"?typeof W=="string"?g.textContent!==W&&(T.suppressHydrationWarning!==!0&&Uc(g.textContent,W,s),_=["children",W]):typeof W=="number"&&g.textContent!==""+W&&(T.suppressHydrationWarning!==!0&&Uc(g.textContent,W,s),_=["children",""+W]):i.hasOwnProperty(L)&&W!=null&&L==="onScroll"&&_n("scroll",g)}switch(h){case"input":ot(g),ea(g,T,!0);break;case"textarea":ot(g),Fr(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=ef)}g=_,a.updateQueue=g,g!==null&&(a.flags|=4)}else{L=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Cn(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=L.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=L.createElement(h,{is:g.is}):(s=L.createElement(h),h==="select"&&(L=s,g.multiple?L.multiple=!0:g.size&&(L.size=g.size))):s=L.createElementNS(s,h),s[No]=a,s[Xa]=g,Or(s,a,!1,!1),a.stateNode=s;e:{switch(L=xi(h,g),h){case"dialog":_n("cancel",s),_n("close",s),_=g;break;case"iframe":case"object":case"embed":_n("load",s),_=g;break;case"video":case"audio":for(_=0;_<da.length;_++)_n(da[_],s);_=g;break;case"source":_n("error",s),_=g;break;case"img":case"image":case"link":_n("error",s),_n("load",s),_=g;break;case"details":_n("toggle",s),_=g;break;case"input":cn(s,g),_=Ot(s,g),_n("invalid",s);break;case"option":_=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},_=Q({},g,{value:void 0}),_n("invalid",s);break;case"textarea":bi(s,g),_=Si(s,g),_n("invalid",s);break;default:_=g}ps(h,_),W=_;for(T in W)if(W.hasOwnProperty(T)){var Y=W[T];T==="style"?Yi(s,Y):T==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Xi(s,Y)):T==="children"?typeof Y=="string"?(h!=="textarea"||Y!=="")&&xn(s,Y):typeof Y=="number"&&xn(s,""+Y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?Y!=null&&T==="onScroll"&&_n("scroll",s):Y!=null&&X(s,T,Y,L))}switch(h){case"input":ot(s),ea(s,g,!1);break;case"textarea":ot(s),Fr(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Ue(g.value));break;case"select":s.multiple=!!g.multiple,T=g.value,T!=null?mn(s,!!g.multiple,T,!1):g.defaultValue!=null&&mn(s,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=ef)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Lr(a),null;case 6:if(s&&a.stateNode!=null)Op(s,a,s.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(h=va(Wu.current),va(Vo.current),jc(a)){if(g=a.stateNode,h=a.memoizedProps,g[No]=a,(T=g.nodeValue!==h)&&(s=Qr,s!==null))switch(s.tag){case 3:Uc(g.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Uc(g.nodeValue,h,(s.mode&1)!==0)}T&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[No]=a,a.stateNode=g}return Lr(a),null;case 13:if(vn(bn),g=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wn&&as!==null&&a.mode&1&&!(a.flags&128))op(),Mo(),a.flags|=98560,T=!1;else if(T=jc(a),g!==null&&g.dehydrated!==null){if(s===null){if(!T)throw Error(t(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[No]=a}else Mo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Lr(a),T=!1}else Zs!==null&&($p(Zs),Zs=null),T=!0;if(!T)return a.flags&65536?a:null}return a.flags&128?(a.lanes=h,a):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,a.mode&1&&(s===null||bn.current&1?fr===0&&(fr=3):Wp())),a.updateQueue!==null&&(a.flags|=4),Lr(a),null);case 4:return nl(),Pp(s,a),s===null&&Ka(a.stateNode.containerInfo),Lr(a),null;case 10:return hf(a.type._context),Lr(a),null;case 17:return Ui(a.type)&&sf(),Lr(a),null;case 19:if(vn(bn),T=a.memoizedState,T===null)return Lr(a),null;if(g=(a.flags&128)!==0,L=T.rendering,L===null)if(g)ih(T,!1);else{if(fr!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(L=Jl(s),L!==null){for(a.flags|=128,ih(T,!1),g=L.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)T=h,s=g,T.flags&=14680066,L=T.alternate,L===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=L.childLanes,T.lanes=L.lanes,T.child=L.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=L.memoizedProps,T.memoizedState=L.memoizedState,T.updateQueue=L.updateQueue,T.type=L.type,s=L.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return pn(bn,bn.current&1|2),a.child}s=s.sibling}T.tail!==null&&jt()>eu&&(a.flags|=128,g=!0,ih(T,!1),a.lanes=4194304)}else{if(!g)if(s=Jl(L),s!==null){if(a.flags|=128,g=!0,h=s.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),ih(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!wn)return Lr(a),null}else 2*jt()-T.renderingStartTime>eu&&h!==1073741824&&(a.flags|=128,g=!0,ih(T,!1),a.lanes=4194304);T.isBackwards?(L.sibling=a.child,a.child=L):(h=T.last,h!==null?h.sibling=L:a.child=L,T.last=L)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=jt(),a.sibling=null,h=bn.current,pn(bn,g?h&1|2:h&1),a):(Lr(a),null);case 22:case 23:return Hp(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&a.mode&1?cs&1073741824&&(Lr(a),a.subtreeFlags&6&&(a.flags|=8192)):Lr(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function V_(s,a){switch(Wl(a),a.tag){case 1:return Ui(a.type)&&sf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return nl(),vn(Mi),vn(Kr),mf(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return gf(a),null;case 13:if(vn(bn),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Mo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return vn(bn),null;case 4:return nl(),null;case 10:return hf(a.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var Nf=!1,An=!1,pi=typeof WeakSet=="function"?WeakSet:Set,We=null;function tc(s,a){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Pn(s,a,g)}else h.current=null}function sh(s,a,h){try{h()}catch(g){Pn(s,a,g)}}var Jm=!1;function F_(s,a){if(Vc=U,s=an(),Nc(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var L=0,W=-1,Y=-1,de=0,Pe=0,Le=s,Ne=null;t:for(;;){for(var ze;Le!==h||_!==0&&Le.nodeType!==3||(W=L+_),Le!==T||g!==0&&Le.nodeType!==3||(Y=L+g),Le.nodeType===3&&(L+=Le.nodeValue.length),(ze=Le.firstChild)!==null;)Ne=Le,Le=ze;for(;;){if(Le===s)break t;if(Ne===h&&++de===_&&(W=L),Ne===T&&++Pe===g&&(Y=L),(ze=Le.nextSibling)!==null)break;Le=Ne,Ne=Le.parentNode}Le=ze}h=W===-1||Y===-1?null:{start:W,end:Y}}else h=null}h=h||{start:0,end:0}}else h=null;for(jl={focusedElem:s,selectionRange:h},U=!1,We=a;We!==null;)if(a=We,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,We=s;else for(;We!==null;){a=We;try{var Je=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var Xe=Je.memoizedProps,Vn=Je.memoizedState,ue=a.stateNode,re=ue.getSnapshotBeforeUpdate(a.elementType===a.type?Xe:Ls(a.type,Xe),Vn);ue.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ce=a.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Me){Pn(a,a.return,Me)}if(s=a.sibling,s!==null){s.return=a.return,We=s;break}We=a.return}return Je=Jm,Jm=!1,Je}function Sa(s,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&s)===s){var T=_.destroy;_.destroy=void 0,T!==void 0&&sh(a,h,T)}_=_.next}while(_!==g)}}function oh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&s)===s){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function Pf(s){var a=s.ref;if(a!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof a=="function"?a(s):a.current=s}}function Qm(s){var a=s.alternate;a!==null&&(s.alternate=null,Qm(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[No],delete a[Xa],delete a[nf],delete a[M],delete a[Bu])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Xm(s){return s.tag===5||s.tag===3||s.tag===4}function Ym(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Xm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lp(s,a,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(s,a):h.insertBefore(s,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(s,h)):(a=h,a.appendChild(s)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=ef));else if(g!==4&&(s=s.child,s!==null))for(Lp(s,a,h),s=s.sibling;s!==null;)Lp(s,a,h),s=s.sibling}function Of(s,a,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?h.insertBefore(s,a):h.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Of(s,a,h),s=s.sibling;s!==null;)Of(s,a,h),s=s.sibling}var Ar=null,no=!1;function $o(s,a,h){for(h=h.child;h!==null;)Dp(s,a,h),h=h.sibling}function Dp(s,a,h){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(rs,h)}catch{}switch(h.tag){case 5:An||tc(h,a);case 6:var g=Ar,_=no;Ar=null,$o(s,a,h),Ar=g,no=_,Ar!==null&&(no?(s=Ar,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Ar.removeChild(h.stateNode));break;case 18:Ar!==null&&(no?(s=Ar,h=h.stateNode,s.nodeType===8?rp(s.parentNode,h):s.nodeType===1&&rp(s,h),St(s)):rp(Ar,h.stateNode));break;case 4:g=Ar,_=no,Ar=h.stateNode.containerInfo,no=!0,$o(s,a,h),Ar=g,no=_;break;case 0:case 11:case 14:case 15:if(!An&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var T=_,L=T.destroy;T=T.tag,L!==void 0&&(T&2||T&4)&&sh(h,a,L),_=_.next}while(_!==g)}$o(s,a,h);break;case 1:if(!An&&(tc(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(W){Pn(h,a,W)}$o(s,a,h);break;case 21:$o(s,a,h);break;case 22:h.mode&1?(An=(g=An)||h.memoizedState!==null,$o(s,a,h),An=g):$o(s,a,h);break;default:$o(s,a,h)}}function nc(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new pi),a.forEach(function(g){var _=W_.bind(null,s,g);h.has(g)||(h.add(g),g.then(_,_))})}}function us(s,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g];try{var T=s,L=a,W=L;e:for(;W!==null;){switch(W.tag){case 5:Ar=W.stateNode,no=!1;break e;case 3:Ar=W.stateNode.containerInfo,no=!0;break e;case 4:Ar=W.stateNode.containerInfo,no=!0;break e}W=W.return}if(Ar===null)throw Error(t(160));Dp(T,L,_),Ar=null,no=!1;var Y=_.alternate;Y!==null&&(Y.return=null),_.return=null}catch(de){Pn(_,a,de)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Mp(a,s),a=a.sibling}function Mp(s,a){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(us(a,s),ro(s),g&4){try{Sa(3,s,s.return),oh(3,s)}catch(Xe){Pn(s,s.return,Xe)}try{Sa(5,s,s.return)}catch(Xe){Pn(s,s.return,Xe)}}break;case 1:us(a,s),ro(s),g&512&&h!==null&&tc(h,h.return);break;case 5:if(us(a,s),ro(s),g&512&&h!==null&&tc(h,h.return),s.flags&32){var _=s.stateNode;try{xn(_,"")}catch(Xe){Pn(s,s.return,Xe)}}if(g&4&&(_=s.stateNode,_!=null)){var T=s.memoizedProps,L=h!==null?h.memoizedProps:T,W=s.type,Y=s.updateQueue;if(s.updateQueue=null,Y!==null)try{W==="input"&&T.type==="radio"&&T.name!=null&&zs(_,T),xi(W,L);var de=xi(W,T);for(L=0;L<Y.length;L+=2){var Pe=Y[L],Le=Y[L+1];Pe==="style"?Yi(_,Le):Pe==="dangerouslySetInnerHTML"?Xi(_,Le):Pe==="children"?xn(_,Le):X(_,Pe,Le,de)}switch(W){case"input":_r(_,T);break;case"textarea":Rr(_,T);break;case"select":var Ne=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var ze=T.value;ze!=null?mn(_,!!T.multiple,ze,!1):Ne!==!!T.multiple&&(T.defaultValue!=null?mn(_,!!T.multiple,T.defaultValue,!0):mn(_,!!T.multiple,T.multiple?[]:"",!1))}_[Xa]=T}catch(Xe){Pn(s,s.return,Xe)}}break;case 6:if(us(a,s),ro(s),g&4){if(s.stateNode===null)throw Error(t(162));_=s.stateNode,T=s.memoizedProps;try{_.nodeValue=T}catch(Xe){Pn(s,s.return,Xe)}}break;case 3:if(us(a,s),ro(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{St(a.containerInfo)}catch(Xe){Pn(s,s.return,Xe)}break;case 4:us(a,s),ro(s);break;case 13:us(a,s),ro(s),_=s.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(Fp=jt())),g&4&&nc(s);break;case 22:if(Pe=h!==null&&h.memoizedState!==null,s.mode&1?(An=(de=An)||Pe,us(a,s),An=de):us(a,s),ro(s),g&8192){if(de=s.memoizedState!==null,(s.stateNode.isHidden=de)&&!Pe&&s.mode&1)for(We=s,Pe=s.child;Pe!==null;){for(Le=We=Pe;We!==null;){switch(Ne=We,ze=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:Sa(4,Ne,Ne.return);break;case 1:tc(Ne,Ne.return);var Je=Ne.stateNode;if(typeof Je.componentWillUnmount=="function"){g=Ne,h=Ne.return;try{a=g,Je.props=a.memoizedProps,Je.state=a.memoizedState,Je.componentWillUnmount()}catch(Xe){Pn(g,h,Xe)}}break;case 5:tc(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){sl(Le);continue}}ze!==null?(ze.return=Ne,We=ze):sl(Le)}Pe=Pe.sibling}e:for(Pe=null,Le=s;;){if(Le.tag===5){if(Pe===null){Pe=Le;try{_=Le.stateNode,de?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(W=Le.stateNode,Y=Le.memoizedProps.style,L=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=Hs("display",L))}catch(Xe){Pn(s,s.return,Xe)}}}else if(Le.tag===6){if(Pe===null)try{Le.stateNode.nodeValue=de?"":Le.memoizedProps}catch(Xe){Pn(s,s.return,Xe)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===s)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===s)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===s)break e;Pe===Le&&(Pe=null),Le=Le.return}Pe===Le&&(Pe=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:us(a,s),ro(s),g&4&&nc(s);break;case 21:break;default:us(a,s),ro(s)}}function ro(s){var a=s.flags;if(a&2){try{e:{for(var h=s.return;h!==null;){if(Xm(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(xn(_,""),g.flags&=-33);var T=Ym(s);Of(s,T,_);break;case 3:case 4:var L=g.stateNode.containerInfo,W=Ym(s);Lp(s,W,L);break;default:throw Error(t(161))}}catch(Y){Pn(s,s.return,Y)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Lf(s,a,h){We=s,Up(s)}function Up(s,a,h){for(var g=(s.mode&1)!==0;We!==null;){var _=We,T=_.child;if(_.tag===22&&g){var L=_.memoizedState!==null||Nf;if(!L){var W=_.alternate,Y=W!==null&&W.memoizedState!==null||An;W=Nf;var de=An;if(Nf=L,(An=Y)&&!de)for(We=_;We!==null;)L=We,Y=L.child,L.tag===22&&L.memoizedState!==null?Zm(_):Y!==null?(Y.return=L,We=Y):Zm(_);for(;T!==null;)We=T,Up(T),T=T.sibling;We=_,Nf=W,An=de}io(s)}else _.subtreeFlags&8772&&T!==null?(T.return=_,We=T):io(s)}}function io(s){for(;We!==null;){var a=We;if(a.flags&8772){var h=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:An||oh(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!An)if(h===null)g.componentDidMount();else{var _=a.elementType===a.type?h.memoizedProps:Ls(a.type,h.memoizedProps);g.componentDidUpdate(_,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&up(a,T,g);break;case 3:var L=a.updateQueue;if(L!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}up(a,L,h)}break;case 5:var W=a.stateNode;if(h===null&&a.flags&4){h=W;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&h.focus();break;case"img":Y.src&&(h.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var de=a.alternate;if(de!==null){var Pe=de.memoizedState;if(Pe!==null){var Le=Pe.dehydrated;Le!==null&&St(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||a.flags&512&&Pf(a)}catch(Ne){Pn(a,a.return,Ne)}}if(a===s){We=null;break}if(h=a.sibling,h!==null){h.return=a.return,We=h;break}We=a.return}}function sl(s){for(;We!==null;){var a=We;if(a===s){We=null;break}var h=a.sibling;if(h!==null){h.return=a.return,We=h;break}We=a.return}}function Zm(s){for(;We!==null;){var a=We;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{oh(4,a)}catch(Y){Pn(a,h,Y)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var _=a.return;try{g.componentDidMount()}catch(Y){Pn(a,_,Y)}}var T=a.return;try{Pf(a)}catch(Y){Pn(a,T,Y)}break;case 5:var L=a.return;try{Pf(a)}catch(Y){Pn(a,L,Y)}}}catch(Y){Pn(a,a.return,Y)}if(a===s){We=null;break}var W=a.sibling;if(W!==null){W.return=a.return,We=W;break}We=a.return}}var ey=Math.ceil,Df=se.ReactCurrentDispatcher,Vp=se.ReactCurrentOwner,Ds=se.ReactCurrentBatchConfig,$t=0,Ir=null,Yn=null,Dr=0,cs=0,rc=Di(0),fr=0,ah=null,ol=0,lh=0,Mf=0,uh=null,Bi=null,Fp=0,eu=1/0,ba=null,Uf=!1,Bp=null,al=null,Vf=!1,ll=null,gi=0,ch=0,qp=null,Ff=-1,hh=0;function mi(){return $t&6?jt():Ff!==-1?Ff:Ff=jt()}function ul(s){return s.mode&1?$t&2&&Dr!==0?Dr&-Dr:Om.transition!==null?(hh===0&&(hh=Es()),hh):(s=ct,s!==0||(s=window.event,s=s===void 0?16:xt(s.type)),s):1}function so(s,a,h,g){if(50<ch)throw ch=0,qp=null,Error(t(185));Ts(s,h,g),(!($t&2)||s!==Ir)&&(s===Ir&&(!($t&2)&&(lh|=h),fr===4&&cl(s,Dr)),qi(s,g),h===1&&$t===0&&!(a.mode&1)&&(eu=jt()+500,of&&Za()))}function qi(s,a){var h=s.callbackNode;is(s,a);var g=oi(s,s===Ir?Dr:0);if(g===0)h!==null&&Kn(h),s.callbackNode=null,s.callbackPriority=0;else if(a=g&-g,s.callbackPriority!==a){if(h!=null&&Kn(h),a===1)s.tag===0?$l(ty.bind(null,s)):km(ty.bind(null,s)),tf(function(){!($t&6)&&Za()}),h=null;else{switch(Rn(g)){case 1:h=Ks;break;case 4:h=si;break;case 16:h=Tr;break;case 536870912:h=Br;break;default:h=Tr}h=ly(h,Bf.bind(null,s))}s.callbackPriority=a,s.callbackNode=h}}function Bf(s,a){if(Ff=-1,hh=0,$t&6)throw Error(t(327));var h=s.callbackNode;if(ic()&&s.callbackNode!==h)return null;var g=oi(s,s===Ir?Dr:0);if(g===0)return null;if(g&30||g&s.expiredLanes||a)a=qf(s,g);else{a=g;var _=$t;$t|=2;var T=ry();(Ir!==s||Dr!==a)&&(ba=null,eu=jt()+500,nu(s,a));do try{j_();break}catch(W){ny(s,W)}while(!0);ma(),Df.current=T,$t=_,Yn!==null?a=0:(Ir=null,Dr=0,a=fr)}if(a!==0){if(a===2&&(_=Sr(s),_!==0&&(g=_,a=jp(s,_))),a===1)throw h=ah,nu(s,0),cl(s,g),qi(s,jt()),h;if(a===6)cl(s,g);else{if(_=s.current.alternate,!(g&30)&&!B_(_)&&(a=qf(s,g),a===2&&(T=Sr(s),T!==0&&(g=T,a=jp(s,T))),a===1))throw h=ah,nu(s,0),cl(s,g),qi(s,jt()),h;switch(s.finishedWork=_,s.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:ru(s,Bi,ba);break;case 3:if(cl(s,g),(g&130023424)===g&&(a=Fp+500-jt(),10<a)){if(oi(s,0)!==0)break;if(_=s.suspendedLanes,(_&g)!==g){mi(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=Ja(ru.bind(null,s,Bi,ba),a);break}ru(s,Bi,ba);break;case 4:if(cl(s,g),(g&4194240)===g)break;for(a=s.eventTimes,_=-1;0<g;){var L=31-ar(g);T=1<<L,L=a[L],L>_&&(_=L),g&=~T}if(g=_,g=jt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*ey(g/1960))-g,10<g){s.timeoutHandle=Ja(ru.bind(null,s,Bi,ba),g);break}ru(s,Bi,ba);break;case 5:ru(s,Bi,ba);break;default:throw Error(t(329))}}}return qi(s,jt()),s.callbackNode===h?Bf.bind(null,s):null}function jp(s,a){var h=uh;return s.current.memoizedState.isDehydrated&&(nu(s,a).flags|=256),s=qf(s,a),s!==2&&(a=Bi,Bi=h,a!==null&&$p(a)),s}function $p(s){Bi===null?Bi=s:Bi.push.apply(Bi,s)}function B_(s){for(var a=s;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var _=h[g],T=_.getSnapshot;_=_.value;try{if(!fe(T(),_))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function cl(s,a){for(a&=~Mf,a&=~lh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var h=31-ar(a),g=1<<h;s[h]=-1,a&=~g}}function ty(s){if($t&6)throw Error(t(327));ic();var a=oi(s,0);if(!(a&1))return qi(s,jt()),null;var h=qf(s,a);if(s.tag!==0&&h===2){var g=Sr(s);g!==0&&(a=g,h=jp(s,g))}if(h===1)throw h=ah,nu(s,0),cl(s,a),qi(s,jt()),h;if(h===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ru(s,Bi,ba),qi(s,jt()),null}function zp(s,a){var h=$t;$t|=1;try{return s(a)}finally{$t=h,$t===0&&(eu=jt()+500,of&&Za())}}function tu(s){ll!==null&&ll.tag===0&&!($t&6)&&ic();var a=$t;$t|=1;var h=Ds.transition,g=ct;try{if(Ds.transition=null,ct=1,s)return s()}finally{ct=g,Ds.transition=h,$t=a,!($t&6)&&Za()}}function Hp(){cs=rc.current,vn(rc)}function nu(s,a){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,Bc(h)),Yn!==null)for(h=Yn.return;h!==null;){var g=h;switch(Wl(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&sf();break;case 3:nl(),vn(Mi),vn(Kr),mf();break;case 5:gf(g);break;case 4:nl();break;case 13:vn(bn);break;case 19:vn(bn);break;case 10:hf(g.type._context);break;case 22:case 23:Hp()}h=h.return}if(Ir=s,Yn=s=oo(s.current,null),Dr=cs=a,fr=0,ah=null,Mf=lh=ol=0,Bi=uh=null,Kl!==null){for(a=0;a<Kl.length;a++)if(h=Kl[a],g=h.interleaved,g!==null){h.interleaved=null;var _=g.next,T=h.pending;if(T!==null){var L=T.next;T.next=_,g.next=L}h.pending=g}Kl=null}return s}function ny(s,a){do{var h=Yn;try{if(ma(),Gc.current=Tf,Gu){for(var g=Nn.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}Gu=!1}if(rl=0,hr=$n=Nn=null,Kc=!1,Ql=0,Vp.current=null,h===null||h.return===null){fr=1,ah=a,Yn=null;break}e:{var T=s,L=h.return,W=h,Y=a;if(a=Dr,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var de=Y,Pe=W,Le=Pe.tag;if(!(Pe.mode&1)&&(Le===0||Le===11||Le===15)){var Ne=Pe.alternate;Ne?(Pe.updateQueue=Ne.updateQueue,Pe.memoizedState=Ne.memoizedState,Pe.lanes=Ne.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var ze=zm(L);if(ze!==null){ze.flags&=-257,Ap(ze,L,W,T,a),ze.mode&1&&Zc(T,de,a),a=ze,Y=de;var Je=a.updateQueue;if(Je===null){var Xe=new Set;Xe.add(Y),a.updateQueue=Xe}else Je.add(Y);break e}else{if(!(a&1)){Zc(T,de,a),Wp();break e}Y=Error(t(426))}}else if(wn&&W.mode&1){var Vn=zm(L);if(Vn!==null){!(Vn.flags&65536)&&(Vn.flags|=256),Ap(Vn,L,W,T,a),Uo(Zl(Y,W));break e}}T=Y=Zl(Y,W),fr!==4&&(fr=2),uh===null?uh=[T]:uh.push(T),T=L;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var ue=Yc(T,Y,a);Mm(T,ue);break e;case 1:W=Y;var re=T.type,ce=T.stateNode;if(!(T.flags&128)&&(typeof re.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(al===null||!al.has(ce)))){T.flags|=65536,a&=-a,T.lanes|=a;var Me=Cf(T,W,a);Mm(T,Me);break e}}T=T.return}while(T!==null)}sy(h)}catch(Ye){a=Ye,Yn===h&&h!==null&&(Yn=h=h.return);continue}break}while(!0)}function ry(){var s=Df.current;return Df.current=Tf,s===null?Tf:s}function Wp(){(fr===0||fr===3||fr===2)&&(fr=4),Ir===null||!(ol&268435455)&&!(lh&268435455)||cl(Ir,Dr)}function qf(s,a){var h=$t;$t|=2;var g=ry();(Ir!==s||Dr!==a)&&(ba=null,nu(s,a));do try{q_();break}catch(_){ny(s,_)}while(!0);if(ma(),$t=h,Df.current=g,Yn!==null)throw Error(t(261));return Ir=null,Dr=0,fr}function q_(){for(;Yn!==null;)iy(Yn)}function j_(){for(;Yn!==null&&!Gs();)iy(Yn)}function iy(s){var a=ay(s.alternate,s,cs);s.memoizedProps=s.pendingProps,a===null?sy(s):Yn=a,Vp.current=null}function sy(s){var a=s;do{var h=a.alternate;if(s=a.return,a.flags&32768){if(h=V_(h,a),h!==null){h.flags&=32767,Yn=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{fr=6,Yn=null;return}}else if(h=U_(h,a,cs),h!==null){Yn=h;return}if(a=a.sibling,a!==null){Yn=a;return}Yn=a=s}while(a!==null);fr===0&&(fr=5)}function ru(s,a,h){var g=ct,_=Ds.transition;try{Ds.transition=null,ct=1,$_(s,a,h,g)}finally{Ds.transition=_,ct=g}return null}function $_(s,a,h,g){do ic();while(ll!==null);if($t&6)throw Error(t(327));h=s.finishedWork;var _=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var T=h.lanes|h.childLanes;if(Wt(s,T),s===Ir&&(Yn=Ir=null,Dr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||Vf||(Vf=!0,ly(Tr,function(){return ic(),null})),T=(h.flags&15990)!==0,h.subtreeFlags&15990||T){T=Ds.transition,Ds.transition=null;var L=ct;ct=1;var W=$t;$t|=4,Vp.current=null,F_(s,h),Mp(h,s),O_(jl),U=!!Vc,jl=Vc=null,s.current=h,Lf(h),Ll(),$t=W,ct=L,Ds.transition=T}else s.current=h;if(Vf&&(Vf=!1,ll=s,gi=_),T=s.pendingLanes,T===0&&(al=null),ja(h.stateNode),qi(s,jt()),a!==null)for(g=s.onRecoverableError,h=0;h<a.length;h++)_=a[h],g(_.value,{componentStack:_.stack,digest:_.digest});if(Uf)throw Uf=!1,s=Bp,Bp=null,s;return gi&1&&s.tag!==0&&ic(),T=s.pendingLanes,T&1?s===qp?ch++:(ch=0,qp=s):ch=0,Za(),null}function ic(){if(ll!==null){var s=Rn(gi),a=Ds.transition,h=ct;try{if(Ds.transition=null,ct=16>s?16:s,ll===null)var g=!1;else{if(s=ll,ll=null,gi=0,$t&6)throw Error(t(331));var _=$t;for($t|=4,We=s.current;We!==null;){var T=We,L=T.child;if(We.flags&16){var W=T.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var de=W[Y];for(We=de;We!==null;){var Pe=We;switch(Pe.tag){case 0:case 11:case 15:Sa(8,Pe,T)}var Le=Pe.child;if(Le!==null)Le.return=Pe,We=Le;else for(;We!==null;){Pe=We;var Ne=Pe.sibling,ze=Pe.return;if(Qm(Pe),Pe===de){We=null;break}if(Ne!==null){Ne.return=ze,We=Ne;break}We=ze}}}var Je=T.alternate;if(Je!==null){var Xe=Je.child;if(Xe!==null){Je.child=null;do{var Vn=Xe.sibling;Xe.sibling=null,Xe=Vn}while(Xe!==null)}}We=T}}if(T.subtreeFlags&2064&&L!==null)L.return=T,We=L;else e:for(;We!==null;){if(T=We,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Sa(9,T,T.return)}var ue=T.sibling;if(ue!==null){ue.return=T.return,We=ue;break e}We=T.return}}var re=s.current;for(We=re;We!==null;){L=We;var ce=L.child;if(L.subtreeFlags&2064&&ce!==null)ce.return=L,We=ce;else e:for(L=re;We!==null;){if(W=We,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:oh(9,W)}}catch(Ye){Pn(W,W.return,Ye)}if(W===L){We=null;break e}var Me=W.sibling;if(Me!==null){Me.return=W.return,We=Me;break e}We=W.return}}if($t=_,Za(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(rs,s)}catch{}g=!0}return g}finally{ct=h,Ds.transition=a}}return!1}function jf(s,a,h){a=Zl(h,a),a=Yc(s,a,1),s=Ps(s,a,1),a=mi(),s!==null&&(Ts(s,1,a),qi(s,a))}function Pn(s,a,h){if(s.tag===3)jf(s,s,h);else for(;a!==null;){if(a.tag===3){jf(a,s,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(al===null||!al.has(g))){s=Zl(h,s),s=Cf(a,s,1),a=Ps(a,s,1),s=mi(),a!==null&&(Ts(a,1,s),qi(a,s));break}}a=a.return}}function z_(s,a,h){var g=s.pingCache;g!==null&&g.delete(a),a=mi(),s.pingedLanes|=s.suspendedLanes&h,Ir===s&&(Dr&h)===h&&(fr===4||fr===3&&(Dr&130023424)===Dr&&500>jt()-Fp?nu(s,0):Mf|=h),qi(s,a)}function oy(s,a){a===0&&(s.mode&1?(a=ki,ki<<=1,!(ki&130023424)&&(ki=4194304)):a=1);var h=mi();s=ya(s,a),s!==null&&(Ts(s,a,h),qi(s,h))}function H_(s){var a=s.memoizedState,h=0;a!==null&&(h=a.retryLane),oy(s,h)}function W_(s,a){var h=0;switch(s.tag){case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),oy(s,h)}var ay;ay=function(s,a,h){if(s!==null)if(s.memoizedProps!==a.pendingProps||Mi.current)di=!0;else{if(!(s.lanes&h)&&!(a.flags&128))return di=!1,Gm(s,a,h);di=!!(s.flags&131072)}else di=!1,wn&&a.flags&1048576&&Nm(a,lf,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;kf(s,a),s=a.pendingProps;var _=ju(a,Kr.current);tl(a,h),_=Xl(null,a,g,s,_,h);var T=yf();return a.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ui(g)?(T=!0,Cs(a)):T=!1,a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,df(a),_.updater=Af,a.stateNode=_,_._reactInternals=a,bp(a,g,s,h),a=Np(null,a,g,!0,T,h)):(a.tag=0,wn&&T&&qc(a),Pr(null,a,_,h),a=a.child),a;case 16:g=a.elementType;e:{switch(kf(s,a),s=a.pendingProps,_=g._init,g=_(g._payload),a.type=g,_=a.tag=K_(g),s=Ls(g,s),_){case 0:a=Rp(null,a,g,s,h);break e;case 1:a=kp(null,a,g,s,h);break e;case 11:a=Hm(null,a,g,s,h);break e;case 14:a=Ip(null,a,g,Ls(g.type,s),h);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:Ls(g,_),Rp(s,a,g,_,h);case 1:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:Ls(g,_),kp(s,a,g,_,h);case 3:e:{if(Wm(a),s===null)throw Error(t(387));g=a.pendingProps,T=a.memoizedState,_=T.element,Dm(s,a),Hu(a,g,null,h);var L=a.memoizedState;if(g=L.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){_=Zl(Error(t(423)),a),a=jo(s,a,g,h,_);break e}else if(g!==_){_=Zl(Error(t(424)),a),a=jo(s,a,g,h,_);break e}else for(as=Qa(a.stateNode.containerInfo.firstChild),Qr=a,wn=!0,Zs=null,h=cf(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Mo(),g===_){a=to(s,a,h);break e}Pr(s,a,g,h)}a=a.child}return a;case 5:return hp(a),s===null&&Vi(a),g=a.type,_=a.pendingProps,T=s!==null?s.memoizedProps:null,L=_.children,Fc(g,_)?L=null:T!==null&&Fc(g,T)&&(a.flags|=32),xp(s,a),Pr(s,a,L,h),a.child;case 6:return s===null&&Vi(a),null;case 13:return Rf(s,a,h);case 4:return cp(a,a.stateNode.containerInfo),g=a.pendingProps,s===null?a.child=Un(a,null,g,h):Pr(s,a,g,h),a.child;case 11:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:Ls(g,_),Hm(s,a,g,_,h);case 7:return Pr(s,a,a.pendingProps,h),a.child;case 8:return Pr(s,a,a.pendingProps.children,h),a.child;case 12:return Pr(s,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,_=a.pendingProps,T=a.memoizedProps,L=_.value,pn(zc,g._currentValue),g._currentValue=L,T!==null)if(fe(T.value,L)){if(T.children===_.children&&!Mi.current){a=to(s,a,h);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var W=T.dependencies;if(W!==null){L=T.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===g){if(T.tag===1){Y=_a(-1,h&-h),Y.tag=2;var de=T.updateQueue;if(de!==null){de=de.shared;var Pe=de.pending;Pe===null?Y.next=Y:(Y.next=Pe.next,Pe.next=Y),de.pending=Y}}T.lanes|=h,Y=T.alternate,Y!==null&&(Y.lanes|=h),Nr(T.return,h,a),W.lanes|=h;break}Y=Y.next}}else if(T.tag===10)L=T.type===a.type?null:T.child;else if(T.tag===18){if(L=T.return,L===null)throw Error(t(341));L.lanes|=h,W=L.alternate,W!==null&&(W.lanes|=h),Nr(L,h,a),L=T.sibling}else L=T.child;if(L!==null)L.return=T;else for(L=T;L!==null;){if(L===a){L=null;break}if(T=L.sibling,T!==null){T.return=L.return,L=T;break}L=L.return}T=L}Pr(s,a,_.children,h),a=a.child}return a;case 9:return _=a.type,g=a.pendingProps.children,tl(a,h),_=ks(_),g=g(_),a.flags|=1,Pr(s,a,g,h),a.child;case 14:return g=a.type,_=Ls(g,a.pendingProps),_=Ls(g.type,_),Ip(s,a,g,_,h);case 15:return qo(s,a,a.type,a.pendingProps,h);case 17:return g=a.type,_=a.pendingProps,_=a.elementType===g?_:Ls(g,_),kf(s,a),a.tag=1,Ui(g)?(s=!0,Cs(a)):s=!1,tl(a,h),Yl(a,g,_),bp(a,g,_,h),Np(null,a,g,!0,s,h);case 19:return il(s,a,h);case 22:return Cp(s,a,h)}throw Error(t(156,a.tag))};function ly(s,a){return bo(s,a)}function G_(s,a,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(s,a,h,g){return new G_(s,a,h,g)}function $f(s){return s=s.prototype,!(!s||!s.isReactComponent)}function K_(s){if(typeof s=="function")return $f(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===Ae)return 14}return 2}function oo(s,a){var h=s.alternate;return h===null?(h=Ms(s.tag,a,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=a,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,a=s.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function zf(s,a,h,g,_,T){var L=2;if(g=s,typeof s=="function")$f(s)&&(L=1);else if(typeof s=="string")L=5;else e:switch(s){case $:return iu(h.children,_,T,a);case q:L=8,_|=8;break;case z:return s=Ms(12,h,a,_|2),s.elementType=z,s.lanes=T,s;case k:return s=Ms(13,h,a,_),s.elementType=k,s.lanes=T,s;case Se:return s=Ms(19,h,a,_),s.elementType=Se,s.lanes=T,s;case Te:return Hf(h,_,T,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:L=10;break e;case x:L=9;break e;case B:L=11;break e;case Ae:L=14;break e;case ve:L=16,g=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Ms(L,h,a,_),a.elementType=s,a.type=g,a.lanes=T,a}function iu(s,a,h,g){return s=Ms(7,s,g,a),s.lanes=h,s}function Hf(s,a,h,g){return s=Ms(22,s,g,a),s.elementType=Te,s.lanes=h,s.stateNode={isHidden:!1},s}function Gp(s,a,h){return s=Ms(6,s,null,a),s.lanes=h,s}function Kp(s,a,h){return a=Ms(4,s.children!==null?s.children:[],s.key,a),a.lanes=h,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function J_(s,a,h,g,_){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Jp(s,a,h,g,_,T,L,W,Y){return s=new J_(s,a,h,W,Y),a===1?(a=1,T===!0&&(a|=8)):a=0,T=Ms(3,null,null,a),s.current=T,T.stateNode=s,T.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(T),s}function Q_(s,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:g==null?null:""+g,children:s,containerInfo:a,implementation:h}}function uy(s){if(!s)return Ya;s=s._reactInternals;e:{if(ri(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ui(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var h=s.type;if(Ui(h))return xm(s,h,a)}return a}function cy(s,a,h,g,_,T,L,W,Y){return s=Jp(h,g,!0,s,_,T,L,W,Y),s.context=uy(null),h=s.current,g=mi(),_=ul(h),T=_a(g,_),T.callback=a??null,Ps(h,T,_),s.current.lanes=_,Ts(s,_,g),qi(s,g),s}function Wf(s,a,h,g){var _=a.current,T=mi(),L=ul(_);return h=uy(h),a.context===null?a.context=h:a.pendingContext=h,a=_a(T,L),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=Ps(_,a,L),s!==null&&(so(s,_,L,T),pf(s,_,L)),L}function Gf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<a?h:a}}function Qp(s,a){hy(s,a),(s=s.alternate)&&hy(s,a)}var fy=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xp(s){this._internalRoot=s}fh.prototype.render=Xp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Wf(s,a,null,null)},fh.prototype.unmount=Xp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;tu(function(){Wf(null,s,null,null)}),a[os]=null}};function fh(s){this._internalRoot=s}fh.prototype.unstable_scheduleHydration=function(s){if(s){var a=ia();s={blockedOn:null,target:s,priority:a};for(var h=0;h<$r.length&&a!==0&&a<$r[h].priority;h++);$r.splice(h,0,s),h===0&&aa(s)}};function Kf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function dy(){}function X_(s,a,h,g,_){if(_){if(typeof g=="function"){var T=g;g=function(){var de=Gf(L);T.call(de)}}var L=cy(a,g,s,0,null,!1,!1,"",dy);return s._reactRootContainer=L,s[os]=L.current,Ka(s.nodeType===8?s.parentNode:s),tu(),L}for(;_=s.lastChild;)s.removeChild(_);if(typeof g=="function"){var W=g;g=function(){var de=Gf(Y);W.call(de)}}var Y=Jp(s,0,!1,null,null,!1,!1,"",dy);return s._reactRootContainer=Y,s[os]=Y.current,Ka(s.nodeType===8?s.parentNode:s),tu(function(){Wf(a,Y,h,g)}),Y}function Qf(s,a,h,g,_){var T=h._reactRootContainer;if(T){var L=T;if(typeof _=="function"){var W=_;_=function(){var Y=Gf(L);W.call(Y)}}Wf(a,L,s,_)}else L=X_(h,a,s,_,g);return Gf(L)}ai=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var h=Ni(a.pendingLanes);h!==0&&(br(a,h|1),qi(a,jt()),!($t&6)&&(eu=jt()+500,Za()))}break;case 13:tu(function(){var g=ya(s,1);if(g!==null){var _=mi();so(g,s,1,_)}}),Qp(s,1)}},Js=function(s){if(s.tag===13){var a=ya(s,134217728);if(a!==null){var h=mi();so(a,s,134217728,h)}Qp(s,134217728)}},li=function(s){if(s.tag===13){var a=ul(s),h=ya(s,a);if(h!==null){var g=mi();so(h,s,a,g)}Qp(s,a)}},ia=function(){return ct},sa=function(s,a){var h=ct;try{return ct=s,a()}finally{ct=h}},Zi=function(s,a,h){switch(a){case"input":if(_r(s,h),a=h.name,h.type==="radio"&&a!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==s&&g.form===s.form){var _=rf(g);if(!_)throw Error(t(90));It(g),_r(g,_)}}}break;case"textarea":Rr(s,h);break;case"select":a=h.value,a!=null&&mn(s,!!h.multiple,a,!1)}},es=zp,ms=tu;var Xf={usingClientEntryPoint:!1,Events:[Gr,Et,rf,wr,Ws,zp]},dh={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y_={bundleType:dh.bundleType,version:dh.version,rendererPackageName:dh.rendererPackageName,rendererConfig:dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=na(s),s===null?null:s.stateNode},findFiberByHostInstance:dh.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{rs=Yf.inject(Y_),kr=Yf}catch{}}return Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xf,Bs.createPortal=function(s,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(a))throw Error(t(200));return Q_(s,a,null,h)},Bs.createRoot=function(s,a){if(!Kf(s))throw Error(t(299));var h=!1,g="",_=fy;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=Jp(s,1,!1,null,null,h,!1,g,_),s[os]=a.current,Ka(s.nodeType===8?s.parentNode:s),new Xp(a)},Bs.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=na(a),s=s===null?null:s.stateNode,s},Bs.flushSync=function(s){return tu(s)},Bs.hydrate=function(s,a,h){if(!Jf(a))throw Error(t(200));return Qf(null,s,a,!0,h)},Bs.hydrateRoot=function(s,a,h){if(!Kf(s))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,_=!1,T="",L=fy;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),a=cy(a,null,s,1,h??null,_,!1,T,L),s[os]=a.current,Ka(s),g)for(s=0;s<g.length;s++)h=g[s],_=h._getVersion,_=_(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,_]:a.mutableSourceEagerHydrationData.push(h,_);return new fh(a)},Bs.render=function(s,a,h){if(!Jf(a))throw Error(t(200));return Qf(null,s,a,!1,h)},Bs.unmountComponentAtNode=function(s){if(!Jf(s))throw Error(t(40));return s._reactRootContainer?(tu(function(){Qf(null,null,s,!1,function(){s._reactRootContainer=null,s[os]=null})}),!0):!1},Bs.unstable_batchedUpdates=zp,Bs.unstable_renderSubtreeIntoContainer=function(s,a,h,g){if(!Jf(h))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Qf(s,a,h,!1,g)},Bs.version="18.3.1-next-f1338f8080-20240426",Bs}var fT;function YN(){if(fT)return d1.exports;fT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),d1.exports=XN(),d1.exports}var dT;function ZN(){if(dT)return yy;dT=1;var n=YN();return yy.createRoot=n.createRoot,yy.hydrateRoot=n.hydrateRoot,yy}var eP=ZN(),pT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],f=n[t++],p=((i&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},xA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,f=u?n[i+1]:0,p=i+2<n.length,y=p?n[i+2]:0,v=o>>2,E=(o&3)<<4|f>>4;let A=(f&15)<<2|y>>6,R=y&63;p||(R=64,u||(A=64)),r.push(t[v],t[E],t[A],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],f=i<n.length?t[n.charAt(i)]:0;++i;const y=i<n.length?t[n.charAt(i)]:64;++i;const E=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||f==null||y==null||E==null)throw new nP;const A=o<<2|f>>4;if(r.push(A),y!==64){const R=f<<4&240|y>>2;if(r.push(R),E!==64){const P=y<<6&192|E;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rP=function(n){const e=CA(n);return xA.encodeByteArray(e,!0)},u0=function(n){return rP(n).replace(/\./g,"")},RA=function(n){try{return xA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=()=>iP().__FIREBASE_DEFAULTS__,oP=()=>{if(typeof process>"u"||typeof pT>"u")return;const n=pT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&RA(n[1]);return e&&JSON.parse(e)},M0=()=>{try{return sP()||oP()||aP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kA=n=>{var e,t;return(t=(e=M0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NA=n=>{const e=kA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},PA=()=>{var n;return(n=M0())===null||n===void 0?void 0:n.config},OA=n=>{var e;return(e=M0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[u0(JSON.stringify(t)),u0(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ji())}function cP(){var n;const e=(n=M0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pP(){const n=Ji();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gP(){return!cP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mP(){try{return typeof indexedDB=="object"}catch{return!1}}function yP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="FirebaseError";class Nl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_P,Object.setPrototypeOf(this,Nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kg.prototype.create)}}class Kg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?vP(o,r):"Error",f=`${this.serviceName}: ${u} (${i}).`;return new Nl(i,f,r)}}function vP(n,e){return n.replace(wP,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wP=/\{\$([^}]+)}/g;function EP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function c0(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(gT(o)&&gT(u)){if(!c0(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function gT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function TP(n,e){const t=new SP(n,e);return t.subscribe.bind(t)}class SP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=m1),i.error===void 0&&(i.error=m1),i.complete===void 0&&(i.complete=m1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function m1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(n){return n&&n._delegate?n._delegate:n}class wc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CP(e))try{this.getOrInitializeService({instanceIdentifier:gh})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=gh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gh){return this.instances.has(e)}getOptions(e=gh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gh){return this.component?this.component.multipleInstances?e:gh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IP(n){return n===gh?void 0:n}function CP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const RP={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},kP=Bt.INFO,NP={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},PP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=NP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uw{constructor(e){this.name=e,this._logLevel=kP,this._logHandler=PP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const OP=(n,e)=>e.some(t=>n instanceof t);let mT,yT;function LP(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DP(){return yT||(yT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DA=new WeakMap,ev=new WeakMap,MA=new WeakMap,y1=new WeakMap,cw=new WeakMap;function MP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(pc(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&DA.set(t,n)}).catch(()=>{}),cw.set(e,n),e}function UP(n){if(ev.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});ev.set(n,e)}let tv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ev.get(n);if(e==="objectStoreNames")return n.objectStoreNames||MA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function VP(n){tv=n(tv)}function FP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(_1(this),e,...t);return MA.set(r,e.sort?e.sort():[e]),pc(r)}:DP().includes(n)?function(...e){return n.apply(_1(this),e),pc(DA.get(this))}:function(...e){return pc(n.apply(_1(this),e))}}function BP(n){return typeof n=="function"?FP(n):(n instanceof IDBTransaction&&UP(n),OP(n,LP())?new Proxy(n,tv):n)}function pc(n){if(n instanceof IDBRequest)return MP(n);if(y1.has(n))return y1.get(n);const e=BP(n);return e!==n&&(y1.set(n,e),cw.set(e,n)),e}const _1=n=>cw.get(n);function qP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),f=pc(u);return r&&u.addEventListener("upgradeneeded",p=>{r(pc(u.result),p.oldVersion,p.newVersion,pc(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),i&&p.addEventListener("versionchange",y=>i(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const jP=["get","getKey","getAll","getAllKeys","count"],$P=["put","add","delete","clear"],v1=new Map;function _T(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(v1.get(e))return v1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=$P.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jP.includes(t)))return;const o=async function(u,...f){const p=this.transaction(u,i?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),i&&p.done]))[0]};return v1.set(e,o),o}VP(n=>({...n,get:(e,t,r)=>_T(e,t)||n.get(e,t,r),has:(e,t)=>!!_T(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function HP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nv="@firebase/app",vT="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new uw("@firebase/app"),WP="@firebase/app-compat",GP="@firebase/analytics-compat",KP="@firebase/analytics",JP="@firebase/app-check-compat",QP="@firebase/app-check",XP="@firebase/auth",YP="@firebase/auth-compat",ZP="@firebase/database",eO="@firebase/data-connect",tO="@firebase/database-compat",nO="@firebase/functions",rO="@firebase/functions-compat",iO="@firebase/installations",sO="@firebase/installations-compat",oO="@firebase/messaging",aO="@firebase/messaging-compat",lO="@firebase/performance",uO="@firebase/performance-compat",cO="@firebase/remote-config",hO="@firebase/remote-config-compat",fO="@firebase/storage",dO="@firebase/storage-compat",pO="@firebase/firestore",gO="@firebase/vertexai",mO="@firebase/firestore-compat",yO="firebase",_O="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="[DEFAULT]",vO={[nv]:"fire-core",[WP]:"fire-core-compat",[KP]:"fire-analytics",[GP]:"fire-analytics-compat",[QP]:"fire-app-check",[JP]:"fire-app-check-compat",[XP]:"fire-auth",[YP]:"fire-auth-compat",[ZP]:"fire-rtdb",[eO]:"fire-data-connect",[tO]:"fire-rtdb-compat",[nO]:"fire-fn",[rO]:"fire-fn-compat",[iO]:"fire-iid",[sO]:"fire-iid-compat",[oO]:"fire-fcm",[aO]:"fire-fcm-compat",[lO]:"fire-perf",[uO]:"fire-perf-compat",[cO]:"fire-rc",[hO]:"fire-rc-compat",[fO]:"fire-gcs",[dO]:"fire-gcs-compat",[pO]:"fire-fst",[mO]:"fire-fst-compat",[gO]:"fire-vertex","fire-js":"fire-js",[yO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map,wO=new Map,iv=new Map;function wT(n,e){try{n.container.addComponent(e)}catch(t){yu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Th(n){const e=n.name;if(iv.has(e))return yu.debug(`There were multiple attempts to register component ${e}.`),!1;iv.set(e,n);for(const t of h0.values())wT(t,n);for(const t of wO.values())wT(t,n);return!0}function U0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fu(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gc=new Kg("app","Firebase",EO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=_O;function UA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gc.create("bad-app-name",{appName:String(i)});if(t||(t=PA()),!t)throw gc.create("no-options");const o=h0.get(i);if(o){if(c0(t,o.options)&&c0(r,o.config))return o;throw gc.create("duplicate-app",{appName:i})}const u=new xP(i);for(const p of iv.values())u.addComponent(p);const f=new TO(t,r,u);return h0.set(i,f),f}function hw(n=rv){const e=h0.get(n);if(!e&&n===rv&&PA())return UA();if(!e)throw gc.create("no-app",{appName:n});return e}function vl(n,e,t){var r;let i=(r=vO[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yu.warn(f.join(" "));return}Th(new wc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="firebase-heartbeat-database",bO=1,xg="firebase-heartbeat-store";let w1=null;function VA(){return w1||(w1=qP(SO,bO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xg)}catch(t){console.warn(t)}}}}).catch(n=>{throw gc.create("idb-open",{originalErrorMessage:n.message})})),w1}async function AO(n){try{const t=(await VA()).transaction(xg),r=await t.objectStore(xg).get(FA(n));return await t.done,r}catch(e){if(e instanceof Nl)yu.warn(e.message);else{const t=gc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yu.warn(t.message)}}}async function ET(n,e){try{const r=(await VA()).transaction(xg,"readwrite");await r.objectStore(xg).put(e,FA(n)),await r.done}catch(t){if(t instanceof Nl)yu.warn(t.message);else{const r=gc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});yu.warn(r.message)}}}function FA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=1024,CO=30*24*60*60*1e3;class xO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=CO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=TT(),{heartbeatsToSend:r,unsentEntries:i}=RO(this._heartbeatsCache.heartbeats),o=u0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yu.warn(t),""}}}function TT(){return new Date().toISOString().substring(0,10)}function RO(n,e=IO){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),ST(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ST(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mP()?yP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ET(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return ET(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ST(n){return u0(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(n){Th(new wc("platform-logger",e=>new zP(e),"PRIVATE")),Th(new wc("heartbeat",e=>new xO(e),"PRIVATE")),vl(nv,vT,n),vl(nv,vT,"esm2017"),vl("fire-js","")}NO("");var bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mc,BA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e($,q){function z(){}z.prototype=q.prototype,$.D=q.prototype,$.prototype=new z,$.prototype.constructor=$,$.C=function(C,x,B){for(var k=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)k[Se-2]=arguments[Se];return q.prototype[x].apply(C,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i($,q,z){z||(z=0);var C=Array(16);if(typeof q=="string")for(var x=0;16>x;++x)C[x]=q.charCodeAt(z++)|q.charCodeAt(z++)<<8|q.charCodeAt(z++)<<16|q.charCodeAt(z++)<<24;else for(x=0;16>x;++x)C[x]=q[z++]|q[z++]<<8|q[z++]<<16|q[z++]<<24;q=$.g[0],z=$.g[1],x=$.g[2];var B=$.g[3],k=q+(B^z&(x^B))+C[0]+3614090360&4294967295;q=z+(k<<7&4294967295|k>>>25),k=B+(x^q&(z^x))+C[1]+3905402710&4294967295,B=q+(k<<12&4294967295|k>>>20),k=x+(z^B&(q^z))+C[2]+606105819&4294967295,x=B+(k<<17&4294967295|k>>>15),k=z+(q^x&(B^q))+C[3]+3250441966&4294967295,z=x+(k<<22&4294967295|k>>>10),k=q+(B^z&(x^B))+C[4]+4118548399&4294967295,q=z+(k<<7&4294967295|k>>>25),k=B+(x^q&(z^x))+C[5]+1200080426&4294967295,B=q+(k<<12&4294967295|k>>>20),k=x+(z^B&(q^z))+C[6]+2821735955&4294967295,x=B+(k<<17&4294967295|k>>>15),k=z+(q^x&(B^q))+C[7]+4249261313&4294967295,z=x+(k<<22&4294967295|k>>>10),k=q+(B^z&(x^B))+C[8]+1770035416&4294967295,q=z+(k<<7&4294967295|k>>>25),k=B+(x^q&(z^x))+C[9]+2336552879&4294967295,B=q+(k<<12&4294967295|k>>>20),k=x+(z^B&(q^z))+C[10]+4294925233&4294967295,x=B+(k<<17&4294967295|k>>>15),k=z+(q^x&(B^q))+C[11]+2304563134&4294967295,z=x+(k<<22&4294967295|k>>>10),k=q+(B^z&(x^B))+C[12]+1804603682&4294967295,q=z+(k<<7&4294967295|k>>>25),k=B+(x^q&(z^x))+C[13]+4254626195&4294967295,B=q+(k<<12&4294967295|k>>>20),k=x+(z^B&(q^z))+C[14]+2792965006&4294967295,x=B+(k<<17&4294967295|k>>>15),k=z+(q^x&(B^q))+C[15]+1236535329&4294967295,z=x+(k<<22&4294967295|k>>>10),k=q+(x^B&(z^x))+C[1]+4129170786&4294967295,q=z+(k<<5&4294967295|k>>>27),k=B+(z^x&(q^z))+C[6]+3225465664&4294967295,B=q+(k<<9&4294967295|k>>>23),k=x+(q^z&(B^q))+C[11]+643717713&4294967295,x=B+(k<<14&4294967295|k>>>18),k=z+(B^q&(x^B))+C[0]+3921069994&4294967295,z=x+(k<<20&4294967295|k>>>12),k=q+(x^B&(z^x))+C[5]+3593408605&4294967295,q=z+(k<<5&4294967295|k>>>27),k=B+(z^x&(q^z))+C[10]+38016083&4294967295,B=q+(k<<9&4294967295|k>>>23),k=x+(q^z&(B^q))+C[15]+3634488961&4294967295,x=B+(k<<14&4294967295|k>>>18),k=z+(B^q&(x^B))+C[4]+3889429448&4294967295,z=x+(k<<20&4294967295|k>>>12),k=q+(x^B&(z^x))+C[9]+568446438&4294967295,q=z+(k<<5&4294967295|k>>>27),k=B+(z^x&(q^z))+C[14]+3275163606&4294967295,B=q+(k<<9&4294967295|k>>>23),k=x+(q^z&(B^q))+C[3]+4107603335&4294967295,x=B+(k<<14&4294967295|k>>>18),k=z+(B^q&(x^B))+C[8]+1163531501&4294967295,z=x+(k<<20&4294967295|k>>>12),k=q+(x^B&(z^x))+C[13]+2850285829&4294967295,q=z+(k<<5&4294967295|k>>>27),k=B+(z^x&(q^z))+C[2]+4243563512&4294967295,B=q+(k<<9&4294967295|k>>>23),k=x+(q^z&(B^q))+C[7]+1735328473&4294967295,x=B+(k<<14&4294967295|k>>>18),k=z+(B^q&(x^B))+C[12]+2368359562&4294967295,z=x+(k<<20&4294967295|k>>>12),k=q+(z^x^B)+C[5]+4294588738&4294967295,q=z+(k<<4&4294967295|k>>>28),k=B+(q^z^x)+C[8]+2272392833&4294967295,B=q+(k<<11&4294967295|k>>>21),k=x+(B^q^z)+C[11]+1839030562&4294967295,x=B+(k<<16&4294967295|k>>>16),k=z+(x^B^q)+C[14]+4259657740&4294967295,z=x+(k<<23&4294967295|k>>>9),k=q+(z^x^B)+C[1]+2763975236&4294967295,q=z+(k<<4&4294967295|k>>>28),k=B+(q^z^x)+C[4]+1272893353&4294967295,B=q+(k<<11&4294967295|k>>>21),k=x+(B^q^z)+C[7]+4139469664&4294967295,x=B+(k<<16&4294967295|k>>>16),k=z+(x^B^q)+C[10]+3200236656&4294967295,z=x+(k<<23&4294967295|k>>>9),k=q+(z^x^B)+C[13]+681279174&4294967295,q=z+(k<<4&4294967295|k>>>28),k=B+(q^z^x)+C[0]+3936430074&4294967295,B=q+(k<<11&4294967295|k>>>21),k=x+(B^q^z)+C[3]+3572445317&4294967295,x=B+(k<<16&4294967295|k>>>16),k=z+(x^B^q)+C[6]+76029189&4294967295,z=x+(k<<23&4294967295|k>>>9),k=q+(z^x^B)+C[9]+3654602809&4294967295,q=z+(k<<4&4294967295|k>>>28),k=B+(q^z^x)+C[12]+3873151461&4294967295,B=q+(k<<11&4294967295|k>>>21),k=x+(B^q^z)+C[15]+530742520&4294967295,x=B+(k<<16&4294967295|k>>>16),k=z+(x^B^q)+C[2]+3299628645&4294967295,z=x+(k<<23&4294967295|k>>>9),k=q+(x^(z|~B))+C[0]+4096336452&4294967295,q=z+(k<<6&4294967295|k>>>26),k=B+(z^(q|~x))+C[7]+1126891415&4294967295,B=q+(k<<10&4294967295|k>>>22),k=x+(q^(B|~z))+C[14]+2878612391&4294967295,x=B+(k<<15&4294967295|k>>>17),k=z+(B^(x|~q))+C[5]+4237533241&4294967295,z=x+(k<<21&4294967295|k>>>11),k=q+(x^(z|~B))+C[12]+1700485571&4294967295,q=z+(k<<6&4294967295|k>>>26),k=B+(z^(q|~x))+C[3]+2399980690&4294967295,B=q+(k<<10&4294967295|k>>>22),k=x+(q^(B|~z))+C[10]+4293915773&4294967295,x=B+(k<<15&4294967295|k>>>17),k=z+(B^(x|~q))+C[1]+2240044497&4294967295,z=x+(k<<21&4294967295|k>>>11),k=q+(x^(z|~B))+C[8]+1873313359&4294967295,q=z+(k<<6&4294967295|k>>>26),k=B+(z^(q|~x))+C[15]+4264355552&4294967295,B=q+(k<<10&4294967295|k>>>22),k=x+(q^(B|~z))+C[6]+2734768916&4294967295,x=B+(k<<15&4294967295|k>>>17),k=z+(B^(x|~q))+C[13]+1309151649&4294967295,z=x+(k<<21&4294967295|k>>>11),k=q+(x^(z|~B))+C[4]+4149444226&4294967295,q=z+(k<<6&4294967295|k>>>26),k=B+(z^(q|~x))+C[11]+3174756917&4294967295,B=q+(k<<10&4294967295|k>>>22),k=x+(q^(B|~z))+C[2]+718787259&4294967295,x=B+(k<<15&4294967295|k>>>17),k=z+(B^(x|~q))+C[9]+3951481745&4294967295,$.g[0]=$.g[0]+q&4294967295,$.g[1]=$.g[1]+(x+(k<<21&4294967295|k>>>11))&4294967295,$.g[2]=$.g[2]+x&4294967295,$.g[3]=$.g[3]+B&4294967295}r.prototype.u=function($,q){q===void 0&&(q=$.length);for(var z=q-this.blockSize,C=this.B,x=this.h,B=0;B<q;){if(x==0)for(;B<=z;)i(this,$,B),B+=this.blockSize;if(typeof $=="string"){for(;B<q;)if(C[x++]=$.charCodeAt(B++),x==this.blockSize){i(this,C),x=0;break}}else for(;B<q;)if(C[x++]=$[B++],x==this.blockSize){i(this,C),x=0;break}}this.h=x,this.o+=q},r.prototype.v=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var q=1;q<$.length-8;++q)$[q]=0;var z=8*this.o;for(q=$.length-8;q<$.length;++q)$[q]=z&255,z/=256;for(this.u($),$=Array(16),q=z=0;4>q;++q)for(var C=0;32>C;C+=8)$[z++]=this.g[q]>>>C&255;return $};function o($,q){var z=f;return Object.prototype.hasOwnProperty.call(z,$)?z[$]:z[$]=q($)}function u($,q){this.h=q;for(var z=[],C=!0,x=$.length-1;0<=x;x--){var B=$[x]|0;C&&B==q||(z[x]=B,C=!1)}this.g=z}var f={};function p($){return-128<=$&&128>$?o($,function(q){return new u([q|0],0>q?-1:0)}):new u([$|0],0>$?-1:0)}function y($){if(isNaN($)||!isFinite($))return E;if(0>$)return D(y(-$));for(var q=[],z=1,C=0;$>=z;C++)q[C]=$/z|0,z*=4294967296;return new u(q,0)}function v($,q){if($.length==0)throw Error("number format error: empty string");if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if($.charAt(0)=="-")return D(v($.substring(1),q));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=y(Math.pow(q,8)),C=E,x=0;x<$.length;x+=8){var B=Math.min(8,$.length-x),k=parseInt($.substring(x,x+B),q);8>B?(B=y(Math.pow(q,B)),C=C.j(B).add(y(k))):(C=C.j(z),C=C.add(y(k)))}return C}var E=p(0),A=p(1),R=p(16777216);n=u.prototype,n.m=function(){if(O(this))return-D(this).m();for(var $=0,q=1,z=0;z<this.g.length;z++){var C=this.i(z);$+=(0<=C?C:4294967296+C)*q,q*=4294967296}return $},n.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(P(this))return"0";if(O(this))return"-"+D(this).toString($);for(var q=y(Math.pow($,6)),z=this,C="";;){var x=se(z,q).g;z=H(z,x.j(q));var B=((0<z.g.length?z.g[0]:z.h)>>>0).toString($);if(z=x,P(z))return B+C;for(;6>B.length;)B="0"+B;C=B+C}},n.i=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function P($){if($.h!=0)return!1;for(var q=0;q<$.g.length;q++)if($.g[q]!=0)return!1;return!0}function O($){return $.h==-1}n.l=function($){return $=H(this,$),O($)?-1:P($)?0:1};function D($){for(var q=$.g.length,z=[],C=0;C<q;C++)z[C]=~$.g[C];return new u(z,~$.h).add(A)}n.abs=function(){return O(this)?D(this):this},n.add=function($){for(var q=Math.max(this.g.length,$.g.length),z=[],C=0,x=0;x<=q;x++){var B=C+(this.i(x)&65535)+($.i(x)&65535),k=(B>>>16)+(this.i(x)>>>16)+($.i(x)>>>16);C=k>>>16,B&=65535,k&=65535,z[x]=k<<16|B}return new u(z,z[z.length-1]&-2147483648?-1:0)};function H($,q){return $.add(D(q))}n.j=function($){if(P(this)||P($))return E;if(O(this))return O($)?D(this).j(D($)):D(D(this).j($));if(O($))return D(this.j(D($)));if(0>this.l(R)&&0>$.l(R))return y(this.m()*$.m());for(var q=this.g.length+$.g.length,z=[],C=0;C<2*q;C++)z[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<$.g.length;x++){var B=this.i(C)>>>16,k=this.i(C)&65535,Se=$.i(x)>>>16,Ae=$.i(x)&65535;z[2*C+2*x]+=k*Ae,te(z,2*C+2*x),z[2*C+2*x+1]+=B*Ae,te(z,2*C+2*x+1),z[2*C+2*x+1]+=k*Se,te(z,2*C+2*x+1),z[2*C+2*x+2]+=B*Se,te(z,2*C+2*x+2)}for(C=0;C<q;C++)z[C]=z[2*C+1]<<16|z[2*C];for(C=q;C<2*q;C++)z[C]=0;return new u(z,0)};function te($,q){for(;($[q]&65535)!=$[q];)$[q+1]+=$[q]>>>16,$[q]&=65535,q++}function X($,q){this.g=$,this.h=q}function se($,q){if(P(q))throw Error("division by zero");if(P($))return new X(E,E);if(O($))return q=se(D($),q),new X(D(q.g),D(q.h));if(O(q))return q=se($,D(q)),new X(D(q.g),q.h);if(30<$.g.length){if(O($)||O(q))throw Error("slowDivide_ only works with positive integers.");for(var z=A,C=q;0>=C.l($);)z=oe(z),C=oe(C);var x=me(z,1),B=me(C,1);for(C=me(C,2),z=me(z,2);!P(C);){var k=B.add(C);0>=k.l($)&&(x=x.add(z),B=k),C=me(C,1),z=me(z,1)}return q=H($,x.j(q)),new X(x,q)}for(x=E;0<=$.l(q);){for(z=Math.max(1,Math.floor($.m()/q.m())),C=Math.ceil(Math.log(z)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),B=y(z),k=B.j(q);O(k)||0<k.l($);)z-=C,B=y(z),k=B.j(q);P(B)&&(B=A),x=x.add(B),$=H($,k)}return new X(x,$)}n.A=function($){return se(this,$).h},n.and=function($){for(var q=Math.max(this.g.length,$.g.length),z=[],C=0;C<q;C++)z[C]=this.i(C)&$.i(C);return new u(z,this.h&$.h)},n.or=function($){for(var q=Math.max(this.g.length,$.g.length),z=[],C=0;C<q;C++)z[C]=this.i(C)|$.i(C);return new u(z,this.h|$.h)},n.xor=function($){for(var q=Math.max(this.g.length,$.g.length),z=[],C=0;C<q;C++)z[C]=this.i(C)^$.i(C);return new u(z,this.h^$.h)};function oe($){for(var q=$.g.length+1,z=[],C=0;C<q;C++)z[C]=$.i(C)<<1|$.i(C-1)>>>31;return new u(z,$.h)}function me($,q){var z=q>>5;q%=32;for(var C=$.g.length-z,x=[],B=0;B<C;B++)x[B]=0<q?$.i(B+z)>>>q|$.i(B+z+1)<<32-q:$.i(B+z);return new u(x,$.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,mc=u}).apply(typeof bT<"u"?bT:typeof self<"u"?self:typeof window<"u"?window:{});var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qA,ag,jA,$y,sv,$A,zA,HA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,I){return d==Array.prototype||d==Object.prototype||(d[w]=I.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _y=="object"&&_y];for(var w=0;w<d.length;++w){var I=d[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(d,w){if(w)e:{var I=r;d=d.split(".");for(var V=0;V<d.length-1;V++){var le=d[V];if(!(le in I))break e;I=I[le]}d=d[d.length-1],V=I[d],w=w(V),w!=V&&w!=null&&e(I,d,{configurable:!0,writable:!0,value:w})}}function o(d,w){d instanceof String&&(d+="");var I=0,V=!1,le={next:function(){if(!V&&I<d.length){var ge=I++;return{value:w(ge,d[ge]),done:!1}}return V=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}i("Array.prototype.values",function(d){return d||function(){return o(this,function(w,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function y(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function v(d,w,I){return d.call.apply(d.bind,arguments)}function E(d,w,I){if(!d)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,V),d.apply(w,le)}}return function(){return d.apply(w,arguments)}}function A(d,w,I){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,A.apply(null,arguments)}function R(d,w){var I=Array.prototype.slice.call(arguments,1);return function(){var V=I.slice();return V.push.apply(V,arguments),d.apply(this,V)}}function P(d,w){function I(){}I.prototype=w.prototype,d.aa=w.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function(V,le,ge){for(var Ve=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)Ve[Zt-2]=arguments[Zt];return w.prototype[le].apply(V,Ve)}}function O(d){const w=d.length;if(0<w){const I=Array(w);for(let V=0;V<w;V++)I[V]=d[V];return I}return[]}function D(d,w){for(let I=1;I<arguments.length;I++){const V=arguments[I];if(p(V)){const le=d.length||0,ge=V.length||0;d.length=le+ge;for(let Ve=0;Ve<ge;Ve++)d[le+Ve]=V[Ve]}else d.push(V)}}class H{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function te(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function se(d){return se[" "](d),d}se[" "]=function(){};var oe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function me(d,w,I){for(const V in d)w.call(I,d[V],V,d)}function $(d,w){for(const I in d)w.call(void 0,d[I],I,d)}function q(d){const w={};for(const I in d)w[I]=d[I];return w}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,w){let I,V;for(let le=1;le<arguments.length;le++){V=arguments[le];for(I in V)d[I]=V[I];for(let ge=0;ge<z.length;ge++)I=z[ge],Object.prototype.hasOwnProperty.call(V,I)&&(d[I]=V[I])}}function x(d){var w=1;d=d.split(":");const I=[];for(;0<w&&d.length;)I.push(d.shift()),w--;return d.length&&I.push(d.join(":")),I}function B(d){f.setTimeout(()=>{throw d},0)}function k(){var d=ee;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Se{constructor(){this.h=this.g=null}add(w,I){const V=Ae.get();V.set(w,I),this.h?this.h.next=V:this.g=V,this.h=V}}var Ae=new H(()=>new ve,d=>d.reset());class ve{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,he=!1,ee=new Se,Q=()=>{const d=f.Promise.resolve(void 0);Te=()=>{d.then(j)}};var j=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(I){B(I)}var w=Ae;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}he=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};f.addEventListener("test",I,w),f.removeEventListener("test",I,w)}catch{}return d}();function Ce(d,w){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,V=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(oe){e:{try{se(w.nodeName);var le=!0;break e}catch{}le=!1}le||(w=null)}}else I=="mouseover"?w=d.fromElement:I=="mouseout"&&(w=d.toElement);this.relatedTarget=w,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:qe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ce.aa.h.call(this)}}P(Ce,pe);var qe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function Ke(d,w,I,V,le){this.listener=d,this.proxy=null,this.src=w,this.type=I,this.capture=!!V,this.ha=le,this.key=++Ue,this.da=this.fa=!1}function rt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ot(d){this.src=d,this.g={},this.h=0}ot.prototype.add=function(d,w,I,V,le){var ge=d.toString();d=this.g[ge],d||(d=this.g[ge]=[],this.h++);var Ve=Pt(d,w,V,le);return-1<Ve?(w=d[Ve],I||(w.fa=!1)):(w=new Ke(w,this.src,ge,!!V,le),w.fa=I,d.push(w)),w};function It(d,w){var I=w.type;if(I in d.g){var V=d.g[I],le=Array.prototype.indexOf.call(V,w,void 0),ge;(ge=0<=le)&&Array.prototype.splice.call(V,le,1),ge&&(rt(w),d.g[I].length==0&&(delete d.g[I],d.h--))}}function Pt(d,w,I,V){for(var le=0;le<d.length;++le){var ge=d[le];if(!ge.da&&ge.listener==w&&ge.capture==!!I&&ge.ha==V)return le}return-1}var Ot="closure_lm_"+(1e6*Math.random()|0),cn={};function zs(d,w,I,V,le){if(Array.isArray(w)){for(var ge=0;ge<w.length;ge++)zs(d,w[ge],I,V,le);return null}return I=Fr(I),d&&d[He]?d.K(w,I,y(V)?!!V.capture:!1,le):_r(d,w,I,!1,V,le)}function _r(d,w,I,V,le,ge){if(!w)throw Error("Invalid event type");var Ve=y(le)?!!le.capture:!!le,Zt=bi(d);if(Zt||(d[Ot]=Zt=new ot(d)),I=Zt.add(w,I,V,Ve,ge),I.proxy)return I;if(V=ea(),I.proxy=V,V.src=d,V.listener=I,d.addEventListener)ke||(le=Ve),le===void 0&&(le=!1),d.addEventListener(w.toString(),V,le);else if(d.attachEvent)d.attachEvent(mn(w.toString()),V);else if(d.addListener&&d.removeListener)d.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ea(){function d(I){return w.call(d.src,d.listener,I)}const w=Si;return d}function wo(d,w,I,V,le){if(Array.isArray(w))for(var ge=0;ge<w.length;ge++)wo(d,w[ge],I,V,le);else V=y(V)?!!V.capture:!!V,I=Fr(I),d&&d[He]?(d=d.i,w=String(w).toString(),w in d.g&&(ge=d.g[w],I=Pt(ge,I,V,le),-1<I&&(rt(ge[I]),Array.prototype.splice.call(ge,I,1),ge.length==0&&(delete d.g[w],d.h--)))):d&&(d=bi(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Pt(w,I,V,le)),(I=-1<d?w[d]:null)&&Gn(I))}function Gn(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[He])It(w.i,d);else{var I=d.type,V=d.proxy;w.removeEventListener?w.removeEventListener(I,V,d.capture):w.detachEvent?w.detachEvent(mn(I),V):w.addListener&&w.removeListener&&w.removeListener(V),(I=bi(w))?(It(I,d),I.h==0&&(I.src=null,w[Ot]=null)):rt(d)}}}function mn(d){return d in cn?cn[d]:cn[d]="on"+d}function Si(d,w){if(d.da)d=!0;else{w=new Ce(w,this);var I=d.listener,V=d.ha||d.src;d.fa&&Gn(d),d=I.call(V,w)}return d}function bi(d){return d=d[Ot],d instanceof ot?d:null}var Rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fr(d){return typeof d=="function"?d:(d[Rr]||(d[Rr]=function(w){return d.handleEvent(w)}),d[Rr])}function Cn(){ne.call(this),this.i=new ot(this),this.M=this,this.F=null}P(Cn,ne),Cn.prototype[He]=!0,Cn.prototype.removeEventListener=function(d,w,I,V){wo(this,d,w,I,V)};function Xt(d,w){var I,V=d.F;if(V)for(I=[];V;V=V.F)I.push(V);if(d=d.M,V=w.type||w,typeof w=="string")w=new pe(w,d);else if(w instanceof pe)w.target=w.target||d;else{var le=w;w=new pe(V,d),C(w,le)}if(le=!0,I)for(var ge=I.length-1;0<=ge;ge--){var Ve=w.g=I[ge];le=Bn(Ve,V,!0,w)&&le}if(Ve=w.g=d,le=Bn(Ve,V,!0,w)&&le,le=Bn(Ve,V,!1,w)&&le,I)for(ge=0;ge<I.length;ge++)Ve=w.g=I[ge],le=Bn(Ve,V,!1,w)&&le}Cn.prototype.N=function(){if(Cn.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var I=d.g[w],V=0;V<I.length;V++)rt(I[V]);delete d.g[w],d.h--}}this.F=null},Cn.prototype.K=function(d,w,I,V){return this.i.add(String(d),w,!1,I,V)},Cn.prototype.L=function(d,w,I,V){return this.i.add(String(d),w,!0,I,V)};function Bn(d,w,I,V){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var le=!0,ge=0;ge<w.length;++ge){var Ve=w[ge];if(Ve&&!Ve.da&&Ve.capture==I){var Zt=Ve.listener,cr=Ve.ha||Ve.src;Ve.fa&&It(d.i,Ve),le=Zt.call(cr,V)!==!1&&le}}return le&&!V.defaultPrevented}function Xi(d,w,I){if(typeof d=="function")I&&(d=A(d,I));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:f.setTimeout(d,w||0)}function xn(d){d.g=Xi(()=>{d.g=null,d.i&&(d.i=!1,xn(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Ai extends ne{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:xn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ii(d){ne.call(this),this.h=d,this.g={}}P(Ii,ne);var Hs=[];function Yi(d){me(d.g,function(w,I){this.g.hasOwnProperty(I)&&Gn(w)},d),d.g={}}Ii.prototype.N=function(){Ii.aa.N.call(this),Yi(this)},Ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=f.JSON.stringify,ps=f.JSON.parse,xi=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function ti(){}ti.prototype.h=null;function vr(d){return d.h||(d.h=d.i())}function Zi(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){pe.call(this,"d")}P(or,pe);function gs(){pe.call(this,"c")}P(gs,pe);var wr={},Ws=null;function es(){return Ws=Ws||new Cn}wr.La="serverreachability";function ms(d){pe.call(this,wr.La,d)}P(ms,pe);function Er(d){const w=es();Xt(w,new ms(w))}wr.STAT_EVENT="statevent";function Eo(d,w){pe.call(this,wr.STAT_EVENT,d),this.stat=w}P(Eo,pe);function Yt(d){const w=es();Xt(w,new Eo(w,d))}wr.Ma="timingevent";function ys(d,w){pe.call(this,wr.Ma,d),this.size=w}P(ys,pe);function ni(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},w)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function _s(d,w,I,V,le,ge){d.info(function(){if(d.g)if(ge)for(var Ve="",Zt=ge.split("&"),cr=0;cr<Zt.length;cr++){var Vt=Zt[cr].split("=");if(1<Vt.length){var en=Vt[0];Vt=Vt[1];var Mn=en.split("_");Ve=2<=Mn.length&&Mn[1]=="type"?Ve+(en+"="+Vt+"&"):Ve+(en+"=redacted&")}}else Ve=null;else Ve=ge;return"XMLHTTP REQ ("+V+") [attempt "+le+"]: "+w+`
`+I+`
`+Ve})}function vs(d,w,I,V,le,ge,Ve){d.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+le+"]: "+w+`
`+I+`
`+ge+" "+Ve})}function tn(d,w,I,V){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ol(d,I)+(V?" "+V:"")})}function ta(d,w){d.info(function(){return"TIMEOUT: "+w})}ts.prototype.info=function(){};function Ol(d,w){if(!d.g)return w;if(!w)return null;try{var I=JSON.parse(w);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var V=I[d];if(!(2>V.length)){var le=V[1];if(Array.isArray(le)&&!(1>le.length)){var ge=le[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var Ve=1;Ve<le.length;Ve++)le[Ve]=""}}}}return Ci(I)}catch{return w}}var To={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function yn(){}P(yn,ti),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},ri=new yn;function ii(d,w,I,V){this.j=d,this.i=w,this.l=I,this.R=V||1,this.U=new Ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var na={},So={};function bo(d,w,I){d.L=1,d.v=br(Sr(w)),d.m=I,d.P=!0,Kn(d,null)}function Kn(d,w){d.F=Date.now(),jt(d),d.A=Sr(d.v);var I=d.A,V=d.R;Array.isArray(V)||(V=[String(V)]),Pi(I.i,"t",V),d.C=0,I=d.j.J,d.h=new Ba,d.g=$h(d.j,I?w:null,!d.m),0<d.O&&(d.M=new Ai(A(d.Y,d,d.g),d.O)),w=d.U,I=d.g,V=d.ca;var le="readystatechange";Array.isArray(le)||(le&&(Hs[0]=le.toString()),le=Hs);for(var ge=0;ge<le.length;ge++){var Ve=zs(I,le[ge],V||w.handleEvent,!1,w.h||w);if(!Ve)break;w.g[Ve.key]=Ve}w=d.H?q(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),Er(),_s(d.i,d.u,d.A,d.l,d.R,d.m)}ii.prototype.ca=function(d){d=d.target;const w=this.M;w&&Mt(d)==3?w.j():this.Y(d)},ii.prototype.Y=function(d){try{if(d==this.g)e:{const Mn=Mt(this.g);var w=this.g.Ba();const Hr=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||jn(this.g)))){this.J||Mn!=4||w==7||(w==8||0>=Hr?Er(3):Er(2)),Ks(this);var I=this.g.Z();this.X=I;t:if(Gs(this)){var V=jn(this.g);d="";var le=V.length,ge=Mt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),si(this);var Ve="";break t}this.h.i=new f.TextDecoder}for(w=0;w<le;w++)this.h.h=!0,d+=this.h.i.decode(V[w],{stream:!(ge&&w==le-1)});V.length=0,this.h.g+=d,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=I==200,vs(this.i,this.u,this.A,this.l,this.R,Mn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,cr=this.g;if((Zt=cr.g?cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Zt)){var Vt=Zt;break t}}Vt=null}if(I=Vt)tn(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ns(this,I);else{this.o=!1,this.s=3,Yt(12),Tr(this),si(this);break e}}if(this.P){I=!0;let Li;for(;!this.J&&this.C<Ve.length;)if(Li=Ll(this,Ve),Li==So){Mn==4&&(this.s=4,Yt(14),I=!1),tn(this.i,this.l,null,"[Incomplete Response]");break}else if(Li==na){this.s=4,Yt(15),tn(this.i,this.l,Ve,"[Invalid Chunk]"),I=!1;break}else tn(this.i,this.l,Li,null),ns(this,Li);if(Gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Ve.length!=0||this.h.h||(this.s=1,Yt(16),I=!1),this.o=this.o&&I,!I)tn(this.i,this.l,Ve,"[Invalid Chunked Response]"),Tr(this),si(this);else if(0<Ve.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),bs(en),en.M=!0,Yt(11))}}else tn(this.i,this.l,Ve,null),ns(this,Ve);Mn==4&&Tr(this),this.o&&!this.J&&(Mn==4?nn(this.j,this):(this.o=!1,jt(this)))}else on(this.g),I==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Tr(this),si(this)}}}catch{}finally{}};function Gs(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ll(d,w){var I=d.C,V=w.indexOf(`
`,I);return V==-1?So:(I=Number(w.substring(I,V)),isNaN(I)?na:(V+=1,V+I>w.length?So:(w=w.slice(V,V+I),d.C=V+I,w)))}ii.prototype.cancel=function(){this.J=!0,Tr(this)};function jt(d){d.S=Date.now()+d.I,qa(d,d.I)}function qa(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ni(A(d.ba,d),w)}function Ks(d){d.B&&(f.clearTimeout(d.B),d.B=null)}ii.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ta(this.i,this.A),this.L!=2&&(Er(),Yt(17)),Tr(this),this.s=2,si(this)):qa(this,this.S-d)};function si(d){d.j.G==0||d.J||nn(d.j,d)}function Tr(d){Ks(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Yi(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function ns(d,w){try{var I=d.j;if(I.G!=0&&(I.g==d||ar(I.h,d))){if(!d.K&&ar(I.h,d)&&I.G==3){try{var V=I.Da.g.parse(w)}catch{V=null}if(Array.isArray(V)&&V.length==3){var le=V;if(le[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)Ha(I),Dn(I);else break e;Ml(I),Yt(18)}}else I.za=le[1],0<I.za-I.T&&37500>le[2]&&I.F&&I.v==0&&!I.C&&(I.C=ni(A(I.Za,I),6e3));if(1>=ja(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Xs(I,11)}else if((d.K||I.g==d)&&Ha(I),!te(w))for(le=I.Da.g.parse(w),w=0;w<le.length;w++){let Vt=le[w];if(I.T=Vt[0],Vt=Vt[1],I.G==2)if(Vt[0]=="c"){I.K=Vt[1],I.ia=Vt[2];const en=Vt[3];en!=null&&(I.la=en,I.j.info("VER="+I.la));const Mn=Vt[4];Mn!=null&&(I.Aa=Mn,I.j.info("SVER="+I.Aa));const Hr=Vt[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(V=1.5*Hr,I.L=V,I.j.info("backChannelRequestTimeoutMs_="+V)),V=I;const Li=d.g;if(Li){const Wa=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var ge=V.h;ge.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Ao(ge,ge.h),ge.h=null))}if(V.D){const Ru=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ru&&(V.ya=Ru,Wt(V.I,V.D,Ru))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),V=I;var Ve=d;if(V.qa=Cu(V,V.J?V.ia:null,V.W),Ve.K){ra(V.h,Ve);var Zt=Ve,cr=V.L;cr&&(Zt.I=cr),Zt.B&&(Ks(Zt),jt(Zt)),V.g=Ve}else Dl(V);0<I.i.length&&Oi(I)}else Vt[0]!="stop"&&Vt[0]!="close"||Xs(I,7);else I.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Xs(I,7):fn(I):Vt[0]!="noop"&&I.l&&I.l.ta(Vt),I.v=0)}}Er(4)}catch{}}var Br=class{constructor(d,w){this.g=d,this.map=w}};function rs(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ja(d){return d.h?1:d.g?d.g.size:0}function ar(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Ao(d,w){d.g?d.g.add(w):d.h=w}function ra(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}rs.prototype.cancel=function(){if(this.i=ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ws(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const I of d.g.values())w=w.concat(I.D);return w}return O(d.i)}function Ri(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var w=[],I=d.length,V=0;V<I;V++)w.push(d[V]);return w}w=[],I=0;for(V in d)w[I++]=d[V];return w}function ki(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var w=[];d=d.length;for(var I=0;I<d;I++)w.push(I);return w}w=[],I=0;for(const V in d)w[I++]=V;return w}}}function Ni(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var I=ki(d),V=Ri(d),le=V.length,ge=0;ge<le;ge++)w.call(void 0,V[ge],I&&I[ge],d)}var oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(d,w){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var V=d[I].indexOf("="),le=null;if(0<=V){var ge=d[I].substring(0,V);le=d[I].substring(V+1)}else ge=d[I];w(ge,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function is(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof is){this.h=d.h,Es(this,d.j),this.o=d.o,this.g=d.g,qr(this,d.s),this.l=d.l;var w=d.i,I=new ui;I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),Ts(this,I),this.m=d.m}else d&&(w=String(d).match(oi))?(this.h=!1,Es(this,w[1]||"",!0),this.o=ct(w[2]||""),this.g=ct(w[3]||"",!0),qr(this,w[4]),this.l=ct(w[5]||"",!0),Ts(this,w[6]||"",!0),this.m=ct(w[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}is.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Rn(w,Js,!0),":");var I=this.g;return(I||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Rn(w,Js,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(Rn(I,I.charAt(0)=="/"?ia:li,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",Rn(I,Io)),d.join("")};function Sr(d){return new is(d)}function Es(d,w,I){d.j=I?ct(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function qr(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Ts(d,w,I){w instanceof ui?(d.i=w,$r(d.i,d.h)):(I||(w=Rn(w,sa)),d.i=new ui(w,d.h))}function Wt(d,w,I){d.i.set(w,I)}function br(d){return Wt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ct(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Rn(d,w,I){return typeof d=="string"?(d=encodeURI(d).replace(w,ai),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ai(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Js=/[#\/\?@]/g,li=/[#\?:]/g,ia=/[#\?]/g,sa=/[#\?@]/g,Io=/#/g;function ui(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Ln(d){d.g||(d.g=new Map,d.h=0,d.i&&$a(d.i,function(w,I){d.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}n=ui.prototype,n.add=function(d,w){Ln(this),this.i=null,d=lr(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(w),this.h+=1,this};function hn(d,w){Ln(d),w=lr(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function jr(d,w){return Ln(d),w=lr(d,w),d.g.has(w)}n.forEach=function(d,w){Ln(this),this.g.forEach(function(I,V){I.forEach(function(le){d.call(w,le,V,this)},this)},this)},n.na=function(){Ln(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),I=[];for(let V=0;V<w.length;V++){const le=d[V];for(let ge=0;ge<le.length;ge++)I.push(w[V])}return I},n.V=function(d){Ln(this);let w=[];if(typeof d=="string")jr(this,d)&&(w=w.concat(this.g.get(lr(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)w=w.concat(d[I])}return w},n.set=function(d,w){return Ln(this),this.i=null,d=lr(this,d),jr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Pi(d,w,I){hn(d,w),0<I.length&&(d.i=null,d.g.set(lr(d,w),O(I)),d.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var I=0;I<w.length;I++){var V=w[I];const ge=encodeURIComponent(String(V)),Ve=this.V(V);for(V=0;V<Ve.length;V++){var le=ge;Ve[V]!==""&&(le+="="+encodeURIComponent(String(Ve[V]))),d.push(le)}}return this.i=d.join("&")};function lr(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function $r(d,w){w&&!d.j&&(Ln(d),d.i=null,d.g.forEach(function(I,V){var le=V.toLowerCase();V!=le&&(hn(this,V),Pi(this,le,I))},d)),d.j=w}function Co(d,w){const I=new ts;if(f.Image){const V=new Image;V.onload=R(qn,I,"TestLoadImage: loaded",!0,w,V),V.onerror=R(qn,I,"TestLoadImage: error",!1,w,V),V.onabort=R(qn,I,"TestLoadImage: abort",!1,w,V),V.ontimeout=R(qn,I,"TestLoadImage: timeout",!1,w,V),f.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=d}else w(!1)}function za(d,w){const I=new ts,V=new AbortController,le=setTimeout(()=>{V.abort(),qn(I,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:V.signal}).then(ge=>{clearTimeout(le),ge.ok?qn(I,"TestPingServer: ok",!0,w):qn(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(le),qn(I,"TestPingServer: error",!1,w)})}function qn(d,w,I,V,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),V(I)}catch{}}function oa(){this.g=new xi}function aa(d,w,I){const V=I||"";try{Ni(d,function(le,ge){let Ve=le;y(le)&&(Ve=Ci(le)),w.push(V+ge+"="+encodeURIComponent(Ve))})}catch(le){throw w.push(V+"type="+encodeURIComponent("_badmap")),le}}function Jn(d){this.l=d.Ub||null,this.j=d.eb||!1}P(Jn,ti),Jn.prototype.g=function(){return new Ss(this.l,this.j)},Jn.prototype.i=function(d){return function(){return d}}({});function Ss(d,w){Cn.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ss,Cn),n=Ss.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,St(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||f).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ct(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,St(this)),this.g&&(this.readyState=3,St(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Ct(this):St(this),this.readyState==3&&xo(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ct(this))},n.Qa=function(d){this.g&&(this.response=d,Ct(this))},n.ga=function(){this.g&&Ct(this)};function Ct(d){d.readyState=4,d.l=null,d.j=null,d.v=null,St(d)}n.setRequestHeader=function(d,w){this.u.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=w.next();return d.join(`\r
`)};function St(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function b(d){let w="";return me(d,function(I,V){w+=V,w+=":",w+=I,w+=`\r
`}),w}function U(d,w,I){e:{for(V in I){var V=!1;break e}V=!0}V||(I=b(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):Wt(d,w,I))}function G(d){Cn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(G,Cn);var _e=/^https?$/i,ht=["POST","PUT"];n=G.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,w,I,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?vr(this.o):vr(ri),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(ge){Qe(this,ge);return}if(d=I||"",I=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var le in V)I.set(le,V[le]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ge of V.keys())I.set(ge,V.get(ge));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(I.keys()).find(ge=>ge.toLowerCase()=="content-type"),le=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ht,w,void 0))||V||le||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Ve]of I)this.g.setRequestHeader(ge,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rt(this),this.u=!0,this.g.send(d),this.u=!1}catch(ge){Qe(this,ge)}};function Qe(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,bt(d),ut(d)}function bt(d){d.A||(d.A=!0,Xt(d,"complete"),Xt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Xt(this,"complete"),Xt(this,"abort"),ut(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ut(this,!0)),G.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xt(this):this.bb())},n.bb=function(){xt(this)};function xt(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Mt(d)!=4||d.Z()!=2)){if(d.u&&Mt(d)==4)Xi(d.Ea,0,d);else if(Xt(d,"readystatechange"),Mt(d)==4){d.h=!1;try{const Ve=d.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var V;if(V=Ve===0){var le=String(d.D).match(oi)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),V=!_e.test(le?le.toLowerCase():"")}I=V}if(I)Xt(d,"complete"),Xt(d,"success");else{d.m=6;try{var ge=2<Mt(d)?d.g.statusText:""}catch{ge=""}d.l=ge+" ["+d.Z()+"]",bt(d)}}finally{ut(d)}}}}function ut(d,w){if(d.g){Rt(d);const I=d.g,V=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||Xt(d,"ready");try{I.onreadystatechange=V}catch{}}}function Rt(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Mt(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Mt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),ps(w)}};function jn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function on(d){const w={};d=(d.g&&2<=Mt(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<d.length;V++){if(te(d[V]))continue;var I=x(d[V]);const le=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ge=w[le]||[];w[le]=ge,ge.push(I)}$(w,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lt(d,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||w}function Sn(d){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lt("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lt("baseRetryDelayMs",5e3,d),this.cb=Lt("retryDelaySeedMs",1e4,d),this.Wa=Lt("forwardChannelMaxRetries",2,d),this.wa=Lt("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(d&&d.concurrentRequestLimit),this.Da=new oa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sn.prototype,n.la=8,n.G=1,n.connect=function(d,w,I,V){Yt(0),this.W=d,this.H=w||{},I&&V!==void 0&&(this.H.OSID=I,this.H.OAID=V),this.F=this.X,this.I=Cu(this,null,this.W),Oi(this)};function fn(d){if(ci(d),d.G==3){var w=d.U++,I=Sr(d.I);if(Wt(I,"SID",d.K),Wt(I,"RID",w),Wt(I,"TYPE","terminate"),ua(d,I),w=new ii(d,d.j,w),w.L=2,w.v=br(Sr(I)),I=!1,f.navigator&&f.navigator.sendBeacon)try{I=f.navigator.sendBeacon(w.v.toString(),"")}catch{}!I&&f.Image&&(new Image().src=w.v,I=!0),I||(w.g=$h(w.j,null),w.g.ea(w.v)),w.F=Date.now(),jt(w)}jh(d)}function Dn(d){d.g&&(bs(d),d.g.cancel(),d.g=null)}function ci(d){Dn(d),d.u&&(f.clearTimeout(d.u),d.u=null),Ha(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Oi(d){if(!kr(d.h)&&!d.s){d.s=!0;var w=d.Ga;Te||Q(),he||(Te(),he=!0),ee.add(w,d),d.B=0}}function la(d,w){return ja(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ni(A(d.Ga,d,w),Qs(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const le=new ii(this,this.j,d);let ge=this.o;if(this.S&&(ge?(ge=q(ge),C(ge,this.S)):ge=this.S),this.m!==null||this.O||(le.H=ge,ge=null),this.P)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var V=this.i[I];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(w+=V,4096<w){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=ur(this,le,w),I=Sr(this.I),Wt(I,"RID",d),Wt(I,"CVER",22),this.D&&Wt(I,"X-HTTP-Session-Id",this.D),ua(this,I),ge&&(this.O?w="headers="+encodeURIComponent(String(b(ge)))+"&"+w:this.m&&U(I,this.m,ge)),Ao(this.h,le),this.Ua&&Wt(I,"TYPE","init"),this.P?(Wt(I,"$req",w),Wt(I,"SID","null"),le.T=!0,bo(le,I,null)):bo(le,I,w),this.G=2}}else this.G==3&&(d?kn(this,d):this.i.length==0||kr(this.h)||kn(this))};function kn(d,w){var I;w?I=w.l:I=d.U++;const V=Sr(d.I);Wt(V,"SID",d.K),Wt(V,"RID",I),Wt(V,"AID",d.T),ua(d,V),d.m&&d.o&&U(V,d.m,d.o),I=new ii(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),w&&(d.i=w.D.concat(d.i)),w=ur(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ao(d.h,I),bo(I,V,w)}function ua(d,w){d.H&&me(d.H,function(I,V){Wt(w,V,I)}),d.l&&Ni({},function(I,V){Wt(w,V,I)})}function ur(d,w,I){I=Math.min(d.i.length,I);var V=d.l?A(d.l.Na,d.l,d):null;e:{var le=d.i;let ge=-1;for(;;){const Ve=["count="+I];ge==-1?0<I?(ge=le[0].g,Ve.push("ofs="+ge)):ge=0:Ve.push("ofs="+ge);let Zt=!0;for(let cr=0;cr<I;cr++){let Vt=le[cr].g;const en=le[cr].map;if(Vt-=ge,0>Vt)ge=Math.max(0,le[cr].g-100),Zt=!1;else try{aa(en,Ve,"req"+Vt+"_")}catch{V&&V(en)}}if(Zt){V=Ve.join("&");break e}}}return d=d.i.splice(0,I),w.D=d,V}function Dl(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;Te||Q(),he||(Te(),he=!0),ee.add(w,d),d.v=0}}function Ml(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ni(A(d.Fa,d),Qs(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ul(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ni(A(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Dn(this),Ul(this))};function bs(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Ul(d){d.g=new ii(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Sr(d.qa);Wt(w,"RID","rpc"),Wt(w,"SID",d.K),Wt(w,"AID",d.T),Wt(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Wt(w,"TO",d.ja),Wt(w,"TYPE","xmlhttp"),ua(d,w),d.m&&d.o&&U(w,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=br(Sr(w)),I.m=null,I.P=!0,Kn(I,d)}n.Za=function(){this.C!=null&&(this.C=null,Dn(this),Ml(this),Yt(19))};function Ha(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function nn(d,w){var I=null;if(d.g==w){Ha(d),bs(d),d.g=null;var V=2}else if(ar(d.h,w))I=w.D,ra(d.h,w),V=1;else return;if(d.G!=0){if(w.o)if(V==1){I=w.m?w.m.length:0,w=Date.now()-w.F;var le=d.B;V=es(),Xt(V,new ys(V,I)),Oi(d)}else Dl(d);else if(le=w.s,le==3||le==0&&0<w.X||!(V==1&&la(d,w)||V==2&&Ml(d)))switch(I&&0<I.length&&(w=d.h,w.i=w.i.concat(I)),le){case 1:Xs(d,5);break;case 4:Xs(d,10);break;case 3:Xs(d,6);break;default:Xs(d,2)}}}function Qs(d,w){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*w}function Xs(d,w){if(d.j.info("Error code "+w),w==2){var I=A(d.fb,d),V=d.Xa;const le=!V;V=new is(V||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Es(V,"https"),br(V),le?Co(V.toString(),I):za(V.toString(),I)}else Yt(2);d.G=0,d.l&&d.l.sa(w),jh(d),ci(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function jh(d){if(d.G=0,d.ka=[],d.l){const w=ws(d.h);(w.length!=0||d.i.length!=0)&&(D(d.ka,w),D(d.ka,d.i),d.h.i.length=0,O(d.i),d.i.length=0),d.l.ra()}}function Cu(d,w,I){var V=I instanceof is?Sr(I):new is(I);if(V.g!="")w&&(V.g=w+"."+V.g),qr(V,V.s);else{var le=f.location;V=le.protocol,w=w?w+"."+le.hostname:le.hostname,le=+le.port;var ge=new is(null);V&&Es(ge,V),w&&(ge.g=w),le&&qr(ge,le),I&&(ge.l=I),V=ge}return I=d.D,w=d.ya,I&&w&&Wt(V,I,w),Wt(V,"VER",d.la),ua(d,V),V}function $h(d,w,I){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new G(new Jn({eb:I})):new G(d.pa),w.Ha(d.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}n=kc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xu(){}xu.prototype.g=function(d,w){return new zr(d,w)};function zr(d,w){Cn.call(this),this.g=new Sn(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!te(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!te(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Ro(this)}P(zr,Cn),zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zr.prototype.close=function(){fn(this.g)},zr.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=Ci(d),d=I);w.i.push(new Br(w.Ya++,d)),w.G==3&&Oi(w)},zr.prototype.N=function(){this.g.l=null,delete this.j,fn(this.g),delete this.g,zr.aa.N.call(this)};function Vl(d){or.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const I in w){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}P(Vl,or);function ca(){gs.call(this),this.status=1}P(ca,gs);function Ro(d){this.g=d}P(Ro,kc),Ro.prototype.ua=function(){Xt(this.g,"a")},Ro.prototype.ta=function(d){Xt(this.g,new Vl(d))},Ro.prototype.sa=function(d){Xt(this.g,new ca)},Ro.prototype.ra=function(){Xt(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,zr.prototype.send=zr.prototype.o,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,HA=function(){return new xu},zA=function(){return es()},$A=wr,sv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},To.NO_ERROR=0,To.TIMEOUT=8,To.HTTP_ERROR=6,$y=To,Fa.COMPLETE="complete",jA=Fa,Zi.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",Cn.prototype.listen=Cn.prototype.K,ag=Zi,G.prototype.listenOnce=G.prototype.L,G.prototype.getLastError=G.prototype.Ka,G.prototype.getLastErrorCode=G.prototype.Ba,G.prototype.getStatus=G.prototype.Z,G.prototype.getResponseJson=G.prototype.Oa,G.prototype.getResponseText=G.prototype.oa,G.prototype.send=G.prototype.ea,G.prototype.setWithCredentials=G.prototype.Ha,qA=G}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});const AT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new uw("@firebase/firestore");function ad(){return Sh.logLevel}function Ge(n,...e){if(Sh.logLevel<=Bt.DEBUG){const t=e.map(fw);Sh.debug(`Firestore (${$d}): ${n}`,...t)}}function _u(n,...e){if(Sh.logLevel<=Bt.ERROR){const t=e.map(fw);Sh.error(`Firestore (${$d}): ${n}`,...t)}}function Cd(n,...e){if(Sh.logLevel<=Bt.WARN){const t=e.map(fw);Sh.warn(`Firestore (${$d}): ${n}`,...t)}}function fw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n="Unexpected state"){const e=`FIRESTORE (${$d}) INTERNAL ASSERTION FAILED: `+n;throw _u(e),new Error(e)}function un(n,e){n||yt()}function wt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Nl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zi.UNAUTHENTICATED))}shutdown(){}}class OO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LO{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){un(this.o===void 0);let r=this.i;const i=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let o=new yc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yc,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},f=p=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yc)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(un(typeof r.accessToken=="string"),new WA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return un(e===null||typeof e=="string"),new zi(e)}}class DO{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MO{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new DO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){un(this.o===void 0);const r=o=>{o.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,Ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un(typeof t.token=="string"),this.R=t.token,new UO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function xd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{static now(){return Ur.fromMillis(Date.now())}static fromDate(e){return Ur.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ur(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new lt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Ur(0,0))}static max(){return new vt(new Ur(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t,r){t===void 0?t=0:t>e.length&&yt(),r===void 0?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return gl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=gl.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=gl.isNumericId(e),i=gl.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?gl.extractNumericId(e).compare(gl.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mc.fromString(e.substring(4,e.length-2))}}class nr extends gl{construct(e,t,r){return new nr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nr(t)}static emptyPath(){return new nr([])}}const BO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends gl{construct(e,t,r){return new wi(e,t,r)}static isValidIdentifier(e){return BO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new lt(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new lt(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else f==="`"?(u=!u,i++):f!=="."||u?(r+=f,i++):(o(),i++)}if(o(),u)throw new lt(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(t)}static emptyPath(){return new wi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(nr.fromString(e))}static fromName(e){return new dt(nr.fromString(e).popFirst(5))}static empty(){return new dt(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new nr(e.slice()))}}function qO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(r===1e9?new Ur(t+1,0):new Ur(t,r));return new Ec(i,dt.empty(),e)}function jO(n){return new Ec(n.readTime,n.key,-1)}class Ec{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ec(vt.min(),dt.empty(),-1)}static max(){return new Ec(vt.max(),dt.empty(),-1)}}function $O(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=dt.comparator(n.documentKey,e.documentKey),t!==0?t:Ht(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(n){if(n.code!==De.FAILED_PRECONDITION||n.message!==zO)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Re((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Re?t:Re.resolve(t)}catch(t){return Re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.reject(t)}static resolve(e){return new Re((t,r)=>{t(e)})}static reject(e){return new Re((t,r)=>{r(e)})}static waitFor(e){return new Re((t,r)=>{let i=0,o=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++o,u&&o===i&&t()},p=>r(p))}),u=!0,o===i&&t()})}static or(e){let t=Re.resolve(!1);for(const r of e)t=t.next(i=>i?Re.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Re((r,i)=>{const o=e.length,u=new Array(o);let f=0;for(let p=0;p<o;p++){const y=p;t(e[y]).next(v=>{u[y]=v,++f,f===o&&r(u)},v=>i(v))}})}static doWhile(e,t){return new Re((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function WO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Hd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}V0.oe=-1;function F0(n){return n==null}function f0(n){return n===0&&1/n==-1/0}function GO(n){return typeof n=="number"&&Number.isInteger(n)&&!f0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=IT(e)),e=JO(n.get(t),e);return IT(e)}function JO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function IT(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ph(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t){this.comparator=e,this.root=t||_i.EMPTY}insert(e,t){return new Wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(e){return new Wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vy(this.root,e,this.comparator,!1)}getReverseIterator(){return new vy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vy(this.root,e,this.comparator,!0)}}class vy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _i{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??_i.RED,this.left=i??_i.EMPTY,this.right=o??_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new _i(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return _i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1;_i.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,t,r,i,o){return this}insert(e,t,r){return new _i(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.comparator=e,this.data=new Wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xT(this.data.getIterator())}getIteratorFrom(e){return new xT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vr(this.comparator);return t.data=e,t}}class xT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new Na([])}unionWith(e){let t=new Vr(wi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Na(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new JA("Invalid base64 string: "+o):o}}(e);return new Ti(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new Ti(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const QO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tc(n){if(un(!!n),typeof n=="string"){let e=0;const t=QO.exec(n);if(un(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sc(n){return typeof n=="string"?Ti.fromBase64String(n):Ti.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function B0(n){const e=n.mapValue.fields.__previous_value__;return dw(e)?B0(e):e}function Rg(n){const e=Tc(n.mapValue.fields.__local_write_time__.timestampValue);return new Ur(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t,r,i,o,u,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class kg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dw(n)?4:ZO(n)?9007199254740991:YO(n)?10:11:yt()}function Il(n,e){if(n===e)return!0;const t=bc(n);if(t!==bc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rg(n).isEqual(Rg(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Tc(i.timestampValue),f=Tc(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Sc(i.bytesValue).isEqual(Sc(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return mr(i.geoPointValue.latitude)===mr(o.geoPointValue.latitude)&&mr(i.geoPointValue.longitude)===mr(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return mr(i.integerValue)===mr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=mr(i.doubleValue),f=mr(o.doubleValue);return u===f?f0(u)===f0(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return xd(n.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},f=o.mapValue.fields||{};if(CT(u)!==CT(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Il(u[p],f[p])))return!1;return!0}(n,e);default:return yt()}}function Ng(n,e){return(n.values||[]).find(t=>Il(t,e))!==void 0}function Rd(n,e){if(n===e)return 0;const t=bc(n),r=bc(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(o,u){const f=mr(o.integerValue||o.doubleValue),p=mr(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return RT(n.timestampValue,e.timestampValue);case 4:return RT(Rg(n),Rg(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(o,u){const f=Sc(o),p=Sc(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),p=u.split("/");for(let y=0;y<f.length&&y<p.length;y++){const v=Ht(f[y],p[y]);if(v!==0)return v}return Ht(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Ht(mr(o.latitude),mr(u.latitude));return f!==0?f:Ht(mr(o.longitude),mr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return kT(n.arrayValue,e.arrayValue);case 10:return function(o,u){var f,p,y,v;const E=o.fields||{},A=u.fields||{},R=(f=E.value)===null||f===void 0?void 0:f.arrayValue,P=(p=A.value)===null||p===void 0?void 0:p.arrayValue,O=Ht(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((v=P==null?void 0:P.values)===null||v===void 0?void 0:v.length)||0);return O!==0?O:kT(R,P)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===wy.mapValue&&u===wy.mapValue)return 0;if(o===wy.mapValue)return 1;if(u===wy.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),y=u.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=Ht(p[E],v[E]);if(A!==0)return A;const R=Rd(f[p[E]],y[v[E]]);if(R!==0)return R}return Ht(p.length,v.length)}(n.mapValue,e.mapValue);default:throw yt()}}function RT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ht(n,e);const t=Tc(n),r=Tc(e),i=Ht(t.seconds,r.seconds);return i!==0?i:Ht(t.nanos,r.nanos)}function kT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Rd(t[i],r[i]);if(o)return o}return Ht(t.length,r.length)}function kd(n){return ov(n)}function ov(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Tc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Sc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return dt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=ov(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${ov(t.fields[u])}`;return i+"}"}(n.mapValue):yt()}function zy(n){switch(bc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=B0(n);return e?16+zy(e):16;case 5:return 2*n.stringValue.length;case 6:return Sc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zy(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ph(r.fields,(o,u)=>{i+=o.length+zy(u)}),i}(n.mapValue);default:throw yt()}}function av(n){return!!n&&"integerValue"in n}function pw(n){return!!n&&"arrayValue"in n}function NT(n){return!!n&&"nullValue"in n}function PT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hy(n){return!!n&&"mapValue"in n}function YO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function yg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ph(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ZO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.value=e}static empty(){return new Jo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yg(t)}setAll(e){let t=wi.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=yg(u):i.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Hy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Il(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Hy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ph(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Jo(yg(this.value))}}function QA(n){const e=[];return Ph(n.fields,(t,r)=>{const i=new wi([t]);if(Hy(r)){const o=QA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new Na(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,i,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Hi(e,0,vt.min(),vt.min(),vt.min(),Jo.empty(),0)}static newFoundDocument(e,t,r,i){return new Hi(e,1,t,vt.min(),r,i,0)}static newNoDocument(e,t){return new Hi(e,2,t,vt.min(),vt.min(),Jo.empty(),0)}static newUnknownDocument(e,t){return new Hi(e,3,t,vt.min(),vt.min(),Jo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t){this.position=e,this.inclusive=t}}function OT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=dt.comparator(dt.fromName(u.referenceValue),t.key):r=Rd(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Il(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t="asc"){this.field=e,this.dir=t}}function eL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{}class Mr extends XA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nL(e,t,r):t==="array-contains"?new sL(e,r):t==="in"?new oL(e,r):t==="not-in"?new aL(e,r):t==="array-contains-any"?new lL(e,r):new Mr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rL(e,r):new iL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Rd(t,this.value)):t!==null&&bc(this.value)===bc(t)&&this.matchesComparison(Rd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cl extends XA{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Cl(e,t)}matches(e){return YA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YA(n){return n.op==="and"}function ZA(n){return tL(n)&&YA(n)}function tL(n){for(const e of n.filters)if(e instanceof Cl)return!1;return!0}function lv(n){if(n instanceof Mr)return n.field.canonicalString()+n.op.toString()+kd(n.value);if(ZA(n))return n.filters.map(e=>lv(e)).join(",");{const e=n.filters.map(t=>lv(t)).join(",");return`${n.op}(${e})`}}function eI(n,e){return n instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.field.isEqual(i.field)&&Il(r.value,i.value)}(n,e):n instanceof Cl?function(r,i){return i instanceof Cl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,f)=>o&&eI(u,i.filters[f]),!0):!1}(n,e):void yt()}function tI(n){return n instanceof Mr?function(t){return`${t.field.canonicalString()} ${t.op} ${kd(t.value)}`}(n):n instanceof Cl?function(t){return t.op.toString()+" {"+t.getFilters().map(tI).join(" ,")+"}"}(n):"Filter"}class nL extends Mr{constructor(e,t,r){super(e,t,r),this.key=dt.fromName(r.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class rL extends Mr{constructor(e,t){super(e,"in",t),this.keys=nI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iL extends Mr{constructor(e,t){super(e,"not-in",t),this.keys=nI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>dt.fromName(r.referenceValue))}class sL extends Mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pw(t)&&Ng(t.arrayValue,this.value)}}class oL extends Mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ng(this.value.arrayValue,t)}}class aL extends Mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ng(this.value.arrayValue,t)}}class lL extends Mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ng(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,t=null,r=[],i=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=f,this.ue=null}}function DT(n,e=null,t=[],r=[],i=null,o=null,u=null){return new uL(n,e,t,r,i,o,u)}function gw(n){const e=wt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),F0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kd(r)).join(",")),e.ue=t}return e.ue}function mw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LT(n.startAt,e.startAt)&&LT(n.endAt,e.endAt)}function uv(n){return dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t=null,r=[],i=[],o=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cL(n,e,t,r,i,o,u,f){return new q0(n,e,t,r,i,o,u,f)}function j0(n){return new q0(n)}function MT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hL(n){return n.collectionGroup!==null}function _g(n){const e=wt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Vr(wi.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new p0(o,r))}),t.has(wi.keyField().canonicalString())||e.ce.push(new p0(wi.keyField(),r))}return e.ce}function wl(n){const e=wt(n);return e.le||(e.le=fL(e,_g(n))),e.le}function fL(n,e){if(n.limitType==="F")return DT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new p0(i.field,o)});const t=n.endAt?new d0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new d0(n.startAt.position,n.startAt.inclusive):null;return DT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cv(n,e,t){return new q0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $0(n,e){return mw(wl(n),wl(e))&&n.limitType===e.limitType}function rI(n){return`${gw(wl(n))}|lt:${n.limitType}`}function ld(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>tI(i)).join(", ")}]`),F0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>kd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>kd(i)).join(",")),`Target(${r})`}(wl(n))}; limitType=${n.limitType})`}function z0(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):dt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of _g(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,f,p){const y=OT(u,f,p);return u.inclusive?y<=0:y<0}(r.startAt,_g(r),i)||r.endAt&&!function(u,f,p){const y=OT(u,f,p);return u.inclusive?y>=0:y>0}(r.endAt,_g(r),i))}(n,e)}function dL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iI(n){return(e,t)=>{let r=!1;for(const i of _g(n)){const o=pL(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function pL(n,e,t){const r=n.field.isKeyField()?dt.comparator(e.key,t.key):function(o,u,f){const p=u.data.field(o),y=f.data.field(o);return p!==null&&y!==null?Rd(p,y):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ph(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new Wn(dt.comparator);function vu(){return gL}const sI=new Wn(dt.comparator);function lg(...n){let e=sI;for(const t of n)e=e.insert(t.key,t);return e}function oI(n){let e=sI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mh(){return vg()}function aI(){return vg()}function vg(){return new Oh(n=>n.toString(),(n,e)=>n.isEqual(e))}const mL=new Wn(dt.comparator),yL=new Vr(dt.comparator);function qt(...n){let e=yL;for(const t of n)e=e.add(t);return e}const _L=new Vr(Ht);function vL(){return _L}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:f0(e)?"-0":e}}function lI(n){return{integerValue:""+n}}function wL(n,e){return GO(e)?lI(e):yw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this._=void 0}}function EL(n,e,t){return n instanceof g0?function(i,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dw(o)&&(o=B0(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Pg?cI(n,e):n instanceof Og?hI(n,e):function(i,o){const u=uI(i,o),f=UT(u)+UT(i.Pe);return av(u)&&av(i.Pe)?lI(f):yw(i.serializer,f)}(n,e)}function TL(n,e,t){return n instanceof Pg?cI(n,e):n instanceof Og?hI(n,e):t}function uI(n,e){return n instanceof m0?function(r){return av(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class g0 extends H0{}class Pg extends H0{constructor(e){super(),this.elements=e}}function cI(n,e){const t=fI(e);for(const r of n.elements)t.some(i=>Il(i,r))||t.push(r);return{arrayValue:{values:t}}}class Og extends H0{constructor(e){super(),this.elements=e}}function hI(n,e){let t=fI(e);for(const r of n.elements)t=t.filter(i=>!Il(i,r));return{arrayValue:{values:t}}}class m0 extends H0{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function UT(n){return mr(n.integerValue||n.doubleValue)}function fI(n){return pw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function SL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Pg&&i instanceof Pg||r instanceof Og&&i instanceof Og?xd(r.elements,i.elements,Il):r instanceof m0&&i instanceof m0?Il(r.Pe,i.Pe):r instanceof g0&&i instanceof g0}(n.transform,e.transform)}class bL{constructor(e,t){this.version=e,this.transformResults=t}}class mu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mu}static exists(e){return new mu(void 0,e)}static updateTime(e){return new mu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class W0{}function dI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gI(n.key,mu.none()):new Qg(n.key,n.data,mu.none());{const t=n.data,r=Jo.empty();let i=new Vr(wi.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Lh(n.key,r,new Na(i.toArray()),mu.none())}}function AL(n,e,t){n instanceof Qg?function(i,o,u){const f=i.value.clone(),p=FT(i.fieldTransforms,o,u.transformResults);f.setAll(p),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Lh?function(i,o,u){if(!Wy(i.precondition,o))return void o.convertToUnknownDocument(u.version);const f=FT(i.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(pI(i)),p.setAll(f),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function wg(n,e,t,r){return n instanceof Qg?function(o,u,f,p){if(!Wy(o.precondition,u))return f;const y=o.value.clone(),v=BT(o.fieldTransforms,p,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Lh?function(o,u,f,p){if(!Wy(o.precondition,u))return f;const y=BT(o.fieldTransforms,p,u),v=u.data;return v.setAll(pI(o)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(o,u,f){return Wy(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function IL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=uI(r.transform,i||null);o!=null&&(t===null&&(t=Jo.empty()),t.set(r.field,o))}return t||null}function VT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xd(r,i,(o,u)=>SL(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qg extends W0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lh extends W0{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FT(n,e,t){const r=new Map;un(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,f=e.data.field(o.field);r.set(o.field,TL(u,f,t[i]))}return r}function BT(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,EL(o,u,e))}return r}class gI extends W0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CL extends W0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&AL(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=aI();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(i.key)?null:f;const p=dI(u,f);p!==null&&r.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&xd(this.mutations,e.mutations,(t,r)=>VT(t,r))&&xd(this.baseMutations,e.baseMutations,(t,r)=>VT(t,r))}}class _w{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){un(e.mutations.length===r.length);let i=function(){return mL}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new _w(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr,Qt;function NL(n){switch(n){default:return yt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function mI(n){if(n===void 0)return _u("GRPC error has no .code"),De.UNKNOWN;switch(n){case Cr.OK:return De.OK;case Cr.CANCELLED:return De.CANCELLED;case Cr.UNKNOWN:return De.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return De.INTERNAL;case Cr.UNAVAILABLE:return De.UNAVAILABLE;case Cr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case Cr.NOT_FOUND:return De.NOT_FOUND;case Cr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case Cr.ABORTED:return De.ABORTED;case Cr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case Cr.DATA_LOSS:return De.DATA_LOSS;default:return yt()}}(Qt=Cr||(Cr={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new mc([4294967295,4294967295],0);function qT(n){const e=PL().encode(n),t=new BA;return t.update(e),new Uint8Array(t.digest())}function jT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mc([t,r],0),new mc([i,o],0)]}class vw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ug(`Invalid padding: ${t}`);if(r<0)throw new ug(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ug(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ug(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=mc.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(mc.fromNumber(r)));return i.compare(OL)===1&&(i=new mc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=qT(e),[r,i]=jT(t);for(let o=0;o<this.hashCount;o++){const u=this.de(r,i,o);if(!this.Ee(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new vw(o,i,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=qT(e),[r,i]=jT(t);for(let o=0;o<this.hashCount;o++){const u=this.de(r,i,o);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ug extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Xg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new G0(vt.min(),i,new Wn(Ht),vu(),qt())}}class Xg{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xg(r,t,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class yI{constructor(e,t){this.targetId=e,this.me=t}}class _I{constructor(e,t,r=Ti.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class $T{constructor(){this.fe=0,this.ge=zT(),this.pe=Ti.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qt(),t=qt(),r=qt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new Xg(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=zT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,un(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class LL{constructor(e){this.Be=e,this.Le=new Map,this.ke=vu(),this.qe=Ey(),this.Qe=Ey(),this.Ke=new Wn(Ht)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(uv(o))if(r===0){const u=new dt(o.path);this.We(t,u,Hi.newNoDocument(u,vt.min()))}else un(r===1);else{const u=this.Ze(t);if(u!==r){const f=this.Xe(e),p=f?this.et(f,e,u):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,f;try{u=Sc(r).toUint8Array()}catch(p){if(p instanceof JA)return Cd("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new vw(u,i,o)}catch(p){return Cd(p instanceof ug?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.Be.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,u)=>{const f=this.Ye(u);if(f){if(o.current&&uv(f.target)){const p=new dt(f.target.path);this.st(p).has(u)||this.ot(u,p)||this.We(u,p,Hi.newNoDocument(p,e))}o.be&&(t.set(u,o.ve()),o.Ce())}});let r=qt();this.Qe.forEach((o,u)=>{let f=!0;u.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(o))}),this.ke.forEach((o,u)=>u.setReadTime(e));const i=new G0(e,t,this.Ke,this.ke,r);return this.ke=vu(),this.qe=Ey(),this.Qe=Ey(),this.Ke=new Wn(Ht),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new $T,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Vr(Ht),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Vr(Ht),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new $T),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Ey(){return new Wn(dt.comparator)}function zT(){return new Wn(dt.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},ML={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UL={and:"AND",or:"OR"};class VL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hv(n,e){return n.useProto3Json||F0(e)?e:{value:e}}function y0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FL(n,e){return y0(n,e.toTimestamp())}function El(n){return un(!!n),vt.fromTimestamp(function(t){const r=Tc(t);return new Ur(r.seconds,r.nanos)}(n))}function ww(n,e){return fv(n,e).canonicalString()}function fv(n,e){const t=function(i){return new nr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function wI(n){const e=nr.fromString(n);return un(AI(e)),e}function dv(n,e){return ww(n.databaseId,e.path)}function E1(n,e){const t=wI(e);if(t.get(1)!==n.databaseId.projectId)throw new lt(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new lt(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(TI(t))}function EI(n,e){return ww(n.databaseId,e)}function BL(n){const e=wI(n);return e.length===4?nr.emptyPath():TI(e)}function pv(n){return new nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TI(n){return un(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function HT(n,e,t){return{name:dv(n,e),fields:t.value.mapValue.fields}}function qL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(y,v){return y.useProto3Json?(un(v===void 0||typeof v=="string"),Ti.fromBase64String(v||"")):(un(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Ti.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(y){const v=y.code===void 0?De.UNKNOWN:mI(y.code);return new lt(v,y.message||"")}(u);t=new _I(r,i,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=E1(n,r.document.name),o=El(r.document.updateTime),u=r.document.createTime?El(r.document.createTime):vt.min(),f=new Jo({mapValue:{fields:r.document.fields}}),p=Hi.newFoundDocument(i,o,u,f),y=r.targetIds||[],v=r.removedTargetIds||[];t=new Gy(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=E1(n,r.document),o=r.readTime?El(r.readTime):vt.min(),u=Hi.newNoDocument(i,o),f=r.removedTargetIds||[];t=new Gy([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=E1(n,r.document),o=r.removedTargetIds||[];t=new Gy([],o,i,null)}else{if(!("filter"in e))return yt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new kL(i,o),f=r.targetId;t=new yI(f,u)}}return t}function jL(n,e){let t;if(e instanceof Qg)t={update:HT(n,e.key,e.value)};else if(e instanceof gI)t={delete:dv(n,e.key)};else if(e instanceof Lh)t={update:HT(n,e.key,e.data),updateMask:XL(e.fieldMask)};else{if(!(e instanceof CL))return yt();t={verify:dv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof g0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Pg)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Og)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof m0)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:FL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(n,e.precondition)),t}function $L(n,e){return n&&n.length>0?(un(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?El(i.updateTime):El(o);return u.isEqual(vt.min())&&(u=El(o)),new bL(u,i.transformResults||[])}(t,e))):[]}function zL(n,e){return{documents:[EI(n,e.path)]}}function HL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=EI(n,i);const o=function(y){if(y.length!==0)return bI(Cl.create(y,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(y){if(y.length!==0)return y.map(v=>function(A){return{field:ud(A.field),direction:KL(A.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=hv(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:i}}function WL(n){let e=BL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){un(r===1);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(E){const A=SI(E);return A instanceof Cl&&ZA(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(A=>function(P){return new p0(cd(P.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(A))}(t.orderBy));let f=null;t.limit&&(f=function(E){let A;return A=typeof E=="object"?E.value:E,F0(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(E){const A=!!E.before,R=E.values||[];return new d0(R,A)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const A=!E.before,R=E.values||[];return new d0(R,A)}(t.endAt)),cL(e,i,u,o,f,"F",p,y)}function GL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=cd(t.unaryFilter.field);return Mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cd(t.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cd(t.unaryFilter.field);return Mr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=cd(t.unaryFilter.field);return Mr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(n):n.fieldFilter!==void 0?function(t){return Mr.create(cd(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cl.create(t.compositeFilter.filters.map(r=>SI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return yt()}}(t.compositeFilter.op))}(n):yt()}function KL(n){return DL[n]}function JL(n){return ML[n]}function QL(n){return UL[n]}function ud(n){return{fieldPath:n.canonicalString()}}function cd(n){return wi.fromServerFormat(n.fieldPath)}function bI(n){return n instanceof Mr?function(t){if(t.op==="=="){if(PT(t.value))return{unaryFilter:{field:ud(t.field),op:"IS_NAN"}};if(NT(t.value))return{unaryFilter:{field:ud(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PT(t.value))return{unaryFilter:{field:ud(t.field),op:"IS_NOT_NAN"}};if(NT(t.value))return{unaryFilter:{field:ud(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ud(t.field),op:JL(t.op),value:t.value}}}(n):n instanceof Cl?function(t){const r=t.getFilters().map(i=>bI(i));return r.length===1?r[0]:{compositeFilter:{op:QL(t.op),filters:r}}}(n):yt()}function XL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,r,i,o=vt.min(),u=vt.min(),f=Ti.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.ht=e}}function ZL(n){const e=WL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.ln=new t4}addToCollectionParentIndex(e,t){return this.ln.add(t),Re.resolve()}getCollectionParents(e,t){return Re.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Re.resolve()}deleteFieldIndex(e,t){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,t){return Re.resolve()}getDocumentsMatchingTarget(e,t){return Re.resolve(null)}getIndexType(e,t){return Re.resolve(0)}getFieldIndexes(e,t){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,t){return Re.resolve(Ec.min())}getMinOffsetFromCollectionGroup(e,t){return Re.resolve(Ec.min())}updateCollectionGroup(e,t,r){return Re.resolve()}updateIndexEntries(e,t){return Re.resolve()}}class t4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vr(nr.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vr(nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qs{static withCacheSize(e){return new qs(e,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs.DEFAULT_COLLECTION_PERCENTILE=10,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qs.DEFAULT=new qs(41943040,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qs.DISABLED=new qs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Nd(0)}static Qn(){return new Nd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT([n,e],[t,r]){const i=Ht(n,t);return i===0?Ht(e,r):i}class n4{constructor(e){this.Gn=e,this.buffer=new Vr(GT),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();GT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class r4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Hd(t)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await zd(t)}await this.Yn(3e5)})}}class i4{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Re.resolve(V0.oe);const r=new n4(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(WT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,o,u,f,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,u=Date.now(),this.nthSequenceNumber(e,i))).next(E=>(r=E,f=Date.now(),this.removeTargets(e,r,t))).next(E=>(o=E,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(y=Date.now(),ad()<=Bt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${i} in `+(f-u)+`ms
	Removed ${o} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:E})))}}function s4(n,e){return new i4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.changes=new Oh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&wg(r.mutation,i,Na.empty(),Ur.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qt()){const i=mh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=lg();return o.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=mh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let o=vu();const u=vg(),f=function(){return vg()}();return t.forEach((p,y)=>{const v=r.get(y.key);i.has(y.key)&&(v===void 0||v.mutation instanceof Lh)?o=o.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),wg(v.mutation,y,v.mutation.getFieldMask(),Ur.now())):u.set(y.key,Na.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((y,v)=>u.set(y,v)),t.forEach((y,v)=>{var E;return f.set(y,new a4(v,(E=u.get(y))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,t){const r=vg();let i=new Wn((u,f)=>u-f),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=r.get(p)||Na.empty();v=f.applyToLocalView(y,v),r.set(p,v);const E=(i.get(f.batchId)||qt()).add(p);i=i.insert(f.batchId,E)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,v=p.value,E=aI();v.forEach(A=>{if(!o.has(A)){const R=dI(t.get(A),r.get(A));R!==null&&E.set(A,R),o=o.add(A)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,E))}return Re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return dt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Re.resolve(mh());let f=-1,p=o;return u.next(y=>Re.forEach(y,(v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),o.get(v)?Re.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{p=p.insert(v,A)}))).next(()=>this.populateOverlays(e,y,o)).next(()=>this.computeViews(e,p,y,qt())).next(v=>({batchId:f,changes:oI(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(r=>{let i=lg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=lg();return this.indexManager.getCollectionParents(e,o).next(f=>Re.forEach(f,p=>{const y=function(E,A){return new q0(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,y,r,i).next(v=>{v.forEach((E,A)=>{u=u.insert(E,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((p,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,Hi.newInvalidDocument(v)))});let f=lg();return u.forEach((p,y)=>{const v=o.get(p);v!==void 0&&wg(v.mutation,y,Na.empty(),Ur.now()),z0(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Re.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:El(i.createTime)}}(t)),Re.resolve()}getNamedQuery(e,t){return Re.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:ZL(i.bundledQuery),readTime:El(i.readTime)}}(t)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.overlays=new Wn(dt.comparator),this.dr=new Map}getOverlay(e,t){return Re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=mh();return Re.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Tt(e,t,o)}),Re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),Re.resolve()}getOverlaysForCollection(e,t,r){const i=mh(),o=t.length+1,u=new dt(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>r&&i.set(p.getKey(),p)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Wn((y,v)=>y-v);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let v=o.get(y.largestBatchId);v===null&&(v=mh(),o=o.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const f=mh(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>f.set(y,v)),!(f.size()>=i)););return Re.resolve(f)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new RL(t,r));let o=this.dr.get(t);o===void 0&&(o=qt(),this.dr.set(t,o)),this.dr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.sessionToken=Ti.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Er=new Vr(ei.Ar),this.Rr=new Vr(ei.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new ei(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new ei(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new dt(new nr([])),r=new ei(t,e),i=new ei(t,e+1),o=[];return this.Rr.forEachInRange([r,i],u=>{this.gr(u),o.push(u.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new dt(new nr([])),r=new ei(t,e),i=new ei(t,e+1);let o=qt();return this.Rr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new ei(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ei{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return dt.comparator(e.key,t.key)||Ht(e.br,t.br)}static Vr(e,t){return Ht(e.br,t.br)||dt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Vr(ei.Ar)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new xL(o,t,r,i);this.mutationQueue.push(u);for(const f of i)this.vr=this.vr.add(new ei(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Re.resolve(u)}lookupMutationBatch(e,t){return Re.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),o=i<0?0:i;return Re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ei(t,0),i=new ei(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],u=>{const f=this.Cr(u.br);o.push(f)}),Re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vr(Ht);return t.forEach(i=>{const o=new ei(i,0),u=new ei(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,u],f=>{r=r.add(f.br)})}),Re.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;dt.isDocumentKey(o)||(o=o.child(""));const u=new ei(new dt(o),0);let f=new Vr(Ht);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(f=f.add(p.br)),!0)},u),Re.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){un(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Re.forEach(t.mutations,i=>{const o=new ei(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new ei(t,0),i=this.vr.firstAfterOrEqual(r);return Re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.Nr=e,this.docs=function(){return new Wn(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Re.resolve(r?r.document.mutableCopy():Hi.newInvalidDocument(t))}getEntries(e,t){let r=vu();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Hi.newInvalidDocument(i))}),Re.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=vu();const u=t.path,f=new dt(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||$O(jO(v),r)<=0||(i.has(v.key)||z0(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Re.resolve(o)}getAllFromCollectionGroup(e,t,r,i){yt()}Br(e,t){return Re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new p4(this)}getSize(e){return Re.resolve(this.size)}}class p4 extends o4{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),Re.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.persistence=e,this.Lr=new Oh(t=>gw(t),mw),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ew,this.targetCount=0,this.Qr=Nd.qn()}forEachTarget(e,t){return this.Lr.forEach((r,i)=>t(i)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Re.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Nd(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Re.resolve()}updateTargetData(e,t){return this.Un(t),Re.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Lr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Lr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Re.waitFor(o).next(()=>i)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return Re.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Re.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),Re.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Re.resolve(r)}containsKey(e,t){return Re.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t){this.Kr={},this.overlays={},this.$r=new V0(0),this.Ur=!1,this.Ur=!0,this.Wr=new h4,this.referenceDelegate=e(this),this.Gr=new g4(this),this.indexManager=new e4,this.remoteDocumentCache=function(i){return new d4(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new YL(t),this.jr=new u4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new c4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new f4(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new m4(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return Re.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class m4 extends HO{constructor(e){super(),this.currentSequenceNumber=e}}class Tw{constructor(e){this.persistence=e,this.Zr=new Ew,this.Xr=null}static ei(e){return new Tw(e)}get ti(){if(this.Xr)return this.Xr;throw yt()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Re.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Re.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.ti,r=>{const i=dt.fromPath(r);return this.ni(e,i).next(o=>{o||t.removeEntry(i,vt.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Re.or([()=>Re.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class _0{constructor(e,t){this.persistence=e,this.ri=new Oh(r=>KO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=s4(this,t)}static ei(e,t){return new _0(e,t)}Hr(){}Jr(e){return Re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Re.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?Re.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,u=>this.ir(e,u,t).next(f=>{f||(r++,o.removeEntry(u,vt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Re.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Re.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zy(e.data.value)),t}ir(e,t,r){return Re.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return Re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=qt(),i=qt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return gP()?8:WO(Ji())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Xi(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.es(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new y4;return this.ts(e,t,u).next(f=>{if(o.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>o.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(ad()<=Bt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",ld(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Re.resolve()):(ad()<=Bt.DEBUG&&Ge("QueryEngine","Query:",ld(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(ad()<=Bt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",ld(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wl(t))):Re.resolve())}Xi(e,t){if(MT(t))return Re.resolve(null);let r=wl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=cv(t,null,"F"),r=wl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=qt(...o);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(p=>{const y=this.rs(t,f);return this.ss(t,y,u,p.readTime)?this.Xi(e,cv(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,r,i){return MT(t)||i.isEqual(vt.min())?Re.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const u=this.rs(t,o);return this.ss(t,u,r,i)?Re.resolve(null):(ad()<=Bt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ld(t)),this.os(e,u,t,qO(i,-1)).next(f=>f))})}rs(e,t){let r=new Vr(iI(e));return t.forEach((i,o)=>{z0(e,o)&&(r=r.add(o))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,r){return ad()<=Bt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",ld(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ec.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new Wn(Ht),this.cs=new Oh(o=>gw(o),mw),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l4(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function w4(n,e,t,r){return new v4(n,e,t,r)}async function CI(n,e){const t=wt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let p=qt();for(const y of i){u.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of o){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(r,p).next(y=>({Ts:y,removedBatchIds:u,addedBatchIds:f}))})})}function E4(n,e){const t=wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,v){const E=y.batch,A=E.keys();let R=Re.resolve();return A.forEach(P=>{R=R.next(()=>v.getEntry(p,P)).next(O=>{const D=y.docVersions.get(P);un(D!==null),O.version.compareTo(D)<0&&(E.applyToRemoteDocument(O,y),O.isValidDocument()&&(O.setReadTime(y.commitVersion),v.addEntry(O)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(p,E))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=qt();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function xI(n){const e=wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function T4(n,e){const t=wt(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const f=[];e.targetChanges.forEach((v,E)=>{const A=i.get(E);if(!A)return;f.push(t.Gr.removeMatchingKeys(o,v.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(o,v.addedDocuments,E)));let R=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Ti.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,r)),i=i.insert(E,R),function(O,D,H){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(A,R,v)&&f.push(t.Gr.updateTargetData(o,R))});let p=vu(),y=qt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),f.push(S4(o,u,e.documentUpdates).next(v=>{p=v.Is,y=v.ds})),!r.isEqual(vt.min())){const v=t.Gr.getLastRemoteSnapshotVersion(o).next(E=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(v)}return Re.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,y)).next(()=>p)}).then(o=>(t.us=i,o))}function S4(n,e,t){let r=qt(),i=qt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=vu();return t.forEach((f,p)=>{const y=o.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(i=i.add(f)),p.isNoDocument()&&p.version.isEqual(vt.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:u,ds:i}})}function b4(n,e){const t=wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function A4(n,e){const t=wt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(o=>o?(i=o,Re.resolve(i)):t.Gr.allocateTargetId(r).next(u=>(i=new fc(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function gv(n,e,t){const r=wt(n),i=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Hd(u))throw u;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function KT(n,e,t){const r=wt(n);let i=vt.min(),o=qt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(p,y,v){const E=wt(p),A=E.cs.get(v);return A!==void 0?Re.resolve(E.us.get(A)):E.Gr.getTargetData(y,v)}(r,u,wl(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,f.targetId).next(p=>{o=p})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?i:vt.min(),t?o:qt())).next(f=>(I4(r,dL(e),f),{documents:f,Es:o})))}function I4(n,e,t){let r=n.ls.get(e)||vt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}class JT{constructor(){this.activeTargetIds=vL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C4{constructor(){this._o=new JT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new JT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty=null;function T1(){return Ty===null?Ty=function(){return 268435456+Math.round(2147483648*Math.random())}():Ty++,"0x"+Ty.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="WebChannelConnection";class N4 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,r,i,o,u){const f=T1(),p=this.No(t,r.toUriEncodedString());Ge("RestConnection",`Sending RPC '${t}' ${f}:`,p,i);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(y,o,u),this.Lo(t,p,y,i).then(v=>(Ge("RestConnection",`Received RPC '${t}' ${f}: `,v),v),v=>{throw Cd("RestConnection",`RPC '${t}' ${f} failed with error: `,v,"url: ",p,"request:",i),v})}ko(t,r,i,o,u,f){return this.Oo(t,r,i,o,u)}Bo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$d}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>t[u]=o),i&&i.headers.forEach((o,u)=>t[u]=o)}No(t,r){const i=R4[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,i){const o=T1();return new Promise((u,f)=>{const p=new qA;p.setWithCredentials(!0),p.listenOnce(jA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case $y.NO_ERROR:const v=p.getResponseJson();Ge(ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(v)),u(v);break;case $y.TIMEOUT:Ge(ji,`RPC '${e}' ${o} timed out`),f(new lt(De.DEADLINE_EXCEEDED,"Request time out"));break;case $y.HTTP_ERROR:const E=p.getStatus();if(Ge(ji,`RPC '${e}' ${o} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const P=function(D){const H=D.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(H)>=0?H:De.UNKNOWN}(R.status);f(new lt(P,R.message))}else f(new lt(De.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new lt(De.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Ge(ji,`RPC '${e}' ${o} completed.`)}});const y=JSON.stringify(i);Ge(ji,`RPC '${e}' ${o} sending request:`,i),p.send(t,"POST",y,r,15)})}qo(e,t,r){const i=T1(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=HA(),f=zA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const v=o.join("");Ge(ji,`Creating RPC '${e}' stream ${i}: ${v}`,p);const E=u.createWebChannel(v,p);let A=!1,R=!1;const P=new k4({Eo:D=>{R?Ge(ji,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(A||(Ge(ji,`Opening RPC '${e}' stream ${i} transport.`),E.open(),A=!0),Ge(ji,`RPC '${e}' stream ${i} sending:`,D),E.send(D))},Ao:()=>E.close()}),O=(D,H,te)=>{D.listen(H,X=>{try{te(X)}catch(se){setTimeout(()=>{throw se},0)}})};return O(E,ag.EventType.OPEN,()=>{R||(Ge(ji,`RPC '${e}' stream ${i} transport opened.`),P.So())}),O(E,ag.EventType.CLOSE,()=>{R||(R=!0,Ge(ji,`RPC '${e}' stream ${i} transport closed`),P.Do())}),O(E,ag.EventType.ERROR,D=>{R||(R=!0,Cd(ji,`RPC '${e}' stream ${i} transport errored:`,D),P.Do(new lt(De.UNAVAILABLE,"The operation could not be completed")))}),O(E,ag.EventType.MESSAGE,D=>{var H;if(!R){const te=D.data[0];un(!!te);const X=te,se=(X==null?void 0:X.error)||((H=X[0])===null||H===void 0?void 0:H.error);if(se){Ge(ji,`RPC '${e}' stream ${i} received error:`,se);const oe=se.status;let me=function(z){const C=Cr[z];if(C!==void 0)return mI(C)}(oe),$=se.message;me===void 0&&(me=De.INTERNAL,$="Unknown error status: "+oe+" with message "+se.message),R=!0,P.Do(new lt(me,$)),E.close()}else Ge(ji,`RPC '${e}' stream ${i} received:`,te),P.vo(te)}}),O(f,$A.STAT_EVENT,D=>{D.stat===sv.PROXY?Ge(ji,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===sv.NOPROXY&&Ge(ji,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}}function S1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n){return new VL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t,r,i,o,u,f,p){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new RI(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(_u(t.toString()),_u("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new lt(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P4 extends kI{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=qL(this.serializer,e),r=function(o){if(!("targetChange"in o))return vt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?vt.min():u.readTime?El(u.readTime):vt.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=pv(this.serializer),t.addTarget=function(o,u){let f;const p=u.target;if(f=uv(p)?{documents:zL(o,p)}:{query:HL(o,p).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=vI(o,u.resumeToken);const y=hv(o,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(vt.min())>0){f.readTime=y0(o,u.snapshotVersion.toTimestamp());const y=hv(o,u.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const r=GL(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=pv(this.serializer),t.removeTarget=e,this.c_(t)}}class O4 extends kI{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return un(!!e.streamToken),this.lastStreamToken=e.streamToken,un(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=$L(e.writeResults,e.commitTime),r=El(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=pv(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jL(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new lt(De.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Oo(e,fv(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(De.UNKNOWN,o.toString())})}ko(e,t,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,fv(t,r),i,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(De.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class D4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(_u(t),this.C_=!1):Ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Dh(this)&&(Ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.k_.add(4),await Yg(y),y.K_.set("Unknown"),y.k_.delete(4),await J0(y)}(this))})}),this.K_=new D4(r,i)}}async function J0(n){if(Dh(n))for(const e of n.q_)await e(!0)}async function Yg(n){for(const e of n.q_)await e(!1)}function NI(n,e){const t=wt(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Cw(t)?Iw(t):Wd(t).s_()&&Aw(t,e))}function bw(n,e){const t=wt(n),r=Wd(t);t.L_.delete(e),r.s_()&&PI(t,e),t.L_.size===0&&(r.s_()?r.a_():Dh(t)&&t.K_.set("Unknown"))}function Aw(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wd(n).V_(e)}function PI(n,e){n.U_.xe(e),Wd(n).m_(e)}function Iw(n){n.U_=new LL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Wd(n).start(),n.K_.F_()}function Cw(n){return Dh(n)&&!Wd(n).i_()&&n.L_.size>0}function Dh(n){return wt(n).k_.size===0}function OI(n){n.U_=void 0}async function U4(n){n.K_.set("Online")}async function V4(n){n.L_.forEach((e,t)=>{Aw(n,e)})}async function F4(n,e){OI(n),Cw(n)?(n.K_.O_(e),Iw(n)):n.K_.set("Unknown")}async function B4(n,e,t){if(n.K_.set("Online"),e instanceof _I&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const f of o.targetIds)i.L_.has(f)&&(await i.remoteSyncer.rejectListen(f,u),i.L_.delete(f),i.U_.removeTarget(f))}(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await v0(n,r)}else if(e instanceof Gy?n.U_.$e(e):e instanceof yI?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(vt.min()))try{const r=await xI(n.localStore);t.compareTo(r)>=0&&await function(o,u){const f=o.U_.it(u);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=o.L_.get(y);v&&o.L_.set(y,v.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,y)=>{const v=o.L_.get(p);if(!v)return;o.L_.set(p,v.withResumeToken(Ti.EMPTY_BYTE_STRING,v.snapshotVersion)),PI(o,p);const E=new fc(v.target,p,y,v.sequenceNumber);Aw(o,E)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),await v0(n,r)}}async function v0(n,e,t){if(!Hd(e))throw e;n.k_.add(1),await Yg(n),n.K_.set("Offline"),t||(t=()=>xI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await J0(n)})}function LI(n,e){return e().catch(t=>v0(n,t,e))}async function Q0(n){const e=wt(n),t=Ac(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;q4(e);)try{const i=await b4(e.localStore,r);if(i===null){e.B_.length===0&&t.a_();break}r=i.batchId,j4(e,i)}catch(i){await v0(e,i)}DI(e)&&MI(e)}function q4(n){return Dh(n)&&n.B_.length<10}function j4(n,e){n.B_.push(e);const t=Ac(n);t.s_()&&t.f_&&t.g_(e.mutations)}function DI(n){return Dh(n)&&!Ac(n).i_()&&n.B_.length>0}function MI(n){Ac(n).start()}async function $4(n){Ac(n).w_()}async function z4(n){const e=Ac(n);for(const t of n.B_)e.g_(t.mutations)}async function H4(n,e,t){const r=n.B_.shift(),i=_w.from(r,e,t);await LI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Q0(n)}async function W4(n,e){e&&Ac(n).f_&&await async function(r,i){if(function(u){return NL(u)&&u!==De.ABORTED}(i.code)){const o=r.B_.shift();Ac(r).__(),await LI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Q0(r)}}(n,e),DI(n)&&MI(n)}async function XT(n,e){const t=wt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=Dh(t);t.k_.add(3),await Yg(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await J0(t)}async function G4(n,e){const t=wt(n);e?(t.k_.delete(2),await J0(t)):e||(t.k_.add(2),await Yg(t),t.K_.set("Unknown"))}function Wd(n){return n.W_||(n.W_=function(t,r,i){const o=wt(t);return o.b_(),new P4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:U4.bind(null,n),mo:V4.bind(null,n),po:F4.bind(null,n),R_:B4.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Cw(n)?Iw(n):n.K_.set("Unknown")):(await n.W_.stop(),OI(n))})),n.W_}function Ac(n){return n.G_||(n.G_=function(t,r,i){const o=wt(t);return o.b_(),new O4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:$4.bind(null,n),po:W4.bind(null,n),p_:z4.bind(null,n),y_:H4.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Q0(n)):(await n.G_.stop(),n.B_.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,f=new xw(e,t,u,i,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rw(n,e){if(_u("AsyncQueue",`${e}: ${n}`),Hd(n))return new lt(De.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{static emptySet(e){return new _d(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||dt.comparator(t.key,r.key):(t,r)=>dt.comparator(t.key,r.key),this.keyedMap=lg(),this.sortedSet=new Wn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _d)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new _d;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.z_=new Wn(dt.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):yt():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pd{constructor(e,t,r,i,o,u,f,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Pd(e,t,_d.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class J4{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=wt(t),o=i.queries;i.queries=ZT(),o.forEach((u,f)=>{for(const p of f.J_)p.onError(r)})})(this,new lt(De.ABORTED,"Firestore shutting down"))}}function ZT(){return new Oh(n=>rI(n),$0)}async function UI(n,e){const t=wt(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new K4,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const f=Rw(u,`Initialization of query '${ld(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&kw(t)}async function VI(n,e){const t=wt(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.J_.indexOf(e);u>=0&&(o.J_.splice(u,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Q4(n,e){const t=wt(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const f of u.J_)f.ta(i)&&(r=!0);u.H_=i}}r&&kw(t)}function X4(n,e,t){const r=wt(n),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(t);r.queries.delete(e)}function kw(n){n.X_.forEach(e=>{e.next()})}var mv,eS;(eS=mv||(mv={})).na="default",eS.Cache="cache";class FI{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.key=e}}class qI{constructor(e){this.key=e}}class Y4{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=qt(),this.mutatedKeys=qt(),this.Va=iI(e),this.ma=new _d(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new YT,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,y=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,E)=>{const A=i.get(v),R=z0(this.query,E)?E:null,P=!!A&&this.mutatedKeys.has(A.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;A&&R?A.data.isEqual(R.data)?P!==O&&(r.track({type:3,doc:R}),D=!0):this.ya(A,R)||(r.track({type:2,doc:R}),D=!0,(p&&this.Va(R,p)>0||y&&this.Va(R,y)<0)&&(f=!0)):!A&&R?(r.track({type:0,doc:R}),D=!0):A&&!R&&(r.track({type:1,doc:A}),D=!0,(p||y)&&(f=!0)),D&&(R?(u=u.add(R),o=O?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{ma:u,pa:r,ss:f,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,E)=>function(R,P){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return O(R)-O(P)}(v.type,E.type)||this.Va(v.doc,E.doc)),this.wa(r),i=i!=null&&i;const f=t&&!i?this.Sa():[],p=this.Ra.size===0&&this.current&&!i?1:0,y=p!==this.Aa;return this.Aa=p,u.length!==0||y?{snapshot:new Pd(this.query,e.ma,o,u,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new YT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=qt(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new qI(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new BI(r))}),t}va(e){this.Ea=e.Es,this.Ra=qt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Pd.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Z4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class e5{constructor(e){this.key=e,this.Fa=!1}}class t5{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Oh(f=>rI(f),$0),this.Oa=new Map,this.Na=new Set,this.Ba=new Wn(dt.comparator),this.La=new Map,this.ka=new Ew,this.qa={},this.Qa=new Map,this.Ka=Nd.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function n5(n,e,t=!0){const r=GI(n);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await jI(r,e,t,!0),i}async function r5(n,e){const t=GI(n);await jI(t,e,!0,!1)}async function jI(n,e,t,r){const i=await A4(n.localStore,wl(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let f;return r&&(f=await i5(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&NI(n.remoteStore,i),f}async function i5(n,e,t,r,i){n.Ua=(E,A,R)=>async function(O,D,H,te){let X=D.view.ga(H);X.ss&&(X=await KT(O.localStore,D.query,!1).then(({documents:$})=>D.view.ga($,X)));const se=te&&te.targetChanges.get(D.targetId),oe=te&&te.targetMismatches.get(D.targetId)!=null,me=D.view.applyChanges(X,O.isPrimaryClient,se,oe);return nS(O,D.targetId,me.ba),me.snapshot}(n,E,A,R);const o=await KT(n.localStore,e,!0),u=new Y4(e,o.Es),f=u.ga(o.documents),p=Xg.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),y=u.applyChanges(f,n.isPrimaryClient,p);nS(n,t,y.ba);const v=new Z4(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function s5(n,e,t){const r=wt(n),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(u=>!$0(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&bw(r.remoteStore,i.targetId),yv(r,i.targetId)}).catch(zd)):(yv(r,i.targetId),await gv(r.localStore,i.targetId,!0))}async function o5(n,e){const t=wt(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),bw(t.remoteStore,r.targetId))}async function a5(n,e,t){const r=p5(n);try{const i=await function(u,f){const p=wt(u),y=Ur.now(),v=f.reduce((R,P)=>R.add(P.key),qt());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=vu(),O=qt();return p.hs.getEntries(R,v).next(D=>{P=D,P.forEach((H,te)=>{te.isValidDocument()||(O=O.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,P)).next(D=>{E=D;const H=[];for(const te of f){const X=IL(te,E.get(te.key).overlayedDocument);X!=null&&H.push(new Lh(te.key,X,QA(X.value.mapValue),mu.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,H,f)}).next(D=>{A=D;const H=D.applyToLocalDocumentSet(E,O);return p.documentOverlayCache.saveOverlays(R,D.batchId,H)})}).then(()=>({batchId:A.batchId,changes:oI(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,f,p){let y=u.qa[u.currentUser.toKey()];y||(y=new Wn(Ht)),y=y.insert(f,p),u.qa[u.currentUser.toKey()]=y}(r,i.batchId,t),await Zg(r,i.changes),await Q0(r.remoteStore)}catch(i){const o=Rw(i,"Failed to persist write");t.reject(o)}}async function $I(n,e){const t=wt(n);try{const r=await T4(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.La.get(o);u&&(un(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Fa=!0:i.modifiedDocuments.size>0?un(u.Fa):i.removedDocuments.size>0&&(un(u.Fa),u.Fa=!1))}),await Zg(t,r,e)}catch(r){await zd(r)}}function tS(n,e,t){const r=wt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((o,u)=>{const f=u.view.ea(e);f.snapshot&&i.push(f.snapshot)}),function(u,f){const p=wt(u);p.onlineState=f;let y=!1;p.queries.forEach((v,E)=>{for(const A of E.J_)A.ea(f)&&(y=!0)}),y&&kw(p)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l5(n,e,t){const r=wt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.La.get(e),o=i&&i.key;if(o){let u=new Wn(dt.comparator);u=u.insert(o,Hi.newNoDocument(o,vt.min()));const f=qt().add(o),p=new G0(vt.min(),new Map,new Wn(Ht),u,f);await $I(r,p),r.Ba=r.Ba.remove(o),r.La.delete(e),Nw(r)}else await gv(r.localStore,e,!1).then(()=>yv(r,e,t)).catch(zd)}async function u5(n,e){const t=wt(n),r=e.batch.batchId;try{const i=await E4(t.localStore,e);HI(t,r,null),zI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Zg(t,i)}catch(i){await zd(i)}}async function c5(n,e,t){const r=wt(n);try{const i=await function(u,f){const p=wt(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,f).next(E=>(un(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(r.localStore,e);HI(r,e,t),zI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Zg(r,i)}catch(i){await zd(i)}}function zI(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function HI(n,e,t){const r=wt(n);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function yv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||WI(n,r)})}function WI(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(bw(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Nw(n))}function nS(n,e,t){for(const r of t)r instanceof BI?(n.ka.addReference(r.key,e),h5(n,r)):r instanceof qI?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||WI(n,r.key)):yt()}function h5(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.Na.add(r),Nw(n))}function Nw(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new dt(nr.fromString(e)),r=n.Ka.next();n.La.set(r,new e5(t)),n.Ba=n.Ba.insert(t,r),NI(n.remoteStore,new fc(wl(j0(t.path)),r,"TargetPurposeLimboResolution",V0.oe))}}async function Zg(n,e,t){const r=wt(n),i=[],o=[],u=[];r.xa.isEmpty()||(r.xa.forEach((f,p)=>{u.push(r.Ua(p,e,t).then(y=>{var v;if((y||t)&&r.isPrimaryClient){const E=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){i.push(y);const E=Sw.zi(p.targetId,y);o.push(E)}}))}),await Promise.all(u),r.Ma.R_(i),await async function(p,y){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Re.forEach(y,A=>Re.forEach(A.Wi,R=>v.persistence.referenceDelegate.addReference(E,A.targetId,R)).next(()=>Re.forEach(A.Gi,R=>v.persistence.referenceDelegate.removeReference(E,A.targetId,R)))))}catch(E){if(!Hd(E))throw E;Ge("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const R=v.us.get(A),P=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(P);v.us=v.us.insert(A,O)}}}(r.localStore,o))}async function f5(n,e){const t=wt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=await CI(t.localStore,e);t.currentUser=e,function(o,u){o.Qa.forEach(f=>{f.forEach(p=>{p.reject(new lt(De.CANCELLED,u))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zg(t,r.Ts)}}function d5(n,e){const t=wt(n),r=t.La.get(e);if(r&&r.Fa)return qt().add(r.key);{let i=qt();const o=t.Oa.get(e);if(!o)return i;for(const u of o){const f=t.xa.get(u);i=i.unionWith(f.view.fa)}return i}}function GI(n){const e=wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$I.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l5.bind(null,e),e.Ma.R_=Q4.bind(null,e.eventManager),e.Ma.Wa=X4.bind(null,e.eventManager),e}function p5(n){const e=wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c5.bind(null,e),e}class w0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=K0(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return w4(this.persistence,new _4,e.initialUser,this.serializer)}ja(e){return new II(Tw.ei,this.serializer)}za(e){return new C4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}w0.provider={build:()=>new w0};class g5 extends w0{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){un(this.persistence.referenceDelegate instanceof _0);const r=this.persistence.referenceDelegate.garbageCollector;return new r4(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?qs.withCacheSize(this.cacheSizeBytes):qs.DEFAULT;return new II(r=>_0.ei(r,t),this.serializer)}}class _v{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f5.bind(null,this.syncEngine),await G4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new J4}()}createDatastore(e){const t=K0(e.databaseInfo.databaseId),r=function(o){return new N4(o)}(e.databaseInfo);return function(o,u,f,p){return new L4(o,u,f,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,f){return new M4(r,i,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>tS(this.syncEngine,t,0),function(){return QT.p()?new QT:new x4}())}createSyncEngine(e,t){return function(i,o,u,f,p,y,v){const E=new t5(i,o,u,f,p,y);return v&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=wt(i);Ge("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Yg(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_v.provider={build:()=>new _v};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_u("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zi.UNAUTHENTICATED,this.clientId=GA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ge("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Rw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function b1(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function rS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await y5(n);Ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>XT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>XT(e.remoteStore,i)),n._onlineComponents=e}async function y5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await b1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===De.FAILED_PRECONDITION||i.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Cd("Error using user provided cache. Falling back to memory cache: "+t),await b1(n,new w0)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),await b1(n,new g5(void 0));return n._offlineComponents}async function JI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),await rS(n,n._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),await rS(n,new _v))),n._onlineComponents}function _5(n){return JI(n).then(e=>e.syncEngine)}async function vv(n){const e=await JI(n),t=e.eventManager;return t.onListen=n5.bind(null,e.syncEngine),t.onUnlisten=s5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=o5.bind(null,e.syncEngine),t}function v5(n,e,t={}){const r=new yc;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,p,y){const v=new KI({next:A=>{v.eu(),u.enqueueAndForget(()=>VI(o,E));const R=A.docs.has(f);!R&&A.fromCache?y.reject(new lt(De.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&p&&p.source==="server"?y.reject(new lt(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new FI(j0(f.path),v,{includeMetadataChanges:!0,ua:!0});return UI(o,E)}(await vv(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(n,e,t){if(!t)throw new lt(De.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function E5(n,e,t,r){if(e===!0&&r===!0)throw new lt(De.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sS(n){if(!dt.isDocumentKey(n))throw new lt(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":yt()}function _c(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new lt(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pw(n);throw new lt(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new lt(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new lt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new lt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new lt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ow{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PO;switch(r.type){case"firstParty":return new MO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=iS.get(t);r&&(Ge("ComponentProvider","Removing Datastore"),iS.delete(t),r.terminate())}(this),Promise.resolve()}}function T5(n,e,t,r={}){var i;const o=(n=_c(n,Ow))._getSettings(),u=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==u&&Cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=zi.MOCK_USER;else{f=LA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new lt(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zi(y)}n._authCredentials=new OO(new WA(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new X0(this.firestore,e,this._query)}}class go{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new go(this.firestore,e,this._key)}}class Lg extends X0{constructor(e,t,r){super(e,t,j0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new go(this.firestore,null,new dt(e))}withConverter(e){return new Lg(this.firestore,e,this._path)}}function S5(n,e,...t){if(n=Qi(n),arguments.length===1&&(e=GA.newId()),w5("doc","path",e),n instanceof Ow){const r=nr.fromString(e,...t);return sS(r),new go(n,null,new dt(r))}{if(!(n instanceof go||n instanceof Lg))throw new lt(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return sS(r),new go(n.firestore,n instanceof Lg?n.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new RI(this,"async_queue_retry"),this.fu=()=>{const r=S1();r&&Ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=S1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=S1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new yc;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Hd(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw _u("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=xw.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&yt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function lS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Dg extends Ow{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new aS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aS(e),this._firestoreClient=void 0,await e}}}function b5(n,e){const t=typeof n=="object"?n:hw(),r=typeof n=="string"?n:"(default)",i=U0(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=NA("firestore");o&&T5(i,...o)}return i}function Lw(n){if(n._terminated)throw new lt(De.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||A5(n),n._firestoreClient}function A5(n){var e,t,r;const i=n._freezeSettings(),o=function(f,p,y,v){return new XO(f,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,QI(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new m5(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Od(Ti.fromBase64String(e))}catch(t){throw new lt(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Od(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new lt(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lt(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lt(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=/^__.*__$/;class C5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Lh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qg(e,this.data,t,this.fieldTransforms)}}function YI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Vw{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Vw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return E0(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(YI(this.Mu)&&I5.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class x5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||K0(e)}$u(e,t,r,i=!1){return new Vw({Mu:e,methodName:t,Ku:r,path:wi.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R5(n){const e=n._freezeSettings(),t=K0(n._databaseId);return new x5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function k5(n,e,t,r,i,o={}){const u=n.$u(o.merge||o.mergeFields?2:0,e,t,i);nC("Data must be an object, but it was:",u,r);const f=eC(r,u);let p,y;if(o.merge)p=new Na(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const E of o.mergeFields){const A=N5(e,E,t);if(!u.contains(A))throw new lt(De.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);O5(v,A)||v.push(A)}p=new Na(v),y=u.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=u.fieldTransforms;return new C5(new Jo(f),p,y)}function ZI(n,e){if(tC(n=Qi(n)))return nC("Unsupported field value:",e,n),eC(n,e);if(n instanceof XI)return function(r,i){if(!YI(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const f of r){let p=ZI(f,i.ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Qi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ur.fromDate(r);return{timestampValue:y0(i.serializer,o)}}if(r instanceof Ur){const o=new Ur(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:y0(i.serializer,o)}}if(r instanceof Mw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Od)return{bytesValue:vI(i.serializer,r._byteString)};if(r instanceof go){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Uw)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return yw(f.serializer,p)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Pw(r)}`)}(n,e)}function eC(n,e){const t={};return KA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ph(n,(r,i)=>{const o=ZI(i,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function tC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ur||n instanceof Mw||n instanceof Od||n instanceof go||n instanceof XI||n instanceof Uw)}function nC(n,e,t){if(!tC(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Pw(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function N5(n,e,t){if((e=Qi(e))instanceof Dw)return e._internalPath;if(typeof e=="string")return rC(n,e);throw E0("Field path arguments must be of type string or ",n,!1,void 0,t)}const P5=new RegExp("[~\\*/\\[\\]]");function rC(n,e,t){if(e.search(P5)>=0)throw E0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dw(...e.split("."))._internalPath}catch{throw E0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function E0(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${r}`),u&&(p+=` in document ${i}`),p+=")"),new lt(De.INVALID_ARGUMENT,f+n+p)}function O5(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new go(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class L5 extends iC{data(){return super.data()}}function sC(n,e){return typeof e=="string"?rC(n,e):e instanceof Dw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new lt(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M5{convertValue(e,t="none"){switch(bc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ph(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>mr(u.doubleValue));return new Uw(o)}convertGeoPoint(e){return new Mw(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=B0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}convertTimestamp(e){const t=Tc(e);return new Ur(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nr.fromString(e);un(AI(r));const i=new kg(r.get(1),r.get(3)),o=new dt(r.popFirst(5));return i.isEqual(t)||_u(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(n,e,t){let r;return r=n?t.merge||t.mergeFields?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oC extends iC{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ky extends oC{data(e={}){return super.data(e)}}class V5{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ky(this._firestore,this._userDataWriter,r.key,r,new cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lt(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(f=>{const p=new Ky(i._firestore,i._userDataWriter,f.doc.key,f.doc,new cg(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const p=new Ky(i._firestore,i._userDataWriter,f.doc.key,f.doc,new cg(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,v=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:F5(f.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function F5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(n){n=_c(n,go);const e=_c(n.firestore,Dg);return v5(Lw(e),n._key).then(t=>lC(e,n,t))}class aC extends M5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Od(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new go(this.firestore,null,t)}}function q5(n,e,t){n=_c(n,go);const r=_c(n.firestore,Dg),i=U5(n.converter,e,t);return $5(r,[k5(R5(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,mu.none())])}function j5(n,...e){var t,r,i;n=Qi(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||lS(e[u])||(o=e[u],u++);const f={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lS(e[u])){const E=e[u];e[u]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[u+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[u+2]=(i=E.complete)===null||i===void 0?void 0:i.bind(E)}let p,y,v;if(n instanceof go)y=_c(n.firestore,Dg),v=j0(n._key.path),p={next:E=>{e[u]&&e[u](lC(y,n,E))},error:e[u+1],complete:e[u+2]};else{const E=_c(n,X0);y=_c(E.firestore,Dg),v=E._query;const A=new aC(y);p={next:R=>{e[u]&&e[u](new V5(y,A,E,R))},error:e[u+1],complete:e[u+2]},D5(n._query)}return function(A,R,P,O){const D=new KI(O),H=new FI(R,D,P);return A.asyncQueue.enqueueAndForget(async()=>UI(await vv(A),H)),()=>{D.eu(),A.asyncQueue.enqueueAndForget(async()=>VI(await vv(A),H))}}(Lw(y),v,f,p)}function $5(n,e){return function(r,i){const o=new yc;return r.asyncQueue.enqueueAndForget(async()=>a5(await _5(r),i,o)),o.promise}(Lw(n),e)}function lC(n,e,t){const r=t.docs.get(e._key),i=new aC(n);return new oC(n,i,e._key,r,new cg(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){$d=i})(Nh),Th(new wc("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),f=new Dg(new LO(r.getProvider("auth-internal")),new VO(r.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kg(y.options.projectId,v)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),vl(AT,"4.7.6",e),vl(AT,"4.7.6","esm2017")})();let z5=class{constructor(){Fe(this,"listeners",[])}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(t=>e!==t)}emit(e="noteUpdate",t){this.listeners.forEach(r=>r(e,t))}getListeners(){return this.listeners}};const yi=[];for(let n=0;n<256;++n)yi.push((n+256).toString(16).slice(1));function H5(n,e=0){return(yi[n[e+0]]+yi[n[e+1]]+yi[n[e+2]]+yi[n[e+3]]+"-"+yi[n[e+4]]+yi[n[e+5]]+"-"+yi[n[e+6]]+yi[n[e+7]]+"-"+yi[n[e+8]]+yi[n[e+9]]+"-"+yi[n[e+10]]+yi[n[e+11]]+yi[n[e+12]]+yi[n[e+13]]+yi[n[e+14]]+yi[n[e+15]]).toLowerCase()}let A1;const W5=new Uint8Array(16);function G5(){if(!A1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");A1=crypto.getRandomValues.bind(crypto)}return A1(W5)}const K5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uS={randomUUID:K5};function J5(n,e,t){var i;if(uS.randomUUID&&!n)return uS.randomUUID();n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??G5();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,H5(r)}var uC=typeof global=="object"&&global&&global.Object===Object&&global,Q5=typeof self=="object"&&self&&self.Object===Object&&self,Pl=uC||Q5||Function("return this")(),Ic=Pl.Symbol,cC=Object.prototype,X5=cC.hasOwnProperty,Y5=cC.toString,eg=Ic?Ic.toStringTag:void 0;function Z5(n){var e=X5.call(n,eg),t=n[eg];try{n[eg]=void 0;var r=!0}catch{}var i=Y5.call(n);return r&&(e?n[eg]=t:delete n[eg]),i}var e3=Object.prototype,t3=e3.toString;function n3(n){return t3.call(n)}var r3="[object Null]",i3="[object Undefined]",cS=Ic?Ic.toStringTag:void 0;function Gd(n){return n==null?n===void 0?i3:r3:cS&&cS in Object(n)?Z5(n):n3(n)}function wu(n){return n!=null&&typeof n=="object"}var bh=Array.isArray;function xc(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function hC(n){return n}var s3="[object AsyncFunction]",o3="[object Function]",a3="[object GeneratorFunction]",l3="[object Proxy]";function Fw(n){if(!xc(n))return!1;var e=Gd(n);return e==o3||e==a3||e==s3||e==l3}var I1=Pl["__core-js_shared__"],hS=function(){var n=/[^.]+$/.exec(I1&&I1.keys&&I1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function u3(n){return!!hS&&hS in n}var c3=Function.prototype,h3=c3.toString;function Mh(n){if(n!=null){try{return h3.call(n)}catch{}try{return n+""}catch{}}return""}var f3=/[\\^$.*+?()[\]{}|]/g,d3=/^\[object .+?Constructor\]$/,p3=Function.prototype,g3=Object.prototype,m3=p3.toString,y3=g3.hasOwnProperty,_3=RegExp("^"+m3.call(y3).replace(f3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v3(n){if(!xc(n)||u3(n))return!1;var e=Fw(n)?_3:d3;return e.test(Mh(n))}function w3(n,e){return n==null?void 0:n[e]}function Uh(n,e){var t=w3(n,e);return v3(t)?t:void 0}var wv=Uh(Pl,"WeakMap"),fS=Object.create,E3=function(){function n(){}return function(e){if(!xc(e))return{};if(fS)return fS(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function T3(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function fC(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var S3=800,b3=16,A3=Date.now;function I3(n){var e=0,t=0;return function(){var r=A3(),i=b3-(r-t);if(t=r,i>0){if(++e>=S3)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function C3(n){return function(){return n}}var T0=function(){try{var n=Uh(Object,"defineProperty");return n({},"",{}),n}catch{}}(),x3=T0?function(n,e){return T0(n,"toString",{configurable:!0,enumerable:!1,value:C3(e),writable:!0})}:hC,R3=I3(x3);function k3(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var N3=9007199254740991,P3=/^(?:0|[1-9]\d*)$/;function dC(n,e){var t=typeof n;return e=e??N3,!!e&&(t=="number"||t!="symbol"&&P3.test(n))&&n>-1&&n%1==0&&n<e}function Bw(n,e,t){e=="__proto__"&&T0?T0(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function em(n,e){return n===e||n!==n&&e!==e}var O3=Object.prototype,L3=O3.hasOwnProperty;function pC(n,e,t){var r=n[e];(!(L3.call(n,e)&&em(r,t))||t===void 0&&!(e in n))&&Bw(n,e,t)}function tm(n,e,t,r){var i=!t;t||(t={});for(var o=-1,u=e.length;++o<u;){var f=e[o],p=void 0;p===void 0&&(p=n[f]),i?Bw(t,f,p):pC(t,f,p)}return t}var dS=Math.max;function D3(n,e,t){return e=dS(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=dS(r.length-e,0),u=Array(o);++i<o;)u[i]=r[e+i];i=-1;for(var f=Array(e+1);++i<e;)f[i]=r[i];return f[e]=t(u),T3(n,this,f)}}function M3(n,e){return R3(D3(n,e,hC),n+"")}var U3=9007199254740991;function gC(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=U3}function Y0(n){return n!=null&&gC(n.length)&&!Fw(n)}function V3(n,e,t){if(!xc(t))return!1;var r=typeof e;return(r=="number"?Y0(t)&&dC(e,t.length):r=="string"&&e in t)?em(t[e],n):!1}function F3(n){return M3(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,u=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,u&&V3(t[0],t[1],u)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var f=t[r];f&&n(e,f,r,o)}return e})}var B3=Object.prototype;function qw(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||B3;return n===t}function q3(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var j3="[object Arguments]";function pS(n){return wu(n)&&Gd(n)==j3}var mC=Object.prototype,$3=mC.hasOwnProperty,z3=mC.propertyIsEnumerable,Ev=pS(function(){return arguments}())?pS:function(n){return wu(n)&&$3.call(n,"callee")&&!z3.call(n,"callee")};function H3(){return!1}var yC=typeof fo=="object"&&fo&&!fo.nodeType&&fo,gS=yC&&typeof po=="object"&&po&&!po.nodeType&&po,W3=gS&&gS.exports===yC,mS=W3?Pl.Buffer:void 0,G3=mS?mS.isBuffer:void 0,Mg=G3||H3,K3="[object Arguments]",J3="[object Array]",Q3="[object Boolean]",X3="[object Date]",Y3="[object Error]",Z3="[object Function]",eD="[object Map]",tD="[object Number]",nD="[object Object]",rD="[object RegExp]",iD="[object Set]",sD="[object String]",oD="[object WeakMap]",aD="[object ArrayBuffer]",lD="[object DataView]",uD="[object Float32Array]",cD="[object Float64Array]",hD="[object Int8Array]",fD="[object Int16Array]",dD="[object Int32Array]",pD="[object Uint8Array]",gD="[object Uint8ClampedArray]",mD="[object Uint16Array]",yD="[object Uint32Array]",On={};On[uD]=On[cD]=On[hD]=On[fD]=On[dD]=On[pD]=On[gD]=On[mD]=On[yD]=!0;On[K3]=On[J3]=On[aD]=On[Q3]=On[lD]=On[X3]=On[Y3]=On[Z3]=On[eD]=On[tD]=On[nD]=On[rD]=On[iD]=On[sD]=On[oD]=!1;function _D(n){return wu(n)&&gC(n.length)&&!!On[Gd(n)]}function jw(n){return function(e){return n(e)}}var _C=typeof fo=="object"&&fo&&!fo.nodeType&&fo,Eg=_C&&typeof po=="object"&&po&&!po.nodeType&&po,vD=Eg&&Eg.exports===_C,C1=vD&&uC.process,Ld=function(){try{var n=Eg&&Eg.require&&Eg.require("util").types;return n||C1&&C1.binding&&C1.binding("util")}catch{}}(),yS=Ld&&Ld.isTypedArray,$w=yS?jw(yS):_D,wD=Object.prototype,ED=wD.hasOwnProperty;function vC(n,e){var t=bh(n),r=!t&&Ev(n),i=!t&&!r&&Mg(n),o=!t&&!r&&!i&&$w(n),u=t||r||i||o,f=u?q3(n.length,String):[],p=f.length;for(var y in n)(e||ED.call(n,y))&&!(u&&(y=="length"||i&&(y=="offset"||y=="parent")||o&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||dC(y,p)))&&f.push(y);return f}function wC(n,e){return function(t){return n(e(t))}}var TD=wC(Object.keys,Object),SD=Object.prototype,bD=SD.hasOwnProperty;function AD(n){if(!qw(n))return TD(n);var e=[];for(var t in Object(n))bD.call(n,t)&&t!="constructor"&&e.push(t);return e}function zw(n){return Y0(n)?vC(n):AD(n)}function ID(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var CD=Object.prototype,xD=CD.hasOwnProperty;function RD(n){if(!xc(n))return ID(n);var e=qw(n),t=[];for(var r in n)r=="constructor"&&(e||!xD.call(n,r))||t.push(r);return t}function nm(n){return Y0(n)?vC(n,!0):RD(n)}var Ug=Uh(Object,"create");function kD(){this.__data__=Ug?Ug(null):{},this.size=0}function ND(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var PD="__lodash_hash_undefined__",OD=Object.prototype,LD=OD.hasOwnProperty;function DD(n){var e=this.__data__;if(Ug){var t=e[n];return t===PD?void 0:t}return LD.call(e,n)?e[n]:void 0}var MD=Object.prototype,UD=MD.hasOwnProperty;function VD(n){var e=this.__data__;return Ug?e[n]!==void 0:UD.call(e,n)}var FD="__lodash_hash_undefined__";function BD(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Ug&&e===void 0?FD:e,this}function Ah(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ah.prototype.clear=kD;Ah.prototype.delete=ND;Ah.prototype.get=DD;Ah.prototype.has=VD;Ah.prototype.set=BD;function qD(){this.__data__=[],this.size=0}function Z0(n,e){for(var t=n.length;t--;)if(em(n[t][0],e))return t;return-1}var jD=Array.prototype,$D=jD.splice;function zD(n){var e=this.__data__,t=Z0(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():$D.call(e,t,1),--this.size,!0}function HD(n){var e=this.__data__,t=Z0(e,n);return t<0?void 0:e[t][1]}function WD(n){return Z0(this.__data__,n)>-1}function GD(n,e){var t=this.__data__,r=Z0(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Au(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Au.prototype.clear=qD;Au.prototype.delete=zD;Au.prototype.get=HD;Au.prototype.has=WD;Au.prototype.set=GD;var Vg=Uh(Pl,"Map");function KD(){this.size=0,this.__data__={hash:new Ah,map:new(Vg||Au),string:new Ah}}function JD(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function e_(n,e){var t=n.__data__;return JD(e)?t[typeof e=="string"?"string":"hash"]:t.map}function QD(n){var e=e_(this,n).delete(n);return this.size-=e?1:0,e}function XD(n){return e_(this,n).get(n)}function YD(n){return e_(this,n).has(n)}function ZD(n,e){var t=e_(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Vh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Vh.prototype.clear=KD;Vh.prototype.delete=QD;Vh.prototype.get=XD;Vh.prototype.has=YD;Vh.prototype.set=ZD;function EC(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Hw=wC(Object.getPrototypeOf,Object),eM="[object Object]",tM=Function.prototype,nM=Object.prototype,TC=tM.toString,rM=nM.hasOwnProperty,iM=TC.call(Object);function sM(n){if(!wu(n)||Gd(n)!=eM)return!1;var e=Hw(n);if(e===null)return!0;var t=rM.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&TC.call(t)==iM}function oM(){this.__data__=new Au,this.size=0}function aM(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function lM(n){return this.__data__.get(n)}function uM(n){return this.__data__.has(n)}var cM=200;function hM(n,e){var t=this.__data__;if(t instanceof Au){var r=t.__data__;if(!Vg||r.length<cM-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Vh(r)}return t.set(n,e),this.size=t.size,this}function Tl(n){var e=this.__data__=new Au(n);this.size=e.size}Tl.prototype.clear=oM;Tl.prototype.delete=aM;Tl.prototype.get=lM;Tl.prototype.has=uM;Tl.prototype.set=hM;function fM(n,e){return n&&tm(e,zw(e),n)}function dM(n,e){return n&&tm(e,nm(e),n)}var SC=typeof fo=="object"&&fo&&!fo.nodeType&&fo,_S=SC&&typeof po=="object"&&po&&!po.nodeType&&po,pM=_S&&_S.exports===SC,vS=pM?Pl.Buffer:void 0,wS=vS?vS.allocUnsafe:void 0;function bC(n,e){if(e)return n.slice();var t=n.length,r=wS?wS(t):new n.constructor(t);return n.copy(r),r}function gM(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var u=n[t];e(u,t,n)&&(o[i++]=u)}return o}function AC(){return[]}var mM=Object.prototype,yM=mM.propertyIsEnumerable,ES=Object.getOwnPropertySymbols,Ww=ES?function(n){return n==null?[]:(n=Object(n),gM(ES(n),function(e){return yM.call(n,e)}))}:AC;function _M(n,e){return tm(n,Ww(n),e)}var vM=Object.getOwnPropertySymbols,IC=vM?function(n){for(var e=[];n;)EC(e,Ww(n)),n=Hw(n);return e}:AC;function wM(n,e){return tm(n,IC(n),e)}function CC(n,e,t){var r=e(n);return bh(n)?r:EC(r,t(n))}function Tv(n){return CC(n,zw,Ww)}function EM(n){return CC(n,nm,IC)}var Sv=Uh(Pl,"DataView"),bv=Uh(Pl,"Promise"),Av=Uh(Pl,"Set"),TS="[object Map]",TM="[object Object]",SS="[object Promise]",bS="[object Set]",AS="[object WeakMap]",IS="[object DataView]",SM=Mh(Sv),bM=Mh(Vg),AM=Mh(bv),IM=Mh(Av),CM=Mh(wv),Ra=Gd;(Sv&&Ra(new Sv(new ArrayBuffer(1)))!=IS||Vg&&Ra(new Vg)!=TS||bv&&Ra(bv.resolve())!=SS||Av&&Ra(new Av)!=bS||wv&&Ra(new wv)!=AS)&&(Ra=function(n){var e=Gd(n),t=e==TM?n.constructor:void 0,r=t?Mh(t):"";if(r)switch(r){case SM:return IS;case bM:return TS;case AM:return SS;case IM:return bS;case CM:return AS}return e});var xM=Object.prototype,RM=xM.hasOwnProperty;function kM(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&RM.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var S0=Pl.Uint8Array;function Gw(n){var e=new n.constructor(n.byteLength);return new S0(e).set(new S0(n)),e}function NM(n,e){var t=e?Gw(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var PM=/\w*$/;function OM(n){var e=new n.constructor(n.source,PM.exec(n));return e.lastIndex=n.lastIndex,e}var CS=Ic?Ic.prototype:void 0,xS=CS?CS.valueOf:void 0;function LM(n){return xS?Object(xS.call(n)):{}}function xC(n,e){var t=e?Gw(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var DM="[object Boolean]",MM="[object Date]",UM="[object Map]",VM="[object Number]",FM="[object RegExp]",BM="[object Set]",qM="[object String]",jM="[object Symbol]",$M="[object ArrayBuffer]",zM="[object DataView]",HM="[object Float32Array]",WM="[object Float64Array]",GM="[object Int8Array]",KM="[object Int16Array]",JM="[object Int32Array]",QM="[object Uint8Array]",XM="[object Uint8ClampedArray]",YM="[object Uint16Array]",ZM="[object Uint32Array]";function e6(n,e,t){var r=n.constructor;switch(e){case $M:return Gw(n);case DM:case MM:return new r(+n);case zM:return NM(n,t);case HM:case WM:case GM:case KM:case JM:case QM:case XM:case YM:case ZM:return xC(n,t);case UM:return new r;case VM:case qM:return new r(n);case FM:return OM(n);case BM:return new r;case jM:return LM(n)}}function RC(n){return typeof n.constructor=="function"&&!qw(n)?E3(Hw(n)):{}}var t6="[object Map]";function n6(n){return wu(n)&&Ra(n)==t6}var RS=Ld&&Ld.isMap,r6=RS?jw(RS):n6,i6="[object Set]";function s6(n){return wu(n)&&Ra(n)==i6}var kS=Ld&&Ld.isSet,o6=kS?jw(kS):s6,a6=1,l6=2,u6=4,kC="[object Arguments]",c6="[object Array]",h6="[object Boolean]",f6="[object Date]",d6="[object Error]",NC="[object Function]",p6="[object GeneratorFunction]",g6="[object Map]",m6="[object Number]",PC="[object Object]",y6="[object RegExp]",_6="[object Set]",v6="[object String]",w6="[object Symbol]",E6="[object WeakMap]",T6="[object ArrayBuffer]",S6="[object DataView]",b6="[object Float32Array]",A6="[object Float64Array]",I6="[object Int8Array]",C6="[object Int16Array]",x6="[object Int32Array]",R6="[object Uint8Array]",k6="[object Uint8ClampedArray]",N6="[object Uint16Array]",P6="[object Uint32Array]",In={};In[kC]=In[c6]=In[T6]=In[S6]=In[h6]=In[f6]=In[b6]=In[A6]=In[I6]=In[C6]=In[x6]=In[g6]=In[m6]=In[PC]=In[y6]=In[_6]=In[v6]=In[w6]=In[R6]=In[k6]=In[N6]=In[P6]=!0;In[d6]=In[NC]=In[E6]=!1;function Jy(n,e,t,r,i,o){var u,f=e&a6,p=e&l6,y=e&u6;if(u!==void 0)return u;if(!xc(n))return n;var v=bh(n);if(v){if(u=kM(n),!f)return fC(n,u)}else{var E=Ra(n),A=E==NC||E==p6;if(Mg(n))return bC(n,f);if(E==PC||E==kC||A&&!i){if(u=p||A?{}:RC(n),!f)return p?wM(n,dM(u,n)):_M(n,fM(u,n))}else{if(!In[E])return i?n:{};u=e6(n,E,f)}}o||(o=new Tl);var R=o.get(n);if(R)return R;o.set(n,u),o6(n)?n.forEach(function(D){u.add(Jy(D,e,t,D,n,o))}):r6(n)&&n.forEach(function(D,H){u.set(H,Jy(D,e,t,H,n,o))});var P=y?p?EM:Tv:p?nm:zw,O=v?void 0:P(n);return k3(O||n,function(D,H){O&&(H=D,D=n[H]),pC(u,H,Jy(D,e,t,H,n,o))}),u}var O6=1,L6=4;function vd(n){return Jy(n,O6|L6)}var D6="__lodash_hash_undefined__";function M6(n){return this.__data__.set(n,D6),this}function U6(n){return this.__data__.has(n)}function b0(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Vh;++e<t;)this.add(n[e])}b0.prototype.add=b0.prototype.push=M6;b0.prototype.has=U6;function V6(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function F6(n,e){return n.has(e)}var B6=1,q6=2;function OC(n,e,t,r,i,o){var u=t&B6,f=n.length,p=e.length;if(f!=p&&!(u&&p>f))return!1;var y=o.get(n),v=o.get(e);if(y&&v)return y==e&&v==n;var E=-1,A=!0,R=t&q6?new b0:void 0;for(o.set(n,e),o.set(e,n);++E<f;){var P=n[E],O=e[E];if(r)var D=u?r(O,P,E,e,n,o):r(P,O,E,n,e,o);if(D!==void 0){if(D)continue;A=!1;break}if(R){if(!V6(e,function(H,te){if(!F6(R,te)&&(P===H||i(P,H,t,r,o)))return R.push(te)})){A=!1;break}}else if(!(P===O||i(P,O,t,r,o))){A=!1;break}}return o.delete(n),o.delete(e),A}function j6(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function $6(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var z6=1,H6=2,W6="[object Boolean]",G6="[object Date]",K6="[object Error]",J6="[object Map]",Q6="[object Number]",X6="[object RegExp]",Y6="[object Set]",Z6="[object String]",e9="[object Symbol]",t9="[object ArrayBuffer]",n9="[object DataView]",NS=Ic?Ic.prototype:void 0,x1=NS?NS.valueOf:void 0;function r9(n,e,t,r,i,o,u){switch(t){case n9:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case t9:return!(n.byteLength!=e.byteLength||!o(new S0(n),new S0(e)));case W6:case G6:case Q6:return em(+n,+e);case K6:return n.name==e.name&&n.message==e.message;case X6:case Z6:return n==e+"";case J6:var f=j6;case Y6:var p=r&z6;if(f||(f=$6),n.size!=e.size&&!p)return!1;var y=u.get(n);if(y)return y==e;r|=H6,u.set(n,e);var v=OC(f(n),f(e),r,i,o,u);return u.delete(n),v;case e9:if(x1)return x1.call(n)==x1.call(e)}return!1}var i9=1,s9=Object.prototype,o9=s9.hasOwnProperty;function a9(n,e,t,r,i,o){var u=t&i9,f=Tv(n),p=f.length,y=Tv(e),v=y.length;if(p!=v&&!u)return!1;for(var E=p;E--;){var A=f[E];if(!(u?A in e:o9.call(e,A)))return!1}var R=o.get(n),P=o.get(e);if(R&&P)return R==e&&P==n;var O=!0;o.set(n,e),o.set(e,n);for(var D=u;++E<p;){A=f[E];var H=n[A],te=e[A];if(r)var X=u?r(te,H,A,e,n,o):r(H,te,A,n,e,o);if(!(X===void 0?H===te||i(H,te,t,r,o):X)){O=!1;break}D||(D=A=="constructor")}if(O&&!D){var se=n.constructor,oe=e.constructor;se!=oe&&"constructor"in n&&"constructor"in e&&!(typeof se=="function"&&se instanceof se&&typeof oe=="function"&&oe instanceof oe)&&(O=!1)}return o.delete(n),o.delete(e),O}var l9=1,PS="[object Arguments]",OS="[object Array]",Sy="[object Object]",u9=Object.prototype,LS=u9.hasOwnProperty;function c9(n,e,t,r,i,o){var u=bh(n),f=bh(e),p=u?OS:Ra(n),y=f?OS:Ra(e);p=p==PS?Sy:p,y=y==PS?Sy:y;var v=p==Sy,E=y==Sy,A=p==y;if(A&&Mg(n)){if(!Mg(e))return!1;u=!0,v=!1}if(A&&!v)return o||(o=new Tl),u||$w(n)?OC(n,e,t,r,i,o):r9(n,e,p,t,r,i,o);if(!(t&l9)){var R=v&&LS.call(n,"__wrapped__"),P=E&&LS.call(e,"__wrapped__");if(R||P){var O=R?n.value():n,D=P?e.value():e;return o||(o=new Tl),i(O,D,t,r,o)}}return A?(o||(o=new Tl),a9(n,e,t,r,i,o)):!1}function LC(n,e,t,r,i){return n===e?!0:n==null||e==null||!wu(n)&&!wu(e)?n!==n&&e!==e:c9(n,e,t,r,LC,i)}function h9(n){return function(e,t,r){for(var i=-1,o=Object(e),u=r(e),f=u.length;f--;){var p=u[++i];if(t(o[p],p,o)===!1)break}return e}}var f9=h9();function Iv(n,e,t){(t!==void 0&&!em(n[e],t)||t===void 0&&!(e in n))&&Bw(n,e,t)}function d9(n){return wu(n)&&Y0(n)}function Cv(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function p9(n){return tm(n,nm(n))}function g9(n,e,t,r,i,o,u){var f=Cv(n,t),p=Cv(e,t),y=u.get(p);if(y){Iv(n,t,y);return}var v=o?o(f,p,t+"",n,e,u):void 0,E=v===void 0;if(E){var A=bh(p),R=!A&&Mg(p),P=!A&&!R&&$w(p);v=p,A||R||P?bh(f)?v=f:d9(f)?v=fC(f):R?(E=!1,v=bC(p,!0)):P?(E=!1,v=xC(p,!0)):v=[]:sM(p)||Ev(p)?(v=f,Ev(f)?v=p9(f):(!xc(f)||Fw(f))&&(v=RC(p))):E=!1}E&&(u.set(p,v),i(v,p,r,o,u),u.delete(p)),Iv(n,t,v)}function DC(n,e,t,r,i){n!==e&&f9(e,function(o,u){if(i||(i=new Tl),xc(o))g9(n,e,u,t,DC,r,i);else{var f=r?r(Cv(n,u),o,u+"",n,e,i):void 0;f===void 0&&(f=o),Iv(n,u,f)}},nm)}function Kw(n,e){return LC(n,e)}var vc=F3(function(n,e,t){DC(n,e,t)}),nt=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(nt||{});class xl{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=nt.TYPE&nt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&nt.LEVEL|i:nt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class wd extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const MC=class xv{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new wd(`Unable to create ${t} blot`);const o=i,u=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:o.create(r),f=new o(e,u,r);return xv.blots.set(f.domNode,f),f}find(e,t=!1){return xv.find(e,t)}query(e,t=nt.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&nt.LEVEL&nt.BLOCK?r=this.types.block:e&nt.LEVEL&nt.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&nt.LEVEL&r.scope&&t&nt.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new wd("Invalid definition");if(r&&t.blotName==="abstract")throw new wd("Cannot register abstract class");const o=r?t.blotName:i?t.attrName:void 0;return this.types[o]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(u=>u.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(u=>{(this.tags[u]==null||t.className==null)&&(this.tags[u]=t)}))),t})}};MC.blots=new WeakMap;let Dd=MC;function DS(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class m9 extends xl{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){DS(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(DS(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const Da=m9;function R1(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class y9 extends xl{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[R1(this.keyName)]=t,!0):!1}remove(e){e.style[R1(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[R1(this.keyName)];return this.canAdd(e,t)?t:""}}const Rc=y9;class _9{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Dd.find(this.domNode);if(e==null)return;const t=xl.keys(this.domNode),r=Da.keys(this.domNode),i=Rc.keys(this.domNode);t.concat(r).concat(i).forEach(o=>{const u=e.scroll.query(o,nt.ATTRIBUTE);u instanceof xl&&(this.attributes[u.attrName]=u)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const t_=_9,UC=class{constructor(e,t){this.scroll=e,this.domNode=t,Dd.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new wd("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Dd.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const o=this.isolate(e,t);if(this.scroll.query(r,nt.BLOT)!=null&&i)o.wrap(r,i);else if(this.scroll.query(r,nt.ATTRIBUTE)!=null){const u=this.scroll.create(this.statics.scope);o.wrap(u),u.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new wd(`Cannot wrap ${e}`);return r.appendChild(this),r}};UC.blotName="abstract";let VC=UC;const FC=class extends VC{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};FC.scope=nt.INLINE_BLOT;let v9=FC;const Wi=v9;class w9{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const o=i.length();if(e<o||t&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,o]=this.find(e);let u=e-o;const f=this.iterator(i);let p=f();for(;p&&u<e+t;){const y=p.length();e>u?r(p,e-u,Math.min(t,u+y-e)):r(p,0,Math.min(y,e+t-u)),u+=y,p=f()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function MS(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(nt.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const BC=class ac extends VC{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,ac.uiClass&&this.uiNode.classList.add(ac.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new w9,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=MS(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof wd)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,o)=>{r.deleteAt(i,o)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof ac?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],o=r;return this.children.forEachAt(t,r,(u,f,p)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&i.push(u),u instanceof ac&&(i=i.concat(u.descendants(e,f,o))),o-=p}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===nt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof ac?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(o,u,f)=>{o.formatAt(u,f,r,i)})}insertAt(e,t,r){const[i,o]=this.children.find(e);if(i)i.insertAt(o,t,r);else{const u=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(u)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),o=[[this,e]];return r instanceof ac?o.concat(r.path(i,t)):(r!=null&&o.push([r,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof ac&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,u)=>{const f=i.split(o,t);f!=null&&r.appendChild(f)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(r.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(o);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),r.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,u)=>o===u?0:o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let u=null;o.nextSibling!=null&&(u=this.scroll.find(o.nextSibling));const f=MS(o,this.scroll);(f.next!==u||f.next==null)&&(f.parent!=null&&f.parent.removeChild(this),this.insertBefore(f,u||void 0))}),this.enforceAllowedChildren()}};BC.uiClass="";let E9=BC;const Pa=E9;function T9(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const hd=class fd extends Pa{static create(e){return super.create(e)}static formats(e,t){const r=t.query(fd.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new t_(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof fd||(r=r.wrap(fd.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,nt.INLINE);if(r==null)return;r instanceof xl?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,nt.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof fd&&r.prev===this&&T9(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof fd&&this.attributes.move(r),r}};hd.allowedChildren=[hd,Wi],hd.blotName="inline",hd.scope=nt.INLINE_BLOT,hd.tagName="SPAN";let S9=hd;const Jw=S9,dd=class Rv extends Pa{static create(e){return super.create(e)}static formats(e,t){const r=t.query(Rv.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new t_(this.domNode)}format(e,t){const r=this.scroll.query(e,nt.BLOCK);r!=null&&(r instanceof xl?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(Rv.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,nt.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,nt.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(t,r);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};dd.blotName="block",dd.scope=nt.BLOCK_BLOT,dd.tagName="P",dd.allowedChildren=[Jw,dd,Wi];let b9=dd;const Fg=b9,kv=class extends Pa{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};kv.blotName="container",kv.scope=nt.BLOCK_BLOT;let A9=kv;const n_=A9;class I9 extends Wi{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const vo=I9,C9={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},x9=100,pd=class extends Pa{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,C9),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=nt.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(p,y=!0)=>{p==null||p===this||p.domNode.parentNode!=null&&(r.has(p.domNode)||r.set(p.domNode,[]),y&&o(p.parent))},u=p=>{r.has(p.domNode)&&(p instanceof Pa&&p.children.forEach(u),r.delete(p.domNode),p.optimize(t))};let f=e;for(let p=0;f.length>0;p+=1){if(p>=x9)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(y=>{const v=this.find(y.target,!0);v!=null&&(v.domNode===y.target&&(y.type==="childList"?(o(this.find(y.previousSibling,!1)),Array.from(y.addedNodes).forEach(E=>{const A=this.find(E,!1);o(A,!1),A instanceof Pa&&A.children.forEach(R=>{o(R,!1)})})):y.type==="attributes"&&o(v.prev)),o(v))}),this.children.forEach(u),f=Array.from(this.observer.takeRecords()),i=f.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:r.has(o.domNode)?(r.get(o.domNode).push(i),null):(r.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};pd.blotName="scroll",pd.defaultChild=Fg,pd.allowedChildren=[Fg,n_],pd.scope=nt.BLOCK_BLOT,pd.tagName="DIV";let R9=pd;const Qw=R9,Nv=class qC extends Wi{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof qC&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Nv.blotName="text",Nv.scope=nt.INLINE_BLOT;let k9=Nv;const A0=k9,N9=Object.freeze(Object.defineProperty({__proto__:null,Attributor:xl,AttributorStore:t_,BlockBlot:Fg,ClassAttributor:Da,ContainerBlot:n_,EmbedBlot:vo,InlineBlot:Jw,LeafBlot:Wi,ParentBlot:Pa,Registry:Dd,Scope:nt,ScrollBlot:Qw,StyleAttributor:Rc,TextBlot:A0},Symbol.toStringTag,{value:"Module"}));var by={exports:{}},k1,US;function P9(){if(US)return k1;US=1;var n=-1,e=1,t=0;function r(x,B,k,Se,Ae){if(x===B)return x?[[t,x]]:[];if(k!=null){var ve=z(x,B,k);if(ve)return ve}var Te=f(x,B),he=x.substring(0,Te);x=x.substring(Te),B=B.substring(Te),Te=y(x,B);var ee=x.substring(x.length-Te);x=x.substring(0,x.length-Te),B=B.substring(0,B.length-Te);var Q=i(x,B);return he&&Q.unshift([t,he]),ee&&Q.push([t,ee]),te(Q,Ae),Se&&E(Q),Q}function i(x,B){var k;if(!x)return[[e,B]];if(!B)return[[n,x]];var Se=x.length>B.length?x:B,Ae=x.length>B.length?B:x,ve=Se.indexOf(Ae);if(ve!==-1)return k=[[e,Se.substring(0,ve)],[t,Ae],[e,Se.substring(ve+Ae.length)]],x.length>B.length&&(k[0][0]=k[2][0]=n),k;if(Ae.length===1)return[[n,x],[e,B]];var Te=v(x,B);if(Te){var he=Te[0],ee=Te[1],Q=Te[2],j=Te[3],ne=Te[4],pe=r(he,Q),ke=r(ee,j);return pe.concat([[t,ne]],ke)}return o(x,B)}function o(x,B){for(var k=x.length,Se=B.length,Ae=Math.ceil((k+Se)/2),ve=Ae,Te=2*Ae,he=new Array(Te),ee=new Array(Te),Q=0;Q<Te;Q++)he[Q]=-1,ee[Q]=-1;he[ve+1]=0,ee[ve+1]=0;for(var j=k-Se,ne=j%2!==0,pe=0,ke=0,Ce=0,qe=0,He=0;He<Ae;He++){for(var Ue=-He+pe;Ue<=He-ke;Ue+=2){var Ke=ve+Ue,rt;Ue===-He||Ue!==He&&he[Ke-1]<he[Ke+1]?rt=he[Ke+1]:rt=he[Ke-1]+1;for(var ot=rt-Ue;rt<k&&ot<Se&&x.charAt(rt)===B.charAt(ot);)rt++,ot++;if(he[Ke]=rt,rt>k)ke+=2;else if(ot>Se)pe+=2;else if(ne){var It=ve+j-Ue;if(It>=0&&It<Te&&ee[It]!==-1){var Pt=k-ee[It];if(rt>=Pt)return u(x,B,rt,ot)}}}for(var Ot=-He+Ce;Ot<=He-qe;Ot+=2){var It=ve+Ot,Pt;Ot===-He||Ot!==He&&ee[It-1]<ee[It+1]?Pt=ee[It+1]:Pt=ee[It-1]+1;for(var cn=Pt-Ot;Pt<k&&cn<Se&&x.charAt(k-Pt-1)===B.charAt(Se-cn-1);)Pt++,cn++;if(ee[It]=Pt,Pt>k)qe+=2;else if(cn>Se)Ce+=2;else if(!ne){var Ke=ve+j-Ot;if(Ke>=0&&Ke<Te&&he[Ke]!==-1){var rt=he[Ke],ot=ve+rt-Ke;if(Pt=k-Pt,rt>=Pt)return u(x,B,rt,ot)}}}}return[[n,x],[e,B]]}function u(x,B,k,Se){var Ae=x.substring(0,k),ve=B.substring(0,Se),Te=x.substring(k),he=B.substring(Se),ee=r(Ae,ve),Q=r(Te,he);return ee.concat(Q)}function f(x,B){if(!x||!B||x.charAt(0)!==B.charAt(0))return 0;for(var k=0,Se=Math.min(x.length,B.length),Ae=Se,ve=0;k<Ae;)x.substring(ve,Ae)==B.substring(ve,Ae)?(k=Ae,ve=k):Se=Ae,Ae=Math.floor((Se-k)/2+k);return X(x.charCodeAt(Ae-1))&&Ae--,Ae}function p(x,B){var k=x.length,Se=B.length;if(k==0||Se==0)return 0;k>Se?x=x.substring(k-Se):k<Se&&(B=B.substring(0,k));var Ae=Math.min(k,Se);if(x==B)return Ae;for(var ve=0,Te=1;;){var he=x.substring(Ae-Te),ee=B.indexOf(he);if(ee==-1)return ve;Te+=ee,(ee==0||x.substring(Ae-Te)==B.substring(0,Te))&&(ve=Te,Te++)}}function y(x,B){if(!x||!B||x.slice(-1)!==B.slice(-1))return 0;for(var k=0,Se=Math.min(x.length,B.length),Ae=Se,ve=0;k<Ae;)x.substring(x.length-Ae,x.length-ve)==B.substring(B.length-Ae,B.length-ve)?(k=Ae,ve=k):Se=Ae,Ae=Math.floor((Se-k)/2+k);return se(x.charCodeAt(x.length-Ae))&&Ae--,Ae}function v(x,B){var k=x.length>B.length?x:B,Se=x.length>B.length?B:x;if(k.length<4||Se.length*2<k.length)return null;function Ae(ke,Ce,qe){for(var He=ke.substring(qe,qe+Math.floor(ke.length/4)),Ue=-1,Ke="",rt,ot,It,Pt;(Ue=Ce.indexOf(He,Ue+1))!==-1;){var Ot=f(ke.substring(qe),Ce.substring(Ue)),cn=y(ke.substring(0,qe),Ce.substring(0,Ue));Ke.length<cn+Ot&&(Ke=Ce.substring(Ue-cn,Ue)+Ce.substring(Ue,Ue+Ot),rt=ke.substring(0,qe-cn),ot=ke.substring(qe+Ot),It=Ce.substring(0,Ue-cn),Pt=Ce.substring(Ue+Ot))}return Ke.length*2>=ke.length?[rt,ot,It,Pt,Ke]:null}var ve=Ae(k,Se,Math.ceil(k.length/4)),Te=Ae(k,Se,Math.ceil(k.length/2)),he;if(!ve&&!Te)return null;Te?ve?he=ve[4].length>Te[4].length?ve:Te:he=Te:he=ve;var ee,Q,j,ne;x.length>B.length?(ee=he[0],Q=he[1],j=he[2],ne=he[3]):(j=he[0],ne=he[1],ee=he[2],Q=he[3]);var pe=he[4];return[ee,Q,j,ne,pe]}function E(x){for(var B=!1,k=[],Se=0,Ae=null,ve=0,Te=0,he=0,ee=0,Q=0;ve<x.length;)x[ve][0]==t?(k[Se++]=ve,Te=ee,he=Q,ee=0,Q=0,Ae=x[ve][1]):(x[ve][0]==e?ee+=x[ve][1].length:Q+=x[ve][1].length,Ae&&Ae.length<=Math.max(Te,he)&&Ae.length<=Math.max(ee,Q)&&(x.splice(k[Se-1],0,[n,Ae]),x[k[Se-1]+1][0]=e,Se--,Se--,ve=Se>0?k[Se-1]:-1,Te=0,he=0,ee=0,Q=0,Ae=null,B=!0)),ve++;for(B&&te(x),H(x),ve=1;ve<x.length;){if(x[ve-1][0]==n&&x[ve][0]==e){var j=x[ve-1][1],ne=x[ve][1],pe=p(j,ne),ke=p(ne,j);pe>=ke?(pe>=j.length/2||pe>=ne.length/2)&&(x.splice(ve,0,[t,ne.substring(0,pe)]),x[ve-1][1]=j.substring(0,j.length-pe),x[ve+1][1]=ne.substring(pe),ve++):(ke>=j.length/2||ke>=ne.length/2)&&(x.splice(ve,0,[t,j.substring(0,ke)]),x[ve-1][0]=e,x[ve-1][1]=ne.substring(0,ne.length-ke),x[ve+1][0]=n,x[ve+1][1]=j.substring(ke),ve++),ve++}ve++}}var A=/[^a-zA-Z0-9]/,R=/\s/,P=/[\r\n]/,O=/\n\r?\n$/,D=/^\r?\n\r?\n/;function H(x){function B(ke,Ce){if(!ke||!Ce)return 6;var qe=ke.charAt(ke.length-1),He=Ce.charAt(0),Ue=qe.match(A),Ke=He.match(A),rt=Ue&&qe.match(R),ot=Ke&&He.match(R),It=rt&&qe.match(P),Pt=ot&&He.match(P),Ot=It&&ke.match(O),cn=Pt&&Ce.match(D);return Ot||cn?5:It||Pt?4:Ue&&!rt&&ot?3:rt||ot?2:Ue||Ke?1:0}for(var k=1;k<x.length-1;){if(x[k-1][0]==t&&x[k+1][0]==t){var Se=x[k-1][1],Ae=x[k][1],ve=x[k+1][1],Te=y(Se,Ae);if(Te){var he=Ae.substring(Ae.length-Te);Se=Se.substring(0,Se.length-Te),Ae=he+Ae.substring(0,Ae.length-Te),ve=he+ve}for(var ee=Se,Q=Ae,j=ve,ne=B(Se,Ae)+B(Ae,ve);Ae.charAt(0)===ve.charAt(0);){Se+=Ae.charAt(0),Ae=Ae.substring(1)+ve.charAt(0),ve=ve.substring(1);var pe=B(Se,Ae)+B(Ae,ve);pe>=ne&&(ne=pe,ee=Se,Q=Ae,j=ve)}x[k-1][1]!=ee&&(ee?x[k-1][1]=ee:(x.splice(k-1,1),k--),x[k][1]=Q,j?x[k+1][1]=j:(x.splice(k+1,1),k--))}k++}}function te(x,B){x.push([t,""]);for(var k=0,Se=0,Ae=0,ve="",Te="",he;k<x.length;){if(k<x.length-1&&!x[k][1]){x.splice(k,1);continue}switch(x[k][0]){case e:Ae++,Te+=x[k][1],k++;break;case n:Se++,ve+=x[k][1],k++;break;case t:var ee=k-Ae-Se-1;if(B){if(ee>=0&&me(x[ee][1])){var Q=x[ee][1].slice(-1);if(x[ee][1]=x[ee][1].slice(0,-1),ve=Q+ve,Te=Q+Te,!x[ee][1]){x.splice(ee,1),k--;var j=ee-1;x[j]&&x[j][0]===e&&(Ae++,Te=x[j][1]+Te,j--),x[j]&&x[j][0]===n&&(Se++,ve=x[j][1]+ve,j--),ee=j}}if(oe(x[k][1])){var Q=x[k][1].charAt(0);x[k][1]=x[k][1].slice(1),ve+=Q,Te+=Q}}if(k<x.length-1&&!x[k][1]){x.splice(k,1);break}if(ve.length>0||Te.length>0){ve.length>0&&Te.length>0&&(he=f(Te,ve),he!==0&&(ee>=0?x[ee][1]+=Te.substring(0,he):(x.splice(0,0,[t,Te.substring(0,he)]),k++),Te=Te.substring(he),ve=ve.substring(he)),he=y(Te,ve),he!==0&&(x[k][1]=Te.substring(Te.length-he)+x[k][1],Te=Te.substring(0,Te.length-he),ve=ve.substring(0,ve.length-he)));var ne=Ae+Se;ve.length===0&&Te.length===0?(x.splice(k-ne,ne),k=k-ne):ve.length===0?(x.splice(k-ne,ne,[e,Te]),k=k-ne+1):Te.length===0?(x.splice(k-ne,ne,[n,ve]),k=k-ne+1):(x.splice(k-ne,ne,[n,ve],[e,Te]),k=k-ne+2)}k!==0&&x[k-1][0]===t?(x[k-1][1]+=x[k][1],x.splice(k,1)):k++,Ae=0,Se=0,ve="",Te="";break}}x[x.length-1][1]===""&&x.pop();var pe=!1;for(k=1;k<x.length-1;)x[k-1][0]===t&&x[k+1][0]===t&&(x[k][1].substring(x[k][1].length-x[k-1][1].length)===x[k-1][1]?(x[k][1]=x[k-1][1]+x[k][1].substring(0,x[k][1].length-x[k-1][1].length),x[k+1][1]=x[k-1][1]+x[k+1][1],x.splice(k-1,1),pe=!0):x[k][1].substring(0,x[k+1][1].length)==x[k+1][1]&&(x[k-1][1]+=x[k+1][1],x[k][1]=x[k][1].substring(x[k+1][1].length)+x[k+1][1],x.splice(k+1,1),pe=!0)),k++;pe&&te(x,B)}function X(x){return x>=55296&&x<=56319}function se(x){return x>=56320&&x<=57343}function oe(x){return se(x.charCodeAt(0))}function me(x){return X(x.charCodeAt(x.length-1))}function $(x){for(var B=[],k=0;k<x.length;k++)x[k][1].length>0&&B.push(x[k]);return B}function q(x,B,k,Se){return me(x)||oe(Se)?null:$([[t,x],[n,B],[e,k],[t,Se]])}function z(x,B,k){var Se=typeof k=="number"?{index:k,length:0}:k.oldRange,Ae=typeof k=="number"?null:k.newRange,ve=x.length,Te=B.length;if(Se.length===0&&(Ae===null||Ae.length===0)){var he=Se.index,ee=x.slice(0,he),Q=x.slice(he),j=Ae?Ae.index:null;e:{var ne=he+Te-ve;if(j!==null&&j!==ne||ne<0||ne>Te)break e;var pe=B.slice(0,ne),ke=B.slice(ne);if(ke!==Q)break e;var Ce=Math.min(he,ne),qe=ee.slice(0,Ce),He=pe.slice(0,Ce);if(qe!==He)break e;var Ue=ee.slice(Ce),Ke=pe.slice(Ce);return q(qe,Ue,Ke,Q)}e:{if(j!==null&&j!==he)break e;var rt=he,pe=B.slice(0,rt),ke=B.slice(rt);if(pe!==ee)break e;var ot=Math.min(ve-rt,Te-rt),It=Q.slice(Q.length-ot),Pt=ke.slice(ke.length-ot);if(It!==Pt)break e;var Ue=Q.slice(0,Q.length-ot),Ke=ke.slice(0,ke.length-ot);return q(ee,Ue,Ke,It)}}if(Se.length>0&&Ae&&Ae.length===0)e:{var qe=x.slice(0,Se.index),It=x.slice(Se.index+Se.length),Ce=qe.length,ot=It.length;if(Te<Ce+ot)break e;var He=B.slice(0,Ce),Pt=B.slice(Te-ot);if(qe!==He||It!==Pt)break e;var Ue=x.slice(Ce,ve-ot),Ke=B.slice(Ce,Te-ot);return q(qe,Ue,Ke,It)}return null}function C(x,B,k,Se){return r(x,B,k,Se,!0)}return C.INSERT=e,C.DELETE=n,C.EQUAL=t,k1=C,k1}var hg={exports:{}};hg.exports;var VS;function jC(){return VS||(VS=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",u="[object Array]",f="[object Boolean]",p="[object Date]",y="[object Error]",v="[object Function]",E="[object GeneratorFunction]",A="[object Map]",R="[object Number]",P="[object Object]",O="[object Promise]",D="[object RegExp]",H="[object Set]",te="[object String]",X="[object Symbol]",se="[object WeakMap]",oe="[object ArrayBuffer]",me="[object DataView]",$="[object Float32Array]",q="[object Float64Array]",z="[object Int8Array]",C="[object Int16Array]",x="[object Int32Array]",B="[object Uint8Array]",k="[object Uint8ClampedArray]",Se="[object Uint16Array]",Ae="[object Uint32Array]",ve=/[\\^$.*+?()[\]{}|]/g,Te=/\w*$/,he=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,Q={};Q[o]=Q[u]=Q[oe]=Q[me]=Q[f]=Q[p]=Q[$]=Q[q]=Q[z]=Q[C]=Q[x]=Q[A]=Q[R]=Q[P]=Q[D]=Q[H]=Q[te]=Q[X]=Q[B]=Q[k]=Q[Se]=Q[Ae]=!0,Q[y]=Q[v]=Q[se]=!1;var j=typeof Xo=="object"&&Xo&&Xo.Object===Object&&Xo,ne=typeof self=="object"&&self&&self.Object===Object&&self,pe=j||ne||Function("return this")(),ke=e&&!e.nodeType&&e,Ce=ke&&!0&&n&&!n.nodeType&&n,qe=Ce&&Ce.exports===ke;function He(b,U){return b.set(U[0],U[1]),b}function Ue(b,U){return b.add(U),b}function Ke(b,U){for(var G=-1,_e=b?b.length:0;++G<_e&&U(b[G],G,b)!==!1;);return b}function rt(b,U){for(var G=-1,_e=U.length,ht=b.length;++G<_e;)b[ht+G]=U[G];return b}function ot(b,U,G,_e){for(var ht=-1,Qe=b?b.length:0;++ht<Qe;)G=U(G,b[ht],ht,b);return G}function It(b,U){for(var G=-1,_e=Array(b);++G<b;)_e[G]=U(G);return _e}function Pt(b,U){return b==null?void 0:b[U]}function Ot(b){var U=!1;if(b!=null&&typeof b.toString!="function")try{U=!!(b+"")}catch{}return U}function cn(b){var U=-1,G=Array(b.size);return b.forEach(function(_e,ht){G[++U]=[ht,_e]}),G}function zs(b,U){return function(G){return b(U(G))}}function _r(b){var U=-1,G=Array(b.size);return b.forEach(function(_e){G[++U]=_e}),G}var ea=Array.prototype,wo=Function.prototype,Gn=Object.prototype,mn=pe["__core-js_shared__"],Si=function(){var b=/[^.]+$/.exec(mn&&mn.keys&&mn.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}(),bi=wo.toString,Rr=Gn.hasOwnProperty,Fr=Gn.toString,Cn=RegExp("^"+bi.call(Rr).replace(ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=qe?pe.Buffer:void 0,Bn=pe.Symbol,Xi=pe.Uint8Array,xn=zs(Object.getPrototypeOf,Object),Ai=Object.create,Ii=Gn.propertyIsEnumerable,Hs=ea.splice,Yi=Object.getOwnPropertySymbols,Ci=Xt?Xt.isBuffer:void 0,ps=zs(Object.keys,Object),xi=ct(pe,"DataView"),ti=ct(pe,"Map"),vr=ct(pe,"Promise"),Zi=ct(pe,"Set"),sr=ct(pe,"WeakMap"),or=ct(Object,"create"),gs=hn(xi),wr=hn(ti),Ws=hn(vr),es=hn(Zi),ms=hn(sr),Er=Bn?Bn.prototype:void 0,Eo=Er?Er.valueOf:void 0;function Yt(b){var U=-1,G=b?b.length:0;for(this.clear();++U<G;){var _e=b[U];this.set(_e[0],_e[1])}}function ys(){this.__data__=or?or(null):{}}function ni(b){return this.has(b)&&delete this.__data__[b]}function ts(b){var U=this.__data__;if(or){var G=U[b];return G===r?void 0:G}return Rr.call(U,b)?U[b]:void 0}function _s(b){var U=this.__data__;return or?U[b]!==void 0:Rr.call(U,b)}function vs(b,U){var G=this.__data__;return G[b]=or&&U===void 0?r:U,this}Yt.prototype.clear=ys,Yt.prototype.delete=ni,Yt.prototype.get=ts,Yt.prototype.has=_s,Yt.prototype.set=vs;function tn(b){var U=-1,G=b?b.length:0;for(this.clear();++U<G;){var _e=b[U];this.set(_e[0],_e[1])}}function ta(){this.__data__=[]}function Ol(b){var U=this.__data__,G=ns(U,b);if(G<0)return!1;var _e=U.length-1;return G==_e?U.pop():Hs.call(U,G,1),!0}function To(b){var U=this.__data__,G=ns(U,b);return G<0?void 0:U[G][1]}function Fa(b){return ns(this.__data__,b)>-1}function ri(b,U){var G=this.__data__,_e=ns(G,b);return _e<0?G.push([b,U]):G[_e][1]=U,this}tn.prototype.clear=ta,tn.prototype.delete=Ol,tn.prototype.get=To,tn.prototype.has=Fa,tn.prototype.set=ri;function yn(b){var U=-1,G=b?b.length:0;for(this.clear();++U<G;){var _e=b[U];this.set(_e[0],_e[1])}}function ii(){this.__data__={hash:new Yt,map:new(ti||tn),string:new Yt}}function Ba(b){return br(this,b).delete(b)}function na(b){return br(this,b).get(b)}function So(b){return br(this,b).has(b)}function bo(b,U){return br(this,b).set(b,U),this}yn.prototype.clear=ii,yn.prototype.delete=Ba,yn.prototype.get=na,yn.prototype.has=So,yn.prototype.set=bo;function Kn(b){this.__data__=new tn(b)}function Gs(){this.__data__=new tn}function Ll(b){return this.__data__.delete(b)}function jt(b){return this.__data__.get(b)}function qa(b){return this.__data__.has(b)}function Ks(b,U){var G=this.__data__;if(G instanceof tn){var _e=G.__data__;if(!ti||_e.length<t-1)return _e.push([b,U]),this;G=this.__data__=new yn(_e)}return G.set(b,U),this}Kn.prototype.clear=Gs,Kn.prototype.delete=Ll,Kn.prototype.get=jt,Kn.prototype.has=qa,Kn.prototype.set=Ks;function si(b,U){var G=$r(b)||lr(b)?It(b.length,String):[],_e=G.length,ht=!!_e;for(var Qe in b)Rr.call(b,Qe)&&!(ht&&(Qe=="length"||sa(Qe,_e)))&&G.push(Qe);return G}function Tr(b,U,G){var _e=b[U];(!(Rr.call(b,U)&&Pi(_e,G))||G===void 0&&!(U in b))&&(b[U]=G)}function ns(b,U){for(var G=b.length;G--;)if(Pi(b[G][0],U))return G;return-1}function Br(b,U){return b&&qr(U,xo(U),b)}function rs(b,U,G,_e,ht,Qe,bt){var xt;if(_e&&(xt=Qe?_e(b,ht,Qe,bt):_e(b)),xt!==void 0)return xt;if(!Jn(b))return b;var ut=$r(b);if(ut){if(xt=Js(b),!U)return Es(b,xt)}else{var Rt=ai(b),Mt=Rt==v||Rt==E;if(qn(b))return ws(b,U);if(Rt==P||Rt==o||Mt&&!Qe){if(Ot(b))return Qe?b:{};if(xt=li(Mt?{}:b),!U)return Ts(b,Br(xt,b))}else{if(!Q[Rt])return Qe?b:{};xt=ia(b,Rt,rs,U)}}bt||(bt=new Kn);var jn=bt.get(b);if(jn)return jn;if(bt.set(b,xt),!ut)var on=G?Wt(b):xo(b);return Ke(on||b,function(Lt,Sn){on&&(Sn=Lt,Lt=b[Sn]),Tr(xt,Sn,rs(Lt,U,G,_e,Sn,b,bt))}),xt}function kr(b){return Jn(b)?Ai(b):{}}function ja(b,U,G){var _e=U(b);return $r(b)?_e:rt(_e,G(b))}function ar(b){return Fr.call(b)}function Ao(b){if(!Jn(b)||ui(b))return!1;var U=oa(b)||Ot(b)?Cn:he;return U.test(hn(b))}function ra(b){if(!Ln(b))return ps(b);var U=[];for(var G in Object(b))Rr.call(b,G)&&G!="constructor"&&U.push(G);return U}function ws(b,U){if(U)return b.slice();var G=new b.constructor(b.length);return b.copy(G),G}function Ri(b){var U=new b.constructor(b.byteLength);return new Xi(U).set(new Xi(b)),U}function ki(b,U){var G=U?Ri(b.buffer):b.buffer;return new b.constructor(G,b.byteOffset,b.byteLength)}function Ni(b,U,G){var _e=U?G(cn(b),!0):cn(b);return ot(_e,He,new b.constructor)}function oi(b){var U=new b.constructor(b.source,Te.exec(b));return U.lastIndex=b.lastIndex,U}function $a(b,U,G){var _e=U?G(_r(b),!0):_r(b);return ot(_e,Ue,new b.constructor)}function is(b){return Eo?Object(Eo.call(b)):{}}function Sr(b,U){var G=U?Ri(b.buffer):b.buffer;return new b.constructor(G,b.byteOffset,b.length)}function Es(b,U){var G=-1,_e=b.length;for(U||(U=Array(_e));++G<_e;)U[G]=b[G];return U}function qr(b,U,G,_e){G||(G={});for(var ht=-1,Qe=U.length;++ht<Qe;){var bt=U[ht],xt=void 0;Tr(G,bt,xt===void 0?b[bt]:xt)}return G}function Ts(b,U){return qr(b,Rn(b),U)}function Wt(b){return ja(b,xo,Rn)}function br(b,U){var G=b.__data__;return Io(U)?G[typeof U=="string"?"string":"hash"]:G.map}function ct(b,U){var G=Pt(b,U);return Ao(G)?G:void 0}var Rn=Yi?zs(Yi,Object):Ct,ai=ar;(xi&&ai(new xi(new ArrayBuffer(1)))!=me||ti&&ai(new ti)!=A||vr&&ai(vr.resolve())!=O||Zi&&ai(new Zi)!=H||sr&&ai(new sr)!=se)&&(ai=function(b){var U=Fr.call(b),G=U==P?b.constructor:void 0,_e=G?hn(G):void 0;if(_e)switch(_e){case gs:return me;case wr:return A;case Ws:return O;case es:return H;case ms:return se}return U});function Js(b){var U=b.length,G=b.constructor(U);return U&&typeof b[0]=="string"&&Rr.call(b,"index")&&(G.index=b.index,G.input=b.input),G}function li(b){return typeof b.constructor=="function"&&!Ln(b)?kr(xn(b)):{}}function ia(b,U,G,_e){var ht=b.constructor;switch(U){case oe:return Ri(b);case f:case p:return new ht(+b);case me:return ki(b,_e);case $:case q:case z:case C:case x:case B:case k:case Se:case Ae:return Sr(b,_e);case A:return Ni(b,_e,G);case R:case te:return new ht(b);case D:return oi(b);case H:return $a(b,_e,G);case X:return is(b)}}function sa(b,U){return U=U??i,!!U&&(typeof b=="number"||ee.test(b))&&b>-1&&b%1==0&&b<U}function Io(b){var U=typeof b;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?b!=="__proto__":b===null}function ui(b){return!!Si&&Si in b}function Ln(b){var U=b&&b.constructor,G=typeof U=="function"&&U.prototype||Gn;return b===G}function hn(b){if(b!=null){try{return bi.call(b)}catch{}try{return b+""}catch{}}return""}function jr(b){return rs(b,!0,!0)}function Pi(b,U){return b===U||b!==b&&U!==U}function lr(b){return za(b)&&Rr.call(b,"callee")&&(!Ii.call(b,"callee")||Fr.call(b)==o)}var $r=Array.isArray;function Co(b){return b!=null&&aa(b.length)&&!oa(b)}function za(b){return Ss(b)&&Co(b)}var qn=Ci||St;function oa(b){var U=Jn(b)?Fr.call(b):"";return U==v||U==E}function aa(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=i}function Jn(b){var U=typeof b;return!!b&&(U=="object"||U=="function")}function Ss(b){return!!b&&typeof b=="object"}function xo(b){return Co(b)?si(b):ra(b)}function Ct(){return[]}function St(){return!1}n.exports=jr}(hg,hg.exports)),hg.exports}var fg={exports:{}};fg.exports;var FS;function $C(){return FS||(FS=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,u=9007199254740991,f="[object Arguments]",p="[object Array]",y="[object AsyncFunction]",v="[object Boolean]",E="[object Date]",A="[object Error]",R="[object Function]",P="[object GeneratorFunction]",O="[object Map]",D="[object Number]",H="[object Null]",te="[object Object]",X="[object Promise]",se="[object Proxy]",oe="[object RegExp]",me="[object Set]",$="[object String]",q="[object Symbol]",z="[object Undefined]",C="[object WeakMap]",x="[object ArrayBuffer]",B="[object DataView]",k="[object Float32Array]",Se="[object Float64Array]",Ae="[object Int8Array]",ve="[object Int16Array]",Te="[object Int32Array]",he="[object Uint8Array]",ee="[object Uint8ClampedArray]",Q="[object Uint16Array]",j="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,pe=/^\[object .+?Constructor\]$/,ke=/^(?:0|[1-9]\d*)$/,Ce={};Ce[k]=Ce[Se]=Ce[Ae]=Ce[ve]=Ce[Te]=Ce[he]=Ce[ee]=Ce[Q]=Ce[j]=!0,Ce[f]=Ce[p]=Ce[x]=Ce[v]=Ce[B]=Ce[E]=Ce[A]=Ce[R]=Ce[O]=Ce[D]=Ce[te]=Ce[oe]=Ce[me]=Ce[$]=Ce[C]=!1;var qe=typeof Xo=="object"&&Xo&&Xo.Object===Object&&Xo,He=typeof self=="object"&&self&&self.Object===Object&&self,Ue=qe||He||Function("return this")(),Ke=e&&!e.nodeType&&e,rt=Ke&&!0&&n&&!n.nodeType&&n,ot=rt&&rt.exports===Ke,It=ot&&qe.process,Pt=function(){try{return It&&It.binding&&It.binding("util")}catch{}}(),Ot=Pt&&Pt.isTypedArray;function cn(b,U){for(var G=-1,_e=b==null?0:b.length,ht=0,Qe=[];++G<_e;){var bt=b[G];U(bt,G,b)&&(Qe[ht++]=bt)}return Qe}function zs(b,U){for(var G=-1,_e=U.length,ht=b.length;++G<_e;)b[ht+G]=U[G];return b}function _r(b,U){for(var G=-1,_e=b==null?0:b.length;++G<_e;)if(U(b[G],G,b))return!0;return!1}function ea(b,U){for(var G=-1,_e=Array(b);++G<b;)_e[G]=U(G);return _e}function wo(b){return function(U){return b(U)}}function Gn(b,U){return b.has(U)}function mn(b,U){return b==null?void 0:b[U]}function Si(b){var U=-1,G=Array(b.size);return b.forEach(function(_e,ht){G[++U]=[ht,_e]}),G}function bi(b,U){return function(G){return b(U(G))}}function Rr(b){var U=-1,G=Array(b.size);return b.forEach(function(_e){G[++U]=_e}),G}var Fr=Array.prototype,Cn=Function.prototype,Xt=Object.prototype,Bn=Ue["__core-js_shared__"],Xi=Cn.toString,xn=Xt.hasOwnProperty,Ai=function(){var b=/[^.]+$/.exec(Bn&&Bn.keys&&Bn.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}(),Ii=Xt.toString,Hs=RegExp("^"+Xi.call(xn).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yi=ot?Ue.Buffer:void 0,Ci=Ue.Symbol,ps=Ue.Uint8Array,xi=Xt.propertyIsEnumerable,ti=Fr.splice,vr=Ci?Ci.toStringTag:void 0,Zi=Object.getOwnPropertySymbols,sr=Yi?Yi.isBuffer:void 0,or=bi(Object.keys,Object),gs=Rn(Ue,"DataView"),wr=Rn(Ue,"Map"),Ws=Rn(Ue,"Promise"),es=Rn(Ue,"Set"),ms=Rn(Ue,"WeakMap"),Er=Rn(Object,"create"),Eo=hn(gs),Yt=hn(wr),ys=hn(Ws),ni=hn(es),ts=hn(ms),_s=Ci?Ci.prototype:void 0,vs=_s?_s.valueOf:void 0;function tn(b){var U=-1,G=b==null?0:b.length;for(this.clear();++U<G;){var _e=b[U];this.set(_e[0],_e[1])}}function ta(){this.__data__=Er?Er(null):{},this.size=0}function Ol(b){var U=this.has(b)&&delete this.__data__[b];return this.size-=U?1:0,U}function To(b){var U=this.__data__;if(Er){var G=U[b];return G===r?void 0:G}return xn.call(U,b)?U[b]:void 0}function Fa(b){var U=this.__data__;return Er?U[b]!==void 0:xn.call(U,b)}function ri(b,U){var G=this.__data__;return this.size+=this.has(b)?0:1,G[b]=Er&&U===void 0?r:U,this}tn.prototype.clear=ta,tn.prototype.delete=Ol,tn.prototype.get=To,tn.prototype.has=Fa,tn.prototype.set=ri;function yn(b){var U=-1,G=b==null?0:b.length;for(this.clear();++U<G;){var _e=b[U];this.set(_e[0],_e[1])}}function ii(){this.__data__=[],this.size=0}function Ba(b){var U=this.__data__,G=ws(U,b);if(G<0)return!1;var _e=U.length-1;return G==_e?U.pop():ti.call(U,G,1),--this.size,!0}function na(b){var U=this.__data__,G=ws(U,b);return G<0?void 0:U[G][1]}function So(b){return ws(this.__data__,b)>-1}function bo(b,U){var G=this.__data__,_e=ws(G,b);return _e<0?(++this.size,G.push([b,U])):G[_e][1]=U,this}yn.prototype.clear=ii,yn.prototype.delete=Ba,yn.prototype.get=na,yn.prototype.has=So,yn.prototype.set=bo;function Kn(b){var U=-1,G=b==null?0:b.length;for(this.clear();++U<G;){var _e=b[U];this.set(_e[0],_e[1])}}function Gs(){this.size=0,this.__data__={hash:new tn,map:new(wr||yn),string:new tn}}function Ll(b){var U=ct(this,b).delete(b);return this.size-=U?1:0,U}function jt(b){return ct(this,b).get(b)}function qa(b){return ct(this,b).has(b)}function Ks(b,U){var G=ct(this,b),_e=G.size;return G.set(b,U),this.size+=G.size==_e?0:1,this}Kn.prototype.clear=Gs,Kn.prototype.delete=Ll,Kn.prototype.get=jt,Kn.prototype.has=qa,Kn.prototype.set=Ks;function si(b){var U=-1,G=b==null?0:b.length;for(this.__data__=new Kn;++U<G;)this.add(b[U])}function Tr(b){return this.__data__.set(b,r),this}function ns(b){return this.__data__.has(b)}si.prototype.add=si.prototype.push=Tr,si.prototype.has=ns;function Br(b){var U=this.__data__=new yn(b);this.size=U.size}function rs(){this.__data__=new yn,this.size=0}function kr(b){var U=this.__data__,G=U.delete(b);return this.size=U.size,G}function ja(b){return this.__data__.get(b)}function ar(b){return this.__data__.has(b)}function Ao(b,U){var G=this.__data__;if(G instanceof yn){var _e=G.__data__;if(!wr||_e.length<t-1)return _e.push([b,U]),this.size=++G.size,this;G=this.__data__=new Kn(_e)}return G.set(b,U),this.size=G.size,this}Br.prototype.clear=rs,Br.prototype.delete=kr,Br.prototype.get=ja,Br.prototype.has=ar,Br.prototype.set=Ao;function ra(b,U){var G=lr(b),_e=!G&&Pi(b),ht=!G&&!_e&&Co(b),Qe=!G&&!_e&&!ht&&Ss(b),bt=G||_e||ht||Qe,xt=bt?ea(b.length,String):[],ut=xt.length;for(var Rt in b)xn.call(b,Rt)&&!(bt&&(Rt=="length"||ht&&(Rt=="offset"||Rt=="parent")||Qe&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||ia(Rt,ut)))&&xt.push(Rt);return xt}function ws(b,U){for(var G=b.length;G--;)if(jr(b[G][0],U))return G;return-1}function Ri(b,U,G){var _e=U(b);return lr(b)?_e:zs(_e,G(b))}function ki(b){return b==null?b===void 0?z:H:vr&&vr in Object(b)?ai(b):Ln(b)}function Ni(b){return Jn(b)&&ki(b)==f}function oi(b,U,G,_e,ht){return b===U?!0:b==null||U==null||!Jn(b)&&!Jn(U)?b!==b&&U!==U:$a(b,U,G,_e,oi,ht)}function $a(b,U,G,_e,ht,Qe){var bt=lr(b),xt=lr(U),ut=bt?p:li(b),Rt=xt?p:li(U);ut=ut==f?te:ut,Rt=Rt==f?te:Rt;var Mt=ut==te,jn=Rt==te,on=ut==Rt;if(on&&Co(b)){if(!Co(U))return!1;bt=!0,Mt=!1}if(on&&!Mt)return Qe||(Qe=new Br),bt||Ss(b)?qr(b,U,G,_e,ht,Qe):Ts(b,U,ut,G,_e,ht,Qe);if(!(G&i)){var Lt=Mt&&xn.call(b,"__wrapped__"),Sn=jn&&xn.call(U,"__wrapped__");if(Lt||Sn){var fn=Lt?b.value():b,Dn=Sn?U.value():U;return Qe||(Qe=new Br),ht(fn,Dn,G,_e,Qe)}}return on?(Qe||(Qe=new Br),Wt(b,U,G,_e,ht,Qe)):!1}function is(b){if(!aa(b)||Io(b))return!1;var U=qn(b)?Hs:pe;return U.test(hn(b))}function Sr(b){return Jn(b)&&oa(b.length)&&!!Ce[ki(b)]}function Es(b){if(!ui(b))return or(b);var U=[];for(var G in Object(b))xn.call(b,G)&&G!="constructor"&&U.push(G);return U}function qr(b,U,G,_e,ht,Qe){var bt=G&i,xt=b.length,ut=U.length;if(xt!=ut&&!(bt&&ut>xt))return!1;var Rt=Qe.get(b);if(Rt&&Qe.get(U))return Rt==U;var Mt=-1,jn=!0,on=G&o?new si:void 0;for(Qe.set(b,U),Qe.set(U,b);++Mt<xt;){var Lt=b[Mt],Sn=U[Mt];if(_e)var fn=bt?_e(Sn,Lt,Mt,U,b,Qe):_e(Lt,Sn,Mt,b,U,Qe);if(fn!==void 0){if(fn)continue;jn=!1;break}if(on){if(!_r(U,function(Dn,ci){if(!Gn(on,ci)&&(Lt===Dn||ht(Lt,Dn,G,_e,Qe)))return on.push(ci)})){jn=!1;break}}else if(!(Lt===Sn||ht(Lt,Sn,G,_e,Qe))){jn=!1;break}}return Qe.delete(b),Qe.delete(U),jn}function Ts(b,U,G,_e,ht,Qe,bt){switch(G){case B:if(b.byteLength!=U.byteLength||b.byteOffset!=U.byteOffset)return!1;b=b.buffer,U=U.buffer;case x:return!(b.byteLength!=U.byteLength||!Qe(new ps(b),new ps(U)));case v:case E:case D:return jr(+b,+U);case A:return b.name==U.name&&b.message==U.message;case oe:case $:return b==U+"";case O:var xt=Si;case me:var ut=_e&i;if(xt||(xt=Rr),b.size!=U.size&&!ut)return!1;var Rt=bt.get(b);if(Rt)return Rt==U;_e|=o,bt.set(b,U);var Mt=qr(xt(b),xt(U),_e,ht,Qe,bt);return bt.delete(b),Mt;case q:if(vs)return vs.call(b)==vs.call(U)}return!1}function Wt(b,U,G,_e,ht,Qe){var bt=G&i,xt=br(b),ut=xt.length,Rt=br(U),Mt=Rt.length;if(ut!=Mt&&!bt)return!1;for(var jn=ut;jn--;){var on=xt[jn];if(!(bt?on in U:xn.call(U,on)))return!1}var Lt=Qe.get(b);if(Lt&&Qe.get(U))return Lt==U;var Sn=!0;Qe.set(b,U),Qe.set(U,b);for(var fn=bt;++jn<ut;){on=xt[jn];var Dn=b[on],ci=U[on];if(_e)var Oi=bt?_e(ci,Dn,on,U,b,Qe):_e(Dn,ci,on,b,U,Qe);if(!(Oi===void 0?Dn===ci||ht(Dn,ci,G,_e,Qe):Oi)){Sn=!1;break}fn||(fn=on=="constructor")}if(Sn&&!fn){var la=b.constructor,kn=U.constructor;la!=kn&&"constructor"in b&&"constructor"in U&&!(typeof la=="function"&&la instanceof la&&typeof kn=="function"&&kn instanceof kn)&&(Sn=!1)}return Qe.delete(b),Qe.delete(U),Sn}function br(b){return Ri(b,xo,Js)}function ct(b,U){var G=b.__data__;return sa(U)?G[typeof U=="string"?"string":"hash"]:G.map}function Rn(b,U){var G=mn(b,U);return is(G)?G:void 0}function ai(b){var U=xn.call(b,vr),G=b[vr];try{b[vr]=void 0;var _e=!0}catch{}var ht=Ii.call(b);return _e&&(U?b[vr]=G:delete b[vr]),ht}var Js=Zi?function(b){return b==null?[]:(b=Object(b),cn(Zi(b),function(U){return xi.call(b,U)}))}:Ct,li=ki;(gs&&li(new gs(new ArrayBuffer(1)))!=B||wr&&li(new wr)!=O||Ws&&li(Ws.resolve())!=X||es&&li(new es)!=me||ms&&li(new ms)!=C)&&(li=function(b){var U=ki(b),G=U==te?b.constructor:void 0,_e=G?hn(G):"";if(_e)switch(_e){case Eo:return B;case Yt:return O;case ys:return X;case ni:return me;case ts:return C}return U});function ia(b,U){return U=U??u,!!U&&(typeof b=="number"||ke.test(b))&&b>-1&&b%1==0&&b<U}function sa(b){var U=typeof b;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?b!=="__proto__":b===null}function Io(b){return!!Ai&&Ai in b}function ui(b){var U=b&&b.constructor,G=typeof U=="function"&&U.prototype||Xt;return b===G}function Ln(b){return Ii.call(b)}function hn(b){if(b!=null){try{return Xi.call(b)}catch{}try{return b+""}catch{}}return""}function jr(b,U){return b===U||b!==b&&U!==U}var Pi=Ni(function(){return arguments}())?Ni:function(b){return Jn(b)&&xn.call(b,"callee")&&!xi.call(b,"callee")},lr=Array.isArray;function $r(b){return b!=null&&oa(b.length)&&!qn(b)}var Co=sr||St;function za(b,U){return oi(b,U)}function qn(b){if(!aa(b))return!1;var U=ki(b);return U==R||U==P||U==y||U==se}function oa(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=u}function aa(b){var U=typeof b;return b!=null&&(U=="object"||U=="function")}function Jn(b){return b!=null&&typeof b=="object"}var Ss=Ot?wo(Ot):Sr;function xo(b){return $r(b)?ra(b):Es(b)}function Ct(){return[]}function St(){return!1}n.exports=za}(fg,fg.exports)),fg.exports}var Ay={},BS;function O9(){if(BS)return Ay;BS=1,Object.defineProperty(Ay,"__esModule",{value:!0});const n=jC(),e=$C();var t;return function(r){function i(p={},y={},v=!1){typeof p!="object"&&(p={}),typeof y!="object"&&(y={});let E=n(y);v||(E=Object.keys(E).reduce((A,R)=>(E[R]!=null&&(A[R]=E[R]),A),{}));for(const A in p)p[A]!==void 0&&y[A]===void 0&&(E[A]=p[A]);return Object.keys(E).length>0?E:void 0}r.compose=i;function o(p={},y={}){typeof p!="object"&&(p={}),typeof y!="object"&&(y={});const v=Object.keys(p).concat(Object.keys(y)).reduce((E,A)=>(e(p[A],y[A])||(E[A]=y[A]===void 0?null:y[A]),E),{});return Object.keys(v).length>0?v:void 0}r.diff=o;function u(p={},y={}){p=p||{};const v=Object.keys(y).reduce((E,A)=>(y[A]!==p[A]&&p[A]!==void 0&&(E[A]=y[A]),E),{});return Object.keys(p).reduce((E,A)=>(p[A]!==y[A]&&y[A]===void 0&&(E[A]=null),E),v)}r.invert=u;function f(p,y,v=!1){if(typeof p!="object")return y;if(typeof y!="object")return;if(!v)return y;const E=Object.keys(y).reduce((A,R)=>(p[R]===void 0&&(A[R]=y[R]),A),{});return Object.keys(E).length>0?E:void 0}r.transform=f}(t||(t={})),Ay.default=t,Ay}var Iy={},qS;function zC(){if(qS)return Iy;qS=1,Object.defineProperty(Iy,"__esModule",{value:!0});var n;return function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t}(n||(n={})),Iy.default=n,Iy}var Cy={},jS;function L9(){if(jS)return Cy;jS=1,Object.defineProperty(Cy,"__esModule",{value:!0});const n=zC();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const o=this.offset,u=n.default.length(i);if(r>=u-o?(r=u-o,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const f={};return i.attributes&&(f.attributes=i.attributes),typeof i.retain=="number"?f.retain=r:typeof i.retain=="object"&&i.retain!==null?f.retain=i.retain:typeof i.insert=="string"?f.insert=i.insert.substr(o,r):f.insert=i.insert,f}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,o=this.next(),u=this.ops.slice(this.index);return this.offset=r,this.index=i,[o].concat(u)}}else return[]}}return Cy.default=e,Cy}var $S;function D9(){return $S||($S=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=P9(),r=jC(),i=$C(),o=O9();e.AttributeMap=o.default;const u=zC();e.Op=u.default;const f=L9();e.OpIterator=f.default;const p="\0",y=(E,A)=>{if(typeof E!="object"||E===null)throw new Error(`cannot retain a ${typeof E}`);if(typeof A!="object"||A===null)throw new Error(`cannot retain a ${typeof A}`);const R=Object.keys(E)[0];if(!R||R!==Object.keys(A)[0])throw new Error(`embed types not matched: ${R} != ${Object.keys(A)[0]}`);return[R,E[R],A[R]]};class v{constructor(A){Array.isArray(A)?this.ops=A:A!=null&&Array.isArray(A.ops)?this.ops=A.ops:this.ops=[]}static registerEmbed(A,R){this.handlers[A]=R}static unregisterEmbed(A){delete this.handlers[A]}static getHandler(A){const R=this.handlers[A];if(!R)throw new Error(`no handlers for embed type "${A}"`);return R}insert(A,R){const P={};return typeof A=="string"&&A.length===0?this:(P.insert=A,R!=null&&typeof R=="object"&&Object.keys(R).length>0&&(P.attributes=R),this.push(P))}delete(A){return A<=0?this:this.push({delete:A})}retain(A,R){if(typeof A=="number"&&A<=0)return this;const P={retain:A};return R!=null&&typeof R=="object"&&Object.keys(R).length>0&&(P.attributes=R),this.push(P)}push(A){let R=this.ops.length,P=this.ops[R-1];if(A=r(A),typeof P=="object"){if(typeof A.delete=="number"&&typeof P.delete=="number")return this.ops[R-1]={delete:P.delete+A.delete},this;if(typeof P.delete=="number"&&A.insert!=null&&(R-=1,P=this.ops[R-1],typeof P!="object"))return this.ops.unshift(A),this;if(i(A.attributes,P.attributes)){if(typeof A.insert=="string"&&typeof P.insert=="string")return this.ops[R-1]={insert:P.insert+A.insert},typeof A.attributes=="object"&&(this.ops[R-1].attributes=A.attributes),this;if(typeof A.retain=="number"&&typeof P.retain=="number")return this.ops[R-1]={retain:P.retain+A.retain},typeof A.attributes=="object"&&(this.ops[R-1].attributes=A.attributes),this}}return R===this.ops.length?this.ops.push(A):this.ops.splice(R,0,A),this}chop(){const A=this.ops[this.ops.length-1];return A&&typeof A.retain=="number"&&!A.attributes&&this.ops.pop(),this}filter(A){return this.ops.filter(A)}forEach(A){this.ops.forEach(A)}map(A){return this.ops.map(A)}partition(A){const R=[],P=[];return this.forEach(O=>{(A(O)?R:P).push(O)}),[R,P]}reduce(A,R){return this.ops.reduce(A,R)}changeLength(){return this.reduce((A,R)=>R.insert?A+u.default.length(R):R.delete?A-R.delete:A,0)}length(){return this.reduce((A,R)=>A+u.default.length(R),0)}slice(A=0,R=1/0){const P=[],O=new f.default(this.ops);let D=0;for(;D<R&&O.hasNext();){let H;D<A?H=O.next(A-D):(H=O.next(R-D),P.push(H)),D+=u.default.length(H)}return new v(P)}compose(A){const R=new f.default(this.ops),P=new f.default(A.ops),O=[],D=P.peek();if(D!=null&&typeof D.retain=="number"&&D.attributes==null){let te=D.retain;for(;R.peekType()==="insert"&&R.peekLength()<=te;)te-=R.peekLength(),O.push(R.next());D.retain-te>0&&P.next(D.retain-te)}const H=new v(O);for(;R.hasNext()||P.hasNext();)if(P.peekType()==="insert")H.push(P.next());else if(R.peekType()==="delete")H.push(R.next());else{const te=Math.min(R.peekLength(),P.peekLength()),X=R.next(te),se=P.next(te);if(se.retain){const oe={};if(typeof X.retain=="number")oe.retain=typeof se.retain=="number"?te:se.retain;else if(typeof se.retain=="number")X.retain==null?oe.insert=X.insert:oe.retain=X.retain;else{const $=X.retain==null?"insert":"retain",[q,z,C]=y(X[$],se.retain),x=v.getHandler(q);oe[$]={[q]:x.compose(z,C,$==="retain")}}const me=o.default.compose(X.attributes,se.attributes,typeof X.retain=="number");if(me&&(oe.attributes=me),H.push(oe),!P.hasNext()&&i(H.ops[H.ops.length-1],oe)){const $=new v(R.rest());return H.concat($).chop()}}else typeof se.delete=="number"&&(typeof X.retain=="number"||typeof X.retain=="object"&&X.retain!==null)&&H.push(se)}return H.chop()}concat(A){const R=new v(this.ops.slice());return A.ops.length>0&&(R.push(A.ops[0]),R.ops=R.ops.concat(A.ops.slice(1))),R}diff(A,R){if(this.ops===A.ops)return new v;const P=[this,A].map(X=>X.map(se=>{if(se.insert!=null)return typeof se.insert=="string"?se.insert:p;const oe=X===A?"on":"with";throw new Error("diff() called "+oe+" non-document")}).join("")),O=new v,D=t(P[0],P[1],R,!0),H=new f.default(this.ops),te=new f.default(A.ops);return D.forEach(X=>{let se=X[1].length;for(;se>0;){let oe=0;switch(X[0]){case t.INSERT:oe=Math.min(te.peekLength(),se),O.push(te.next(oe));break;case t.DELETE:oe=Math.min(se,H.peekLength()),H.next(oe),O.delete(oe);break;case t.EQUAL:oe=Math.min(H.peekLength(),te.peekLength(),se);const me=H.next(oe),$=te.next(oe);i(me.insert,$.insert)?O.retain(oe,o.default.diff(me.attributes,$.attributes)):O.push($).delete(oe);break}se-=oe}}),O.chop()}eachLine(A,R=`
`){const P=new f.default(this.ops);let O=new v,D=0;for(;P.hasNext();){if(P.peekType()!=="insert")return;const H=P.peek(),te=u.default.length(H)-P.peekLength(),X=typeof H.insert=="string"?H.insert.indexOf(R,te)-te:-1;if(X<0)O.push(P.next());else if(X>0)O.push(P.next(X));else{if(A(O,P.next(1).attributes||{},D)===!1)return;D+=1,O=new v}}O.length()>0&&A(O,{},D)}invert(A){const R=new v;return this.reduce((P,O)=>{if(O.insert)R.delete(u.default.length(O));else{if(typeof O.retain=="number"&&O.attributes==null)return R.retain(O.retain),P+O.retain;if(O.delete||typeof O.retain=="number"){const D=O.delete||O.retain;return A.slice(P,P+D).forEach(te=>{O.delete?R.push(te):O.retain&&O.attributes&&R.retain(u.default.length(te),o.default.invert(O.attributes,te.attributes))}),P+D}else if(typeof O.retain=="object"&&O.retain!==null){const D=A.slice(P,P+1),H=new f.default(D.ops).next(),[te,X,se]=y(O.retain,H.insert),oe=v.getHandler(te);return R.retain({[te]:oe.invert(X,se)},o.default.invert(O.attributes,H.attributes)),P+1}}return P},0),R.chop()}transform(A,R=!1){if(R=!!R,typeof A=="number")return this.transformPosition(A,R);const P=A,O=new f.default(this.ops),D=new f.default(P.ops),H=new v;for(;O.hasNext()||D.hasNext();)if(O.peekType()==="insert"&&(R||D.peekType()!=="insert"))H.retain(u.default.length(O.next()));else if(D.peekType()==="insert")H.push(D.next());else{const te=Math.min(O.peekLength(),D.peekLength()),X=O.next(te),se=D.next(te);if(X.delete)continue;if(se.delete)H.push(se);else{const oe=X.retain,me=se.retain;let $=typeof me=="object"&&me!==null?me:te;if(typeof oe=="object"&&oe!==null&&typeof me=="object"&&me!==null){const q=Object.keys(oe)[0];if(q===Object.keys(me)[0]){const z=v.getHandler(q);z&&($={[q]:z.transform(oe[q],me[q],R)})}}H.retain($,o.default.transform(X.attributes,se.attributes,R))}}return H.chop()}transformPosition(A,R=!1){R=!!R;const P=new f.default(this.ops);let O=0;for(;P.hasNext()&&O<=A;){const D=P.peekLength(),H=P.peekType();if(P.next(),H==="delete"){A-=Math.min(D,A-O);continue}else H==="insert"&&(O<A||!R)&&(A+=D);O+=D}return A}}v.Op=u.default,v.OpIterator=f.default,v.AttributeMap=o.default,v.handlers={},e.default=v,n.exports=v,n.exports.default=v}(by,by.exports)),by.exports}var Yo=D9();const et=aw(Yo);class Ma extends vo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Ma.blotName="break";Ma.tagName="BR";let La=class extends A0{};const M9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function r_(n){return n.replace(/[&<>"']/g,e=>M9[e])}const pl=class pl extends Jw{static compare(e,t){const r=pl.order.indexOf(e),i=pl.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(pl.compare(this.statics.blotName,r)<0&&this.scroll.query(r,nt.BLOT)){const o=this.isolate(e,t);i&&o.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof pl&&pl.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};Fe(pl,"allowedChildren",[pl,Ma,vo,La]),Fe(pl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Rl=pl;const zS=1;class Ei extends Fg{constructor(){super(...arguments);Fe(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=HC(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,o){r<=0||(this.scroll.query(i,nt.BLOCK)?t+r===this.length()&&this.format(i,o):super.formatAt(t,Math.min(r,this.length()-t-1),i,o),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const o=r.split(`
`),u=o.shift();u.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),u):this.children.tail.insertAt(this.children.tail.length(),u),this.cache={});let f=this;o.reduce((p,y)=>(f=f.split(p,!0),f.insertAt(0,y),y.length),t+u.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Ma&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+zS),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-zS)){const o=this.clone();return t===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(t,r);return this.cache={},i}}Ei.blotName="block";Ei.tagName="P";Ei.defaultChild=Ma;Ei.allowedChildren=[Ma,Rl,vo,La];class Qo extends vo{attach(){super.attach(),this.attributes=new t_(this.domNode)}delta(){return new et().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,nt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),o=i.pop(),u=i.map(p=>{const y=this.scroll.create(Ei.blotName);return y.insertAt(0,p),y}),f=this.split(e);u.forEach(p=>{this.parent.insertBefore(p,f)}),o&&this.parent.insertBefore(this.scroll.create("text",o),f)}}Qo.scope=nt.BLOCK_BLOT;function HC(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Wi).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),Wo(r,{},e)),new et).insert(`
`,Wo(n))}function Wo(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:Wo(n.parent,e,t)}const Ho=class Ho extends vo{static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Ho.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==nt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Ho.CONTENTS.length,r.optimize(),r.formatAt(i,Ho.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof La?this.prev:null,r=t?t.length():0,i=this.next instanceof La?this.next:null,o=i?i.text:"",{textNode:u}=this,f=u.data.split(Ho.CONTENTS).join("");u.data=Ho.CONTENTS;let p;if(t)p=t,(f||i)&&(t.insertAt(t.length(),f+o),i&&i.remove());else if(i)p=i,i.insertAt(0,f);else{const y=document.createTextNode(f);p=this.scroll.create(y),this.parent.insertBefore(p,this)}if(this.remove(),e){const y=(A,R)=>t&&A===t.domNode?R:A===u?r+R-1:i&&A===i.domNode?r+f.length+R:null,v=y(e.start.node,e.start.offset),E=y(e.end.node,e.end.offset);if(v!==null&&E!==null)return{startNode:p.domNode,startOffset:v,endNode:p.domNode,endOffset:E}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Ho.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};Fe(Ho,"blotName","cursor"),Fe(Ho,"className","ql-cursor"),Fe(Ho,"tagName","span"),Fe(Ho,"CONTENTS","\uFEFF");let Md=Ho;var N1={exports:{}},HS;function U9(){return HS||(HS=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(p,y,v){this.fn=p,this.context=y,this.once=v||!1}function o(p,y,v,E,A){if(typeof v!="function")throw new TypeError("The listener must be a function");var R=new i(v,E||p,A),P=t?t+y:y;return p._events[P]?p._events[P].fn?p._events[P]=[p._events[P],R]:p._events[P].push(R):(p._events[P]=R,p._eventsCount++),p}function u(p,y){--p._eventsCount===0?p._events=new r:delete p._events[y]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var y=[],v,E;if(this._eventsCount===0)return y;for(E in v=this._events)e.call(v,E)&&y.push(t?E.slice(1):E);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(v)):y},f.prototype.listeners=function(y){var v=t?t+y:y,E=this._events[v];if(!E)return[];if(E.fn)return[E.fn];for(var A=0,R=E.length,P=new Array(R);A<R;A++)P[A]=E[A].fn;return P},f.prototype.listenerCount=function(y){var v=t?t+y:y,E=this._events[v];return E?E.fn?1:E.length:0},f.prototype.emit=function(y,v,E,A,R,P){var O=t?t+y:y;if(!this._events[O])return!1;var D=this._events[O],H=arguments.length,te,X;if(D.fn){switch(D.once&&this.removeListener(y,D.fn,void 0,!0),H){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,v),!0;case 3:return D.fn.call(D.context,v,E),!0;case 4:return D.fn.call(D.context,v,E,A),!0;case 5:return D.fn.call(D.context,v,E,A,R),!0;case 6:return D.fn.call(D.context,v,E,A,R,P),!0}for(X=1,te=new Array(H-1);X<H;X++)te[X-1]=arguments[X];D.fn.apply(D.context,te)}else{var se=D.length,oe;for(X=0;X<se;X++)switch(D[X].once&&this.removeListener(y,D[X].fn,void 0,!0),H){case 1:D[X].fn.call(D[X].context);break;case 2:D[X].fn.call(D[X].context,v);break;case 3:D[X].fn.call(D[X].context,v,E);break;case 4:D[X].fn.call(D[X].context,v,E,A);break;default:if(!te)for(oe=1,te=new Array(H-1);oe<H;oe++)te[oe-1]=arguments[oe];D[X].fn.apply(D[X].context,te)}}return!0},f.prototype.on=function(y,v,E){return o(this,y,v,E,!1)},f.prototype.once=function(y,v,E){return o(this,y,v,E,!0)},f.prototype.removeListener=function(y,v,E,A){var R=t?t+y:y;if(!this._events[R])return this;if(!v)return u(this,R),this;var P=this._events[R];if(P.fn)P.fn===v&&(!A||P.once)&&(!E||P.context===E)&&u(this,R);else{for(var O=0,D=[],H=P.length;O<H;O++)(P[O].fn!==v||A&&!P[O].once||E&&P[O].context!==E)&&D.push(P[O]);D.length?this._events[R]=D.length===1?D[0]:D:u(this,R)}return this},f.prototype.removeAllListeners=function(y){var v;return y?(v=t?t+y:y,this._events[v]&&u(this,v)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,n.exports=f}(N1)),N1.exports}var V9=U9();const F9=aw(V9),Pv=new WeakMap,Ov=["error","warn","log","info"];let Lv="warn";function WC(n){if(Lv&&Ov.indexOf(n)<=Ov.indexOf(Lv)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Iu(n){return Ov.reduce((e,t)=>(e[t]=WC.bind(console,t,n),e),{})}Iu.level=n=>{Lv=n};WC.level=Iu.level;const P1=Iu("quill:events"),B9=["selectionchange","mousedown","mouseup","click"];B9.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=Pv.get(i);o&&o.emitter&&o.emitter.handleDOM(...t)})})});class Ze extends F9{constructor(){super(),this.domListeners={},this.on("error",P1.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return P1.log.call(P1,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:u,handler:f}=o;(e.target===u||u.contains(e.target))&&f(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}Fe(Ze,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Fe(Ze,"sources",{API:"api",SILENT:"silent",USER:"user"});const O1=Iu("quill:selection");class Ih{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class q9{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ih(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ze.sources.USER),1)}),this.emitter.on(Ze.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ze.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const u=o.some(f=>f.type==="characterData"||f.type==="childList"||f.type==="attributes"&&f.target===this.root);this.update(u?Ze.sources.SILENT:i)}catch{}})}),this.emitter.on(Ze.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:o,startOffset:u,endNode:f,endOffset:p}=i.range;this.setNativeRange(o,u,f,p),this.update(Ze.sources.SILENT)}}),this.update(Ze.sources.SILENT)}handleComposition(){this.emitter.on(Ze.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ze.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ze.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,nt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Wi){const o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[o,u]=this.scroll.leaf(e);if(o==null)return null;if(t>0&&u===o.length()){const[v]=this.scroll.leaf(e+1);if(v){const[E]=this.scroll.line(e),[A]=this.scroll.line(e+1);E===A&&(o=v,u=0)}}[i,u]=o.position(u,!0);const f=document.createRange();if(t>0)return f.setStart(i,u),[o,u]=this.scroll.leaf(e+t),o==null?null:([i,u]=o.position(u,!0),f.setEnd(i,u),f.getBoundingClientRect());let p="left",y;if(i instanceof Text){if(!i.data.length)return null;u<i.data.length?(f.setStart(i,u),f.setEnd(i,u+1)):(f.setStart(i,u-1),f.setEnd(i,u),p="right"),y=f.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;y=o.domNode.getBoundingClientRect(),u>0&&(p="right")}return{bottom:y.top+y.height,height:y.height,left:y[p],right:y[p],top:y.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return O1.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&L1(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(u=>{const[f,p]=u,y=this.scroll.find(f,!0),v=y.offset(this.scroll);return p===0?v:y instanceof Wi?v+y.index(f,p):v+y.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),o=Math.min(i,...r);return new Ih(o,i-o)}normalizeNative(e){if(!L1(this.root,e.startContainer)||!e.collapsed&&!L1(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:o}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;r.node=i,r.offset=o}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,o)=>{i=Math.min(t-1,i);const[u,f]=this.scroll.leaf(i);return u?u.position(f,o):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(O1.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const u=document.getSelection();if(u!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:f}=this.getNativeRange()||{};if(f==null||o||e!==f.startContainer||t!==f.startOffset||r!==f.endContainer||i!==f.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const p=document.createRange();p.setStart(e,t),p.setEnd(r,i),u.removeAllRanges(),u.addRange(p)}}else u.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ze.sources.API;if(typeof t=="string"&&(r=t,t=!1),O1.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ze.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Kw(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}const o=[Ze.events.SELECTION_CHANGE,vd(this.lastRange),vd(t),e];this.emitter.emit(Ze.events.EDITOR_CHANGE,...o),e!==Ze.sources.SILENT&&this.emitter.emit(...o)}}}function L1(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const j9=/^[ -~]*$/;let $9=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=WS(e),i=new et;return H9(r.ops.slice()).reduce((u,f)=>{const p=Yo.Op.length(f);let y=f.attributes||{},v=!1,E=!1;if(f.insert!=null){if(i.retain(p),typeof f.insert=="string"){const P=f.insert;E=!P.endsWith(`
`)&&(t<=u||!!this.scroll.descendant(Qo,u)[0]),this.scroll.insertAt(u,P);const[O,D]=this.scroll.line(u);let H=vc({},Wo(O));if(O instanceof Ei){const[te]=O.descendant(Wi,D);te&&(H=vc(H,Wo(te)))}y=Yo.AttributeMap.diff(H,y)||{}}else if(typeof f.insert=="object"){const P=Object.keys(f.insert)[0];if(P==null)return u;const O=this.scroll.query(P,nt.INLINE)!=null;if(O)(t<=u||this.scroll.descendant(Qo,u)[0])&&(E=!0);else if(u>0){const[D,H]=this.scroll.descendant(Wi,u-1);D instanceof La?D.value()[H]!==`
`&&(v=!0):D instanceof vo&&D.statics.scope===nt.INLINE_BLOT&&(v=!0)}if(this.scroll.insertAt(u,P,f.insert[P]),O){const[D]=this.scroll.descendant(Wi,u);if(D){const H=vc({},Wo(D));y=Yo.AttributeMap.diff(H,y)||{}}}}t+=p}else if(i.push(f),f.retain!==null&&typeof f.retain=="object"){const P=Object.keys(f.retain)[0];if(P==null)return u;this.scroll.updateEmbedAt(u,P,f.retain[P])}Object.keys(y).forEach(P=>{this.scroll.formatAt(u,p,P,y[P])});const A=v?1:0,R=E?1:0;return t+=A+R,i.retain(A),i.delete(R),u+p+A+R},0),i.reduce((u,f)=>typeof f.delete=="number"?(this.scroll.deleteAt(u,f.delete),u):u+Yo.Op.length(f),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new et().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(o=>{this.scroll.lines(e,Math.max(t,1)).forEach(u=>{u.format(o,r[o])})}),this.scroll.optimize();const i=new et().retain(e).retain(t,vd(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(o=>{this.scroll.formatAt(e,t,o,r[o])});const i=new et().retain(e).retain(t,vd(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new et)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(f=>{const[p]=f;p instanceof Ei?r.push(p):p instanceof Wi&&i.push(p)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(Wi,e,t));const[o,u]=[r,i].map(f=>{const p=f.shift();if(p==null)return{};let y=Wo(p);for(;Object.keys(y).length>0;){const v=f.shift();if(v==null)return y;y=z9(Wo(v),y)}return y});return{...o,...u}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const o=r.length();return r.length()>=i+t&&!(i===0&&t===o)?Bg(r,i,t,!0):Bg(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=WS(t),i=new et().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new et().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new et().retain(e).insert(t,vd(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Ei.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof Ma}removeFormat(e,t){const r=this.getText(e,t),[i,o]=this.scroll.line(e+t);let u=0,f=new et;i!=null&&(u=i.length()-o,f=i.delta().slice(o,o+u-1).insert(`
`));const y=this.getContents(e,t+u).diff(new et().insert(r).concat(f)),v=new et().retain(e).concat(y);return this.applyDelta(v)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(j9)&&this.scroll.find(t[0].target)){const o=this.scroll.find(t[0].target),u=Wo(o),f=o.offset(this.scroll),p=t[0].oldValue.replace(Md.CONTENTS,""),y=new et().insert(p),v=new et().insert(o.value()),E=r&&{oldRange:GS(r.oldRange,-f),newRange:GS(r.newRange,-f)};e=new et().retain(f).concat(y.diff(v,E)).reduce((R,P)=>P.insert?R.insert(P.insert,u):R.push(P),new et),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!Kw(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}};function gd(n,e,t){if(n.length===0){const[R]=D1(t.pop());return e<=0?`</li></${R}>`:`</li></${R}>${gd([],e-1,t)}`}const[{child:r,offset:i,length:o,indent:u,type:f},...p]=n,[y,v]=D1(f);if(u>e)return t.push(f),u===e+1?`<${y}><li${v}>${Bg(r,i,o)}${gd(p,u,t)}`:`<${y}><li>${gd(n,e+1,t)}`;const E=t[t.length-1];if(u===e&&f===E)return`</li><li${v}>${Bg(r,i,o)}${gd(p,u,t)}`;const[A]=D1(t.pop());return`</li></${A}>${gd(n,e-1,t)}`}function Bg(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof La)return r_(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Pa){if(n.statics.blotName==="list-container"){const y=[];return n.children.forEachAt(e,t,(v,E,A)=>{const R="formats"in v&&typeof v.formats=="function"?v.formats():{};y.push({child:v,offset:E,length:A,indent:R.indent||0,type:R.list})}),gd(y,-1,[])}const i=[];if(n.children.forEachAt(e,t,(y,v,E)=>{i.push(Bg(y,v,E))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:u}=n.domNode,[f,p]=o.split(`>${u}<`);return f==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${p}`:`${f}>${i.join("")}<${p}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function z9(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function D1(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function WS(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new et)}function GS(n,e){let{index:t,length:r}=n;return new Ih(t+e,r)}function H9(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class Ua{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}Fe(Ua,"DEFAULTS",{});const xy="\uFEFF";class Xw extends vo{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(xy),this.rightGuard=document.createTextNode(xy),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(xy).join("");if(e===this.leftGuard)if(this.prev instanceof La){const o=this.prev.length();this.prev.insertAt(o,i),t={startNode:this.prev.domNode,startOffset:o+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof La?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=xy,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class W9{constructor(e,t){Fe(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Xw)&&(this.emitter.emit(Ze.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ze.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ze.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ze.events.COMPOSITION_END,e),this.isComposing=!1}}const Ig=class Ig{constructor(e,t){Fe(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};Fe(Ig,"DEFAULTS",{modules:{}}),Fe(Ig,"themes",{default:Ig});let Ud=Ig;const G9=n=>n.parentElement||n.getRootNode().host||null,K9=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Ry=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},KS=(n,e,t,r,i,o)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+o:0,J9=(n,e)=>{var o,u,f;const t=n.ownerDocument;let r=e,i=n;for(;i;){const p=i===t.body,y=p?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??t.documentElement.clientWidth,bottom:((u=window.visualViewport)==null?void 0:u.height)??t.documentElement.clientHeight,left:0}:K9(i),v=getComputedStyle(i),E=KS(r.left,r.right,y.left,y.right,Ry(v.scrollPaddingLeft),Ry(v.scrollPaddingRight)),A=KS(r.top,r.bottom,y.top,y.bottom,Ry(v.scrollPaddingTop),Ry(v.scrollPaddingBottom));if(E||A)if(p)(f=t.defaultView)==null||f.scrollBy(E,A);else{const{scrollLeft:R,scrollTop:P}=i;A&&(i.scrollTop+=A),E&&(i.scrollLeft+=E);const O=i.scrollLeft-R,D=i.scrollTop-P;r={left:r.left-O,top:r.top-D,right:r.right-O,bottom:r.bottom-D}}i=p||v.position==="fixed"?null:G9(i)}},Q9=100,X9=["block","break","cursor","inline","scroll","text"],Y9=(n,e,t)=>{const r=new Dd;return X9.forEach(i=>{const o=e.query(i);o&&r.register(o)}),n.forEach(i=>{let o=e.query(i);o||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let u=0;for(;o;)if(r.register(o),o="blotName"in o?o.requiredContainer??null:null,u+=1,u>Q9){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},Ed=Iu("quill"),ky=new Dd;Pa.uiClass="ql-ui";const xa=class xa{static debug(e){e===!0&&(e="log"),Iu.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Pv.get(e)||ky.find(e,t)}static import(e){return this.imports[e]==null&&Ed.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Ed.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&ky.register(t),typeof t.register=="function"&&t.register(ky)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=Z9(e,t),this.container=this.options.container,this.container==null){Ed.error("Invalid Quill container",e);return}this.options.debug&&xa.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Pv.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ze;const i=Qw.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new $9(this.scroll),this.selection=new q9(this.scroll,this.emitter),this.composition=new W9(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ze.events.EDITOR_CHANGE,u=>{u===Ze.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ze.events.SCROLL_UPDATE,(u,f)=>{const p=this.selection.lastRange,[y]=this.selection.getRange(),v=p&&y?{oldRange:p,newRange:y}:void 0;Ca.call(this,()=>this.editor.update(null,f,v),u)}),this.emitter.on(Ze.events.SCROLL_EMBED_UPDATE,(u,f)=>{const p=this.selection.lastRange,[y]=this.selection.getRange(),v=p&&y?{oldRange:p,newRange:y}:void 0;Ca.call(this,()=>{const E=new et().retain(u.offset(this)).retain({[u.statics.blotName]:f});return this.editor.update(E,[],v)},xa.sources.USER)}),r){const u=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(u)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=lu(e,t,r),Ca.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ze.sources.API;return Ca.call(this,()=>{const i=this.getSelection(!0);let o=new et;if(i==null)return o;if(this.scroll.query(e,nt.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),o;o=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,Ze.sources.SILENT),o},r)}formatLine(e,t,r,i,o){let u;return[e,t,u,o]=lu(e,t,r,i,o),Ca.call(this,()=>this.editor.formatLine(e,t,u),o,e,0)}formatText(e,t,r,i,o){let u;return[e,t,u,o]=lu(e,t,r,i,o),Ca.call(this,()=>this.editor.formatText(e,t,u),o,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=lu(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=lu(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=lu(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xa.sources.API;return Ca.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,o){let u;return[e,,u,o]=lu(e,0,r,i,o),Ca.call(this,()=>this.editor.insertText(e,t,u),o,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=lu(e,t,r),Ca.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){J9(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ze.sources.API;return Ca.call(this,()=>{e=new et(e);const r=this.getLength(),i=this.editor.deleteText(0,r),o=this.editor.insertContents(0,e),u=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(u)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||xa.sources.API):([e,t,,r]=lu(e,t,r),this.selection.setRange(new Ih(Math.max(0,e),t),r),r!==Ze.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ze.sources.API;const r=new et().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ze.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ze.sources.API;return Ca.call(this,()=>(e=new et(e),this.editor.applyDelta(e)),t,!0)}};Fe(xa,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ky,theme:"default"}),Fe(xa,"events",Ze.events),Fe(xa,"sources",Ze.sources),Fe(xa,"version","2.0.3"),Fe(xa,"imports",{delta:et,parchment:N9,"core/module":Ua,"core/theme":Ud});let be=xa;function JS(n){return typeof n=="string"?document.querySelector(n):n}function M1(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function QS(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function Z9(n,e){const t=JS(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===be.DEFAULTS.theme?Ud:be.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...u}=be.DEFAULTS,{modules:f,...p}=i.DEFAULTS;let y=M1(e.modules);y!=null&&y.toolbar&&y.toolbar.constructor!==Object&&(y={...y,toolbar:{container:y.toolbar}});const v=vc({},M1(o),M1(f),y),E={...u,...QS(p),...QS(e)};let A=e.registry;return A?e.formats&&Ed.warn('Ignoring "formats" option because "registry" is specified'):A=e.formats?Y9(e.formats,E.registry,Ed):E.registry,{...E,registry:A,container:t,theme:i,modules:Object.entries(v).reduce((R,P)=>{let[O,D]=P;if(!D)return R;const H=be.import(`modules/${O}`);return H==null?(Ed.error(`Cannot load ${O} module. Are you sure you registered it?`),R):{...R,[O]:vc({},H.DEFAULTS||{},D)}},{}),bounds:JS(E.bounds)}}function Ca(n,e,t,r){if(!this.isEnabled()&&e===Ze.sources.USER&&!this.allowReadOnlyEdits)return new et;let i=t==null?null:this.getSelection();const o=this.editor.delta,u=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=XS(i,u,e):r!==0&&(i=XS(i,t,r,e)),this.setSelection(i,Ze.sources.SILENT)),u.length()>0){const f=[Ze.events.TEXT_CHANGE,u,o,e];this.emitter.emit(Ze.events.EDITOR_CHANGE,...f),e!==Ze.sources.SILENT&&this.emitter.emit(...f)}return u}function lu(n,e,t,r,i){let o={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(o=t,i=r):typeof t=="string"&&(r!=null?o[t]=r:i=t),i=i||Ze.sources.API,[n,e,o,i]}function XS(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let o,u;return e&&typeof e.transformPosition=="function"?[o,u]=[n.index,n.index+n.length].map(f=>e.transformPosition(f,r!==Ze.sources.USER)):[o,u]=[n.index,n.index+n.length].map(f=>f<e||f===e&&r===Ze.sources.USER?f:i>=0?f+i:Math.max(e,f+i)),new Ih(o,u-o)}class Fh extends n_{}function YS(n){return n instanceof Ei||n instanceof Qo}function ZS(n){return typeof n.updateContent=="function"}class md extends Qw{constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ze.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ze.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Ze.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[o]=this.line(e+t);if(super.deleteAt(e,t),o!=null&&r!==o&&i>0){if(r instanceof Qo||o instanceof Qo){this.optimize();return}const u=o.children.head instanceof Ma?null:o.children.head;r.moveChildren(o,u),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,nt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===nt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new et().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const o=r.shift();if(o){const p=o.type==="block"&&(o.delta.length()===0||!this.descendant(Qo,e)[0]&&e<this.length()),y=o.type==="block"?o.delta:new et().insert({[o.key]:o.value});U1(this,e,y);const v=o.type==="block"?1:0,E=e+y.length()+v;p&&this.insertAt(E-1,`
`);const A=Wo(this.line(e)[0]),R=Yo.AttributeMap.diff(A,o.attributes)||{};Object.keys(R).forEach(P=>{this.formatAt(E-1,1,P,R[P])}),e=E}let[u,f]=this.children.find(e);if(r.length&&(u&&(u=u.split(f),f=0),r.forEach(p=>{if(p.type==="block"){const y=this.createBlock(p.attributes,u||void 0);U1(y,0,p.delta)}else{const y=this.create(p.key,p.value);this.insertBefore(y,u||void 0),Object.keys(p.attributes).forEach(v=>{y.format(v,p.attributes[v])})}})),i.type==="block"&&i.delta.length()){const p=u?u.offset(u.scroll)+f:this.length();U1(this,p,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Wi?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(YS,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,o,u)=>{let f=[],p=u;return i.children.forEachAt(o,u,(y,v,E)=>{YS(y)?f.push(y):y instanceof n_&&(f=f.concat(r(y,v,p))),p-=E}),f};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Ze.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Ze.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const o=this.find(i,!0);return o&&!ZS(o)}),e.length>0&&this.emitter.emit(Ze.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ze.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(o=>o instanceof Qo,e);i&&i.statics.blotName===t&&ZS(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new et;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const u=o.split(`
`);u.slice(0,-1).forEach(p=>{r.insert(p,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new et});const f=u[u.length-1];f&&r.insert(f,i.attributes)}else{const u=Object.keys(o)[0];if(!u)return;this.query(u,nt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new et,t.push({type:"blockEmbed",key:u,value:o[u],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(f=>{let[p,y]=f;this.query(p,nt.BLOCK&nt.BLOT)!=null?r=p:i[p]=y});const o=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(o,t||void 0);const u=o.length();return Object.entries(i).forEach(f=>{let[p,y]=f;o.formatAt(0,u,p,y)}),o}}Fe(md,"blotName","scroll"),Fe(md,"className","ql-editor"),Fe(md,"tagName","DIV"),Fe(md,"defaultChild",Ei),Fe(md,"allowedChildren",[Ei,Qo,Fh]);function U1(n,e,t){t.reduce((r,i)=>{const o=Yo.Op.length(i);let u=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const f=i.insert;n.insertAt(r,f);const[p]=n.descendant(Wi,r),y=Wo(p);u=Yo.AttributeMap.diff(y,u)||{}}else if(typeof i.insert=="object"){const f=Object.keys(i.insert)[0];if(f==null)return r;if(n.insertAt(r,f,i.insert[f]),n.scroll.query(f,nt.INLINE)!=null){const[y]=n.descendant(Wi,r),v=Wo(y);u=Yo.AttributeMap.diff(v,u)||{}}}}return Object.keys(u).forEach(f=>{n.formatAt(r,o,f,u[f])}),r+o},e)}const Yw={scope:nt.BLOCK,whitelist:["right","center","justify"]},eU=new xl("align","align",Yw),GC=new Da("align","ql-align",Yw),KC=new Rc("align","text-align",Yw);class JC extends Rc{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const tU=new Da("color","ql-color",{scope:nt.INLINE}),Zw=new JC("color","color",{scope:nt.INLINE}),nU=new Da("background","ql-bg",{scope:nt.INLINE}),eE=new JC("background","background-color",{scope:nt.INLINE});class Bh extends Fh{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${r_(this.code(e,t))}
</pre>`}}class Ki extends Ei{static register(){be.register(Bh)}}Fe(Ki,"TAB","  ");class tE extends Rl{}tE.blotName="code";tE.tagName="CODE";Ki.blotName="code-block";Ki.className="ql-code-block";Ki.tagName="DIV";Bh.blotName="code-block-container";Bh.className="ql-code-block-container";Bh.tagName="DIV";Bh.allowedChildren=[Ki];Ki.allowedChildren=[La,Ma,Md];Ki.requiredContainer=Bh;const nE={scope:nt.BLOCK,whitelist:["rtl"]},QC=new xl("direction","dir",nE),XC=new Da("direction","ql-direction",nE),YC=new Rc("direction","direction",nE),ZC={scope:nt.INLINE,whitelist:["serif","monospace"]},ex=new Da("font","ql-font",ZC);class rU extends Rc{value(e){return super.value(e).replace(/["']/g,"")}}const tx=new rU("font","font-family",ZC),nx=new Da("size","ql-size",{scope:nt.INLINE,whitelist:["small","large","huge"]}),rx=new Rc("size","font-size",{scope:nt.INLINE,whitelist:["10px","18px","32px"]}),iU=Iu("quill:keyboard"),sU=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class i_ extends Ua{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=aU(e);if(i==null){iU.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(u=>{const f={...i,key:u,...t,...r};this.bindings[f.key]=this.bindings[f.key]||[],this.bindings[f.key].push(f)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(H=>i_.match(e,H));if(i.length===0)return;const o=be.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const u=this.quill.getSelection();if(u==null||!this.quill.hasFocus())return;const[f,p]=this.quill.getLine(u.index),[y,v]=this.quill.getLeaf(u.index),[E,A]=u.length===0?[y,v]:this.quill.getLeaf(u.index+u.length),R=y instanceof A0?y.value().slice(0,v):"",P=E instanceof A0?E.value().slice(A):"",O={collapsed:u.length===0,empty:u.length===0&&f.length()<=1,format:this.quill.getFormat(u),line:f,offset:p,prefix:R,suffix:P,event:e};i.some(H=>{if(H.collapsed!=null&&H.collapsed!==O.collapsed||H.empty!=null&&H.empty!==O.empty||H.offset!=null&&H.offset!==O.offset)return!1;if(Array.isArray(H.format)){if(H.format.every(te=>O.format[te]==null))return!1}else if(typeof H.format=="object"&&!Object.keys(H.format).every(te=>H.format[te]===!0?O.format[te]!=null:H.format[te]===!1?O.format[te]==null:Kw(H.format[te],O.format[te])))return!1;return H.prefix!=null&&!H.prefix.test(O.prefix)||H.suffix!=null&&!H.suffix.test(O.suffix)?!1:H.handler.call(this,u,O,H)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let u=new et().retain(e.index-r).delete(r);if(t.offset===0){const[f]=this.quill.getLine(e.index-1);if(f&&!(f.statics.blotName==="block"&&f.length()<=1)){const y=o.formats(),v=this.quill.getFormat(e.index-1,1);if(i=Yo.AttributeMap.diff(y,v)||{},Object.keys(i).length>0){const E=new et().retain(e.index+o.length()-2).retain(1,i);u=u.compose(E)}}}this.quill.updateContents(u,be.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[o]=this.quill.getLine(e.index);let u=new et().retain(e.index).delete(r);if(t.offset>=o.length()-1){const[f]=this.quill.getLine(e.index+1);if(f){const p=o.formats(),y=this.quill.getFormat(e.index,1);i=Yo.AttributeMap.diff(p,y)||{},Object.keys(i).length>0&&(u=u.retain(f.length()-1).retain(1,i))}}this.quill.updateContents(u,be.sources.USER),this.quill.focus()}handleDeleteRange(e){rE({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((o,u)=>(this.quill.scroll.query(u,nt.BLOCK)&&!Array.isArray(t.format[u])&&(o[u]=t.format[u]),o),{}),i=new et().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,be.sources.USER),this.quill.setSelection(e.index+1,be.sources.SILENT),this.quill.focus()}}const oU={bindings:{bold:V1("bold"),italic:V1("italic"),underline:V1("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",be.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",be.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",be.sources.USER):e.format.list!=null&&this.quill.format("list",!1,be.sources.USER)}},"indent code-block":eb(!0),"outdent code-block":eb(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,be.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new et().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,be.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,be.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,be.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,be.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new et().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,be.sources.USER),this.quill.setSelection(n.index+1,be.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new et().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,be.sources.USER),this.quill.setSelection(n.index+1,be.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,o]=e.getTable(n),u=lU(t,r,i,o);if(u==null)return;let f=t.offset();if(u<0){const p=new et().retain(f).insert(`
`);this.quill.updateContents(p,be.sources.USER),this.quill.setSelection(n.index+1,n.length,be.sources.SILENT)}else if(u>0){f+=t.length();const p=new et().retain(f).insert(`
`);this.quill.updateContents(p,be.sources.USER),this.quill.setSelection(f,be.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,be.sources.USER):this.quill.setSelection(i+r.length(),be.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(n.index," ",be.sources.USER),this.quill.history.cutoff();const u=new et().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:o});return this.quill.updateContents(u,be.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,be.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const o=new et().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,be.sources.USER),this.quill.setSelection(n.index-1,be.sources.SILENT),!1}return!0}},"embed left":Ny("ArrowLeft",!1),"embed left shift":Ny("ArrowLeft",!0),"embed right":Ny("ArrowRight",!1),"embed right shift":Ny("ArrowRight",!0),"table down":tb(!1),"table up":tb(!0)}};i_.DEFAULTS=oU;function eb(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,o,be.sources.USER),this.quill.setSelection(e.index+o.length,be.sources.SILENT);return}const u=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:f,length:p}=e;u.forEach((y,v)=>{n?(y.insertAt(0,o),v===0?f+=o.length:p+=o.length):y.domNode.textContent.startsWith(o)&&(y.deleteAt(0,o.length),v===0?f-=o.length:p-=o.length)}),this.quill.update(be.sources.USER),this.quill.setSelection(f,p,be.sources.SILENT)}}}function Ny(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[o]=this.quill.getLeaf(i);return o instanceof vo?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,be.sources.USER):this.quill.setSelection(r.index-1,be.sources.USER):e?this.quill.setSelection(r.index,r.length+1,be.sources.USER):this.quill.setSelection(r.index+r.length+1,be.sources.USER),!1):!0}}}function V1(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],be.sources.USER)}}}function tb(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,o=i.parent[r];if(o!=null){if(o.statics.blotName==="table-row"){let u=o.children.head,f=i;for(;f.prev!=null;)f=f.prev,u=u.next;const p=u.offset(this.quill.scroll)+Math.min(t.offset,u.length()-1);this.quill.setSelection(p,0,be.sources.USER)}}else{const u=i.table()[r];u!=null&&(n?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,be.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,be.sources.USER))}return!1}}}function aU(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=vd(n);else return null;return n.shortKey&&(n[sU]=n.shortKey,delete n.shortKey),n}function rE(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const o=r[0].formats(),u=r[r.length-1].formats();i=Yo.AttributeMap.diff(u,o)||{}}e.deleteText(t,be.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,be.sources.USER),e.setSelection(t.index,be.sources.SILENT)}function lU(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const uU=/font-weight:\s*normal/,cU=["P","OL","UL"],nb=n=>n&&cU.includes(n.tagName),hU=n=>{Array.from(n.querySelectorAll("br")).filter(e=>nb(e.previousElementSibling)&&nb(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},fU=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(uU)}).forEach(e=>{var r;const t=n.createDocumentFragment();t.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(t,e)})};function dU(n){n.querySelector('[id^="docs-internal-guid-"]')&&(fU(n),hU(n))}const pU=/\bmso-list:[^;]*ignore/i,gU=/\bmso-list:[^;]*\bl(\d+)/i,mU=/\bmso-list:[^;]*\blevel(\d+)/i,yU=(n,e)=>{const t=n.getAttribute("style"),r=t==null?void 0:t.match(gU);if(!r)return null;const i=Number(r[1]),o=t==null?void 0:t.match(mU),u=o?Number(o[1]):1,f=new RegExp(`@list l${i}:level${u}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),p=e.match(f),y=p&&p[1]==="bullet"?"bullet":"ordered";return{id:i,indent:u,type:y,element:n}},_U=n=>{var u,f;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(p=>{(p.getAttribute("style")||"").match(pU)?t.push(p):r.push(p)}),t.forEach(p=>{var y;return(y=p.parentNode)==null?void 0:y.removeChild(p)});const i=n.documentElement.innerHTML,o=r.map(p=>yU(p,i)).filter(p=>p);for(;o.length;){const p=[];let y=o.shift();for(;y;)p.push(y),y=o.length&&((u=o[0])==null?void 0:u.element)===y.element.nextElementSibling&&o[0].id===y.id?o.shift():null;const v=document.createElement("ul");p.forEach(R=>{const P=document.createElement("li");P.setAttribute("data-list",R.type),R.indent>1&&P.setAttribute("class",`ql-indent-${R.indent-1}`),P.innerHTML=R.element.innerHTML,v.appendChild(P)});const E=(f=p[0])==null?void 0:f.element,{parentNode:A}=E??{};E&&(A==null||A.replaceChild(v,E)),p.slice(1).forEach(R=>{let{element:P}=R;A==null||A.removeChild(P)})}};function vU(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&_U(n)}const wU=[vU,dU],EU=n=>{n.documentElement&&wU.forEach(e=>{e(n)})},TU=Iu("quill:clipboard"),SU=[[Node.TEXT_NODE,DU],[Node.TEXT_NODE,ib],["br",xU],[Node.ELEMENT_NODE,ib],[Node.ELEMENT_NODE,CU],[Node.ELEMENT_NODE,IU],[Node.ELEMENT_NODE,OU],["li",NU],["ol, ul",PU],["pre",RU],["tr",LU],["b",F1("bold")],["i",F1("italic")],["strike",F1("strike")],["style",kU]],bU=[eU,QC].reduce((n,e)=>(n[e.keyName]=e,n),{}),rb=[KC,eE,Zw,YC,tx,rx].reduce((n,e)=>(n[e.keyName]=e,n),{});class ix extends Ua{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],SU.concat(this.options.matchers??[]).forEach(r=>{let[i,o]=r;this.addMatcher(i,o)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Ki.blotName])return new et().insert(r||"",{[Ki.blotName]:i[Ki.blotName]});if(!t)return new et().insert(r||"",i);const o=this.convertHTML(t);return rm(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new et().retain(o.length()-1).delete(1)):o}normalizeHTML(e){EU(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[o,u]=this.prepareMatching(r,i);return iE(this.quill.scroll,r,o,u,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:be.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,be.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new et().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),be.sources.SILENT)}}onCaptureCopy(e){var u,f;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:o}=this.onCopy(r,t);(u=e.clipboardData)==null||u.setData("text/plain",o),(f=e.clipboardData)==null||f.setData("text/html",i),t&&rE({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var u,f,p,y,v;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(u=e.clipboardData)==null?void 0:u.getData("text/html");let i=(f=e.clipboardData)==null?void 0:f.getData("text/plain");if(!r&&!i){const E=(p=e.clipboardData)==null?void 0:p.getData("text/uri-list");E&&(i=this.normalizeURIList(E))}const o=Array.from(((y=e.clipboardData)==null?void 0:y.files)||[]);if(!r&&o.length>0){this.quill.uploader.upload(t,o);return}if(r&&o.length>0){const E=new DOMParser().parseFromString(r,"text/html");if(E.body.childElementCount===1&&((v=E.body.firstElementChild)==null?void 0:v.tagName)==="IMG"){this.quill.uploader.upload(t,o);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const o=this.quill.getFormat(e.index),u=this.convert({text:r,html:i},o);TU.log("onPaste",u,{text:r,html:i});const f=new et().retain(e.index).delete(e.length).concat(u);this.quill.updateContents(f,be.sources.USER),this.quill.setSelection(f.length()-e.length,be.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(o=>{const[u,f]=o;switch(u){case Node.TEXT_NODE:i.push(f);break;case Node.ELEMENT_NODE:r.push(f);break;default:Array.from(e.querySelectorAll(u)).forEach(p=>{if(t.has(p)){const y=t.get(p);y==null||y.push(f)}else t.set(p,[f])});break}}),[r,i]}}Fe(ix,"DEFAULTS",{matchers:[]});function qh(n,e,t,r){return r.query(e)?n.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const u=t?{[e]:t}:{};return i.insert(o.insert,{...u,...o.attributes})},new et):n}function rm(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function dc(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof vo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function AU(n,e){return n.previousElementSibling&&n.nextElementSibling&&!dc(n.previousElementSibling,e)&&!dc(n.nextElementSibling,e)}const Py=new WeakMap;function sx(n){return n==null?!1:(Py.has(n)||(n.tagName==="PRE"?Py.set(n,!0):Py.set(n,sx(n.parentNode))),Py.get(n))}function iE(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((o,u)=>u(e,o,n),new et):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,u)=>{let f=iE(n,u,t,r,i);return u.nodeType===e.ELEMENT_NODE&&(f=t.reduce((p,y)=>y(u,p,n),f),f=(i.get(u)||[]).reduce((p,y)=>y(u,p,n),f)),o.concat(f)},new et):new et}function F1(n){return(e,t,r)=>qh(t,n,!0,r)}function IU(n,e,t){const r=xl.keys(n),i=Da.keys(n),o=Rc.keys(n),u={};return r.concat(i).concat(o).forEach(f=>{let p=t.query(f,nt.ATTRIBUTE);p!=null&&(u[p.attrName]=p.value(n),u[p.attrName])||(p=bU[f],p!=null&&(p.attrName===f||p.keyName===f)&&(u[p.attrName]=p.value(n)||void 0),p=rb[f],p!=null&&(p.attrName===f||p.keyName===f)&&(p=rb[f],u[p.attrName]=p.value(n)||void 0))}),Object.entries(u).reduce((f,p)=>{let[y,v]=p;return qh(f,y,v,t)},e)}function CU(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof vo){const i={},o=r.value(n);if(o!=null)return i[r.blotName]=o,new et().insert(i,r.formats(n,t))}else if(r.prototype instanceof Fg&&!rm(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return qh(e,r.blotName,r.formats(n,t),t);return e}function xU(n,e){return rm(e,`
`)||e.insert(`
`),e}function RU(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return qh(e,"code-block",i,t)}function kU(){return new et}function NU(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!rm(e,`
`))return e;let i=-1,o=n.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((u,f)=>f.insert?f.attributes&&typeof f.attributes.indent=="number"?u.push(f):u.insert(f.insert,{indent:i,...f.attributes||{}}):u,new et)}function PU(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const o=r.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),qh(e,"list",i,t)}function ib(n,e,t){if(!rm(e,`
`)){if(dc(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(dc(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Qo)return e.insert(`
`);r=r.firstChild}}}return e}function OU(n,e,t){var o;const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((u,f)=>{let[p,y]=f;return qh(u,p,y,t)},e),parseFloat(i.textIndent||0)>0?new et().insert("	").concat(e):e}function LU(n,e,t){var i,o;const r=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(o=n.parentElement)==null?void 0:o.parentElement;if(r!=null){const f=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return qh(e,"table",f,t)}return e}function DU(n,e,t){var i;let r=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!sx(n)){if(r.trim().length===0&&r.includes(`
`)&&!AU(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&dc(n.parentElement,t)||n.previousSibling instanceof Element&&dc(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&dc(n.parentElement,t)||n.nextSibling instanceof Element&&dc(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class ox extends Ua{constructor(t,r){super(t,r);Fe(this,"lastRecorded",0);Fe(this,"ignoreChange",!1);Fe(this,"stack",{undo:[],redo:[]});Fe(this,"currentRange",null);this.quill.on(be.events.EDITOR_CHANGE,(i,o,u,f)=>{i===be.events.SELECTION_CHANGE?o&&f!==be.sources.SILENT&&(this.currentRange=o):i===be.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||f===be.sources.USER?this.record(o,u):this.transform(o)),this.currentRange=Dv(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const o=this.quill.getContents(),u=i.delta.invert(o);this.stack[r].push({delta:u,range:Dv(i.range,u)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,be.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),o=this.currentRange;const u=Date.now();if(this.lastRecorded+this.options.delay>u&&this.stack.undo.length>0){const f=this.stack.undo.pop();f&&(i=i.compose(f.delta),o=f.range)}else this.lastRecorded=u;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){sb(this.stack.undo,t),sb(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,be.sources.USER);else{const r=UU(this.quill.scroll,t.delta);this.quill.setSelection(r,be.sources.USER)}}}Fe(ox,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function sb(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&Dv(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function MU(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,nt.BLOCK)!=null):!1}function UU(n,e){const t=e.reduce((i,o)=>i+(o.delete||0),0);let r=e.length()-t;return MU(n,e)&&(r-=1),r}function Dv(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class ax extends Ua{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{var u;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const f=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(f.offsetNode,f.offset),i.setEnd(f.offsetNode,f.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const f=e.selection.normalizedToRange(o);(u=r.dataTransfer)!=null&&u.files&&this.upload(f,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}ax.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((o,u)=>o.insert({image:u}),new et().retain(n.index).delete(n.length));this.quill.updateContents(i,Ze.sources.USER),this.quill.setSelection(n.index+r.length,Ze.sources.SILENT)})}};const VU=["insertText","insertReplacementText"];class FU extends Ua{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(be.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){rE({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new et().retain(e.index).insert(t,r),be.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,be.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!VU.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=BU(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function BU(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const qU=/Mac/i.test(navigator.platform),jU=100,$U=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||qU&&n.key==="a"&&n.ctrlKey===!0);class zU extends Ua{constructor(t,r){super(t,r);Fe(this,"isListening",!1);Fe(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:o}=r;if(!(i instanceof Pa)||!i.uiNode)return!0;const u=getComputedStyle(i.domNode).direction==="rtl";return u&&o.key!=="ArrowRight"||!u&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(o.shiftKey?1:0),be.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&$U(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+jU,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Pa)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(o)}}be.register({"blots/block":Ei,"blots/block/embed":Qo,"blots/break":Ma,"blots/container":Fh,"blots/cursor":Md,"blots/embed":Xw,"blots/inline":Rl,"blots/scroll":md,"blots/text":La,"modules/clipboard":ix,"modules/history":ox,"modules/keyboard":i_,"modules/uploader":ax,"modules/input":FU,"modules/uiNode":zU});class HU extends Da{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const WU=new HU("indent","ql-indent",{scope:nt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});var Fy;let GU=(Fy=class extends Ei{},Fe(Fy,"blotName","blockquote"),Fe(Fy,"tagName","blockquote"),Fy);var By;let KU=(By=class extends Ei{static formats(e){return this.tagName.indexOf(e.tagName)+1}},Fe(By,"blotName","header"),Fe(By,"tagName",["H1","H2","H3","H4","H5","H6"]),By);class im extends Fh{}im.blotName="list-container";im.tagName="OL";class sm extends Ei{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){be.register(im)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const u=this.statics.formats(t,e);u==="checked"?(this.format("list","unchecked"),o.preventDefault()):u==="unchecked"&&(this.format("list","checked"),o.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}sm.blotName="list";sm.tagName="LI";im.allowedChildren=[sm];sm.requiredContainer=im;var qy;let sE=(qy=class extends Rl{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}},Fe(qy,"blotName","bold"),Fe(qy,"tagName",["STRONG","B"]),qy);class Mv extends sE{}Fe(Mv,"blotName","italic"),Fe(Mv,"tagName",["EM","I"]);var od;let I0=(od=class extends Rl{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return lx(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}},Fe(od,"blotName","link"),Fe(od,"tagName","A"),Fe(od,"SANITIZED_URL","about:blank"),Fe(od,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]),od);function lx(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class Uv extends Rl{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Fe(Uv,"blotName","script"),Fe(Uv,"tagName",["SUB","SUP"]);class Vv extends sE{}Fe(Vv,"blotName","strike"),Fe(Vv,"tagName",["S","STRIKE"]);class Fv extends Rl{}Fe(Fv,"blotName","underline"),Fe(Fv,"tagName","U");class Qy extends Xw{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Fe(Qy,"blotName","formula"),Fe(Qy,"className","ql-formula"),Fe(Qy,"tagName","SPAN");const ob=["alt","height","width"];var jy;let JU=(jy=class extends vo{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return ob.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return lx(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){ob.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},Fe(jy,"blotName","image"),Fe(jy,"tagName","IMG"),jy);const ab=["height","width"];class Xy extends Qo{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return ab.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return I0.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){ab.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Fe(Xy,"blotName","video"),Fe(Xy,"className","ql-video"),Fe(Xy,"tagName","IFRAME");const dg=new Da("code-token","hljs",{scope:nt.INLINE});class Eu extends Rl{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Ki.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),dg.add(this.domNode,r)}format(e,t){e!==Eu.blotName?super.format(e,t):t?dg.add(this.domNode,t):(dg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),dg.value(this.domNode)||this.unwrap()}}Eu.blotName="code-token";Eu.className="ql-token";class Go extends Ki{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Eu.blotName,!1),super.replaceWith(e,t)}}class Tg extends Bh{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Go.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===Go.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join(`
`)}
`,o=Go.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const u=this.children.reduce((p,y)=>p.concat(HC(y,!1)),new et),f=e(i,o);u.diff(f).reduce((p,y)=>{let{retain:v,attributes:E}=y;return v?(E&&Object.keys(E).forEach(A=>{[Go.blotName,Eu.blotName].includes(A)&&this.formatAt(p,v,A,E[A])}),p+v):p},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?Go.formats(r.domNode):"plain"}">
${r_(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Go.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Tg.allowedChildren=[Go];Go.requiredContainer=Tg;Go.allowedChildren=[Eu,Md,La,Ma];const QU=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class ux extends Ua{static register(){be.register(Eu,!0),be.register(Go,!0),be.register(Tg,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:o}=i;return r[o]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(be.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Tg))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:o}=r;const u=t.ownerDocument.createElement("option");u.textContent=o,u.setAttribute("value",i),t.appendChild(u)}),t.addEventListener("change",()=>{e.format(Go.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Go.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(be.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(be.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Tg):[e]).forEach(o=>{o.highlight(this.highlightBlot,t)}),this.quill.update(be.sources.SILENT),r!=null&&this.quill.setSelection(r,be.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return r_(e).split(`
`).reduce((i,o,u)=>(u!==0&&i.insert(`
`,{[Ki.blotName]:t}),i.insert(o)),new et);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Ki.className),r.innerHTML=QU(this.options.hljs,t,e),iE(this.quill.scroll,r,[(i,o)=>{const u=dg.value(i);return u?o.compose(new et().retain(o.length(),{[Eu.blotName]:u})):o}],[(i,o)=>i.data.split(`
`).reduce((u,f,p)=>(p!==0&&u.insert(`
`,{[Ki.blotName]:t}),u.insert(f)),o)],new WeakMap)}}ux.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Cg=class Cg extends Ei{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",oE()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Cg.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Fe(Cg,"blotName","table"),Fe(Cg,"tagName","TD");let ka=Cg;class Tu extends Fh{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const o=this.splitAfter(t);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Fe(Tu,"blotName","table-row"),Fe(Tu,"tagName","TR");class Sl extends Fh{}Fe(Sl,"blotName","table-body"),Fe(Sl,"tagName","TBODY");class Vd extends Fh{balanceCells(){const e=this.descendants(Tu),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=ka.formats(r.children.head.domNode));const o=this.scroll.create(ka.blotName,i);r.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Sl);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[t]=this.descendant(Sl);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),o=ka.formats(r.children.head.domNode),u=this.scroll.create(ka.blotName,o);r.insertBefore(u,i)})}insertRow(e){const[t]=this.descendant(Sl);if(t==null||t.children.head==null)return;const r=oE(),i=this.scroll.create(Tu.blotName);t.children.head.children.forEach(()=>{const u=this.scroll.create(ka.blotName,r);i.appendChild(u)});const o=t.children.at(e);t.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Fe(Vd,"blotName","table-container"),Fe(Vd,"tagName","TABLE");Vd.allowedChildren=[Sl];Sl.requiredContainer=Vd;Sl.allowedChildren=[Tu];Tu.requiredContainer=Sl;Tu.allowedChildren=[ka];ka.requiredContainer=Tu;function oE(){return`row-${Math.random().toString(36).slice(2,6)}`}class XU extends Ua{static register(){be.register(ka),be.register(Tu),be.register(Sl),be.register(Vd)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Vd).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(be.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(be.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(be.sources.USER),this.quill.setSelection(t,be.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==ka.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const u=o.cellOffset();r.insertColumn(u+e),this.quill.update(be.sources.USER);let f=i.rowOffset();e===0&&(f+=1),this.quill.setSelection(t.index+f,t.length,be.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const u=i.rowOffset();r.insertRow(u+e),this.quill.update(be.sources.USER),e>0?this.quill.setSelection(t,be.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,be.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(o=>{const u=new Array(t).fill(`
`).join("");return o.insert(u,{table:oE()})},new et().retain(r.index));this.quill.updateContents(i,be.sources.USER),this.quill.setSelection(r.index,be.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(be.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(be.events.TEXT_CHANGE,(r,i,o)=>{o===be.sources.USER&&this.balanceTables()}),!0):!1)})}}const lb=Iu("quill:toolbar");let aE=class extends Ua{constructor(e,t){var r,i;if(super(e,t),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),YU(o,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){lb.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var f;const u=(f=this.options.handlers)==null?void 0:f[o];u&&this.addHandler(o,u)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(be.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){lb.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const f=e.options[e.selectedIndex];f.hasAttribute("selected")?o=!1:o=f.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[u]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,o);else if(this.quill.scroll.query(t).prototype instanceof vo){if(o=prompt(`Enter ${t}`),!o)return;this.quill.updateContents(new et().retain(u.index).delete(u.length).insert({[t]:o}),be.sources.USER)}else this.quill.format(t,o,be.sources.USER);this.update(u)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,o]=r;if(o.tagName==="SELECT"){let u=null;if(e==null)u=null;else if(t[i]==null)u=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){let f=t[i];typeof f=="string"&&(f=f.replace(/"/g,'\\"')),u=o.querySelector(`option[value="${f}"]`)}u==null?(o.value="",o.selectedIndex=-1):u.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const u=t[i],f=u===o.getAttribute("value")||u!=null&&u.toString()===o.getAttribute("value")||u==null&&!o.getAttribute("value");o.classList.toggle("ql-active",f),o.setAttribute("aria-pressed",f.toString())}else{const u=t[i]!=null;o.classList.toggle("ql-active",u),o.setAttribute("aria-pressed",u.toString())}})}};aE.DEFAULTS={};function ub(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function YU(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")ub(r,i);else{const o=Object.keys(i)[0],u=i[o];Array.isArray(u)?ZU(r,o,u):ub(r,o,u)}}),n.appendChild(r)})}function ZU(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),r.appendChild(o)}),n.appendChild(r)}aE.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,nt.INLINE)!=null&&this.quill.format(t,!1,be.sources.USER)})}else this.quill.removeFormat(n.index,n.length,be.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",be.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,be.sources.USER),this.quill.format("direction",n,be.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,be.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,be.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,be.sources.USER):this.quill.format("list","unchecked",be.sources.USER):this.quill.format("list",n,be.sources.USER)}}};const eV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',tV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',nV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',rV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',iV='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',sV='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',oV='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',aV='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',cb='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',lV='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',uV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',cV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',hV='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',fV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',dV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',pV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',gV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',mV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',yV='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',_V='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',vV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',wV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',EV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',TV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',SV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',bV='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',AV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',IV='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',CV='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',xV='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',RV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',kV='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',NV='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',qg={align:{"":eV,center:tV,right:nV,justify:rV},background:iV,blockquote:sV,bold:oV,clean:aV,code:cb,"code-block":cb,color:lV,direction:{"":uV,rtl:cV},formula:hV,header:{1:fV,2:dV,3:pV,4:gV,5:mV,6:yV},italic:_V,image:vV,indent:{"+1":wV,"-1":EV},link:TV,list:{bullet:SV,check:bV,ordered:AV},script:{sub:IV,super:CV},strike:xV,table:RV,underline:kV,video:NV},PV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let hb=0;function fb(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class s_{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),fb(this.label,"aria-expanded"),fb(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=PV,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${hb}`,hb+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class cx extends s_{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class hx extends s_{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const OV=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class fx{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,OV(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let u=0;if(o.right>i.right&&(u=i.right-o.right,this.root.style.left=`${t+u}px`),o.left<i.left&&(u=i.left-o.left,this.root.style.left=`${t+u}px`),o.bottom>i.bottom){const f=o.bottom-o.top,p=e.bottom-e.top+f;this.root.style.top=`${r-p}px`,this.root.classList.add("ql-flip")}return u}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const LV=[!1,"center","right","justify"],DV=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],MV=[!1,"serif","monospace"],UV=["1","2","3",!1],VV=["small",!1,"large","huge"];class om extends Ud{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),t[o]!=null))if(o==="direction")r.innerHTML=t[o][""]+t[o].rtl;else if(typeof t[o]=="string")r.innerHTML=t[o];else{const u=r.value||"";u!=null&&t[o][u]&&(r.innerHTML=t[o][u])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&tg(i,LV),typeof t.align=="object"))return new hx(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&tg(i,DV,o==="background"?"#ffffff":"#000000"),new cx(i,t[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?tg(i,MV):i.classList.contains("ql-header")?tg(i,UV):i.classList.contains("ql-size")&&tg(i,VV)),new s_(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Ze.events.EDITOR_CHANGE,r)}}om.DEFAULTS=vc({},Ud.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class dx extends fx{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ze.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ze.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=FV(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Ze.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ze.sources.USER),this.quill.setSelection(r+2,Ze.sources.USER)}break}}this.textbox.value="",this.hide()}}function FV(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function tg(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const BV=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class px extends dx{constructor(e,t){super(e,t),this.quill.on(Ze.events.EDITOR_CHANGE,(r,i,o,u)=>{if(r===Ze.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&u===Ze.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const f=this.quill.getLines(i.index,i.length);if(f.length===1){const p=this.quill.getBounds(i);p!=null&&this.position(p)}else{const p=f[f.length-1],y=this.quill.getIndex(p),v=Math.min(p.length()-1,i.index+i.length-y),E=this.quill.getBounds(new Ih(y,v));E!=null&&this.position(E)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ze.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}Fe(px,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class gx extends om{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=BV),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new px(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),qg),this.buildPickers(e.container.querySelectorAll("select"),qg))}}gx.DEFAULTS=vc({},om.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,be.sources.USER)}}}}});const qV=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class mx extends dx{constructor(){super(...arguments);Fe(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Ze.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Ze.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Ze.sources.USER){const[o,u]=this.quill.scroll.descendant(I0,t.index);if(o!=null){this.linkRange=new Ih(t.index-u,o.length());const f=I0.formats(o.domNode);this.preview.textContent=f,this.preview.setAttribute("href",f),this.show();const p=this.quill.getBounds(this.linkRange);p!=null&&this.position(p);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Fe(mx,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class yx extends om{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=qV),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),qg),this.buildPickers(e.container.querySelectorAll("select"),qg),this.tooltip=new mx(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}yx.DEFAULTS=vc({},om.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,be.sources.USER)}}}}});be.register({"attributors/attribute/direction":QC,"attributors/class/align":GC,"attributors/class/background":nU,"attributors/class/color":tU,"attributors/class/direction":XC,"attributors/class/font":ex,"attributors/class/size":nx,"attributors/style/align":KC,"attributors/style/background":eE,"attributors/style/color":Zw,"attributors/style/direction":YC,"attributors/style/font":tx,"attributors/style/size":rx},!0);be.register({"formats/align":GC,"formats/direction":XC,"formats/indent":WU,"formats/background":eE,"formats/color":Zw,"formats/font":ex,"formats/size":nx,"formats/blockquote":GU,"formats/code-block":Ki,"formats/header":KU,"formats/list":sm,"formats/bold":sE,"formats/code":tE,"formats/italic":Mv,"formats/link":I0,"formats/script":Uv,"formats/strike":Vv,"formats/underline":Fv,"formats/formula":Qy,"formats/image":JU,"formats/video":Xy,"modules/syntax":ux,"modules/table":XU,"modules/toolbar":aE,"themes/bubble":gx,"themes/snow":yx,"ui/icons":qg,"ui/picker":s_,"ui/icon-picker":hx,"ui/color-picker":cx,"ui/tooltip":fx},!0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebasestorage.googleapis.com",vx="storageBucket",jV=2*60*1e3,$V=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Nl{constructor(e,t,r=0){super(B1(e),`Firebase Storage: ${t} (${B1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return B1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rr||(rr={}));function B1(n){return"storage/"+n}function lE(){const n="An unknown error occurred, please check the error payload for server response.";return new ir(rr.UNKNOWN,n)}function zV(n){return new ir(rr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function HV(n){return new ir(rr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function WV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ir(rr.UNAUTHENTICATED,n)}function GV(){return new ir(rr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KV(n){return new ir(rr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function JV(){return new ir(rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QV(){return new ir(rr.CANCELED,"User canceled the upload/download.")}function XV(n){return new ir(rr.INVALID_URL,"Invalid URL '"+n+"'.")}function YV(n){return new ir(rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ZV(){return new ir(rr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vx+"' property when initializing the app?")}function eF(){return new ir(rr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tF(){return new ir(rr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nF(n){return new ir(rr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bv(n){return new ir(rr.INVALID_ARGUMENT,n)}function wx(){return new ir(rr.APP_DELETED,"The Firebase app was deleted.")}function rF(n){return new ir(rr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sg(n,e){return new ir(rr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ng(n){throw new ir(rr.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ho.makeFromUrl(e,t)}catch{return new ho(e,"")}if(r.path==="")return r;throw YV(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+i+u,"i"),p={bucket:1,path:3};function y(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${v}/b/${i}/o${A}`,"i"),P={bucket:1,path:3},O=t===_x?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",H=new RegExp(`^https?://${O}/${i}/${D}`,"i"),X=[{regex:f,indices:p,postModify:o},{regex:R,indices:P,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let se=0;se<X.length;se++){const oe=X[se],me=oe.regex.exec(e);if(me){const $=me[oe.indices.bucket];let q=me[oe.indices.path];q||(q=""),r=new ho($,q),oe.postModify(r);break}}if(r==null)throw XV(e);return r}}class iF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(n,e,t){let r=1,i=null,o=null,u=!1,f=0;function p(){return f===2}let y=!1;function v(...D){y||(y=!0,e.apply(null,D))}function E(D){i=setTimeout(()=>{i=null,n(R,p())},D)}function A(){o&&clearTimeout(o)}function R(D,...H){if(y){A();return}if(D){A(),v.call(null,D,...H);return}if(p()||u){A(),v.call(null,D,...H);return}r<64&&(r*=2);let X;f===1?(f=2,X=0):X=(r+Math.random())*1e3,E(X)}let P=!1;function O(D){P||(P=!0,A(),!y&&(i!==null?(D||(f=2),clearTimeout(i),E(0)):D||(f=1)))}return E(0),o=setTimeout(()=>{u=!0,O(!0)},t),O}function oF(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(n){return n!==void 0}function lF(n){return typeof n=="object"&&!Array.isArray(n)}function uE(n){return typeof n=="string"||n instanceof String}function db(n){return cE()&&n instanceof Blob}function cE(){return typeof Blob<"u"}function pb(n,e,t,r){if(r<e)throw Bv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Bv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Ex(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var vh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(vh||(vh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,t,r,i,o,u,f,p,y,v,E,A=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=E,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,P)=>{this.resolve_=R,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Oy(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=f=>{const p=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const f=o.getErrorCode()===vh.NO_ERROR,p=o.getStatus();if(!f||uF(p,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===vh.ABORT;r(!1,new Oy(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new Oy(y,o))})},t=(r,i)=>{const o=this.resolve_,u=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());aF(p)?o(p):o()}catch(p){u(p)}else if(f!==null){const p=lE();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(i.canceled){const p=this.appDelete_?wx():QV();u(p)}else{const p=JV();u(p)}};this.canceled_?t(!1,new Oy(!1,null,!0)):this.backoffId_=sF(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function hF(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function fF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dF(n,e){e&&(n["X-Firebase-GMPID"]=e)}function pF(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function gF(n,e,t,r,i,o,u=!0){const f=Ex(n.urlParams),p=n.url+f,y=Object.assign({},n.headers);return dF(y,e),hF(y,t),fF(y,o),pF(y,r),new cF(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yF(...n){const e=mF();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(cE())return new Blob(n);throw new ir(rr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _F(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(n){if(typeof atob>"u")throw nF("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class q1{constructor(e,t){this.data=e,this.contentType=t||null}}function wF(n,e){switch(n){case _l.RAW:return new q1(Tx(e));case _l.BASE64:case _l.BASE64URL:return new q1(Sx(n,e));case _l.DATA_URL:return new q1(TF(e),SF(e))}throw lE()}function Tx(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function EF(n){let e;try{e=decodeURIComponent(n)}catch{throw Sg(_l.DATA_URL,"Malformed data URL.")}return Tx(e)}function Sx(n,e){switch(n){case _l.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Sg(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _l.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Sg(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=vF(e)}catch(i){throw i.message.includes("polyfill")?i:Sg(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class bx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Sg(_l.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=bF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function TF(n){const e=new bx(n);return e.base64?Sx(_l.BASE64,e.rest):EF(e.rest)}function SF(n){return new bx(n).contentType}function bF(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){let r=0,i="";db(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(db(this.data_)){const r=this.data_,i=_F(r,e,t);return i===null?null:new lc(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new lc(r,!0)}}static getBlob(...e){if(cE()){const t=e.map(r=>r instanceof lc?r.data_:r);return new lc(yF.apply(null,t))}else{const t=e.map(u=>uE(u)?wF(_l.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)i[o++]=u[f]}),new lc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n){let e;try{e=JSON.parse(n)}catch{return null}return lF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function IF(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Ix(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(n,e){return e}class fs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||CF}}let Ly=null;function xF(n){return!uE(n)||n.length<2?n:Ix(n)}function Cx(){if(Ly)return Ly;const n=[];n.push(new fs("bucket")),n.push(new fs("generation")),n.push(new fs("metageneration")),n.push(new fs("name","fullPath",!0));function e(o,u){return xF(u)}const t=new fs("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const i=new fs("size");return i.xform=r,n.push(i),n.push(new fs("timeCreated")),n.push(new fs("updated")),n.push(new fs("md5Hash",null,!0)),n.push(new fs("cacheControl",null,!0)),n.push(new fs("contentDisposition",null,!0)),n.push(new fs("contentEncoding",null,!0)),n.push(new fs("contentLanguage",null,!0)),n.push(new fs("contentType",null,!0)),n.push(new fs("metadata","customMetadata",!0)),Ly=n,Ly}function RF(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new ho(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function kF(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return RF(r,n),r}function xx(n,e,t){const r=Ax(e);return r===null?null:kF(n,r,t)}function NF(n,e,t,r){const i=Ax(e);if(i===null||!uE(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(y=>{const v=n.bucket,E=n.fullPath,A="/b/"+u(v)+"/o/"+u(E),R=hE(A,t,r),P=Ex({alt:"media",token:y});return R+P})[0]}function PF(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class Rx{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n){if(!n)throw lE()}function OF(n,e){function t(r,i){const o=xx(n,i,e);return kx(o!==null),o}return t}function LF(n,e){function t(r,i){const o=xx(n,i,e);return kx(o!==null),NF(o,i,n.host,n._protocol)}return t}function Nx(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=GV():i=WV():t.getStatus()===402?i=HV(n.bucket):t.getStatus()===403?i=KV(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function DF(n){const e=Nx(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=zV(n.path)),o.serverResponse=i.serverResponse,o}return t}function MF(n,e,t){const r=e.fullServerUrl(),i=hE(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,f=new Rx(i,o,LF(n,t),u);return f.errorHandler=DF(e),f}function UF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function VF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=UF(null,e)),r}function FF(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let X="";for(let se=0;se<2;se++)X=X+Math.random().toString().slice(2);return X}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const y=VF(e,r,i),v=PF(y,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,A=`\r
--`+p+"--",R=lc.getBlob(E,r,A);if(R===null)throw eF();const P={name:y.fullPath},O=hE(o,n.host,n._protocol),D="POST",H=n.maxUploadRetryTime,te=new Rx(O,D,OF(n,t),H);return te.urlParams=P,te.headers=u,te.body=R.uploadData(),te.errorHandler=Nx(e),te}class BF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw ng("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ng("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ng("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ng("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ng("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qF extends BF{initXhr(){this.xhr_.responseType="text"}}function Px(){return new qF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this._service=e,t instanceof ho?this._location=t:this._location=ho.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ch(e,t)}get root(){const e=new ho(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ix(this._location.path)}get storage(){return this._service}get parent(){const e=AF(this._location.path);if(e===null)return null;const t=new ho(this._location.bucket,e);return new Ch(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw rF(e)}}function jF(n,e,t){n._throwIfRoot("uploadBytes");const r=FF(n.storage,n._location,Cx(),new lc(e,!0),t);return n.storage.makeRequestWithTokens(r,Px).then(i=>({metadata:i,ref:n}))}function $F(n){n._throwIfRoot("getDownloadURL");const e=MF(n.storage,n._location,Cx());return n.storage.makeRequestWithTokens(e,Px).then(t=>{if(t===null)throw tF();return t})}function zF(n,e){const t=IF(n._location.path,e),r=new ho(n._location.bucket,t);return new Ch(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(n){return/^[A-Za-z]+:\/\//.test(n)}function WF(n,e){return new Ch(n,e)}function Ox(n,e){if(n instanceof fE){const t=n;if(t._bucket==null)throw ZV();const r=new Ch(t,t._bucket);return e!=null?Ox(r,e):r}else return e!==void 0?zF(n,e):n}function GF(n,e){if(e&&HF(e)){if(n instanceof fE)return WF(n,e);throw Bv("To use ref(service, url), the first argument must be a Storage instance.")}else return Ox(n,e)}function gb(n,e){const t=e==null?void 0:e[vx];return t==null?null:ho.makeFromBucketSpec(t,n)}function KF(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:LA(i,n.app.options.projectId))}class fE{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=_x,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jV,this._maxUploadRetryTime=$V,this._requests=new Set,i!=null?this._bucket=ho.makeFromBucketSpec(i,this._host):this._bucket=gb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ho.makeFromBucketSpec(this._url,e):this._bucket=gb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ch(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new iF(wx());{const u=gF(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const mb="@firebase/storage",yb="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="storage";function JF(n,e,t){return n=Qi(n),jF(n,e,t)}function QF(n){return n=Qi(n),$F(n)}function XF(n,e){return n=Qi(n),GF(n,e)}function YF(n=hw(),e){n=Qi(n);const r=U0(n,Lx).getImmediate({identifier:e}),i=NA("storage");return i&&ZF(r,...i),r}function ZF(n,e,t,r={}){KF(n,e,t,r)}function eB(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new fE(t,r,i,e,Nh)}function tB(){Th(new wc(Lx,eB,"PUBLIC").setMultipleInstances(!0)),vl(mb,yb,""),vl(mb,yb,"esm2017")}tB();class qv extends z5{constructor(t,r){var i;super();Fe(this,"id");Fe(this,"title");Fe(this,"description");Fe(this,"content");Fe(this,"owner");Fe(this,"permissions");Fe(this,"api");Fe(this,"documentRef");t?(this.id=t.id,this.title=t.title,this.description=t.description,this.content=t.content,this.owner=t.owner,this.permissions=t.permissions,this.documentRef=S5(r.firestore,"notes",this.id)):(this.id="",this.title="Unnamed Note",this.description="",this.content=[{id:J5(),type:"text",position:null,value:"",delta:{ops:[]}}],this.owner=((i=r.user)==null?void 0:i.uid)??"",this.permissions={global:null,user:{}},this.documentRef=null),this.api=r}serialize(){return{id:this.id,title:this.title,description:this.description,content:this.content,owner:this.owner,permissions:this.permissions}}async save(){const t=await this.api.saveNote(this);return t!==null&&this.emit("save"),t}async share(t,r){return await this.api.shareNote(this.id,t,r)}async setTitle(t){var i,o;const r=(i=this.api.user)==null?void 0:i.uid;if(!r)return!1;if(this.owner!==r&&((o=this.permissions.user[r])==null?void 0:o.permission)!=="edit"&&this.permissions.global!=="edit"){alert("You do not have permission to edit this note.");return}this.title=t||"Unnamed Note",this.emit()}export(t){let r="";for(const o of t.ops)typeof o.insert=="string"&&(r+=o.insert);const i=[{id:"1",type:"text",position:null,value:r,delta:{ops:t.ops}}];return this.content=i,this.emit(),i}import(t){if(!t)return this.importBlocks(this.content,!1);if(t.id!==this.id)throw new Error("Note ID mismatch");return this.title=t.title,this.description=t.description,this.owner=t.owner,this.permissions=t.permissions,this.importBlocks(t.content)}importBlocks(t,r=!0){this.content=t,r&&this.emit();const i=this.content.find(u=>u.type==="text"),o=new et;return i&&i.delta&&(o.ops=i.delta.ops),o}async uploadMedia(t){const r=XF(this.api.storage,`notes/${this.id}/${t.name}`),i=await JF(r,t,{cacheControl:"public,max-age=31536000"});return console.log(i.metadata),i?await QF(r):null}toString(t){return t?t.value:this.value}get value(){return this.content.filter(r=>r.position===null).map(r=>this.toString(r)).join(`
`)}blockUpdate(){this.emit()}async search(t){return await this.api.search(this.id,t)}async generateSummary(){return await this.api.generateSummary(this.id)}async generateFlashcards(){return await this.api.generateFlashcards(this.id)}}var j1={exports:{}},gn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function nB(){if(_b)return gn;_b=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),R=Symbol.for("react.client.reference");function P(O){if(typeof O=="object"&&O!==null){var D=O.$$typeof;switch(D){case n:switch(O=O.type,O){case t:case i:case r:case p:case y:return O;default:switch(O=O&&O.$$typeof,O){case u:case f:case E:case v:return O;case o:return O;default:return D}}case e:return D}}}return gn.ContextConsumer=o,gn.ContextProvider=u,gn.Element=n,gn.ForwardRef=f,gn.Fragment=t,gn.Lazy=E,gn.Memo=v,gn.Portal=e,gn.Profiler=i,gn.StrictMode=r,gn.Suspense=p,gn.SuspenseList=y,gn.isContextConsumer=function(O){return P(O)===o},gn.isContextProvider=function(O){return P(O)===u},gn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===n},gn.isForwardRef=function(O){return P(O)===f},gn.isFragment=function(O){return P(O)===t},gn.isLazy=function(O){return P(O)===E},gn.isMemo=function(O){return P(O)===v},gn.isPortal=function(O){return P(O)===e},gn.isProfiler=function(O){return P(O)===i},gn.isStrictMode=function(O){return P(O)===r},gn.isSuspense=function(O){return P(O)===p},gn.isSuspenseList=function(O){return P(O)===y},gn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===t||O===i||O===r||O===p||O===y||O===A||typeof O=="object"&&O!==null&&(O.$$typeof===E||O.$$typeof===v||O.$$typeof===u||O.$$typeof===o||O.$$typeof===f||O.$$typeof===R||O.getModuleId!==void 0)},gn.typeOf=P,gn}var vb;function rB(){return vb||(vb=1,j1.exports=nB()),j1.exports}var Dx=rB();function cu(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Mx(n){if(Be.isValidElement(n)||Dx.isValidElementType(n)||!cu(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Mx(n[t])}),e}function mo(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return cu(n)&&cu(e)&&Object.keys(e).forEach(i=>{Be.isValidElement(e[i])||Dx.isValidElementType(e[i])?r[i]=e[i]:cu(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&cu(n[i])?r[i]=mo(n[i],e[i],t):t.clone?r[i]=cu(e[i])?Mx(e[i]):e[i]:r[i]=e[i]}),r}function xh(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Fd(n){if(typeof n!="string")throw new Error(xh(7));return n.charAt(0).toUpperCase()+n.slice(1)}function jv(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const p=f;t[i][p]=jv(o[p],u[p])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function iB(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",f=!0;for(let p=0;p<o.length;p+=1){const y=o[p];y&&(u+=(f===!0?"":" ")+e(y),f=!1,t&&t[y]&&(u+=" "+t[y]))}r[i]=u}return r}const wb=n=>n,sB=()=>{let n=wb;return{configure(e){n=e},generate(e){return n(e)},reset(){n=wb}}},oB=sB(),aB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ux(n,e,t="Mui"){const r=aB[e];return r?`${t}-${r}`:`${oB.generate(n)}-${e}`}function lB(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Ux(n,i,t)}),r}function uB(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Vx(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Vx(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function cB(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Vx(n))&&(r&&(r+=" "),r+=e);return r}function bg(n,e){return e?mo(n,e,{clone:!1}):n}function hB(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,f;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((f=i.match(o))==null?void 0:f[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function fB(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function dB(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function pB(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...f)=>e(n.breakpoints.up(...f),u),o.down=(...f)=>e(n.breakpoints.down(...f),u),o.between=(...f)=>e(n.breakpoints.between(...f),u),o.only=(...f)=>e(n.breakpoints.only(...f),u),o.not=(...f)=>{const p=e(n.breakpoints.not(...f),u);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const o_={xs:0,sm:600,md:900,lg:1200,xl:1536},Eb={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${o_[n]}px)`},gB={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:o_[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Su(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Eb;return e.reduce((u,f,p)=>(u[o.up(o.keys[p])]=t(e[p]),u),{})}if(typeof e=="object"){const o=r.breakpoints||Eb;return Object.keys(e).reduce((u,f)=>{if(fB(o.keys,f)){const p=dB(r.containerQueries?r:gB,f);p&&(u[p]=t(e[f],f))}else if(Object.keys(o.values||o_).includes(f)){const p=o.up(f);u[p]=t(e[f],f)}else{const p=f;u[p]=e[p]}return u},{})}return t(e)}function mB(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function yB(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function a_(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function C0(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=a_(n,t)||r,e&&(i=e(i,r,n)),i}function yr(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const f=u[e],p=u.theme,y=a_(p,r)||{};return Su(u,f,E=>{let A=C0(y,i,E);return E===A&&typeof E=="string"&&(A=C0(y,i,`${e}${E==="default"?"":Fd(E)}`,E)),t===!1?A:{[t]:A}})};return o.propTypes={},o.filterProps=[e],o}function _B(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const vB={m:"margin",p:"padding"},wB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Tb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},EB=_B(n=>{if(n.length>2)if(Tb[n])n=Tb[n];else return[n];const[e,t]=n.split(""),r=vB[e],i=wB[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),dE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],pE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...dE,...pE];function am(n,e,t,r){const i=a_(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),f=i[u];return o>=0?f:typeof f=="number"?-f:`-${f}`}:typeof i=="function"?i:()=>{}}function gE(n){return am(n,"spacing",8)}function lm(n,e){return typeof e=="string"||e==null?e:n(e)}function TB(n,e){return t=>n.reduce((r,i)=>(r[i]=lm(e,t),r),{})}function SB(n,e,t,r){if(!e.includes(t))return null;const i=EB(t),o=TB(i,r),u=n[t];return Su(n,u,o)}function Fx(n,e){const t=gE(n.theme);return Object.keys(n).map(r=>SB(n,e,r,t)).reduce(bg,{})}function er(n){return Fx(n,dE)}er.propTypes={};er.filterProps=dE;function tr(n){return Fx(n,pE)}tr.propTypes={};tr.filterProps=pE;function l_(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?bg(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Ko(n){return typeof n!="number"?n:`${n}px solid`}function Zo(n,e){return yr({prop:n,themeKey:"borders",transform:e})}const bB=Zo("border",Ko),AB=Zo("borderTop",Ko),IB=Zo("borderRight",Ko),CB=Zo("borderBottom",Ko),xB=Zo("borderLeft",Ko),RB=Zo("borderColor"),kB=Zo("borderTopColor"),NB=Zo("borderRightColor"),PB=Zo("borderBottomColor"),OB=Zo("borderLeftColor"),LB=Zo("outline",Ko),DB=Zo("outlineColor"),u_=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=am(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:lm(e,r)});return Su(n,n.borderRadius,t)}return null};u_.propTypes={};u_.filterProps=["borderRadius"];l_(bB,AB,IB,CB,xB,RB,kB,NB,PB,OB,u_,LB,DB);const c_=n=>{if(n.gap!==void 0&&n.gap!==null){const e=am(n.theme,"spacing",8),t=r=>({gap:lm(e,r)});return Su(n,n.gap,t)}return null};c_.propTypes={};c_.filterProps=["gap"];const h_=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=am(n.theme,"spacing",8),t=r=>({columnGap:lm(e,r)});return Su(n,n.columnGap,t)}return null};h_.propTypes={};h_.filterProps=["columnGap"];const f_=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=am(n.theme,"spacing",8),t=r=>({rowGap:lm(e,r)});return Su(n,n.rowGap,t)}return null};f_.propTypes={};f_.filterProps=["rowGap"];const MB=yr({prop:"gridColumn"}),UB=yr({prop:"gridRow"}),VB=yr({prop:"gridAutoFlow"}),FB=yr({prop:"gridAutoColumns"}),BB=yr({prop:"gridAutoRows"}),qB=yr({prop:"gridTemplateColumns"}),jB=yr({prop:"gridTemplateRows"}),$B=yr({prop:"gridTemplateAreas"}),zB=yr({prop:"gridArea"});l_(c_,h_,f_,MB,UB,VB,FB,BB,qB,jB,$B,zB);function Td(n,e){return e==="grey"?e:n}const HB=yr({prop:"color",themeKey:"palette",transform:Td}),WB=yr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Td}),GB=yr({prop:"backgroundColor",themeKey:"palette",transform:Td});l_(HB,WB,GB);function co(n){return n<=1&&n!==0?`${n*100}%`:n}const KB=yr({prop:"width",transform:co}),mE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,f,p;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||o_[t];return r?((p=(f=n.theme)==null?void 0:f.breakpoints)==null?void 0:p.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:co(t)}};return Su(n,n.maxWidth,e)}return null};mE.filterProps=["maxWidth"];const JB=yr({prop:"minWidth",transform:co}),QB=yr({prop:"height",transform:co}),XB=yr({prop:"maxHeight",transform:co}),YB=yr({prop:"minHeight",transform:co});yr({prop:"size",cssProperty:"width",transform:co});yr({prop:"size",cssProperty:"height",transform:co});const ZB=yr({prop:"boxSizing"});l_(KB,mE,JB,QB,XB,YB,ZB);const d_={border:{themeKey:"borders",transform:Ko},borderTop:{themeKey:"borders",transform:Ko},borderRight:{themeKey:"borders",transform:Ko},borderBottom:{themeKey:"borders",transform:Ko},borderLeft:{themeKey:"borders",transform:Ko},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ko},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:u_},color:{themeKey:"palette",transform:Td},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Td},backgroundColor:{themeKey:"palette",transform:Td},p:{style:tr},pt:{style:tr},pr:{style:tr},pb:{style:tr},pl:{style:tr},px:{style:tr},py:{style:tr},padding:{style:tr},paddingTop:{style:tr},paddingRight:{style:tr},paddingBottom:{style:tr},paddingLeft:{style:tr},paddingX:{style:tr},paddingY:{style:tr},paddingInline:{style:tr},paddingInlineStart:{style:tr},paddingInlineEnd:{style:tr},paddingBlock:{style:tr},paddingBlockStart:{style:tr},paddingBlockEnd:{style:tr},m:{style:er},mt:{style:er},mr:{style:er},mb:{style:er},ml:{style:er},mx:{style:er},my:{style:er},margin:{style:er},marginTop:{style:er},marginRight:{style:er},marginBottom:{style:er},marginLeft:{style:er},marginX:{style:er},marginY:{style:er},marginInline:{style:er},marginInlineStart:{style:er},marginInlineEnd:{style:er},marginBlock:{style:er},marginBlockStart:{style:er},marginBlockEnd:{style:er},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:c_},rowGap:{style:f_},columnGap:{style:h_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:co},maxWidth:{style:mE},minWidth:{transform:co},height:{transform:co},maxHeight:{transform:co},minHeight:{transform:co},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function e8(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function t8(n,e){return typeof n=="function"?n(e):n}function n8(){function n(t,r,i,o){const u={[t]:r,theme:i},f=o[t];if(!f)return{[t]:r};const{cssProperty:p=t,themeKey:y,transform:v,style:E}=f;if(r==null)return null;if(y==="typography"&&r==="inherit")return{[t]:r};const A=a_(i,y)||{};return E?E(u):Su(u,r,P=>{let O=C0(A,v,P);return P===O&&typeof P=="string"&&(O=C0(A,v,`${t}${P==="default"?"":Fd(P)}`,P)),p===!1?O:{[p]:O}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??d_;function u(f){let p=f;if(typeof f=="function")p=f(i);else if(typeof f!="object")return f;if(!p)return null;const y=mB(i.breakpoints),v=Object.keys(y);let E=y;return Object.keys(p).forEach(A=>{const R=t8(p[A],i);if(R!=null)if(typeof R=="object")if(o[A])E=bg(E,n(A,R,i,o));else{const P=Su({theme:i},R,O=>({[A]:O}));e8(P,R)?E[A]=e({sx:R,theme:i}):E=bg(E,P)}else E=bg(E,n(A,R,i,o))}),hB(i,yB(v,E))}return Array.isArray(r)?r.map(u):u(r)}return e}const Bd=n8();Bd.filterProps=["sx"];function $v(){return $v=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$v.apply(null,arguments)}function r8(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function i8(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var s8=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(i8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=r8(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),$i="-ms-",x0="-moz-",rn="-webkit-",Bx="comm",yE="rule",_E="decl",o8="@import",qx="@keyframes",a8="@layer",l8=Math.abs,p_=String.fromCharCode,u8=Object.assign;function c8(n,e){return vi(n,0)^45?(((e<<2^vi(n,0))<<2^vi(n,1))<<2^vi(n,2))<<2^vi(n,3):0}function jx(n){return n.trim()}function h8(n,e){return(n=e.exec(n))?n[0]:n}function sn(n,e,t){return n.replace(e,t)}function zv(n,e){return n.indexOf(e)}function vi(n,e){return n.charCodeAt(e)|0}function jg(n,e,t){return n.slice(e,t)}function ml(n){return n.length}function vE(n){return n.length}function Dy(n,e){return e.push(n),n}function f8(n,e){return n.map(e).join("")}var g_=1,qd=1,$x=0,$s=0,xr=0,Kd="";function m_(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:g_,column:qd,length:u,return:""}}function rg(n,e){return u8(m_("",null,null,"",null,null,0),n,{length:-n.length},e)}function d8(){return xr}function p8(){return xr=$s>0?vi(Kd,--$s):0,qd--,xr===10&&(qd=1,g_--),xr}function yo(){return xr=$s<$x?vi(Kd,$s++):0,qd++,xr===10&&(qd=1,g_++),xr}function bl(){return vi(Kd,$s)}function Yy(){return $s}function um(n,e){return jg(Kd,n,e)}function $g(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zx(n){return g_=qd=1,$x=ml(Kd=n),$s=0,[]}function Hx(n){return Kd="",n}function Zy(n){return jx(um($s-1,Hv(n===91?n+2:n===40?n+1:n)))}function g8(n){for(;(xr=bl())&&xr<33;)yo();return $g(n)>2||$g(xr)>3?"":" "}function m8(n,e){for(;--e&&yo()&&!(xr<48||xr>102||xr>57&&xr<65||xr>70&&xr<97););return um(n,Yy()+(e<6&&bl()==32&&yo()==32))}function Hv(n){for(;yo();)switch(xr){case n:return $s;case 34:case 39:n!==34&&n!==39&&Hv(xr);break;case 40:n===41&&Hv(n);break;case 92:yo();break}return $s}function y8(n,e){for(;yo()&&n+xr!==57;)if(n+xr===84&&bl()===47)break;return"/*"+um(e,$s-1)+"*"+p_(n===47?n:yo())}function _8(n){for(;!$g(bl());)yo();return um(n,$s)}function v8(n){return Hx(e0("",null,null,null,[""],n=zx(n),0,[0],n))}function e0(n,e,t,r,i,o,u,f,p){for(var y=0,v=0,E=u,A=0,R=0,P=0,O=1,D=1,H=1,te=0,X="",se=i,oe=o,me=r,$=X;D;)switch(P=te,te=yo()){case 40:if(P!=108&&vi($,E-1)==58){zv($+=sn(Zy(te),"&","&\f"),"&\f")!=-1&&(H=-1);break}case 34:case 39:case 91:$+=Zy(te);break;case 9:case 10:case 13:case 32:$+=g8(P);break;case 92:$+=m8(Yy()-1,7);continue;case 47:switch(bl()){case 42:case 47:Dy(w8(y8(yo(),Yy()),e,t),p);break;default:$+="/"}break;case 123*O:f[y++]=ml($)*H;case 125*O:case 59:case 0:switch(te){case 0:case 125:D=0;case 59+v:H==-1&&($=sn($,/\f/g,"")),R>0&&ml($)-E&&Dy(R>32?bb($+";",r,t,E-1):bb(sn($," ","")+";",r,t,E-2),p);break;case 59:$+=";";default:if(Dy(me=Sb($,e,t,y,v,i,f,X,se=[],oe=[],E),o),te===123)if(v===0)e0($,e,me,me,se,o,E,f,oe);else switch(A===99&&vi($,3)===110?100:A){case 100:case 108:case 109:case 115:e0(n,me,me,r&&Dy(Sb(n,me,me,0,0,i,f,X,i,se=[],E),oe),i,oe,E,f,r?se:oe);break;default:e0($,me,me,me,[""],oe,0,f,oe)}}y=v=R=0,O=H=1,X=$="",E=u;break;case 58:E=1+ml($),R=P;default:if(O<1){if(te==123)--O;else if(te==125&&O++==0&&p8()==125)continue}switch($+=p_(te),te*O){case 38:H=v>0?1:($+="\f",-1);break;case 44:f[y++]=(ml($)-1)*H,H=1;break;case 64:bl()===45&&($+=Zy(yo())),A=bl(),v=E=ml(X=$+=_8(Yy())),te++;break;case 45:P===45&&ml($)==2&&(O=0)}}return o}function Sb(n,e,t,r,i,o,u,f,p,y,v){for(var E=i-1,A=i===0?o:[""],R=vE(A),P=0,O=0,D=0;P<r;++P)for(var H=0,te=jg(n,E+1,E=l8(O=u[P])),X=n;H<R;++H)(X=jx(O>0?A[H]+" "+te:sn(te,/&\f/g,A[H])))&&(p[D++]=X);return m_(n,e,t,i===0?yE:f,p,y,v)}function w8(n,e,t){return m_(n,e,t,Bx,p_(d8()),jg(n,2,-2),0)}function bb(n,e,t,r){return m_(n,e,t,_E,jg(n,0,r),jg(n,r+1,-1),r)}function Sd(n,e){for(var t="",r=vE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function E8(n,e,t,r){switch(n.type){case a8:if(n.children.length)break;case o8:case _E:return n.return=n.return||n.value;case Bx:return"";case qx:return n.return=n.value+"{"+Sd(n.children,r)+"}";case yE:n.value=n.props.join(",")}return ml(t=Sd(n.children,r))?n.return=n.value+"{"+t+"}":""}function T8(n){var e=vE(n);return function(t,r,i,o){for(var u="",f=0;f<e;f++)u+=n[f](t,r,i,o)||"";return u}}function S8(n){return function(e){e.root||(e=e.return)&&n(e)}}function Wx(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var b8=function(e,t,r){for(var i=0,o=0;i=o,o=bl(),i===38&&o===12&&(t[r]=1),!$g(o);)yo();return um(e,$s)},A8=function(e,t){var r=-1,i=44;do switch($g(i)){case 0:i===38&&bl()===12&&(t[r]=1),e[r]+=b8($s-1,t,r);break;case 2:e[r]+=Zy(i);break;case 4:if(i===44){e[++r]=bl()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=p_(i)}while(i=yo());return e},I8=function(e,t){return Hx(A8(zx(e),t))},Ab=new WeakMap,C8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Ab.get(r))&&!i){Ab.set(e,!0);for(var o=[],u=I8(t,o),f=r.props,p=0,y=0;p<u.length;p++)for(var v=0;v<f.length;v++,y++)e.props[y]=o[p]?u[p].replace(/&\f/g,f[v]):f[v]+" "+u[p]}}},x8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Gx(n,e){switch(c8(n,e)){case 5103:return rn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rn+n+x0+n+$i+n+n;case 6828:case 4268:return rn+n+$i+n+n;case 6165:return rn+n+$i+"flex-"+n+n;case 5187:return rn+n+sn(n,/(\w+).+(:[^]+)/,rn+"box-$1$2"+$i+"flex-$1$2")+n;case 5443:return rn+n+$i+"flex-item-"+sn(n,/flex-|-self/,"")+n;case 4675:return rn+n+$i+"flex-line-pack"+sn(n,/align-content|flex-|-self/,"")+n;case 5548:return rn+n+$i+sn(n,"shrink","negative")+n;case 5292:return rn+n+$i+sn(n,"basis","preferred-size")+n;case 6060:return rn+"box-"+sn(n,"-grow","")+rn+n+$i+sn(n,"grow","positive")+n;case 4554:return rn+sn(n,/([^-])(transform)/g,"$1"+rn+"$2")+n;case 6187:return sn(sn(sn(n,/(zoom-|grab)/,rn+"$1"),/(image-set)/,rn+"$1"),n,"")+n;case 5495:case 3959:return sn(n,/(image-set\([^]*)/,rn+"$1$`$1");case 4968:return sn(sn(n,/(.+:)(flex-)?(.*)/,rn+"box-pack:$3"+$i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rn+n+n;case 4095:case 3583:case 4068:case 2532:return sn(n,/(.+)-inline(.+)/,rn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ml(n)-1-e>6)switch(vi(n,e+1)){case 109:if(vi(n,e+4)!==45)break;case 102:return sn(n,/(.+:)(.+)-([^]+)/,"$1"+rn+"$2-$3$1"+x0+(vi(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~zv(n,"stretch")?Gx(sn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(vi(n,e+1)!==115)break;case 6444:switch(vi(n,ml(n)-3-(~zv(n,"!important")&&10))){case 107:return sn(n,":",":"+rn)+n;case 101:return sn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rn+(vi(n,14)===45?"inline-":"")+"box$3$1"+rn+"$2$3$1"+$i+"$2box$3")+n}break;case 5936:switch(vi(n,e+11)){case 114:return rn+n+$i+sn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rn+n+$i+sn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rn+n+$i+sn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rn+n+$i+n+n}return n}var R8=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case _E:e.return=Gx(e.value,e.length);break;case qx:return Sd([rg(e,{value:sn(e.value,"@","@"+rn)})],i);case yE:if(e.length)return f8(e.props,function(o){switch(h8(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sd([rg(e,{props:[sn(o,/:(read-\w+)/,":"+x0+"$1")]})],i);case"::placeholder":return Sd([rg(e,{props:[sn(o,/:(plac\w+)/,":"+rn+"input-$1")]}),rg(e,{props:[sn(o,/:(plac\w+)/,":"+x0+"$1")]}),rg(e,{props:[sn(o,/:(plac\w+)/,$i+"input-$1")]})],i)}return""})}},k8=[R8],N8=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(O){var D=O.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var i=e.stylisPlugins||k8,o={},u,f=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(O){for(var D=O.getAttribute("data-emotion").split(" "),H=1;H<D.length;H++)o[D[H]]=!0;f.push(O)});var p,y=[C8,x8];{var v,E=[E8,S8(function(O){v.insert(O)})],A=T8(y.concat(i,E)),R=function(D){return Sd(v8(D),A)};p=function(D,H,te,X){v=te,R(D?D+"{"+H.styles+"}":H.styles),X&&(P.inserted[H.name]=!0)}}var P={key:t,sheet:new s8({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:p};return P.sheet.hydrate(f),P},P8=!0;function O8(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var Kx=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||P8===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},L8=function(e,t,r){Kx(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function D8(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var M8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},U8=/[A-Z]|^ms/g,V8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Jx=function(e){return e.charCodeAt(1)===45},Ib=function(e){return e!=null&&typeof e!="boolean"},$1=Wx(function(n){return Jx(n)?n:n.replace(U8,"-$&").toLowerCase()}),Cb=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(V8,function(r,i,o){return yl={name:i,styles:o,next:yl},i})}return M8[e]!==1&&!Jx(e)&&typeof t=="number"&&t!==0?t+"px":t};function zg(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return yl={name:i.name,styles:i.styles,next:yl},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)yl={name:u.name,styles:u.styles,next:yl},u=u.next;var f=o.styles+";";return f}return F8(n,e,t)}case"function":{if(n!==void 0){var p=yl,y=t(n);return yl=p,zg(n,e,y)}break}}var v=t;if(e==null)return v;var E=e[v];return E!==void 0?E:v}function F8(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=zg(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var f=u;e!=null&&e[f]!==void 0?r+=o+"{"+e[f]+"}":Ib(f)&&(r+=$1(o)+":"+Cb(o,f)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var p=0;p<u.length;p++)Ib(u[p])&&(r+=$1(o)+":"+Cb(o,u[p])+";");else{var y=zg(n,e,u);switch(o){case"animation":case"animationName":{r+=$1(o)+":"+y+";";break}default:r+=o+"{"+y+"}"}}}return r}var xb=/label:\s*([^\s;{]+)\s*(;|$)/g,yl;function Qx(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";yl=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=zg(t,e,o);else{var u=o;i+=u[0]}for(var f=1;f<n.length;f++)if(i+=zg(t,e,n[f]),r){var p=o;i+=p[f]}xb.lastIndex=0;for(var y="",v;(v=xb.exec(i))!==null;)y+="-"+v[1];var E=D8(i)+y;return{name:E,styles:i,next:yl}}var B8=function(e){return e()},q8=lT.useInsertionEffect?lT.useInsertionEffect:!1,j8=q8||B8,Xx=Be.createContext(typeof HTMLElement<"u"?N8({key:"css"}):null);Xx.Provider;var $8=function(e){return Be.forwardRef(function(t,r){var i=Be.useContext(Xx);return e(t,i,r)})},z8=Be.createContext({}),H8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,W8=Wx(function(n){return H8.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),G8=W8,K8=function(e){return e!=="theme"},Rb=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?G8:K8},kb=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},J8=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Kx(t,r,i),j8(function(){return L8(t,r,i)}),null},Q8=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var f=kb(e,t,r),p=f||Rb(i),y=!p("as");return function(){var v=arguments,E=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&E.push("label:"+o+";"),v[0]==null||v[0].raw===void 0)E.push.apply(E,v);else{var A=v[0];E.push(A[0]);for(var R=v.length,P=1;P<R;P++)E.push(v[P],A[P])}var O=$8(function(D,H,te){var X=y&&D.as||i,se="",oe=[],me=D;if(D.theme==null){me={};for(var $ in D)me[$]=D[$];me.theme=Be.useContext(z8)}typeof D.className=="string"?se=O8(H.registered,oe,D.className):D.className!=null&&(se=D.className+" ");var q=Qx(E.concat(oe),H.registered,me);se+=H.key+"-"+q.name,u!==void 0&&(se+=" "+u);var z=y&&f===void 0?Rb(X):p,C={};for(var x in D)y&&x==="as"||z(x)&&(C[x]=D[x]);return C.className=se,te&&(C.ref=te),Be.createElement(Be.Fragment,null,Be.createElement(J8,{cache:H,serialized:q,isStringTag:typeof X=="string"}),Be.createElement(X,C))});return O.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",O.defaultProps=e.defaultProps,O.__emotion_real=O,O.__emotion_base=i,O.__emotion_styles=E,O.__emotion_forwardProp=f,Object.defineProperty(O,"toString",{value:function(){return"."+u}}),O.withComponent=function(D,H){var te=n(D,$v({},t,H,{shouldForwardProp:kb(O,H,!0)}));return te.apply(void 0,E)},O}},X8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Wv=Q8.bind(null);X8.forEach(function(n){Wv[n]=Wv(n)});/**
 * @mui/styled-engine v6.4.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Y8(n,e){return Wv(n,e)}function Z8(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Nb=[];function Pb(n){return Nb[0]=n,Qx(Nb)}const eq=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function tq(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=eq(e),u=Object.keys(o);function f(A){return`@media (min-width:${typeof e[A]=="number"?e[A]:A}${t})`}function p(A){return`@media (max-width:${(typeof e[A]=="number"?e[A]:A)-r/100}${t})`}function y(A,R){const P=u.indexOf(R);return`@media (min-width:${typeof e[A]=="number"?e[A]:A}${t}) and (max-width:${(P!==-1&&typeof e[u[P]]=="number"?e[u[P]]:R)-r/100}${t})`}function v(A){return u.indexOf(A)+1<u.length?y(A,u[u.indexOf(A)+1]):f(A)}function E(A){const R=u.indexOf(A);return R===0?f(u[1]):R===u.length-1?p(u[R]):y(A,u[u.indexOf(A)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:f,down:p,between:y,only:v,not:E,unit:t,...i}}const nq={borderRadius:4};function Yx(n=8,e=gE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function rq(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function Zx(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,f=tq(t),p=Yx(i);let y=mo({breakpoints:f,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:p,shape:{...nq,...o}},u);return y=pB(y),y.applyStyles=rq,y=e.reduce((v,E)=>mo(v,E),y),y.unstable_sxConfig={...d_,...u==null?void 0:u.unstable_sxConfig},y.unstable_sx=function(E){return Bd({sx:E,theme:this})},y}function eR(n){const{variants:e,...t}=n,r={variants:e,style:Pb(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Pb(i.style))}),r}const iq=Zx();function z1(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function sq(n){return n?(e,t)=>t[n]:null}function oq(n,e,t){n.theme=uq(n.theme)?t:n.theme[e]||n.theme}function t0(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>t0(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return tR(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function tR(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const f in u.props)if(n[f]!==u.props[f]&&((i=n.ownerState)==null?void 0:i[f])!==u.props[f])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function aq(n={}){const{themeId:e,defaultTheme:t=iq,rootShouldForwardProp:r=z1,slotShouldForwardProp:i=z1}=n;function o(f){oq(f,e,t)}return(f,p={})=>{Z8(f,oe=>oe.filter(me=>me!==Bd));const{name:y,slot:v,skipVariantsResolver:E,skipSx:A,overridesResolver:R=sq(hq(v)),...P}=p,O=E!==void 0?E:v&&v!=="Root"&&v!=="root"||!1,D=A||!1;let H=z1;v==="Root"||v==="root"?H=r:v?H=i:cq(f)&&(H=void 0);const te=Y8(f,{shouldForwardProp:H,label:lq(),...P}),X=oe=>{if(typeof oe=="function"&&oe.__emotion_real!==oe)return function($){return t0($,oe)};if(cu(oe)){const me=eR(oe);return me.variants?function(q){return t0(q,me)}:me.style}return oe},se=(...oe)=>{const me=[],$=oe.map(X),q=[];if(me.push(o),y&&R&&q.push(function(B){var ve,Te;const Se=(Te=(ve=B.theme.components)==null?void 0:ve[y])==null?void 0:Te.styleOverrides;if(!Se)return null;const Ae={};for(const he in Se)Ae[he]=t0(B,Se[he]);return R(B,Ae)}),y&&!O&&q.push(function(B){var Ae,ve;const k=B.theme,Se=(ve=(Ae=k==null?void 0:k.components)==null?void 0:Ae[y])==null?void 0:ve.variants;return Se?tR(B,Se):null}),D||q.push(Bd),Array.isArray($[0])){const x=$.shift(),B=new Array(me.length).fill(""),k=new Array(q.length).fill("");let Se;Se=[...B,...x,...k],Se.raw=[...B,...x.raw,...k],me.unshift(Se)}const z=[...me,...$,...q],C=te(...z);return f.muiName&&(C.muiName=f.muiName),C};return te.withConfig&&(se.withConfig=te.withConfig),se}}function lq(n,e){return void 0}function uq(n){for(const e in n)return!1;return!0}function cq(n){return typeof n=="string"&&n.charCodeAt(0)>96}function hq(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function wE(n,e=0,t=1){return uB(n,e,t)}function fq(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Cc(n){if(n.type)return n;if(n.charAt(0)==="#")return Cc(fq(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(xh(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(xh(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const dq=n=>{const e=Cc(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},pg=(n,e)=>{try{return dq(n)}catch{return n}};function y_(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function nR(n){n=Cc(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(y,v=(y+t/30)%12)=>i-o*Math.max(Math.min(v-3,9-v,1),-1);let f="rgb";const p=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(f+="a",p.push(e[3])),y_({type:f,values:p})}function Gv(n){n=Cc(n);let e=n.type==="hsl"||n.type==="hsla"?Cc(nR(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function pq(n,e){const t=Gv(n),r=Gv(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function gq(n,e){return n=Cc(n),e=wE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,y_(n)}function My(n,e,t){try{return gq(n,e)}catch{return n}}function EE(n,e){if(n=Cc(n),e=wE(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return y_(n)}function En(n,e,t){try{return EE(n,e)}catch{return n}}function TE(n,e){if(n=Cc(n),e=wE(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return y_(n)}function Tn(n,e,t){try{return TE(n,e)}catch{return n}}function mq(n,e=.15){return Gv(n)>.5?EE(n,e):TE(n,e)}function Uy(n,e,t){try{return mq(n,e)}catch{return n}}const yq=Be.createContext(void 0);function _q(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?jv(i.defaultProps,r):!i.styleOverrides&&!i.variants?jv(i,r):r}function vq({props:n,name:e}){const t=Be.useContext(yq);return _q({props:n,name:e,theme:{components:t}})}const Ob={theme:void 0};function wq(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(Ob.theme=i.theme,o=eR(n(Ob)),e=o,t=i.theme),o}}function Eq(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const Lb=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},Tq=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([f,p])=>{(!t||!t([...o,f]))&&p!=null&&(typeof p=="object"&&Object.keys(p).length>0?r(p,[...o,f],Array.isArray(p)?[...u,f]:u):e([...o,f],p,u))})}r(n)},Sq=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function H1(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return Tq(n,(f,p,y)=>{if((typeof p=="string"||typeof p=="number")&&(!r||!r(f,p))){const v=`--${t?`${t}-`:""}${f.join("-")}`,E=Sq(f,p);Object.assign(i,{[v]:E}),Lb(o,f,`var(${v})`,y),Lb(u,f,`var(${v}, ${E})`,y)}},f=>f[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function bq(n,e={}){const{getSelector:t=D,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:f="light",...p}=n,{vars:y,css:v,varsWithDefaults:E}=H1(p,e);let A=E;const R={},{[f]:P,...O}=o;if(Object.entries(O||{}).forEach(([X,se])=>{const{vars:oe,css:me,varsWithDefaults:$}=H1(se,e);A=mo(A,$),R[X]={css:me,vars:oe}}),P){const{css:X,vars:se,varsWithDefaults:oe}=H1(P,e);A=mo(A,oe),R[f]={css:X,vars:se}}function D(X,se){var me,$;let oe=i;if(i==="class"&&(oe=".%s"),i==="data"&&(oe="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(oe=`[${i}="%s"]`),X){if(oe==="media")return n.defaultColorScheme===X?":root":{[`@media (prefers-color-scheme: ${(($=(me=o[X])==null?void 0:me.palette)==null?void 0:$.mode)||X})`]:{":root":se}};if(oe)return n.defaultColorScheme===X?`:root, ${oe.replace("%s",String(X))}`:oe.replace("%s",String(X))}return":root"}return{vars:A,generateThemeVars:()=>{let X={...y};return Object.entries(R).forEach(([,{vars:se}])=>{X=mo(X,se)}),X},generateStyleSheets:()=>{var q,z;const X=[],se=n.defaultColorScheme||"light";function oe(C,x){Object.keys(x).length&&X.push(typeof C=="string"?{[C]:{...x}}:C)}oe(t(void 0,{...v}),v);const{[se]:me,...$}=R;if(me){const{css:C}=me,x=(z=(q=o[se])==null?void 0:q.palette)==null?void 0:z.mode,B=!r&&x?{colorScheme:x,...C}:{...C};oe(t(se,{...B}),B)}return Object.entries($).forEach(([C,{css:x}])=>{var Se,Ae;const B=(Ae=(Se=o[C])==null?void 0:Se.palette)==null?void 0:Ae.mode,k=!r&&B?{colorScheme:B,...x}:{...x};oe(t(C,{...k}),k)}),X}}}function Aq(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Hg={black:"#000",white:"#fff"},Iq={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},td={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},nd={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ig={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},rd={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},id={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},sd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function rR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hg.white,default:Hg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Cq=rR();function iR(){return{text:{primary:Hg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Db=iR();function Mb(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=TE(n.main,i):e==="dark"&&(n.dark=EE(n.main,o)))}function xq(n="light"){return n==="dark"?{main:rd[200],light:rd[50],dark:rd[400]}:{main:rd[700],light:rd[400],dark:rd[800]}}function Rq(n="light"){return n==="dark"?{main:td[200],light:td[50],dark:td[400]}:{main:td[500],light:td[300],dark:td[700]}}function kq(n="light"){return n==="dark"?{main:nd[500],light:nd[300],dark:nd[700]}:{main:nd[700],light:nd[400],dark:nd[800]}}function Nq(n="light"){return n==="dark"?{main:id[400],light:id[300],dark:id[700]}:{main:id[700],light:id[500],dark:id[900]}}function Pq(n="light"){return n==="dark"?{main:sd[400],light:sd[300],dark:sd[700]}:{main:sd[800],light:sd[500],dark:sd[900]}}function Oq(n="light"){return n==="dark"?{main:ig[400],light:ig[300],dark:ig[700]}:{main:"#ed6c02",light:ig[500],dark:ig[900]}}function SE(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||xq(e),u=n.secondary||Rq(e),f=n.error||kq(e),p=n.info||Nq(e),y=n.success||Pq(e),v=n.warning||Oq(e);function E(O){return pq(O,Db.text.primary)>=t?Db.text.primary:Cq.text.primary}const A=({color:O,name:D,mainShade:H=500,lightShade:te=300,darkShade:X=700})=>{if(O={...O},!O.main&&O[H]&&(O.main=O[H]),!O.hasOwnProperty("main"))throw new Error(xh(11,D?` (${D})`:"",H));if(typeof O.main!="string")throw new Error(xh(12,D?` (${D})`:"",JSON.stringify(O.main)));return Mb(O,"light",te,r),Mb(O,"dark",X,r),O.contrastText||(O.contrastText=E(O.main)),O};let R;return e==="light"?R=rR():e==="dark"&&(R=iR()),mo({common:{...Hg},mode:e,primary:A({color:o,name:"primary"}),secondary:A({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:f,name:"error"}),warning:A({color:v,name:"warning"}),info:A({color:p,name:"info"}),success:A({color:y,name:"success"}),grey:Iq,contrastThreshold:t,getContrastText:E,augmentColor:A,tonalOffset:r,...R},i)}function Lq(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function Dq(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Mq(n){return Math.round(n*1e5)/1e5}const Ub={textTransform:"uppercase"},Vb='"Roboto", "Helvetica", "Arial", sans-serif';function Uq(n,e){const{fontFamily:t=Vb,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:f=700,htmlFontSize:p=16,allVariants:y,pxToRem:v,...E}=typeof e=="function"?e(n):e,A=r/14,R=v||(D=>`${D/p*A}rem`),P=(D,H,te,X,se)=>({fontFamily:t,fontWeight:D,fontSize:R(H),lineHeight:te,...t===Vb?{letterSpacing:`${Mq(X/H)}em`}:{},...se,...y}),O={h1:P(i,96,1.167,-1.5),h2:P(i,60,1.2,-.5),h3:P(o,48,1.167,0),h4:P(o,34,1.235,.25),h5:P(o,24,1.334,0),h6:P(u,20,1.6,.15),subtitle1:P(o,16,1.75,.15),subtitle2:P(u,14,1.57,.1),body1:P(o,16,1.5,.15),body2:P(o,14,1.43,.15),button:P(u,14,1.75,.4,Ub),caption:P(o,12,1.66,.4),overline:P(o,12,2.66,1,Ub),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mo({htmlFontSize:p,pxToRem:R,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:f,...O},E,{clone:!1})}const Vq=.2,Fq=.14,Bq=.12;function Fn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Vq})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Fq})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Bq})`].join(",")}const qq=["none",Fn(0,2,1,-1,0,1,1,0,0,1,3,0),Fn(0,3,1,-2,0,2,2,0,0,1,5,0),Fn(0,3,3,-2,0,3,4,0,0,1,8,0),Fn(0,2,4,-1,0,4,5,0,0,1,10,0),Fn(0,3,5,-1,0,5,8,0,0,1,14,0),Fn(0,3,5,-1,0,6,10,0,0,1,18,0),Fn(0,4,5,-2,0,7,10,1,0,2,16,1),Fn(0,5,5,-3,0,8,10,1,0,3,14,2),Fn(0,5,6,-3,0,9,12,1,0,3,16,2),Fn(0,6,6,-3,0,10,14,1,0,4,18,3),Fn(0,6,7,-4,0,11,15,1,0,4,20,3),Fn(0,7,8,-4,0,12,17,2,0,5,22,4),Fn(0,7,8,-4,0,13,19,2,0,5,24,4),Fn(0,7,9,-4,0,14,21,2,0,5,26,4),Fn(0,8,9,-5,0,15,22,2,0,6,28,5),Fn(0,8,10,-5,0,16,24,2,0,6,30,5),Fn(0,8,11,-5,0,17,26,2,0,6,32,5),Fn(0,9,11,-5,0,18,28,2,0,7,34,6),Fn(0,9,12,-6,0,19,29,2,0,7,36,6),Fn(0,10,13,-6,0,20,31,3,0,8,38,7),Fn(0,10,13,-6,0,21,33,3,0,8,40,7),Fn(0,10,14,-6,0,22,35,3,0,8,42,7),Fn(0,11,14,-7,0,23,36,3,0,9,44,8),Fn(0,11,15,-7,0,24,38,3,0,9,46,8)],jq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$q={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Fb(n){return`${Math.round(n)}ms`}function zq(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Hq(n){const e={...jq,...n.easing},t={...$q,...n.duration};return{getAutoHeightDuration:zq,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:f=e.easeInOut,delay:p=0,...y}=o;return(Array.isArray(i)?i:[i]).map(v=>`${v} ${typeof u=="string"?u:Fb(u)} ${f} ${typeof p=="string"?p:Fb(p)}`).join(",")},...n,easing:e,duration:t}}const Wq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Gq(n){return cu(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function sR(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,f]=i[o];!Gq(f)||u.startsWith("unstable_")?delete r[u]:cu(f)&&(r[u]={...f},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Kv(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:f={},shape:p,...y}=n;if(n.vars)throw new Error(xh(20));const v=SE(o),E=Zx(n);let A=mo(E,{mixins:Dq(E.breakpoints,r),palette:v,shadows:qq.slice(),typography:Uq(v,f),transitions:Hq(u),zIndex:{...Wq}});return A=mo(A,y),A=e.reduce((R,P)=>mo(R,P),A),A.unstable_sxConfig={...d_,...y==null?void 0:y.unstable_sxConfig},A.unstable_sx=function(P){return Bd({sx:P,theme:this})},A.toRuntimeSource=sR,A}function Kq(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const Jq=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=Kq(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function oR(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function aR(n){return n==="dark"?Jq:[]}function Qq(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=SE(e);return{palette:o,opacity:{...oR(o.mode),...t},overlays:r||aR(o.mode),...i}}function Xq(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Yq=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Zq=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return Yq(n.cssVarPrefix).forEach(f=>{u[f]=t[f],delete t[f]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function e7(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ee(n,e,t){!n[e]&&t&&(n[e]=t)}function gg(n){return typeof n!="string"||!n.startsWith("hsl")?n:nR(n)}function uu(n,e){`${e}Channel`in n||(n[`${e}Channel`]=pg(gg(n[e])))}function t7(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const fl=n=>{try{return n()}catch{}},n7=(n="mui")=>Eq(n);function W1(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=Qq({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=Kv({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...oR(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||aR(i)},u}function r7(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=Xq,colorSchemeSelector:f=t.light&&t.dark?"media":void 0,rootSelector:p=":root",...y}=n,v=Object.keys(t)[0],E=r||(t.light&&v!=="light"?"light":v),A=n7(o),{[E]:R,light:P,dark:O,...D}=t,H={...D};let te=R;if((E==="dark"&&!("dark"in t)||E==="light"&&!("light"in t))&&(te=!0),!te)throw new Error(xh(21,E));const X=W1(H,te,y,E);P&&!H.light&&W1(H,P,void 0,"light"),O&&!H.dark&&W1(H,O,void 0,"dark");let se={defaultColorScheme:E,...X,cssVarPrefix:o,colorSchemeSelector:f,rootSelector:p,getCssVar:A,colorSchemes:H,font:{...Lq(X.typography),...X.font},spacing:t7(y.spacing)};Object.keys(se.colorSchemes).forEach(z=>{const C=se.colorSchemes[z].palette,x=B=>{const k=B.split("-"),Se=k[1],Ae=k[2];return A(B,C[Se][Ae])};if(C.mode==="light"&&(Ee(C.common,"background","#fff"),Ee(C.common,"onBackground","#000")),C.mode==="dark"&&(Ee(C.common,"background","#000"),Ee(C.common,"onBackground","#fff")),e7(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){Ee(C.Alert,"errorColor",En(C.error.light,.6)),Ee(C.Alert,"infoColor",En(C.info.light,.6)),Ee(C.Alert,"successColor",En(C.success.light,.6)),Ee(C.Alert,"warningColor",En(C.warning.light,.6)),Ee(C.Alert,"errorFilledBg",x("palette-error-main")),Ee(C.Alert,"infoFilledBg",x("palette-info-main")),Ee(C.Alert,"successFilledBg",x("palette-success-main")),Ee(C.Alert,"warningFilledBg",x("palette-warning-main")),Ee(C.Alert,"errorFilledColor",fl(()=>C.getContrastText(C.error.main))),Ee(C.Alert,"infoFilledColor",fl(()=>C.getContrastText(C.info.main))),Ee(C.Alert,"successFilledColor",fl(()=>C.getContrastText(C.success.main))),Ee(C.Alert,"warningFilledColor",fl(()=>C.getContrastText(C.warning.main))),Ee(C.Alert,"errorStandardBg",Tn(C.error.light,.9)),Ee(C.Alert,"infoStandardBg",Tn(C.info.light,.9)),Ee(C.Alert,"successStandardBg",Tn(C.success.light,.9)),Ee(C.Alert,"warningStandardBg",Tn(C.warning.light,.9)),Ee(C.Alert,"errorIconColor",x("palette-error-main")),Ee(C.Alert,"infoIconColor",x("palette-info-main")),Ee(C.Alert,"successIconColor",x("palette-success-main")),Ee(C.Alert,"warningIconColor",x("palette-warning-main")),Ee(C.AppBar,"defaultBg",x("palette-grey-100")),Ee(C.Avatar,"defaultBg",x("palette-grey-400")),Ee(C.Button,"inheritContainedBg",x("palette-grey-300")),Ee(C.Button,"inheritContainedHoverBg",x("palette-grey-A100")),Ee(C.Chip,"defaultBorder",x("palette-grey-400")),Ee(C.Chip,"defaultAvatarColor",x("palette-grey-700")),Ee(C.Chip,"defaultIconColor",x("palette-grey-700")),Ee(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ee(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ee(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ee(C.LinearProgress,"primaryBg",Tn(C.primary.main,.62)),Ee(C.LinearProgress,"secondaryBg",Tn(C.secondary.main,.62)),Ee(C.LinearProgress,"errorBg",Tn(C.error.main,.62)),Ee(C.LinearProgress,"infoBg",Tn(C.info.main,.62)),Ee(C.LinearProgress,"successBg",Tn(C.success.main,.62)),Ee(C.LinearProgress,"warningBg",Tn(C.warning.main,.62)),Ee(C.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),Ee(C.Slider,"primaryTrack",Tn(C.primary.main,.62)),Ee(C.Slider,"secondaryTrack",Tn(C.secondary.main,.62)),Ee(C.Slider,"errorTrack",Tn(C.error.main,.62)),Ee(C.Slider,"infoTrack",Tn(C.info.main,.62)),Ee(C.Slider,"successTrack",Tn(C.success.main,.62)),Ee(C.Slider,"warningTrack",Tn(C.warning.main,.62));const B=Uy(C.background.default,.8);Ee(C.SnackbarContent,"bg",B),Ee(C.SnackbarContent,"color",fl(()=>C.getContrastText(B))),Ee(C.SpeedDialAction,"fabHoverBg",Uy(C.background.paper,.15)),Ee(C.StepConnector,"border",x("palette-grey-400")),Ee(C.StepContent,"border",x("palette-grey-400")),Ee(C.Switch,"defaultColor",x("palette-common-white")),Ee(C.Switch,"defaultDisabledColor",x("palette-grey-100")),Ee(C.Switch,"primaryDisabledColor",Tn(C.primary.main,.62)),Ee(C.Switch,"secondaryDisabledColor",Tn(C.secondary.main,.62)),Ee(C.Switch,"errorDisabledColor",Tn(C.error.main,.62)),Ee(C.Switch,"infoDisabledColor",Tn(C.info.main,.62)),Ee(C.Switch,"successDisabledColor",Tn(C.success.main,.62)),Ee(C.Switch,"warningDisabledColor",Tn(C.warning.main,.62)),Ee(C.TableCell,"border",Tn(My(C.divider,1),.88)),Ee(C.Tooltip,"bg",My(C.grey[700],.92))}if(C.mode==="dark"){Ee(C.Alert,"errorColor",Tn(C.error.light,.6)),Ee(C.Alert,"infoColor",Tn(C.info.light,.6)),Ee(C.Alert,"successColor",Tn(C.success.light,.6)),Ee(C.Alert,"warningColor",Tn(C.warning.light,.6)),Ee(C.Alert,"errorFilledBg",x("palette-error-dark")),Ee(C.Alert,"infoFilledBg",x("palette-info-dark")),Ee(C.Alert,"successFilledBg",x("palette-success-dark")),Ee(C.Alert,"warningFilledBg",x("palette-warning-dark")),Ee(C.Alert,"errorFilledColor",fl(()=>C.getContrastText(C.error.dark))),Ee(C.Alert,"infoFilledColor",fl(()=>C.getContrastText(C.info.dark))),Ee(C.Alert,"successFilledColor",fl(()=>C.getContrastText(C.success.dark))),Ee(C.Alert,"warningFilledColor",fl(()=>C.getContrastText(C.warning.dark))),Ee(C.Alert,"errorStandardBg",En(C.error.light,.9)),Ee(C.Alert,"infoStandardBg",En(C.info.light,.9)),Ee(C.Alert,"successStandardBg",En(C.success.light,.9)),Ee(C.Alert,"warningStandardBg",En(C.warning.light,.9)),Ee(C.Alert,"errorIconColor",x("palette-error-main")),Ee(C.Alert,"infoIconColor",x("palette-info-main")),Ee(C.Alert,"successIconColor",x("palette-success-main")),Ee(C.Alert,"warningIconColor",x("palette-warning-main")),Ee(C.AppBar,"defaultBg",x("palette-grey-900")),Ee(C.AppBar,"darkBg",x("palette-background-paper")),Ee(C.AppBar,"darkColor",x("palette-text-primary")),Ee(C.Avatar,"defaultBg",x("palette-grey-600")),Ee(C.Button,"inheritContainedBg",x("palette-grey-800")),Ee(C.Button,"inheritContainedHoverBg",x("palette-grey-700")),Ee(C.Chip,"defaultBorder",x("palette-grey-700")),Ee(C.Chip,"defaultAvatarColor",x("palette-grey-300")),Ee(C.Chip,"defaultIconColor",x("palette-grey-300")),Ee(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ee(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ee(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ee(C.LinearProgress,"primaryBg",En(C.primary.main,.5)),Ee(C.LinearProgress,"secondaryBg",En(C.secondary.main,.5)),Ee(C.LinearProgress,"errorBg",En(C.error.main,.5)),Ee(C.LinearProgress,"infoBg",En(C.info.main,.5)),Ee(C.LinearProgress,"successBg",En(C.success.main,.5)),Ee(C.LinearProgress,"warningBg",En(C.warning.main,.5)),Ee(C.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),Ee(C.Slider,"primaryTrack",En(C.primary.main,.5)),Ee(C.Slider,"secondaryTrack",En(C.secondary.main,.5)),Ee(C.Slider,"errorTrack",En(C.error.main,.5)),Ee(C.Slider,"infoTrack",En(C.info.main,.5)),Ee(C.Slider,"successTrack",En(C.success.main,.5)),Ee(C.Slider,"warningTrack",En(C.warning.main,.5));const B=Uy(C.background.default,.98);Ee(C.SnackbarContent,"bg",B),Ee(C.SnackbarContent,"color",fl(()=>C.getContrastText(B))),Ee(C.SpeedDialAction,"fabHoverBg",Uy(C.background.paper,.15)),Ee(C.StepConnector,"border",x("palette-grey-600")),Ee(C.StepContent,"border",x("palette-grey-600")),Ee(C.Switch,"defaultColor",x("palette-grey-300")),Ee(C.Switch,"defaultDisabledColor",x("palette-grey-600")),Ee(C.Switch,"primaryDisabledColor",En(C.primary.main,.55)),Ee(C.Switch,"secondaryDisabledColor",En(C.secondary.main,.55)),Ee(C.Switch,"errorDisabledColor",En(C.error.main,.55)),Ee(C.Switch,"infoDisabledColor",En(C.info.main,.55)),Ee(C.Switch,"successDisabledColor",En(C.success.main,.55)),Ee(C.Switch,"warningDisabledColor",En(C.warning.main,.55)),Ee(C.TableCell,"border",En(My(C.divider,1),.68)),Ee(C.Tooltip,"bg",My(C.grey[700],.92))}uu(C.background,"default"),uu(C.background,"paper"),uu(C.common,"background"),uu(C.common,"onBackground"),uu(C,"divider"),Object.keys(C).forEach(B=>{const k=C[B];B!=="tonalOffset"&&k&&typeof k=="object"&&(k.main&&Ee(C[B],"mainChannel",pg(gg(k.main))),k.light&&Ee(C[B],"lightChannel",pg(gg(k.light))),k.dark&&Ee(C[B],"darkChannel",pg(gg(k.dark))),k.contrastText&&Ee(C[B],"contrastTextChannel",pg(gg(k.contrastText))),B==="text"&&(uu(C[B],"primary"),uu(C[B],"secondary")),B==="action"&&(k.active&&uu(C[B],"active"),k.selected&&uu(C[B],"selected")))})}),se=e.reduce((z,C)=>mo(z,C),se);const oe={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:Zq(se)},{vars:me,generateThemeVars:$,generateStyleSheets:q}=bq(se,oe);return se.vars=me,Object.entries(se.colorSchemes[se.defaultColorScheme]).forEach(([z,C])=>{se[z]=C}),se.generateThemeVars=$,se.generateStyleSheets=q,se.generateSpacing=function(){return Yx(y.spacing,gE(this))},se.getColorSchemeSelector=Aq(f),se.spacing=se.generateSpacing(),se.shouldSkipGeneratingVar=u,se.unstable_sxConfig={...d_,...y==null?void 0:y.unstable_sxConfig},se.unstable_sx=function(C){return Bd({sx:C,theme:this})},se.toRuntimeSource=sR,se}function Bb(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:SE({...t===!0?{}:t.palette,mode:e})})}function i7(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,f=o||"light",p=i==null?void 0:i[f],y={...i,...t?{[f]:{...typeof p!="boolean"&&p,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Kv(n,...e);let v=t;"palette"in n||y[f]&&(y[f]!==!0?v=y[f].palette:f==="dark"&&(v={mode:"dark"}));const E=Kv({...n,palette:v},...e);return E.defaultColorScheme=f,E.colorSchemes=y,E.palette.mode==="light"&&(E.colorSchemes.light={...y.light!==!0&&y.light,palette:E.palette},Bb(E,"dark",y.dark)),E.palette.mode==="dark"&&(E.colorSchemes.dark={...y.dark!==!0&&y.dark,palette:E.palette},Bb(E,"light",y.light)),E}return!t&&!("light"in y)&&f==="light"&&(y.light=!0),r7({...u,colorSchemes:y,defaultColorScheme:f,...typeof r!="boolean"&&r},...e)}const s7=i7(),o7="$$material";function a7(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const l7=n=>a7(n)&&n!=="classes",u7=aq({themeId:o7,defaultTheme:s7,rootShouldForwardProp:l7}),c7=wq;function h7(n){return vq(n)}function f7(n){return Ux("MuiSvgIcon",n)}lB("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const d7=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Fd(e)}`,`fontSize${Fd(t)}`]};return iB(i,f7,r)},p7=u7("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Fd(t.color)}`],e[`fontSize${Fd(t.fontSize)}`]]}})(c7(({theme:n})=>{var e,t,r,i,o,u,f,p,y,v,E,A,R,P;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:O=>!O.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((p=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:p.call(f,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((v=(y=n.typography)==null?void 0:y.pxToRem)==null?void 0:v.call(y,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,O])=>O&&O.main).map(([O])=>{var D,H;return{props:{color:O},style:{color:(H=(D=(n.vars??n).palette)==null?void 0:D[O])==null?void 0:H.main}}}),{props:{color:"action"},style:{color:(A=(E=(n.vars??n).palette)==null?void 0:E.action)==null?void 0:A.active}},{props:{color:"disabled"},style:{color:(P=(R=(n.vars??n).palette)==null?void 0:R.action)==null?void 0:P.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Jv=Be.forwardRef(function(e,t){const r=h7({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:f="svg",fontSize:p="medium",htmlColor:y,inheritViewBox:v=!1,titleAccess:E,viewBox:A="0 0 24 24",...R}=r,P=Be.isValidElement(i)&&i.type==="svg",O={...r,color:u,component:f,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:A,hasSvgAsChild:P},D={};v||(D.viewBox=A);const H=d7(O);return J.jsxs(p7,{as:f,className:cB(H.root,o),focusable:"false",color:y,"aria-hidden":E?void 0:!0,role:E?"img":void 0,ref:t,...D,...R,...P&&i.props,ownerState:O,children:[P?i.props.children:i,E?J.jsx("title",{children:E}):null]})});Jv.muiName="SvgIcon";function dn(n,e){function t(r,i){return J.jsx(Jv,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=Jv.muiName,Be.memo(Be.forwardRef(t))}const bE=dn(J.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),g7=dn(J.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),m7=dn(J.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),y7=dn(J.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),_7=dn(J.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),Qv=dn(J.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),v7=dn(J.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),lR=dn(J.jsx("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5z"}),"DescriptionOutlined"),Xv=dn(J.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),w7=dn(J.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),E7=dn(J.jsx("path",{d:"M7 6h10l-5.01 6.3zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAltOutlined"),T7=dn(J.jsx("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter"),S7=dn(J.jsx("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft"),b7=dn(J.jsx("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight"),A7=dn(J.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),I7=dn(J.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),C7=dn(J.jsx("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"}),"FormatStrikethrough"),x7=dn(J.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"}),"FormatUnderlined"),R7=dn(J.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google"),k7=dn(J.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock"),N7=dn(J.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),P7=dn(J.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public"),O7=dn(J.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),L7=dn(J.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),qb=dn(J.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),D7=dn(J.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),M7=dn(J.jsx("path",{d:"M2.5 4v3h5v12h3V7h5V4zm19 5h-9v3h3v7h3v-7h3z"}),"TextFields"),jb=dn(J.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),U7=dn(J.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");function V7({note:n}){const[t,r]=Be.useState(0),[i,o]=Be.useState(!1),[u,f]=Be.useState(n.title),[p,y]=Be.useState(!1),[v,E]=Be.useState(""),[A,R]=Be.useState(!1),[P,O]=Be.useState(null);function D(){n==null||n.setTitle(u),o(!1)}async function H(){if(v&&!A){R(!0);const oe=await n.search(v);O(oe),R(!1)}}function te(){O(null)}function X(){P&&navigator.clipboard.writeText(P)}function se(oe,me){return oe.length>me?oe.substring(0,me)+"...":oe}return Be.useEffect(()=>{const oe=me=>{me==="noteUpdate"&&r($=>$+1),me==="save"&&y(!!n.id)};return y(!!n.id),n.addListener(oe),()=>n.removeListener(oe)},[n]),Be.useEffect(()=>{if(i){const oe=document.querySelector(".sidebar-details input.title");oe&&(oe.focus(),oe.addEventListener("blur",()=>o(!1)))}},[i]),J.jsxs("div",{className:"sidebar-details",children:[J.jsxs("div",{className:"sidebar-header",children:[J.jsx(lR,{fontSize:"large"}),J.jsxs("div",{className:"text",children:[!i&&J.jsx("h2",{onClick:()=>o(!0),children:se(n.title,18)}),i&&J.jsx("input",{className:"title",defaultValue:u,onChange:oe=>f(oe.target.value),onBlur:D,onKeyDown:oe=>oe.key==="Enter"&&D()}),J.jsx("p",{children:n.description})]})]}),J.jsxs("div",{className:"sidebar-actions",children:[(A||P)&&J.jsx("div",{className:"search-result",children:A?J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"btn-row search-actions",children:[J.jsx("b",{children:"NoteFlow AI"}),J.jsx("span",{style:{flexGrow:1}})]}),J.jsx("span",{className:"skeleton"}),J.jsx("span",{className:"skeleton",style:{animationDelay:"0.2s"}}),J.jsx("span",{className:"skeleton",style:{animationDelay:"0.4s",width:"50%"}})]}):J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"btn-row search-actions",children:[J.jsx("b",{children:"NoteFlow AI"}),J.jsx("span",{style:{flexGrow:1}}),J.jsx("button",{onClick:X,children:J.jsx(v7,{})}),J.jsx("button",{onClick:te,children:J.jsx(Qv,{})})]}),J.jsx("p",{children:P})]})}),!p&&J.jsxs("div",{className:"search disabled",children:[J.jsx("span",{children:"Save your note to search it"}),J.jsx("button",{children:J.jsx(qb,{})})]}),p&&J.jsxs("div",{className:"search "+(A?"disabled":""),children:[J.jsx("input",{type:"text",defaultValue:v,onChange:oe=>E(oe.target.value),onKeyUp:oe=>oe.key==="Enter"&&H(),placeholder:"Ask about your note..."}),J.jsx("button",{onClick:H,disabled:A,children:J.jsx(qb,{})})]}),J.jsxs("div",{className:"btn-row",children:[J.jsx("button",{children:J.jsx(g7,{})}),J.jsx("button",{children:J.jsx(D7,{})}),J.jsx("button",{children:J.jsx(O7,{})})]})]})]})}function F7({setId:n,api:e}){const[t,r]=Be.useState(null),[i,o]=Be.useState(null),[u,f]=Be.useState(!1);async function p(){if(u)return;f(!0);const y=await e.getNotes(void 0,i??void 0);console.log("Fetched notes:",y),y&&(r([...t||[],...y.results].filter((v,E,A)=>A.findIndex(R=>R.id===v.id)===E)),o(y.cursor)),f(!1)}return Be.useEffect(()=>{p()},[]),J.jsxs("div",{className:"note-cards",children:[J.jsxs("div",{className:"note-filters",children:[J.jsxs("div",{className:"search",children:[J.jsx("input",{type:"text",placeholder:"Search notes"}),J.jsx(L7,{})]}),J.jsx("button",{style:{flexGrow:0},children:J.jsx(E7,{})}),J.jsx("button",{style:{flexGrow:0},onClick:()=>n(null),children:J.jsx(bE,{})})]}),J.jsxs("div",{className:"note-list",children:[(t===null||u)&&J.jsx("div",{children:"Loading..."}),t!==null&&!u&&t.map(y=>J.jsxs("div",{className:`note-card ${y.id===((y==null?void 0:y.id)||null)?"selected":""}`,onClick:()=>n(y.id),children:[J.jsx(lR,{}),J.jsxs("div",{className:"text",children:[J.jsx("h3",{children:y.title}),J.jsx("p",{children:y.description})]})]},y.id))]})]})}function B7({note:n,setId:e,api:t,collapsed:r}){return J.jsxs("div",{className:"sidebar",style:{width:r?"0":"350px"},children:[n&&J.jsx(V7,{note:n}),!n&&J.jsx("div",{className:"sidebar-details skeleton"}),J.jsx(F7,{setId:e,api:t})]})}function q7({note:n}){const[e,t]=Be.useState(0),[r,i]=Be.useState(null);async function o(){const y=await n.generateFlashcards();y!==null&&i(y)}Be.useEffect(()=>{o()},[n]);function u(){r!==null&&t(y=>(y+1)%r.length)}function f(){r!==null&&t(y=>(y-1+r.length)%r.length)}const p=()=>{const y=document.getElementById("card");y&&y.classList.toggle("flip")};return r===null?J.jsx("p",{children:"Loading..."}):J.jsxs("div",{className:"flashcards",children:[J.jsxs("div",{className:"card",id:"card",onClick:p,children:[J.jsx("div",{className:"front",children:J.jsx("h2",{children:r[e].term})}),J.jsx("div",{className:"back",children:J.jsx("h2",{children:r[e].definition})})]}),J.jsxs("div",{className:"nav-content",children:[J.jsx("button",{onClick:f,children:J.jsx(y7,{})}),J.jsxs("h2",{children:[e+1,"/",r.length]}),J.jsx("button",{onClick:u,children:J.jsx(_7,{})})]})]})}function j7({note:n}){const[e,t]=Be.useState(null);async function r(){const i=await n.generateSummary();i!==null&&t(i)}return Be.useEffect(()=>{r()},[n]),e===null?J.jsx("p",{children:"Loading..."}):J.jsx("div",{className:"summary",children:e&&J.jsx("p",{children:e})})}function $7({note:n,setStudyShown:e}){const[t,r]=Be.useState(null);return J.jsx("div",{className:"modal",onClick:()=>e(!1),children:J.jsxs("div",{className:"study modal-inner",onClick:i=>i.stopPropagation(),children:[t===null&&J.jsxs(J.Fragment,{children:[J.jsx("h2",{children:"Choose a study method"}),J.jsxs("div",{className:"btn-row",children:[J.jsx("button",{onClick:()=>r("flashcards"),children:"Flashcards"}),J.jsx("button",{onClick:()=>r("summary"),children:"Summary"})]})]}),t==="flashcards"&&J.jsx(q7,{note:n}),t==="summary"&&J.jsx(j7,{note:n})]})})}function z7({note:n,setShareShown:e}){const[t,r]=Be.useState(Object.keys(n.permissions.user).map(X=>({email:X,name:n.permissions.user[X].name,permission:n.permissions.user[X].permission}))),[i,o]=Be.useState(n.permissions.global),[u,f]=Be.useState(""),p=Be.useRef(null),[y,v]=Be.useState(!1),[E,A]=Be.useState(null),[R,P]=Be.useState({successes:[],failures:[]});function O(){var se;const X=(se=p.current)==null?void 0:se.value.trim();X&&X.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(t.map(oe=>oe.email).includes(X)?f("Already added "+X):r([...t,{email:X,name:X,permission:"edit"}]),p.current&&(p.current.value="")):f("Invalid email address")}function D(X){u&&f(""),(X.key==="Enter"||X.key==="Space")&&O()}function H(X,se,oe){if(oe.target.value==="remove"){const $=t.filter((q,z)=>z!==se);r($);return}else X.permission=oe.target.value;const me=[...t];me[se]=X,r(me)}async function te(){v(!0);const X={};t.forEach(oe=>{X[oe.email]=oe.permission});const se=await n.share(X,i);v(!1),se?(n.permissions=se.permissions,A(!0),P({successes:se.successes,failures:se.failures})):A(!1)}return E===!0?J.jsx("div",{className:"modal",onClick:()=>e(!1),children:J.jsxs("div",{className:"modal-inner",onClick:X=>X.stopPropagation(),children:[J.jsxs("div",{className:"header-cont",children:[J.jsxs("h2",{children:['Share "',n.title,'"']}),J.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:J.jsx(Qv,{})})]}),J.jsxs("div",{className:"btn-row",children:[J.jsx(m7,{}),J.jsxs("span",{children:["Shared with ",R.successes.length," account(s)."]})]}),R.failures.length>0&&J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"btn-row",children:[J.jsx(U7,{}),J.jsxs("p",{children:["Could not share to ",R.failures.length," email(s). Check if they have an account on NoteFlow."]})]}),J.jsx("div",{className:"email-list",children:R.failures.map(X=>J.jsxs("div",{className:"email",children:[J.jsx("span",{children:X}),J.jsx("b",{children:"Could not share"})]},X))})]})]})}):J.jsx("div",{className:"modal",onClick:()=>e(!1),children:J.jsxs("div",{className:"modal-inner",onClick:X=>X.stopPropagation(),children:[J.jsxs("div",{className:"header-cont",children:[J.jsxs("h2",{children:['Share "',n.title,'"']}),J.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:J.jsx(Qv,{})})]}),J.jsx("label",{htmlFor:"email-input",children:"Enter email addresses"}),J.jsxs("div",{className:"btn-row",children:[J.jsx("input",{ref:p,id:"email-input",placeholder:"john@mail.com",onKeyUp:D,className:"email-input"}),J.jsx("button",{style:{flexGrow:0,width:"auto"},onClick:O,children:J.jsx(bE,{})})]}),J.jsx("p",{style:{height:"1em"},className:"error",children:u}),J.jsx("hr",{}),J.jsxs("div",{className:"email-list",children:[t.map((X,se)=>J.jsxs("div",{className:"email",children:[J.jsx("span",{children:X.name}),J.jsxs("select",{onChange:H.bind(null,X,se),children:[J.jsx("option",{value:"edit",children:"Edit"}),J.jsx("option",{value:"view",children:"View"}),J.jsx("option",{value:"remove",children:"Remove"})]}),X.permission==="edit"&&J.jsx(Xv,{}),X.permission==="view"&&J.jsx(jb,{})]},X.email)),t.length===0&&J.jsx("p",{style:{margin:"8px",fontStyle:"italic"},children:"Enter an email to share with a specific user..."})]}),J.jsxs("div",{className:"email",children:[J.jsx(P7,{}),J.jsx("span",{children:"Anyone with the link"}),J.jsxs("select",{defaultValue:(i==null?void 0:i.toString())??"null",onChange:X=>o(X.target.value==="null"?null:X.target.value),children:[J.jsx("option",{value:"edit",children:"Edit"}),J.jsx("option",{value:"view",children:"View"}),J.jsx("option",{value:"null",children:"No access"})]}),i==="edit"&&J.jsx(Xv,{}),i==="view"&&J.jsx(jb,{}),i===null&&J.jsx(k7,{})]}),E===!1&&J.jsx("p",{className:"error",children:"Failed to share note. Try again later."}),J.jsx("div",{className:"cont",children:J.jsx("button",{id:"submitBtn",onClick:te,disabled:y,children:"Save"})})]})})}function H7({quill:n}){const[e,t]=Be.useState([]),[r,i]=Be.useState("left");Be.useEffect(()=>{if(n){const f=()=>{if(n.getSelection()===null){t([]),i("left");return}const p=n.getFormat();t(Object.keys(p)),p.align?i(p.align):i("left")};return n.on("editor-change",f),n.container.addEventListener("keydown",f),()=>{n.off("editor-change",f),n.container.removeEventListener("keydown",f)}}},[n]);function o(f){if(n){const p=n.getSelection();n.getFormat(p??void 0)[f]?(n.format(f,!1),t(e.filter(v=>v!==f))):(n.format(f,!0),t([...e,f]))}}function u(f){n&&(f==="left"?n.format("align",!1):n.format("align",f))}return J.jsxs("div",{className:"tools text",children:[J.jsx("div",{className:"tool-label",children:J.jsx(M7,{})}),J.jsxs("div",{className:"group",children:[J.jsx("button",{onClick:()=>o("bold"),className:"format "+(e.includes("bold")?"active":""),children:J.jsx(A7,{})}),J.jsx("button",{onClick:()=>o("italic"),className:"format "+(e.includes("italic")?"active":""),children:J.jsx(I7,{})}),J.jsx("button",{onClick:()=>o("underline"),className:"format "+(e.includes("underline")?"active":""),children:J.jsx(x7,{})}),J.jsx("button",{onClick:()=>o("strike"),className:"format "+(e.includes("strike")?"active":""),children:J.jsx(C7,{})})]}),J.jsxs("div",{className:"group",children:[J.jsx("button",{onClick:()=>u("left"),className:"format "+(r==="left"?"active":""),children:J.jsx(S7,{})}),J.jsx("button",{onClick:()=>u("center"),className:"format "+(r==="center"?"active":""),children:J.jsx(T7,{})}),J.jsx("button",{onClick:()=>u("right"),className:"format "+(r==="right"?"active":""),children:J.jsx(b7,{})})]})]})}function W7({note:n,quill:e,setStudyShown:t,setShareShown:r,toggleSidebarCollapsed:i}){const[o,u]=Be.useState(!1),[f,p]=Be.useState(!1);async function y(){u(!0),await n.save(),u(!1),p(!0)}Be.useEffect(()=>{n.id?p(!0):p(!1)},[n.id]);function v(){if(!e)return;const E=document.createElement("input");E.type="file",E.accept="image/*",E.click(),E.onchange=async()=>{var P,O;const A=(P=E.files)==null?void 0:P[0];if(!A||!n||!e)return;const R=await n.uploadMedia(A);R!==null?e.insertEmbed(((O=e.getSelection())==null?void 0:O.index)??0,"image",R):alert("Failed to upload media. Try again later."),E.remove()}}return J.jsxs("div",{className:"toolbar",children:[J.jsx("button",{className:"transparentBtn",onClick:i,children:J.jsx(N7,{})}),J.jsx("hr",{}),J.jsx("p",{children:n.documentRef?"Connected":"Disconnected"}),e&&J.jsx(H7,{quill:e}),J.jsx("div",{className:"tools scribble",children:J.jsx("button",{children:J.jsx(Xv,{})})}),J.jsx("div",{className:"tools media",children:J.jsx("button",{onClick:v,children:J.jsx(bE,{})})}),J.jsx("div",{style:{flexGrow:"1"}}),J.jsxs("div",{className:"tools-share",children:[f&&J.jsx("button",{onClick:()=>r(!0),children:"Share"}),J.jsx("button",{onClick:()=>t(!0),children:"Study"}),J.jsx("button",{onClick:y,disabled:o,children:"Save"})]})]})}var G1={exports:{}},$b;function G7(){return $b||($b=1,function(n){var e=function(t){var r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(ee,Q,j){ee[Q]=j.value},u,f=typeof Symbol=="function"?Symbol:{},p=f.iterator||"@@iterator",y=f.asyncIterator||"@@asyncIterator",v=f.toStringTag||"@@toStringTag";function E(ee,Q,j){return Object.defineProperty(ee,Q,{value:j,enumerable:!0,configurable:!0,writable:!0}),ee[Q]}try{E({},"")}catch{E=function(Q,j,ne){return Q[j]=ne}}function A(ee,Q,j,ne){var pe=Q&&Q.prototype instanceof X?Q:X,ke=Object.create(pe.prototype),Ce=new ve(ne||[]);return o(ke,"_invoke",{value:B(ee,j,Ce)}),ke}t.wrap=A;function R(ee,Q,j){try{return{type:"normal",arg:ee.call(Q,j)}}catch(ne){return{type:"throw",arg:ne}}}var P="suspendedStart",O="suspendedYield",D="executing",H="completed",te={};function X(){}function se(){}function oe(){}var me={};E(me,p,function(){return this});var $=Object.getPrototypeOf,q=$&&$($(Te([])));q&&q!==r&&i.call(q,p)&&(me=q);var z=oe.prototype=X.prototype=Object.create(me);se.prototype=oe,o(z,"constructor",{value:oe,configurable:!0}),o(oe,"constructor",{value:se,configurable:!0}),se.displayName=E(oe,v,"GeneratorFunction");function C(ee){["next","throw","return"].forEach(function(Q){E(ee,Q,function(j){return this._invoke(Q,j)})})}t.isGeneratorFunction=function(ee){var Q=typeof ee=="function"&&ee.constructor;return Q?Q===se||(Q.displayName||Q.name)==="GeneratorFunction":!1},t.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,oe):(ee.__proto__=oe,E(ee,v,"GeneratorFunction")),ee.prototype=Object.create(z),ee},t.awrap=function(ee){return{__await:ee}};function x(ee,Q){function j(ke,Ce,qe,He){var Ue=R(ee[ke],ee,Ce);if(Ue.type==="throw")He(Ue.arg);else{var Ke=Ue.arg,rt=Ke.value;return rt&&typeof rt=="object"&&i.call(rt,"__await")?Q.resolve(rt.__await).then(function(ot){j("next",ot,qe,He)},function(ot){j("throw",ot,qe,He)}):Q.resolve(rt).then(function(ot){Ke.value=ot,qe(Ke)},function(ot){return j("throw",ot,qe,He)})}}var ne;function pe(ke,Ce){function qe(){return new Q(function(He,Ue){j(ke,Ce,He,Ue)})}return ne=ne?ne.then(qe,qe):qe()}o(this,"_invoke",{value:pe})}C(x.prototype),E(x.prototype,y,function(){return this}),t.AsyncIterator=x,t.async=function(ee,Q,j,ne,pe){pe===void 0&&(pe=Promise);var ke=new x(A(ee,Q,j,ne),pe);return t.isGeneratorFunction(Q)?ke:ke.next().then(function(Ce){return Ce.done?Ce.value:ke.next()})};function B(ee,Q,j){var ne=P;return function(ke,Ce){if(ne===D)throw new Error("Generator is already running");if(ne===H){if(ke==="throw")throw Ce;return he()}for(j.method=ke,j.arg=Ce;;){var qe=j.delegate;if(qe){var He=k(qe,j);if(He){if(He===te)continue;return He}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(ne===P)throw ne=H,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);ne=D;var Ue=R(ee,Q,j);if(Ue.type==="normal"){if(ne=j.done?H:O,Ue.arg===te)continue;return{value:Ue.arg,done:j.done}}else Ue.type==="throw"&&(ne=H,j.method="throw",j.arg=Ue.arg)}}}function k(ee,Q){var j=Q.method,ne=ee.iterator[j];if(ne===u)return Q.delegate=null,j==="throw"&&ee.iterator.return&&(Q.method="return",Q.arg=u,k(ee,Q),Q.method==="throw")||j!=="return"&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+j+"' method")),te;var pe=R(ne,ee.iterator,Q.arg);if(pe.type==="throw")return Q.method="throw",Q.arg=pe.arg,Q.delegate=null,te;var ke=pe.arg;if(!ke)return Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,te;if(ke.done)Q[ee.resultName]=ke.value,Q.next=ee.nextLoc,Q.method!=="return"&&(Q.method="next",Q.arg=u);else return ke;return Q.delegate=null,te}C(z),E(z,v,"Generator"),E(z,p,function(){return this}),E(z,"toString",function(){return"[object Generator]"});function Se(ee){var Q={tryLoc:ee[0]};1 in ee&&(Q.catchLoc=ee[1]),2 in ee&&(Q.finallyLoc=ee[2],Q.afterLoc=ee[3]),this.tryEntries.push(Q)}function Ae(ee){var Q=ee.completion||{};Q.type="normal",delete Q.arg,ee.completion=Q}function ve(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(Se,this),this.reset(!0)}t.keys=function(ee){var Q=Object(ee),j=[];for(var ne in Q)j.push(ne);return j.reverse(),function pe(){for(;j.length;){var ke=j.pop();if(ke in Q)return pe.value=ke,pe.done=!1,pe}return pe.done=!0,pe}};function Te(ee){if(ee){var Q=ee[p];if(Q)return Q.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var j=-1,ne=function pe(){for(;++j<ee.length;)if(i.call(ee,j))return pe.value=ee[j],pe.done=!1,pe;return pe.value=u,pe.done=!0,pe};return ne.next=ne}}return{next:he}}t.values=Te;function he(){return{value:u,done:!0}}return ve.prototype={constructor:ve,reset:function(ee){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(Ae),!ee)for(var Q in this)Q.charAt(0)==="t"&&i.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=u)},stop:function(){this.done=!0;var ee=this.tryEntries[0],Q=ee.completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(ee){if(this.done)throw ee;var Q=this;function j(He,Ue){return ke.type="throw",ke.arg=ee,Q.next=He,Ue&&(Q.method="next",Q.arg=u),!!Ue}for(var ne=this.tryEntries.length-1;ne>=0;--ne){var pe=this.tryEntries[ne],ke=pe.completion;if(pe.tryLoc==="root")return j("end");if(pe.tryLoc<=this.prev){var Ce=i.call(pe,"catchLoc"),qe=i.call(pe,"finallyLoc");if(Ce&&qe){if(this.prev<pe.catchLoc)return j(pe.catchLoc,!0);if(this.prev<pe.finallyLoc)return j(pe.finallyLoc)}else if(Ce){if(this.prev<pe.catchLoc)return j(pe.catchLoc,!0)}else if(qe){if(this.prev<pe.finallyLoc)return j(pe.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ee,Q){for(var j=this.tryEntries.length-1;j>=0;--j){var ne=this.tryEntries[j];if(ne.tryLoc<=this.prev&&i.call(ne,"finallyLoc")&&this.prev<ne.finallyLoc){var pe=ne;break}}pe&&(ee==="break"||ee==="continue")&&pe.tryLoc<=Q&&Q<=pe.finallyLoc&&(pe=null);var ke=pe?pe.completion:{};return ke.type=ee,ke.arg=Q,pe?(this.method="next",this.next=pe.finallyLoc,te):this.complete(ke)},complete:function(ee,Q){if(ee.type==="throw")throw ee.arg;return ee.type==="break"||ee.type==="continue"?this.next=ee.arg:ee.type==="return"?(this.rval=this.arg=ee.arg,this.method="return",this.next="end"):ee.type==="normal"&&Q&&(this.next=Q),te},finish:function(ee){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var j=this.tryEntries[Q];if(j.finallyLoc===ee)return this.complete(j.completion,j.afterLoc),Ae(j),te}},catch:function(ee){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var j=this.tryEntries[Q];if(j.tryLoc===ee){var ne=j.completion;if(ne.type==="throw"){var pe=ne.arg;Ae(j)}return pe}}throw new Error("illegal catch attempt")},delegateYield:function(ee,Q,j){return this.delegate={iterator:Te(ee),resultName:Q,nextLoc:j},this.method==="next"&&(this.arg=u),te}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(G1)),G1.exports}G7();const K7=n=>({applyHtmlTags:["h1","h2","h3","h4","h5","h6","header"].map(e=>e.toLowerCase())});class ds{_getCustomPatternOrDefault(e,t,r){return e.tags&&e.tags[t]&&e.tags[t].pattern?e.tags[t].pattern:r}_getActiveTagsWithoutIgnore(e,t){return Array.isArray(t)?e.reduce((r,i)=>(t.includes(i)||r.push(i.toLowerCase()),r),[]):e}}class zb extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="header",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(#){1,6}\s/g),this.getAction.bind(this),this._meta=K7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length||!this.activeTags.find(y=>y==="header")){i(!1);return}const u=o[0].length,[f]=this.quillJS.getLine(t.index),p=this.quillJS.getIndex(f);if(!this.activeTags.includes(`h${u-1}`))return i(!1);setTimeout(()=>{this.quillJS.formatLine(p,0,"header",u-1),this.quillJS.deleteText(p,u),i(!0)},0)})}}}const uR=n=>({applyHtmlTags:["blockquote"].map(e=>e.toLowerCase())});let J7=class extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="blockquote",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(>)\s/g),this.getAction.bind(this),this._meta=uR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const u=o[0]||"";setTimeout(()=>{this.quillJS.formatText(t.index,o.input.length-1,"blockquote",!0),this.quillJS.deleteText(t.index-u.length,u.length),i(!0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,[,t]=this.quillJS.getLine(e);t===0&&this.quillJS.format("blockquote",!1)},0)}}}};class Q7 extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="blockquote",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,99}(>)\s/g),this.getAction.bind(this),this._meta=uR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const u=o[0]||"";setTimeout(()=>{const f=t.index-1;this.quillJS.deleteText(f,2),setTimeout(()=>{this.quillJS.formatLine(f,u.length-3,"blockquote",!0),i(!0)},0)},0)})}}}const X7=n=>({applyHtmlTags:["bold"].map(e=>e.toLowerCase())});let Hb=class extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="bold",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(\*|_){2}(.+?)(?:\1){2}/g),this.getAction.bind(this),this._meta=X7(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let u=r.exec(e);const[f,,p]=u,y=i+u.index;if(e.match(/^([*_ \n]+)$/g)||!this.activeTags.length){o(!1);return}setTimeout(()=>{this.quillJS.deleteText(y,f.length),setTimeout(()=>{this.quillJS.insertText(y,p,{bold:!0}),this.quillJS.format("bold",!1),o(!0)})},0)})}}};const cR=n=>({applyHtmlTags:["checkbox"].map(e=>e.toLowerCase())});let Y7=class extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="checkbox-checked",this.pattern=this._getCustomPatternOrDefault(t,"checkbox",/^(\[x\])+\s/g),this.getAction.bind(this),this._meta=cR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[u]=this.quillJS.getLine(t.index),f=this.quillJS.getIndex(u);setTimeout(()=>{const p=e.split("[x] ").splice(1,1).join("");this.quillJS.insertText(f,p),this.quillJS.deleteText(f+p.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(f,0,"list","checked"),i(!0)})},0)})}}};class Z7 extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="checkbox-unchecked",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(\[\s?\])+\s/g),this.getAction.bind(this),this._meta=cR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[u]=this.quillJS.getLine(t.index),f=this.quillJS.getIndex(u);setTimeout(()=>{let p=e.split("[ ] ").length>1?e.split("[ ] ").splice(1,1).join(""):e;p=p.split("[] ").length>1?p.split("[] ").splice(1,1).join(""):p,this.quillJS.insertText(f,p),this.quillJS.deleteText(f+p.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(f,0,"list","unchecked"),i(!0)})},0)})}}}const ej=n=>({applyHtmlTags:["code"].map(e=>e.toLowerCase())});class Wb extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="code",this.pattern=this._getCustomPatternOrDefault(t,this.name,r=>/(`){1}(.+)(`){1}/g.test(r)&&!/```.*/.test(r)?r:null),this.getAction.bind(this),this._meta=ej(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let u=/(`){1}(.+)(`){1}/g.exec(e);if(!u||!this.activeTags.length){o(!1);return}const[f]=u,p=i+u.index;setTimeout(()=>{this.quillJS.deleteText(p,f.length),setTimeout(()=>{const y=f.replace(/`/g,"");this.quillJS.insertText(p,y,{code:!0}),this.quillJS.insertText(p+y.length," ",{code:!1}),o(!0)},0)},0)})}}}const tj=n=>({applyHtmlTags:["italics"].map(e=>e.toLowerCase())});let Gb=class extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="italic",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:^|\s)(?:(\*|_)\s*(?<text1>[^*_]+)\s*?\1|(\*|_){3}\s*(?<text3>[^*_]*)\s*\1{3})(?:$|(?=\s))/g),this.getAction.bind(this),this._meta=tj(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let u=r.exec(e);if(!u||!this.activeTags.length){o(!1);return}const[f,p,y]=u,v=this.quillJS.getText()[i+u.index],E=this.quillJS.getText()[i+u.index+1];if(p===v&&v===E){o(!1);return}const A=i+u.index;setTimeout(()=>{const R=!u.index,P=R?A:A+1,O=R?f.length:f.length-1;this.quillJS.deleteText(P,O),this.quillJS.insertText(P,y,{italic:!0}),this.quillJS.format("italic",!1),o(!0)},0)})}}};const hR=n=>({applyHtmlTags:["link"].map(e=>e.toLowerCase())});let nj=class extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="link",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:\[(.+?)\])(?:\((.+?)\))/g),this.getAction.bind(this),this._meta=hR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{const u=r.exec(e),f=i+u.index,p=e.search(r),y=e.match(r)[0],v=e.match(/(?:\[(.*?)\])/g)[0],E=e.match(/(?:\((.*?)\))/g)[0];if(!this.activeTags.length){o(!1);return}p!==-1?setTimeout(()=>{const A=f;this.quillJS.deleteText(A,y.length),this.quillJS.insertText(A,v.slice(1,v.length-1),"link",E.slice(1,E.length-1)),o(!0)},0):o(!1)})}}},rj=class extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="link",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:\[(.+?)\])(?:\((.+?)\))/g),this.getAction.bind(this),this._meta=hR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=e.search(r),u=e.match(r)[0],f=e.match(/(?:\[(.*?)\])/g)[0],p=e.match(/(?:\((.*?)\))/g)[0],y=t.index-1+o;if(!this.activeTags.length){i(!1);return}o!==-1?setTimeout(()=>{const E=this.quillJS.getText(y-u.length,u.length)===u?y-u.length:y;this.quillJS.deleteText(E,u.length),this.quillJS.insertText(E,f.slice(1,f.length-1),"link",p.slice(1,p.length-1)),i(!0)},0):i(!1)})}}};const ij=n=>({applyHtmlTags:["li"].map(e=>e.toLowerCase())});let sj=class extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="li",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,9}(\d)+\.\s/g),this.getAction.bind(this),this._meta=ij(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}const[u]=this.quillJS.getLine(t.index),f=this.quillJS.getIndex(u);setTimeout(()=>{const p=e.split(". ")[0].split("").filter(v=>/\s/gi.test(v)).length,y=e.split(". ").splice(1,1).join("");this.quillJS.insertText(f,y),this.quillJS.deleteText(f+y.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(f,0,{list:"ordered",indent:p}),i(!0)},0)},0)})}}};const oj=n=>({applyHtmlTags:["ul"].map(e=>e.toLowerCase())});class aj extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="ul",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,9}(-|\*){1}\s/),this.getAction.bind(this),this._meta=oj(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{if(!r.exec(e)||!this.activeTags.length){i(!1);return}if(!e.split("- ")[1]&&!e.split("* ")[1]){i(!1);return}const[u]=this.quillJS.getLine(t.index),f=this.quillJS.getIndex(u);setTimeout(()=>{let p=/^\s{0,9}(\*){1}\s/.test(e)?e.replace("*","-"):e;const y=p.split("- ")[0].split("").filter(E=>/\s/gi.test(E)).length;let v=p.split("- ").length>1?p.split("- ").splice(1,1).join(""):p;this.quillJS.insertText(f,v),this.quillJS.deleteText(f+v.length-1,e.length),setTimeout(()=>{this.quillJS.formatLine(f,0,{list:"bullet",indent:y}),i(!0)},0)},0)})}}}const fR=n=>({applyHtmlTags:["pre"].map(e=>e.toLowerCase())});let lj=class extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="pre",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(```).*/g),this.getAction.bind(this),this._meta=fR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const u=o[0]||"";setTimeout(()=>{const f=t.index-u.length;this.quillJS.deleteText(f,u.length),setTimeout(()=>{this.quillJS.insertText(f,`
`);const p=f+1+1+1;this.quillJS.insertText(p-1,`
`),this.quillJS.formatLine(p-2,1,"code-block",!0),i(!0)},0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,t=this.quillJS.getLine(e)[0],r=t.domNode.textContent;t&&r&&r.replace(`
`,"").length<=0&&this.quillJS.format("code-block",!1)},0)}}}};class uj extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="pre",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(```)/g),this.getAction.bind(this),this._meta=fR(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r)=>new Promise(i=>{const o=r.exec(e);if(!o||!this.activeTags.length){i(!1);return}const u=o[0]||"",[f]=this.quillJS.getLine(t.index);setTimeout(()=>{const p=this.quillJS.getIndex(f);this.quillJS.deleteText(p,u.length+1),setTimeout(()=>{let y=this.quillJS.getLine(p)[0];for(;y;){const v=this.quillJS.getIndex(y),E=y.domNode.textContent,A=y.domNode.textContent.length;if(this.pattern.test(E)){this.quillJS.deleteText(v,E.length),i(!0);return}this.quillJS.formatLine(v,0,"code-block",!0),y=this.quillJS.getLine(v+A+1)[0]}i(!0)},0)},0)}),release:()=>{setTimeout(()=>{const e=this.quillJS.getSelection().index,t=this.quillJS.getLine(e)[0],r=t.domNode.textContent;t&&r&&r.replace(`
`,"").length<=0&&this.quillJS.format("code-block",!1)},0)}}}}const cj=n=>({applyHtmlTags:["strikethrough"].map(e=>e.toLowerCase())});class Kb extends ds{constructor(e,t={}){super(),this.quillJS=e,this.name="strikethrough",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:~|_){2}(.+?)(?:~|_){2}/g),this.getAction.bind(this),this._meta=cj(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,r,i)=>new Promise(o=>{let u=r.exec(e);if(!this.activeTags.length){o(!1);return}const f=u[0],p=u[1],y=i+u.index;if(e.match(/^([~_ \n]+)$/g)){o(!1);return}setTimeout(()=>{this.quillJS.deleteText(y,f.length),this.quillJS.insertText(y,p,{strike:!0}),this.quillJS.format("strike",!1),o(!0)},0)})}}}class hj{constructor(e,t={tags:{}}){this.quillJS=e,this.getOperatorsAll.bind(this),this.supportInlineTags=[new zb(this.quillJS,t).getAction(),new J7(this.quillJS,t).getAction(),new Hb(this.quillJS,t).getAction(),new lj(this.quillJS,t).getAction(),new Wb(this.quillJS,t).getAction(),new Kb(this.quillJS,t).getAction(),new Gb(this.quillJS,t).getAction(),new nj(this.quillJS,t).getAction()],this.supportfullTextTags=[new zb(this.quillJS,t).getAction(),new Y7(this.quillJS,t).getAction(),new Z7(this.quillJS,t).getAction(),new sj(this.quillJS,t).getAction(),new aj(this.quillJS,t).getAction(),new Q7(this.quillJS,t).getAction(),new uj(this.quillJS,t).getAction(),new Hb(this.quillJS,t).getAction(),new rj(this.quillJS,t).getAction(),new Wb(this.quillJS,t).getAction(),new Kb(this.quillJS,t).getAction(),new Gb(this.quillJS,t).getAction()],this.tags=[...this.supportInlineTags],this.fullTextTags=[...this.supportfullTextTags]}getOperatorsAll(){return this.tags}getFullTextOperatorsAll(){return this.fullTextTags}}class dR{constructor(e,t={}){this.quillJS=e,this.options=t,this.onTextChangeBound=this.onTextChange.bind(this),this.quillJS.on("text-change",this.onTextChangeBound),this.actionCharacters={whiteSpace:" ",newLine:`
`,asterisk:"*",rightParenthesis:")",grave:"`",tilde:"~",underscore:"_"},this.ignoreTags=["PRE",...t.ignoreTags||[]],this.tags=new hj(this.quillJS,t),this.matches=this.tags.getOperatorsAll(),this.fullMatches=this.tags.getFullTextOperatorsAll()}destroy(){this.quillJS.off("text-change",this.onTextChangeBound)}onTextChange(e,t,r){if(r!=="user")return;const i=e.ops[0]&&e.ops[0].retain||0,o=e.ops[0].insert||e.ops[1]&&e.ops[1].insert,[u]=this.quillJS.getLine(i),f=e.ops.find(y=>y.hasOwnProperty("insert"))||{};if((e.ops.find(y=>y.hasOwnProperty("delete"))||f.insert===`
`)&&u.domNode.textContent.length<=1&&["PRE","BLOCKQUOTE"].includes(u.domNode.tagName)&&this.onRemoveElement({delete:1}),!!o){if(o.length>1){setTimeout(async()=>{const y=i,v=o.split(`
`);let E=y;for(let A of v){const[R]=this.quillJS.getLine(E);if(!R)return 0;const P=this.quillJS.getIndex(R);let O="",D=await this.onFullTextExecute.bind(this)({index:P,delta:e,length:0});if(D)for(;D;){const[H]=this.quillJS.getLine(E),te=this.quillJS.getIndex(H);if(!H||!H.domNode){D=!1;break}O=H.domNode.textContent||"",D=await this.onFullTextExecute.bind(this)({index:te,delta:e,length:0})}else O=R.domNode.textContent||"";E+=O.length+1}},0);return}e.ops.filter(y=>y.hasOwnProperty("insert")).forEach(y=>{switch(y.insert){case this.actionCharacters.whiteSpace:case this.actionCharacters.rightParenthesis:case this.actionCharacters.asterisk:case this.actionCharacters.grave:case this.actionCharacters.newLine:case this.actionCharacters.tilde:case this.actionCharacters.underscore:this.onInlineExecute.bind(this)();break}}),e.ops.filter(y=>y.hasOwnProperty("delete")).forEach(y=>{this.onRemoveElement(y)})}}onInlineExecute(){const e=this.quillJS.getSelection();if(!e)return;const[t,r]=this.quillJS.getLine(e.index),i=t.domNode.textContent,o=e.index-r,u=this.quillJS.getFormat(o);if(!(u["code-block"]||u.code)){for(let f of this.matches)if(typeof f.pattern=="function"?f.pattern(i):i.match(f.pattern)){f.action(i,e,f.pattern,o);return}}}async onFullTextExecute(e){let t=e||this.quillJS.getSelection();const r=e.delta;if(!t)return!1;const[i,o]=this.quillJS.getLine(t.index);if(!i||o<0)return!1;const u=r&&r.ops&&r.ops[0].retain||0,f=t.index-o,p=u?u-1:f,y=this.quillJS.getFormat(p);if(y["code-block"]||y.code){if(y.code){const R=r.ops.filter(P=>P.insert).map(P=>P.insert).join("");this.quillJS.deleteText(u,R.length),this.quillJS.insertText(u,R.replace(/\n/g,""),{code:!0}),this.quillJS.format("code",!1)}return!1}const v=this.quillJS.getLine(f-1)[0],E=v&&v.domNode.textContent,A=i.domNode.textContent+" ";if(t.length=t.index++,typeof E=="string"&&E.length>0&&A===" "){const R=this.fullMatches.find(P=>P.name===i.domNode.tagName.toLowerCase());if(R&&R.release)return R.release(t),!1}for(let R of this.fullMatches)if(typeof R.pattern=="function"?R.pattern(A):A.match(R.pattern))return await R.action(A,t,R.pattern,f);return!1}onRemoveElement(e){const t=this.quillJS.getSelection();if(e&&e.delete===1){const i=this.quillJS.getLine(t.index)[0],o=this.matches.find(u=>u.name===i.domNode.tagName.toLowerCase());o&&o.release&&o.release(t)}}}typeof window<"u"&&(window.QuillMarkdown=dR);function fj({readOnly:n,defaultValue:e,onTextChange:t,onSelectionChange:r},i){const o=Be.useRef(null),u=Be.useRef(e??[]),f=Be.useRef(t),p=Be.useRef(r);Be.useLayoutEffect(()=>{f.current=t,p.current=r});function y(E){typeof i=="function"?i(E):i!==null&&(i.current=E)}function v(){return typeof i=="function"?null:i?i.current:null}return Be.useEffect(()=>{var E;(E=v())==null||E.enable(!n)},[i,n]),Be.useEffect(()=>{const E=o.current;if(!E)return;const A=E.appendChild(E.ownerDocument.createElement("div")),R=new be(A,{theme:"snow",modules:{toolbar:!1}});y(R);const P=new dR(R);return u.current&&R.setContents(u.current),R.on(be.events.TEXT_CHANGE,(...O)=>{var D;(D=f.current)==null||D.call(f,...O)}),R.on(be.events.SELECTION_CHANGE,(...O)=>{var D;(D=p.current)==null||D.call(p,...O)}),()=>{y(null),P.destroy(),E.innerHTML=""}},[i]),J.jsx("div",{ref:o})}const pR=Be.forwardRef(fj);pR.displayName="QuillEditor";var mg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var dj=mg.exports,Jb;function pj(){return Jb||(Jb=1,function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",y=500,v="__lodash_placeholder__",E=1,A=2,R=4,P=1,O=2,D=1,H=2,te=4,X=8,se=16,oe=32,me=64,$=128,q=256,z=512,C=30,x="...",B=800,k=16,Se=1,Ae=2,ve=3,Te=1/0,he=9007199254740991,ee=17976931348623157e292,Q=NaN,j=4294967295,ne=j-1,pe=j>>>1,ke=[["ary",$],["bind",D],["bindKey",H],["curry",X],["curryRight",se],["flip",z],["partial",oe],["partialRight",me],["rearg",q]],Ce="[object Arguments]",qe="[object Array]",He="[object AsyncFunction]",Ue="[object Boolean]",Ke="[object Date]",rt="[object DOMException]",ot="[object Error]",It="[object Function]",Pt="[object GeneratorFunction]",Ot="[object Map]",cn="[object Number]",zs="[object Null]",_r="[object Object]",ea="[object Promise]",wo="[object Proxy]",Gn="[object RegExp]",mn="[object Set]",Si="[object String]",bi="[object Symbol]",Rr="[object Undefined]",Fr="[object WeakMap]",Cn="[object WeakSet]",Xt="[object ArrayBuffer]",Bn="[object DataView]",Xi="[object Float32Array]",xn="[object Float64Array]",Ai="[object Int8Array]",Ii="[object Int16Array]",Hs="[object Int32Array]",Yi="[object Uint8Array]",Ci="[object Uint8ClampedArray]",ps="[object Uint16Array]",xi="[object Uint32Array]",ti=/\b__p \+= '';/g,vr=/\b(__p \+=) '' \+/g,Zi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sr=/&(?:amp|lt|gt|quot|#39);/g,or=/[&<>"']/g,gs=RegExp(sr.source),wr=RegExp(or.source),Ws=/<%-([\s\S]+?)%>/g,es=/<%([\s\S]+?)%>/g,ms=/<%=([\s\S]+?)%>/g,Er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eo=/^\w*$/,Yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ys=/[\\^$.*+?()[\]{}|]/g,ni=RegExp(ys.source),ts=/^\s+/,_s=/\s/,vs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,tn=/\{\n\/\* \[wrapped with (.+)\] \*/,ta=/,? & /,Ol=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,To=/[()=,{}\[\]\/\s]/,Fa=/\\(\\)?/g,ri=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yn=/\w*$/,ii=/^[-+]0x[0-9a-f]+$/i,Ba=/^0b[01]+$/i,na=/^\[object .+?Constructor\]$/,So=/^0o[0-7]+$/i,bo=/^(?:0|[1-9]\d*)$/,Kn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gs=/($^)/,Ll=/['\n\r\u2028\u2029\\]/g,jt="\\ud800-\\udfff",qa="\\u0300-\\u036f",Ks="\\ufe20-\\ufe2f",si="\\u20d0-\\u20ff",Tr=qa+Ks+si,ns="\\u2700-\\u27bf",Br="a-z\\xdf-\\xf6\\xf8-\\xff",rs="\\xac\\xb1\\xd7\\xf7",kr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ja="\\u2000-\\u206f",ar=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ao="A-Z\\xc0-\\xd6\\xd8-\\xde",ra="\\ufe0e\\ufe0f",ws=rs+kr+ja+ar,Ri="[']",ki="["+jt+"]",Ni="["+ws+"]",oi="["+Tr+"]",$a="\\d+",is="["+ns+"]",Sr="["+Br+"]",Es="[^"+jt+ws+$a+ns+Br+Ao+"]",qr="\\ud83c[\\udffb-\\udfff]",Ts="(?:"+oi+"|"+qr+")",Wt="[^"+jt+"]",br="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",Rn="["+Ao+"]",ai="\\u200d",Js="(?:"+Sr+"|"+Es+")",li="(?:"+Rn+"|"+Es+")",ia="(?:"+Ri+"(?:d|ll|m|re|s|t|ve))?",sa="(?:"+Ri+"(?:D|LL|M|RE|S|T|VE))?",Io=Ts+"?",ui="["+ra+"]?",Ln="(?:"+ai+"(?:"+[Wt,br,ct].join("|")+")"+ui+Io+")*",hn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Pi=ui+Io+Ln,lr="(?:"+[is,br,ct].join("|")+")"+Pi,$r="(?:"+[Wt+oi+"?",oi,br,ct,ki].join("|")+")",Co=RegExp(Ri,"g"),za=RegExp(oi,"g"),qn=RegExp(qr+"(?="+qr+")|"+$r+Pi,"g"),oa=RegExp([Rn+"?"+Sr+"+"+ia+"(?="+[Ni,Rn,"$"].join("|")+")",li+"+"+sa+"(?="+[Ni,Rn+Js,"$"].join("|")+")",Rn+"?"+Js+"+"+ia,Rn+"+"+sa,jr,hn,$a,lr].join("|"),"g"),aa=RegExp("["+ai+jt+Tr+ra+"]"),Jn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ss=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xo=-1,Ct={};Ct[Xi]=Ct[xn]=Ct[Ai]=Ct[Ii]=Ct[Hs]=Ct[Yi]=Ct[Ci]=Ct[ps]=Ct[xi]=!0,Ct[Ce]=Ct[qe]=Ct[Xt]=Ct[Ue]=Ct[Bn]=Ct[Ke]=Ct[ot]=Ct[It]=Ct[Ot]=Ct[cn]=Ct[_r]=Ct[Gn]=Ct[mn]=Ct[Si]=Ct[Fr]=!1;var St={};St[Ce]=St[qe]=St[Xt]=St[Bn]=St[Ue]=St[Ke]=St[Xi]=St[xn]=St[Ai]=St[Ii]=St[Hs]=St[Ot]=St[cn]=St[_r]=St[Gn]=St[mn]=St[Si]=St[bi]=St[Yi]=St[Ci]=St[ps]=St[xi]=!0,St[ot]=St[It]=St[Fr]=!1;var b={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},G={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,Qe=parseInt,bt=typeof Xo=="object"&&Xo&&Xo.Object===Object&&Xo,xt=typeof self=="object"&&self&&self.Object===Object&&self,ut=bt||xt||Function("return this")(),Rt=e&&!e.nodeType&&e,Mt=Rt&&!0&&n&&!n.nodeType&&n,jn=Mt&&Mt.exports===Rt,on=jn&&bt.process,Lt=function(){try{var ie=Mt&&Mt.require&&Mt.require("util").types;return ie||on&&on.binding&&on.binding("util")}catch{}}(),Sn=Lt&&Lt.isArrayBuffer,fn=Lt&&Lt.isDate,Dn=Lt&&Lt.isMap,ci=Lt&&Lt.isRegExp,Oi=Lt&&Lt.isSet,la=Lt&&Lt.isTypedArray;function kn(ie,we,fe){switch(fe.length){case 0:return ie.call(we);case 1:return ie.call(we,fe[0]);case 2:return ie.call(we,fe[0],fe[1]);case 3:return ie.call(we,fe[0],fe[1],fe[2])}return ie.apply(we,fe)}function ua(ie,we,fe,$e){for(var mt=-1,Gt=ie==null?0:ie.length;++mt<Gt;){var Qn=ie[mt];we($e,Qn,fe(Qn),ie)}return $e}function ur(ie,we){for(var fe=-1,$e=ie==null?0:ie.length;++fe<$e&&we(ie[fe],fe,ie)!==!1;);return ie}function Dl(ie,we){for(var fe=ie==null?0:ie.length;fe--&&we(ie[fe],fe,ie)!==!1;);return ie}function Ml(ie,we){for(var fe=-1,$e=ie==null?0:ie.length;++fe<$e;)if(!we(ie[fe],fe,ie))return!1;return!0}function bs(ie,we){for(var fe=-1,$e=ie==null?0:ie.length,mt=0,Gt=[];++fe<$e;){var Qn=ie[fe];we(Qn,fe,ie)&&(Gt[mt++]=Qn)}return Gt}function Ul(ie,we){var fe=ie==null?0:ie.length;return!!fe&&ca(ie,we,0)>-1}function Ha(ie,we,fe){for(var $e=-1,mt=ie==null?0:ie.length;++$e<mt;)if(fe(we,ie[$e]))return!0;return!1}function nn(ie,we){for(var fe=-1,$e=ie==null?0:ie.length,mt=Array($e);++fe<$e;)mt[fe]=we(ie[fe],fe,ie);return mt}function Qs(ie,we){for(var fe=-1,$e=we.length,mt=ie.length;++fe<$e;)ie[mt+fe]=we[fe];return ie}function Xs(ie,we,fe,$e){var mt=-1,Gt=ie==null?0:ie.length;for($e&&Gt&&(fe=ie[++mt]);++mt<Gt;)fe=we(fe,ie[mt],mt,ie);return fe}function jh(ie,we,fe,$e){var mt=ie==null?0:ie.length;for($e&&mt&&(fe=ie[--mt]);mt--;)fe=we(fe,ie[mt],mt,ie);return fe}function Cu(ie,we){for(var fe=-1,$e=ie==null?0:ie.length;++fe<$e;)if(we(ie[fe],fe,ie))return!0;return!1}var $h=I("length");function kc(ie){return ie.split("")}function xu(ie){return ie.match(Ol)||[]}function zr(ie,we,fe){var $e;return fe(ie,function(mt,Gt,Qn){if(we(mt,Gt,Qn))return $e=Gt,!1}),$e}function Vl(ie,we,fe,$e){for(var mt=ie.length,Gt=fe+($e?1:-1);$e?Gt--:++Gt<mt;)if(we(ie[Gt],Gt,ie))return Gt;return-1}function ca(ie,we,fe){return we===we?Hh(ie,we,fe):Vl(ie,d,fe)}function Ro(ie,we,fe,$e){for(var mt=fe-1,Gt=ie.length;++mt<Gt;)if($e(ie[mt],we))return mt;return-1}function d(ie){return ie!==ie}function w(ie,we){var fe=ie==null?0:ie.length;return fe?Ve(ie,we)/fe:Q}function I(ie){return function(we){return we==null?t:we[ie]}}function V(ie){return function(we){return ie==null?t:ie[we]}}function le(ie,we,fe,$e,mt){return mt(ie,function(Gt,Qn,an){fe=$e?($e=!1,Gt):we(fe,Gt,Qn,an)}),fe}function ge(ie,we){var fe=ie.length;for(ie.sort(we);fe--;)ie[fe]=ie[fe].value;return ie}function Ve(ie,we){for(var fe,$e=-1,mt=ie.length;++$e<mt;){var Gt=we(ie[$e]);Gt!==t&&(fe=fe===t?Gt:fe+Gt)}return fe}function Zt(ie,we){for(var fe=-1,$e=Array(ie);++fe<ie;)$e[fe]=we(fe);return $e}function cr(ie,we){return nn(we,function(fe){return[fe,ie[fe]]})}function Vt(ie){return ie&&ie.slice(0,Wh(ie)+1).replace(ts,"")}function en(ie){return function(we){return ie(we)}}function Mn(ie,we){return nn(we,function(fe){return ie[fe]})}function Hr(ie,we){return ie.has(we)}function Li(ie,we){for(var fe=-1,$e=ie.length;++fe<$e&&ca(we,ie[fe],0)>-1;);return fe}function Wa(ie,we){for(var fe=ie.length;fe--&&ca(we,ie[fe],0)>-1;);return fe}function Ru(ie,we){for(var fe=ie.length,$e=0;fe--;)ie[fe]===we&&++$e;return $e}var gm=V(b),mm=V(U);function ym(ie){return"\\"+_e[ie]}function ku(ie,we){return ie==null?t:ie[we]}function Nu(ie){return aa.test(ie)}function C_(ie){return Jn.test(ie)}function x_(ie){for(var we,fe=[];!(we=ie.next()).done;)fe.push(we.value);return fe}function zh(ie){var we=-1,fe=Array(ie.size);return ie.forEach(function($e,mt){fe[++we]=[mt,$e]}),fe}function Yd(ie,we){return function(fe){return ie(we(fe))}}function As(ie,we){for(var fe=-1,$e=ie.length,mt=0,Gt=[];++fe<$e;){var Qn=ie[fe];(Qn===we||Qn===v)&&(ie[fe]=v,Gt[mt++]=fe)}return Gt}function Ga(ie){var we=-1,fe=Array(ie.size);return ie.forEach(function($e){fe[++we]=$e}),fe}function R_(ie){var we=-1,fe=Array(ie.size);return ie.forEach(function($e){fe[++we]=[$e,$e]}),fe}function Hh(ie,we,fe){for(var $e=fe-1,mt=ie.length;++$e<mt;)if(ie[$e]===we)return $e;return-1}function k_(ie,we,fe){for(var $e=fe+1;$e--;)if(ie[$e]===we)return $e;return $e}function Fl(ie){return Nu(ie)?vm(ie):$h(ie)}function ss(ie){return Nu(ie)?wm(ie):kc(ie)}function Wh(ie){for(var we=ie.length;we--&&_s.test(ie.charAt(we)););return we}var _m=V(G);function vm(ie){for(var we=qn.lastIndex=0;qn.test(ie);)++we;return we}function wm(ie){return ie.match(qn)||[]}function N_(ie){return ie.match(oa)||[]}var P_=function ie(we){we=we==null?ut:Pu.defaults(ut.Object(),we,Pu.pick(ut,Ss));var fe=we.Array,$e=we.Date,mt=we.Error,Gt=we.Function,Qn=we.Math,an=we.Object,Nc=we.RegExp,O_=we.String,Is=we.TypeError,ha=fe.prototype,Zd=Gt.prototype,ko=an.prototype,Ou=we["__core-js_shared__"],Pc=Zd.toString,Kt=ko.hasOwnProperty,Lu=0,Gh=function(){var l=/[^.]+$/.exec(Ou&&Ou.keys&&Ou.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Oc=ko.toString,Kh=Pc.call(an),Em=ut._,Tm=Nc("^"+Pc.call(Kt).replace(ys,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lc=jn?we.Buffer:t,fa=we.Symbol,Dc=we.Uint8Array,ep=Lc?Lc.allocUnsafe:t,Ys=Yd(an.getPrototypeOf,an),Jh=an.create,Qh=ko.propertyIsEnumerable,Xh=ha.splice,Sm=fa?fa.isConcatSpreadable:t,da=fa?fa.iterator:t,Bl=fa?fa.toStringTag:t,Mc=function(){try{var l=il(an,"defineProperty");return l({},"",{}),l}catch{}}(),bm=we.clearTimeout!==ut.clearTimeout&&we.clearTimeout,_n=$e&&$e.now!==ut.Date.now&&$e.now,tp=we.setTimeout!==ut.setTimeout&&we.setTimeout,ql=Qn.ceil,Ka=Qn.floor,Yh=an.getOwnPropertySymbols,np=Lc?Lc.isBuffer:t,Du=we.isFinite,Zh=ha.join,Mu=Yd(an.keys,an),Xn=Qn.max,Wr=Qn.min,L_=$e.now,Am=we.parseInt,Uc=Qn.random,ef=ha.reverse,Vc=il(we,"DataView"),jl=il(we,"Map"),Fc=il(we,"Promise"),Ja=il(we,"Set"),Bc=il(we,"WeakMap"),Uu=il(an,"create"),tf=Bc&&new Bc,Vu={},rp=sl(Vc),Qa=sl(jl),Im=sl(Fc),Fu=sl(Ja),No=sl(Bc),Xa=fa?fa.prototype:t,os=Xa?Xa.valueOf:t,nf=Xa?Xa.toString:t;function M(l){if(Zn(l)&&!Tt(l)&&!(l instanceof Et)){if(l instanceof Gr)return l;if(Kt.call(l,"__wrapped__"))return ey(l)}return new Gr(l)}var Bu=function(){function l(){}return function(c){if(!zn(c))return{};if(Jh)return Jh(c);l.prototype=c;var m=new l;return l.prototype=t,m}}();function Po(){}function Gr(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}M.templateSettings={escape:Ws,evaluate:es,interpolate:ms,variable:"",imports:{_:M}},M.prototype=Po.prototype,M.prototype.constructor=M,Gr.prototype=Bu(Po.prototype),Gr.prototype.constructor=Gr;function Et(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function rf(){var l=new Et(this.__wrapped__);return l.__actions__=fi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=fi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=fi(this.__views__),l}function ip(){if(this.__filtered__){var l=new Et(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function qu(){var l=this.__wrapped__.value(),c=this.__dir__,m=Tt(l),S=c<0,N=m?l.length:0,F=Pp(0,N,this.__views__),K=F.start,Z=F.end,ae=Z-K,Ie=S?Z:K-1,xe=this.__iteratees__,Oe=xe.length,je=0,tt=Wr(ae,this.__takeCount__);if(!m||!S&&N==ae&&tt==ae)return Ju(l,this.__actions__);var pt=[];e:for(;ae--&&je<tt;){Ie+=c;for(var Dt=-1,gt=l[Ie];++Dt<Oe;){var Ft=xe[Dt],zt=Ft.iteratee,lo=Ft.type,hs=zt(gt);if(lo==Ae)gt=hs;else if(!hs){if(lo==Se)continue e;break e}}pt[je++]=gt}return pt}Et.prototype=Bu(Po.prototype),Et.prototype.constructor=Et;function Di(l){var c=-1,m=l==null?0:l.length;for(this.clear();++c<m;){var S=l[c];this.set(S[0],S[1])}}function vn(){this.__data__=Uu?Uu(null):{},this.size=0}function pn(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}function Ya(l){var c=this.__data__;if(Uu){var m=c[l];return m===p?t:m}return Kt.call(c,l)?c[l]:t}function Kr(l){var c=this.__data__;return Uu?c[l]!==t:Kt.call(c,l)}function Mi(l,c){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=Uu&&c===t?p:c,this}Di.prototype.clear=vn,Di.prototype.delete=pn,Di.prototype.get=Ya,Di.prototype.has=Kr,Di.prototype.set=Mi;function hi(l){var c=-1,m=l==null?0:l.length;for(this.clear();++c<m;){var S=l[c];this.set(S[0],S[1])}}function ju(){this.__data__=[],this.size=0}function Ui(l){var c=this.__data__,m=Qr(c,l);if(m<0)return!1;var S=c.length-1;return m==S?c.pop():Xh.call(c,m,1),--this.size,!0}function sf(l){var c=this.__data__,m=Qr(c,l);return m<0?t:c[m][1]}function Cm(l){return Qr(this.__data__,l)>-1}function xm(l,c){var m=this.__data__,S=Qr(m,l);return S<0?(++this.size,m.push([l,c])):m[S][1]=c,this}hi.prototype.clear=ju,hi.prototype.delete=Ui,hi.prototype.get=sf,hi.prototype.has=Cm,hi.prototype.set=xm;function Cs(l){var c=-1,m=l==null?0:l.length;for(this.clear();++c<m;){var S=l[c];this.set(S[0],S[1])}}function Rm(){this.size=0,this.__data__={hash:new Di,map:new(jl||hi),string:new Di}}function pa(l){var c=nh(this,l).delete(l);return this.size-=c?1:0,c}function of(l){return nh(this,l).get(l)}function sp(l){return nh(this,l).has(l)}function km(l,c){var m=nh(this,l),S=m.size;return m.set(l,c),this.size+=m.size==S?0:1,this}Cs.prototype.clear=Rm,Cs.prototype.delete=pa,Cs.prototype.get=of,Cs.prototype.has=sp,Cs.prototype.set=km;function $l(l){var c=-1,m=l==null?0:l.length;for(this.__data__=new Cs;++c<m;)this.add(l[c])}function Za(l){return this.__data__.set(l,p),this}function $u(l){return this.__data__.has(l)}$l.prototype.add=$l.prototype.push=Za,$l.prototype.has=$u;function Jr(l){var c=this.__data__=new hi(l);this.size=c.size}function af(){this.__data__=new hi,this.size=0}function lf(l){var c=this.__data__,m=c.delete(l);return this.size=c.size,m}function xs(l){return this.__data__.get(l)}function Rs(l){return this.__data__.has(l)}function zl(l,c){var m=this.__data__;if(m instanceof hi){var S=m.__data__;if(!jl||S.length<i-1)return S.push([l,c]),this.size=++m.size,this;m=this.__data__=new Cs(S)}return m.set(l,c),this.size=m.size,this}Jr.prototype.clear=af,Jr.prototype.delete=lf,Jr.prototype.get=xs,Jr.prototype.has=Rs,Jr.prototype.set=zl;function Oo(l,c){var m=Tt(l),S=!m&&ph(l),N=!m&&!S&&sc(l),F=!m&&!S&&!N&&Zf(l),K=m||S||N||F,Z=K?Zt(l.length,O_):[],ae=Z.length;for(var Ie in l)(c||Kt.call(l,Ie))&&!(K&&(Ie=="length"||N&&(Ie=="offset"||Ie=="parent")||F&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||An(Ie,ae)))&&Z.push(Ie);return Z}function Lo(l){var c=l.length;return c?l[Gu(0,c-1)]:t}function Hl(l,c){return Lf(fi(l),ga(c,0,l.length))}function Nm(l){return Lf(fi(l))}function qc(l,c,m){(m!==t&&!Aa(l[c],m)||m===t&&!(c in l))&&Do(l,c,m)}function Wl(l,c,m){var S=l[c];(!(Kt.call(l,c)&&Aa(S,m))||m===t&&!(c in l))&&Do(l,c,m)}function Qr(l,c){for(var m=l.length;m--;)if(Aa(l[m][0],c))return m;return-1}function as(l,c,m,S){return Uo(l,function(N,F,K){c(S,N,m(N),K)}),S}function wn(l,c){return l&&eo(c,Zr(c),l)}function Zs(l,c){return l&&eo(c,Vs(c),l)}function Do(l,c,m){c=="__proto__"&&Mc?Mc(l,c,{configurable:!0,enumerable:!0,value:m,writable:!0}):l[c]=m}function uf(l,c){for(var m=-1,S=c.length,N=fe(S),F=l==null;++m<S;)N[m]=F?t:n1(l,c[m]);return N}function ga(l,c,m){return l===l&&(m!==t&&(l=l<=m?l:m),c!==t&&(l=l>=c?l:c)),l}function Vi(l,c,m,S,N,F){var K,Z=c&E,ae=c&A,Ie=c&R;if(m&&(K=N?m(l,S,N,F):m(l)),K!==t)return K;if(!zn(l))return l;var xe=Tt(l);if(xe){if(K=ih(l),!Z)return fi(l,K)}else{var Oe=Or(l),je=Oe==It||Oe==Pt;if(sc(l))return wp(l,Z);if(Oe==_r||Oe==Ce||je&&!N){if(K=ae||je?{}:Lr(l),!Z)return ae?M_(l,Zs(K,l)):Tf(l,wn(K,l))}else{if(!St[Oe])return N?l:{};K=U_(l,Oe,Z)}}F||(F=new Jr);var tt=F.get(l);if(tt)return tt;F.set(l,K),$E(l)?l.forEach(function(gt){K.add(Vi(gt,c,m,gt,l,F))}):qE(l)&&l.forEach(function(gt,Ft){K.set(Ft,Vi(gt,c,m,Ft,l,F))});var pt=Ie?ae?th:eh:ae?Vs:Zr,Dt=xe?t:pt(l);return ur(Dt||l,function(gt,Ft){Dt&&(Ft=gt,gt=l[Ft]),Wl(K,Ft,Vi(gt,c,m,Ft,l,F))}),K}function Pm(l){var c=Zr(l);return function(m){return jc(m,l,c)}}function jc(l,c,m){var S=m.length;if(l==null)return!S;for(l=an(l);S--;){var N=m[S],F=c[N],K=l[N];if(K===t&&!(N in l)||!F(K))return!1}return!0}function op(l,c,m){if(typeof l!="function")throw new Is(u);return nc(function(){l.apply(t,m)},c)}function Mo(l,c,m,S){var N=-1,F=Ul,K=!0,Z=l.length,ae=[],Ie=c.length;if(!Z)return ae;m&&(c=nn(c,en(m))),S?(F=Ha,K=!1):c.length>=i&&(F=Hr,K=!1,c=new $l(c));e:for(;++N<Z;){var xe=l[N],Oe=m==null?xe:m(xe);if(xe=S||xe!==0?xe:0,K&&Oe===Oe){for(var je=Ie;je--;)if(c[je]===Oe)continue e;ae.push(xe)}else F(c,Oe,S)||ae.push(xe)}return ae}var Uo=Ls(ls),Om=Ls(el,!0);function $c(l,c){var m=!0;return Uo(l,function(S,N,F){return m=!!c(S,N,F),m}),m}function Gl(l,c,m){for(var S=-1,N=l.length;++S<N;){var F=l[S],K=c(F);if(K!=null&&(Z===t?K===K&&!ao(K):m(K,Z)))var Z=K,ae=F}return ae}function Lm(l,c,m,S){var N=l.length;for(m=Nt(m),m<0&&(m=-m>N?0:N+m),S=S===t||S>N?N:Nt(S),S<0&&(S+=N),S=m>S?0:HE(S);m<S;)l[m++]=c;return l}function ap(l,c){var m=[];return Uo(l,function(S,N,F){c(S,N,F)&&m.push(S)}),m}function Un(l,c,m,S,N){var F=-1,K=l.length;for(m||(m=Nf),N||(N=[]);++F<K;){var Z=l[F];c>0&&m(Z)?c>1?Un(Z,c-1,m,S,N):Qs(N,Z):S||(N[N.length]=Z)}return N}var cf=bf(),zc=bf(!0);function ls(l,c){return l&&cf(l,c,Zr)}function el(l,c){return l&&zc(l,c,Zr)}function zu(l,c){return bs(c,function(m){return su(l[m])})}function ma(l,c){c=Bo(c,l);for(var m=0,S=c.length;l!=null&&m<S;)l=l[io(c[m++])];return m&&m==S?l:t}function hf(l,c,m){var S=c(l);return Tt(l)?S:Qs(S,m(l))}function Nr(l){return l==null?l===t?Rr:zs:Bl&&Bl in an(l)?kf(l):Lp(l)}function tl(l,c){return l>c}function ks(l,c){return l!=null&&Kt.call(l,c)}function Kl(l,c){return l!=null&&c in an(l)}function lp(l,c,m){return l>=Wr(c,m)&&l<Xn(c,m)}function ff(l,c,m){for(var S=m?Ha:Ul,N=l[0].length,F=l.length,K=F,Z=fe(F),ae=1/0,Ie=[];K--;){var xe=l[K];K&&c&&(xe=nn(xe,en(c))),ae=Wr(xe.length,ae),Z[K]=!m&&(c||N>=120&&xe.length>=120)?new $l(K&&xe):t}xe=l[0];var Oe=-1,je=Z[0];e:for(;++Oe<N&&Ie.length<ae;){var tt=xe[Oe],pt=c?c(tt):tt;if(tt=m||tt!==0?tt:0,!(je?Hr(je,pt):S(Ie,pt,m))){for(K=F;--K;){var Dt=Z[K];if(!(Dt?Hr(Dt,pt):S(l[K],pt,m)))continue e}je&&je.push(pt),Ie.push(tt)}}return Ie}function ya(l,c,m,S){return ls(l,function(N,F,K){c(S,m(N),F,K)}),S}function Ns(l,c,m){c=Bo(c,l),l=Ar(l,c);var S=l==null?l:l[io(gi(c))];return S==null?t:kn(S,l,m)}function df(l){return Zn(l)&&Nr(l)==Ce}function Dm(l){return Zn(l)&&Nr(l)==Xt}function _a(l){return Zn(l)&&Nr(l)==Ke}function Ps(l,c,m,S,N){return l===c?!0:l==null||c==null||!Zn(l)&&!Zn(c)?l!==l&&c!==c:pf(l,c,m,S,Ps,N)}function pf(l,c,m,S,N,F){var K=Tt(l),Z=Tt(c),ae=K?qe:Or(l),Ie=Z?qe:Or(c);ae=ae==Ce?_r:ae,Ie=Ie==Ce?_r:Ie;var xe=ae==_r,Oe=Ie==_r,je=ae==Ie;if(je&&sc(l)){if(!sc(c))return!1;K=!0,xe=!1}if(je&&!xe)return F||(F=new Jr),K||Zf(l)?kp(l,c,m,S,N,F):Np(l,c,ae,m,S,N,F);if(!(m&P)){var tt=xe&&Kt.call(l,"__wrapped__"),pt=Oe&&Kt.call(c,"__wrapped__");if(tt||pt){var Dt=tt?l.value():l,gt=pt?c.value():c;return F||(F=new Jr),N(Dt,gt,m,S,F)}}return je?(F||(F=new Jr),Wm(l,c,m,S,N,F)):!1}function Mm(l){return Zn(l)&&Or(l)==Ot}function Hu(l,c,m,S){var N=m.length,F=N,K=!S;if(l==null)return!F;for(l=an(l);N--;){var Z=m[N];if(K&&Z[2]?Z[1]!==l[Z[0]]:!(Z[0]in l))return!1}for(;++N<F;){Z=m[N];var ae=Z[0],Ie=l[ae],xe=Z[1];if(K&&Z[2]){if(Ie===t&&!(ae in l))return!1}else{var Oe=new Jr;if(S)var je=S(Ie,xe,ae,l,c,Oe);if(!(je===t?Ps(xe,Ie,P|O,S,Oe):je))return!1}}return!0}function up(l){if(!zn(l)||Jm(l))return!1;var c=su(l)?Tm:na;return c.test(sl(l))}function Hc(l){return Zn(l)&&Nr(l)==Gn}function Vo(l){return Zn(l)&&Or(l)==mn}function Wc(l){return Zn(l)&&py(l.length)&&!!Ct[Nr(l)]}function Wu(l){return typeof l=="function"?l:l==null?Fs:typeof l=="object"?Tt(l)?bn(l[0],l[1]):gf(l):nT(l)}function va(l){if(!Sa(l))return Mu(l);var c=[];for(var m in an(l))Kt.call(l,m)&&m!="constructor"&&c.push(m);return c}function cp(l){if(!zn(l))return Ym(l);var c=Sa(l),m=[];for(var S in l)S=="constructor"&&(c||!Kt.call(l,S))||m.push(S);return m}function nl(l,c){return l<c}function hp(l,c){var m=-1,S=Us(l)?fe(l.length):[];return Uo(l,function(N,F,K){S[++m]=c(N,F,K)}),S}function gf(l){var c=rh(l);return c.length==1&&c[0][2]?Pf(c[0][0],c[0][1]):function(m){return m===l||Hu(m,l,c)}}function bn(l,c){return We(l)&&oh(c)?Pf(io(l),c):function(m){var S=n1(m,l);return S===t&&S===c?r1(m,l):Ps(c,S,P|O)}}function Jl(l,c,m,S,N){l!==c&&cf(c,function(F,K){if(N||(N=new Jr),zn(F))fp(l,c,K,m,Jl,S,N);else{var Z=S?S($o(l,K),F,K+"",l,c,N):t;Z===t&&(Z=F),qc(l,K,Z)}},Vs)}function fp(l,c,m,S,N,F,K){var Z=$o(l,m),ae=$o(c,m),Ie=K.get(ae);if(Ie){qc(l,m,Ie);return}var xe=F?F(Z,ae,m+"",l,c,K):t,Oe=xe===t;if(Oe){var je=Tt(ae),tt=!je&&sc(ae),pt=!je&&!tt&&Zf(ae);xe=ae,je||tt||pt?Tt(Z)?xe=Z:pr(Z)?xe=fi(Z):tt?(Oe=!1,xe=wp(ae,!0)):pt?(Oe=!1,xe=qm(ae,!0)):xe=[]:Yp(ae)||ph(ae)?(xe=Z,ph(Z)?xe=WE(Z):(!zn(Z)||su(Z))&&(xe=Lr(ae))):Oe=!1}Oe&&(K.set(ae,xe),N(xe,ae,S,F,K),K.delete(ae)),qc(l,m,xe)}function mf(l,c){var m=l.length;if(m)return c+=c<0?m:0,An(c,m)?l[c]:t}function Gc(l,c,m){c.length?c=nn(c,function(F){return Tt(F)?function(K){return ma(K,F.length===1?F[0]:F)}:F}):c=[Fs];var S=-1;c=nn(c,en(at()));var N=hp(l,function(F,K,Z){var ae=nn(c,function(Ie){return Ie(F)});return{criteria:ae,index:++S,value:F}});return ge(N,function(F,K){return D_(F,K,m)})}function dp(l,c){return rl(l,c,function(m,S){return r1(l,S)})}function rl(l,c,m){for(var S=-1,N=c.length,F={};++S<N;){var K=c[S],Z=ma(l,K);m(Z,K)&&Xl(F,Bo(K,l),Z)}return F}function Nn(l){return function(c){return ma(c,l)}}function $n(l,c,m,S){var N=S?Ro:ca,F=-1,K=c.length,Z=l;for(l===c&&(c=fi(c)),m&&(Z=nn(l,en(m)));++F<K;)for(var ae=0,Ie=c[F],xe=m?m(Ie):Ie;(ae=N(Z,xe,ae,S))>-1;)Z!==l&&Xh.call(Z,ae,1),Xh.call(l,ae,1);return l}function hr(l,c){for(var m=l?c.length:0,S=m-1;m--;){var N=c[m];if(m==S||N!==F){var F=N;An(N)?Xh.call(l,N,1):vf(l,N)}}return l}function Gu(l,c){return l+Ka(Uc()*(c-l+1))}function Kc(l,c,m,S){for(var N=-1,F=Xn(ql((c-l)/(m||1)),0),K=fe(F);F--;)K[S?F:++N]=l,l+=m;return K}function Ql(l,c){var m="";if(!l||c<1||c>he)return m;do c%2&&(m+=l),c=Ka(c/2),c&&(l+=l);while(c);return m}function kt(l,c){return us(Of(l,c,Fs),l+"")}function Xr(l){return Lo(ed(l))}function pp(l,c){var m=ed(l);return Lf(m,ga(c,0,m.length))}function Xl(l,c,m,S){if(!zn(l))return l;c=Bo(c,l);for(var N=-1,F=c.length,K=F-1,Z=l;Z!=null&&++N<F;){var ae=io(c[N]),Ie=m;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return l;if(N!=K){var xe=Z[ae];Ie=S?S(xe,ae,Z):t,Ie===t&&(Ie=zn(xe)?xe:An(c[N+1])?[]:{})}Wl(Z,ae,Ie),Z=Z[ae]}return l}var yf=tf?function(l,c){return tf.set(l,c),l}:Fs,Fo=Mc?function(l,c){return Mc(l,"toString",{configurable:!0,enumerable:!1,value:s1(c),writable:!0})}:Fs;function Os(l){return Lf(ed(l))}function Yr(l,c,m){var S=-1,N=l.length;c<0&&(c=-c>N?0:N+c),m=m>N?N:m,m<0&&(m+=N),N=c>m?0:m-c>>>0,c>>>=0;for(var F=fe(N);++S<N;)F[S]=l[S+c];return F}function gp(l,c){var m;return Uo(l,function(S,N,F){return m=c(S,N,F),!m}),!!m}function Ku(l,c,m){var S=0,N=l==null?S:l.length;if(typeof c=="number"&&c===c&&N<=pe){for(;S<N;){var F=S+N>>>1,K=l[F];K!==null&&!ao(K)&&(m?K<=c:K<c)?S=F+1:N=F}return N}return _f(l,c,Fs,m)}function _f(l,c,m,S){var N=0,F=l==null?0:l.length;if(F===0)return 0;c=m(c);for(var K=c!==c,Z=c===null,ae=ao(c),Ie=c===t;N<F;){var xe=Ka((N+F)/2),Oe=m(l[xe]),je=Oe!==t,tt=Oe===null,pt=Oe===Oe,Dt=ao(Oe);if(K)var gt=S||pt;else Ie?gt=pt&&(S||je):Z?gt=pt&&je&&(S||!tt):ae?gt=pt&&je&&!tt&&(S||!Dt):tt||Dt?gt=!1:gt=S?Oe<=c:Oe<c;gt?N=xe+1:F=xe}return Wr(F,ne)}function mp(l,c){for(var m=-1,S=l.length,N=0,F=[];++m<S;){var K=l[m],Z=c?c(K):K;if(!m||!Aa(Z,ae)){var ae=Z;F[N++]=K===0?0:K}}return F}function yp(l){return typeof l=="number"?l:ao(l)?Q:+l}function Fi(l){if(typeof l=="string")return l;if(Tt(l))return nn(l,Fi)+"";if(ao(l))return nf?nf.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}function wa(l,c,m){var S=-1,N=Ul,F=l.length,K=!0,Z=[],ae=Z;if(m)K=!1,N=Ha;else if(F>=i){var Ie=c?null:Hm(l);if(Ie)return Ga(Ie);K=!1,N=Hr,ae=new $l}else ae=c?[]:Z;e:for(;++S<F;){var xe=l[S],Oe=c?c(xe):xe;if(xe=m||xe!==0?xe:0,K&&Oe===Oe){for(var je=ae.length;je--;)if(ae[je]===Oe)continue e;c&&ae.push(Oe),Z.push(xe)}else N(ae,Oe,m)||(ae!==Z&&ae.push(Oe),Z.push(xe))}return Z}function vf(l,c){return c=Bo(c,l),l=Ar(l,c),l==null||delete l[io(gi(c))]}function _p(l,c,m,S){return Xl(l,c,m(ma(l,c)),S)}function Jc(l,c,m,S){for(var N=l.length,F=S?N:-1;(S?F--:++F<N)&&c(l[F],F,l););return m?Yr(l,S?0:F,S?F+1:N):Yr(l,S?F+1:0,S?N:F)}function Ju(l,c){var m=l;return m instanceof Et&&(m=m.value()),Xs(c,function(S,N){return N.func.apply(N.thisArg,Qs([S],N.args))},m)}function wf(l,c,m){var S=l.length;if(S<2)return S?wa(l[0]):[];for(var N=-1,F=fe(S);++N<S;)for(var K=l[N],Z=-1;++Z<S;)Z!=N&&(F[N]=Mo(F[N]||K,l[Z],c,m));return wa(Un(F,1),c,m)}function Qc(l,c,m){for(var S=-1,N=l.length,F=c.length,K={};++S<N;){var Z=S<F?c[S]:t;m(K,l[S],Z)}return K}function Qu(l){return pr(l)?l:[]}function Ef(l){return typeof l=="function"?l:Fs}function Bo(l,c){return Tt(l)?l:We(l,c)?[l]:Up(ln(l))}var Um=kt;function Ea(l,c,m){var S=l.length;return m=m===t?S:m,!c&&m>=S?l:Yr(l,c,m)}var vp=bm||function(l){return ut.clearTimeout(l)};function wp(l,c){if(c)return l.slice();var m=l.length,S=ep?ep(m):new l.constructor(m);return l.copy(S),S}function Xc(l){var c=new l.constructor(l.byteLength);return new Dc(c).set(new Dc(l)),c}function Vm(l,c){var m=c?Xc(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.byteLength)}function Fm(l){var c=new l.constructor(l.source,yn.exec(l));return c.lastIndex=l.lastIndex,c}function Bm(l){return os?an(os.call(l)):{}}function qm(l,c){var m=c?Xc(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.length)}function Ep(l,c){if(l!==c){var m=l!==t,S=l===null,N=l===l,F=ao(l),K=c!==t,Z=c===null,ae=c===c,Ie=ao(c);if(!Z&&!Ie&&!F&&l>c||F&&K&&ae&&!Z&&!Ie||S&&K&&ae||!m&&ae||!N)return 1;if(!S&&!F&&!Ie&&l<c||Ie&&m&&N&&!S&&!F||Z&&m&&N||!K&&N||!ae)return-1}return 0}function D_(l,c,m){for(var S=-1,N=l.criteria,F=c.criteria,K=N.length,Z=m.length;++S<K;){var ae=Ep(N[S],F[S]);if(ae){if(S>=Z)return ae;var Ie=m[S];return ae*(Ie=="desc"?-1:1)}}return l.index-c.index}function jm(l,c,m,S){for(var N=-1,F=l.length,K=m.length,Z=-1,ae=c.length,Ie=Xn(F-K,0),xe=fe(ae+Ie),Oe=!S;++Z<ae;)xe[Z]=c[Z];for(;++N<K;)(Oe||N<F)&&(xe[m[N]]=l[N]);for(;Ie--;)xe[Z++]=l[N++];return xe}function Tp(l,c,m,S){for(var N=-1,F=l.length,K=-1,Z=m.length,ae=-1,Ie=c.length,xe=Xn(F-Z,0),Oe=fe(xe+Ie),je=!S;++N<xe;)Oe[N]=l[N];for(var tt=N;++ae<Ie;)Oe[tt+ae]=c[ae];for(;++K<Z;)(je||N<F)&&(Oe[tt+m[K]]=l[N++]);return Oe}function fi(l,c){var m=-1,S=l.length;for(c||(c=fe(S));++m<S;)c[m]=l[m];return c}function eo(l,c,m,S){var N=!m;m||(m={});for(var F=-1,K=c.length;++F<K;){var Z=c[F],ae=S?S(m[Z],l[Z],Z,m,l):t;ae===t&&(ae=l[Z]),N?Do(m,Z,ae):Wl(m,Z,ae)}return m}function Tf(l,c){return eo(l,to(l),c)}function M_(l,c){return eo(l,Gm(l),c)}function Sf(l,c){return function(m,S){var N=Tt(m)?ua:as,F=c?c():{};return N(m,l,at(S,2),F)}}function Xu(l){return kt(function(c,m){var S=-1,N=m.length,F=N>1?m[N-1]:t,K=N>2?m[2]:t;for(F=l.length>3&&typeof F=="function"?(N--,F):t,K&&pi(m[0],m[1],K)&&(F=N<3?t:F,N=1),c=an(c);++S<N;){var Z=m[S];Z&&l(c,Z,S,F)}return c})}function Ls(l,c){return function(m,S){if(m==null)return m;if(!Us(m))return l(m,S);for(var N=m.length,F=c?N:-1,K=an(m);(c?F--:++F<N)&&S(K[F],F,K)!==!1;);return m}}function bf(l){return function(c,m,S){for(var N=-1,F=an(c),K=S(c),Z=K.length;Z--;){var ae=K[l?Z:++N];if(m(F[ae],ae,F)===!1)break}return c}}function Af(l,c,m){var S=c&D,N=Yu(l);function F(){var K=this&&this!==ut&&this instanceof F?N:l;return K.apply(S?m:this,arguments)}return F}function Sp(l){return function(c){c=ln(c);var m=Nu(c)?ss(c):t,S=m?m[0]:c.charAt(0),N=m?Ea(m,1).join(""):c.slice(1);return S[l]()+N}}function Yl(l){return function(c){return Xs(eT(ZE(c).replace(Co,"")),l,"")}}function Yu(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var m=Bu(l.prototype),S=l.apply(m,c);return zn(S)?S:m}}function bp(l,c,m){var S=Yu(l);function N(){for(var F=arguments.length,K=fe(F),Z=F,ae=Ta(N);Z--;)K[Z]=arguments[Z];var Ie=F<3&&K[0]!==ae&&K[F-1]!==ae?[]:As(K,ae);if(F-=Ie.length,F<m)return di(l,c,Zu,N.placeholder,t,K,Ie,t,t,m-F);var xe=this&&this!==ut&&this instanceof N?S:l;return kn(xe,this,K)}return N}function Zl(l){return function(c,m,S){var N=an(c);if(!Us(c)){var F=at(m,3);c=Zr(c),m=function(Z){return F(N[Z],Z,N)}}var K=l(c,m,S);return K>-1?N[F?c[K]:K]:t}}function If(l){return jo(function(c){var m=c.length,S=m,N=Gr.prototype.thru;for(l&&c.reverse();S--;){var F=c[S];if(typeof F!="function")throw new Is(u);if(N&&!K&&ec(F)=="wrapper")var K=new Gr([],!0)}for(S=K?S:m;++S<m;){F=c[S];var Z=ec(F),ae=Z=="wrapper"?Rf(F):t;ae&&sh(ae[0])&&ae[1]==($|X|oe|q)&&!ae[4].length&&ae[9]==1?K=K[ec(ae[0])].apply(K,ae[3]):K=F.length==1&&sh(F)?K[Z]():K.thru(F)}return function(){var Ie=arguments,xe=Ie[0];if(K&&Ie.length==1&&Tt(xe))return K.plant(xe).value();for(var Oe=0,je=m?c[Oe].apply(this,Ie):xe;++Oe<m;)je=c[Oe].call(this,je);return je}})}function Zu(l,c,m,S,N,F,K,Z,ae,Ie){var xe=c&$,Oe=c&D,je=c&H,tt=c&(X|se),pt=c&z,Dt=je?t:Yu(l);function gt(){for(var Ft=arguments.length,zt=fe(Ft),lo=Ft;lo--;)zt[lo]=arguments[lo];if(tt)var hs=Ta(gt),uo=Ru(zt,hs);if(S&&(zt=jm(zt,S,N,tt)),F&&(zt=Tp(zt,F,K,tt)),Ft-=uo,tt&&Ft<Ie){var gr=As(zt,hs);return di(l,c,Zu,gt.placeholder,m,zt,gr,Z,ae,Ie-Ft)}var Ia=Oe?m:this,au=je?Ia[l]:l;return Ft=zt.length,Z?zt=no(zt,Z):pt&&Ft>1&&zt.reverse(),xe&&ae<Ft&&(zt.length=ae),this&&this!==ut&&this instanceof gt&&(au=Dt||Yu(au)),au.apply(Ia,zt)}return gt}function $m(l,c){return function(m,S){return ya(m,l,c(S),{})}}function Yc(l,c){return function(m,S){var N;if(m===t&&S===t)return c;if(m!==t&&(N=m),S!==t){if(N===t)return S;typeof m=="string"||typeof S=="string"?(m=Fi(m),S=Fi(S)):(m=yp(m),S=yp(S)),N=l(m,S)}return N}}function Cf(l){return jo(function(c){return c=nn(c,en(at())),kt(function(m){var S=this;return l(c,function(N){return kn(N,S,m)})})})}function Zc(l,c){c=c===t?" ":Fi(c);var m=c.length;if(m<2)return m?Ql(c,l):c;var S=Ql(c,ql(l/Fl(c)));return Nu(c)?Ea(ss(S),0,l).join(""):S.slice(0,l)}function zm(l,c,m,S){var N=c&D,F=Yu(l);function K(){for(var Z=-1,ae=arguments.length,Ie=-1,xe=S.length,Oe=fe(xe+ae),je=this&&this!==ut&&this instanceof K?F:l;++Ie<xe;)Oe[Ie]=S[Ie];for(;ae--;)Oe[Ie++]=arguments[++Z];return kn(je,N?m:this,Oe)}return K}function Ap(l){return function(c,m,S){return S&&typeof S!="number"&&pi(c,m,S)&&(m=S=t),c=ou(c),m===t?(m=c,c=0):m=ou(m),S=S===t?c<m?1:-1:ou(S),Kc(c,m,S,l)}}function xf(l){return function(c,m){return typeof c=="string"&&typeof m=="string"||(c=zo(c),m=zo(m)),l(c,m)}}function di(l,c,m,S,N,F,K,Z,ae,Ie){var xe=c&X,Oe=xe?K:t,je=xe?t:K,tt=xe?F:t,pt=xe?t:F;c|=xe?oe:me,c&=~(xe?me:oe),c&te||(c&=-4);var Dt=[l,c,N,tt,Oe,pt,je,Z,ae,Ie],gt=m.apply(t,Dt);return sh(l)&&Dp(gt,Dt),gt.placeholder=S,Mp(gt,l,c)}function Pr(l){var c=Qn[l];return function(m,S){if(m=zo(m),S=S==null?0:Wr(Nt(S),292),S&&Du(m)){var N=(ln(m)+"e").split("e"),F=c(N[0]+"e"+(+N[1]+S));return N=(ln(F)+"e").split("e"),+(N[0]+"e"+(+N[1]-S))}return c(m)}}var Hm=Ja&&1/Ga(new Ja([,-0]))[1]==Te?function(l){return new Ja(l)}:l1;function Ip(l){return function(c){var m=Or(c);return m==Ot?zh(c):m==mn?R_(c):cr(c,l(c))}}function qo(l,c,m,S,N,F,K,Z){var ae=c&H;if(!ae&&typeof l!="function")throw new Is(u);var Ie=S?S.length:0;if(Ie||(c&=-97,S=N=t),K=K===t?K:Xn(Nt(K),0),Z=Z===t?Z:Nt(Z),Ie-=N?N.length:0,c&me){var xe=S,Oe=N;S=N=t}var je=ae?t:Rf(l),tt=[l,c,m,S,N,xe,Oe,F,K,Z];if(je&&Xm(tt,je),l=tt[0],c=tt[1],m=tt[2],S=tt[3],N=tt[4],Z=tt[9]=tt[9]===t?ae?0:l.length:Xn(tt[9]-Ie,0),!Z&&c&(X|se)&&(c&=-25),!c||c==D)var pt=Af(l,c,m);else c==X||c==se?pt=bp(l,c,Z):(c==oe||c==(D|oe))&&!N.length?pt=zm(l,c,m,S):pt=Zu.apply(t,tt);var Dt=je?yf:Dp;return Mp(Dt(pt,tt),l,c)}function Cp(l,c,m,S){return l===t||Aa(l,ko[m])&&!Kt.call(S,m)?c:l}function xp(l,c,m,S,N,F){return zn(l)&&zn(c)&&(F.set(c,l),Jl(l,c,t,xp,F),F.delete(c)),l}function Rp(l){return Yp(l)?t:l}function kp(l,c,m,S,N,F){var K=m&P,Z=l.length,ae=c.length;if(Z!=ae&&!(K&&ae>Z))return!1;var Ie=F.get(l),xe=F.get(c);if(Ie&&xe)return Ie==c&&xe==l;var Oe=-1,je=!0,tt=m&O?new $l:t;for(F.set(l,c),F.set(c,l);++Oe<Z;){var pt=l[Oe],Dt=c[Oe];if(S)var gt=K?S(Dt,pt,Oe,c,l,F):S(pt,Dt,Oe,l,c,F);if(gt!==t){if(gt)continue;je=!1;break}if(tt){if(!Cu(c,function(Ft,zt){if(!Hr(tt,zt)&&(pt===Ft||N(pt,Ft,m,S,F)))return tt.push(zt)})){je=!1;break}}else if(!(pt===Dt||N(pt,Dt,m,S,F))){je=!1;break}}return F.delete(l),F.delete(c),je}function Np(l,c,m,S,N,F,K){switch(m){case Bn:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case Xt:return!(l.byteLength!=c.byteLength||!F(new Dc(l),new Dc(c)));case Ue:case Ke:case cn:return Aa(+l,+c);case ot:return l.name==c.name&&l.message==c.message;case Gn:case Si:return l==c+"";case Ot:var Z=zh;case mn:var ae=S&P;if(Z||(Z=Ga),l.size!=c.size&&!ae)return!1;var Ie=K.get(l);if(Ie)return Ie==c;S|=O,K.set(l,c);var xe=kp(Z(l),Z(c),S,N,F,K);return K.delete(l),xe;case bi:if(os)return os.call(l)==os.call(c)}return!1}function Wm(l,c,m,S,N,F){var K=m&P,Z=eh(l),ae=Z.length,Ie=eh(c),xe=Ie.length;if(ae!=xe&&!K)return!1;for(var Oe=ae;Oe--;){var je=Z[Oe];if(!(K?je in c:Kt.call(c,je)))return!1}var tt=F.get(l),pt=F.get(c);if(tt&&pt)return tt==c&&pt==l;var Dt=!0;F.set(l,c),F.set(c,l);for(var gt=K;++Oe<ae;){je=Z[Oe];var Ft=l[je],zt=c[je];if(S)var lo=K?S(zt,Ft,je,c,l,F):S(Ft,zt,je,l,c,F);if(!(lo===t?Ft===zt||N(Ft,zt,m,S,F):lo)){Dt=!1;break}gt||(gt=je=="constructor")}if(Dt&&!gt){var hs=l.constructor,uo=c.constructor;hs!=uo&&"constructor"in l&&"constructor"in c&&!(typeof hs=="function"&&hs instanceof hs&&typeof uo=="function"&&uo instanceof uo)&&(Dt=!1)}return F.delete(l),F.delete(c),Dt}function jo(l){return us(Of(l,t,Mf),l+"")}function eh(l){return hf(l,Zr,to)}function th(l){return hf(l,Vs,Gm)}var Rf=tf?function(l){return tf.get(l)}:l1;function ec(l){for(var c=l.name+"",m=Vu[c],S=Kt.call(Vu,c)?m.length:0;S--;){var N=m[S],F=N.func;if(F==null||F==l)return N.name}return c}function Ta(l){var c=Kt.call(M,"placeholder")?M:l;return c.placeholder}function at(){var l=M.iteratee||o1;return l=l===o1?Wu:l,arguments.length?l(arguments[0],arguments[1]):l}function nh(l,c){var m=l.__data__;return tc(c)?m[typeof c=="string"?"string":"hash"]:m.map}function rh(l){for(var c=Zr(l),m=c.length;m--;){var S=c[m],N=l[S];c[m]=[S,N,oh(N)]}return c}function il(l,c){var m=ku(l,c);return up(m)?m:t}function kf(l){var c=Kt.call(l,Bl),m=l[Bl];try{l[Bl]=t;var S=!0}catch{}var N=Oc.call(l);return S&&(c?l[Bl]=m:delete l[Bl]),N}var to=Yh?function(l){return l==null?[]:(l=an(l),bs(Yh(l),function(c){return Qh.call(l,c)}))}:u1,Gm=Yh?function(l){for(var c=[];l;)Qs(c,to(l)),l=Ys(l);return c}:u1,Or=Nr;(Vc&&Or(new Vc(new ArrayBuffer(1)))!=Bn||jl&&Or(new jl)!=Ot||Fc&&Or(Fc.resolve())!=ea||Ja&&Or(new Ja)!=mn||Bc&&Or(new Bc)!=Fr)&&(Or=function(l){var c=Nr(l),m=c==_r?l.constructor:t,S=m?sl(m):"";if(S)switch(S){case rp:return Bn;case Qa:return Ot;case Im:return ea;case Fu:return mn;case No:return Fr}return c});function Pp(l,c,m){for(var S=-1,N=m.length;++S<N;){var F=m[S],K=F.size;switch(F.type){case"drop":l+=K;break;case"dropRight":c-=K;break;case"take":c=Wr(c,l+K);break;case"takeRight":l=Xn(l,c-K);break}}return{start:l,end:c}}function Km(l){var c=l.match(tn);return c?c[1].split(ta):[]}function Op(l,c,m){c=Bo(c,l);for(var S=-1,N=c.length,F=!1;++S<N;){var K=io(c[S]);if(!(F=l!=null&&m(l,K)))break;l=l[K]}return F||++S!=N?F:(N=l==null?0:l.length,!!N&&py(N)&&An(K,N)&&(Tt(l)||ph(l)))}function ih(l){var c=l.length,m=new l.constructor(c);return c&&typeof l[0]=="string"&&Kt.call(l,"index")&&(m.index=l.index,m.input=l.input),m}function Lr(l){return typeof l.constructor=="function"&&!Sa(l)?Bu(Ys(l)):{}}function U_(l,c,m){var S=l.constructor;switch(c){case Xt:return Xc(l);case Ue:case Ke:return new S(+l);case Bn:return Vm(l,m);case Xi:case xn:case Ai:case Ii:case Hs:case Yi:case Ci:case ps:case xi:return qm(l,m);case Ot:return new S;case cn:case Si:return new S(l);case Gn:return Fm(l);case mn:return new S;case bi:return Bm(l)}}function V_(l,c){var m=c.length;if(!m)return l;var S=m-1;return c[S]=(m>1?"& ":"")+c[S],c=c.join(m>2?", ":" "),l.replace(vs,`{
/* [wrapped with `+c+`] */
`)}function Nf(l){return Tt(l)||ph(l)||!!(Sm&&l&&l[Sm])}function An(l,c){var m=typeof l;return c=c??he,!!c&&(m=="number"||m!="symbol"&&bo.test(l))&&l>-1&&l%1==0&&l<c}function pi(l,c,m){if(!zn(m))return!1;var S=typeof c;return(S=="number"?Us(m)&&An(c,m.length):S=="string"&&c in m)?Aa(m[c],l):!1}function We(l,c){if(Tt(l))return!1;var m=typeof l;return m=="number"||m=="symbol"||m=="boolean"||l==null||ao(l)?!0:Eo.test(l)||!Er.test(l)||c!=null&&l in an(c)}function tc(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function sh(l){var c=ec(l),m=M[c];if(typeof m!="function"||!(c in Et.prototype))return!1;if(l===m)return!0;var S=Rf(m);return!!S&&l===S[0]}function Jm(l){return!!Gh&&Gh in l}var F_=Ou?su:c1;function Sa(l){var c=l&&l.constructor,m=typeof c=="function"&&c.prototype||ko;return l===m}function oh(l){return l===l&&!zn(l)}function Pf(l,c){return function(m){return m==null?!1:m[l]===c&&(c!==t||l in an(m))}}function Qm(l){var c=Me(l,function(S){return m.size===y&&m.clear(),S}),m=c.cache;return c}function Xm(l,c){var m=l[1],S=c[1],N=m|S,F=N<(D|H|$),K=S==$&&m==X||S==$&&m==q&&l[7].length<=c[8]||S==($|q)&&c[7].length<=c[8]&&m==X;if(!(F||K))return l;S&D&&(l[2]=c[2],N|=m&D?0:te);var Z=c[3];if(Z){var ae=l[3];l[3]=ae?jm(ae,Z,c[4]):Z,l[4]=ae?As(l[3],v):c[4]}return Z=c[5],Z&&(ae=l[5],l[5]=ae?Tp(ae,Z,c[6]):Z,l[6]=ae?As(l[5],v):c[6]),Z=c[7],Z&&(l[7]=Z),S&$&&(l[8]=l[8]==null?c[8]:Wr(l[8],c[8])),l[9]==null&&(l[9]=c[9]),l[0]=c[0],l[1]=N,l}function Ym(l){var c=[];if(l!=null)for(var m in an(l))c.push(m);return c}function Lp(l){return Oc.call(l)}function Of(l,c,m){return c=Xn(c===t?l.length-1:c,0),function(){for(var S=arguments,N=-1,F=Xn(S.length-c,0),K=fe(F);++N<F;)K[N]=S[c+N];N=-1;for(var Z=fe(c+1);++N<c;)Z[N]=S[N];return Z[c]=m(K),kn(l,this,Z)}}function Ar(l,c){return c.length<2?l:ma(l,Yr(c,0,-1))}function no(l,c){for(var m=l.length,S=Wr(c.length,m),N=fi(l);S--;){var F=c[S];l[S]=An(F,m)?N[F]:t}return l}function $o(l,c){if(!(c==="constructor"&&typeof l[c]=="function")&&c!="__proto__")return l[c]}var Dp=ro(yf),nc=tp||function(l,c){return ut.setTimeout(l,c)},us=ro(Fo);function Mp(l,c,m){var S=c+"";return us(l,V_(S,Zm(Km(S),m)))}function ro(l){var c=0,m=0;return function(){var S=L_(),N=k-(S-m);if(m=S,N>0){if(++c>=B)return arguments[0]}else c=0;return l.apply(t,arguments)}}function Lf(l,c){var m=-1,S=l.length,N=S-1;for(c=c===t?S:c;++m<c;){var F=Gu(m,N),K=l[F];l[F]=l[m],l[m]=K}return l.length=c,l}var Up=Qm(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(Yt,function(m,S,N,F){c.push(N?F.replace(Fa,"$1"):S||m)}),c});function io(l){if(typeof l=="string"||ao(l))return l;var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}function sl(l){if(l!=null){try{return Pc.call(l)}catch{}try{return l+""}catch{}}return""}function Zm(l,c){return ur(ke,function(m){var S="_."+m[0];c&m[1]&&!Ul(l,S)&&l.push(S)}),l.sort()}function ey(l){if(l instanceof Et)return l.clone();var c=new Gr(l.__wrapped__,l.__chain__);return c.__actions__=fi(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}function Df(l,c,m){(m?pi(l,c,m):c===t)?c=1:c=Xn(Nt(c),0);var S=l==null?0:l.length;if(!S||c<1)return[];for(var N=0,F=0,K=fe(ql(S/c));N<S;)K[F++]=Yr(l,N,N+=c);return K}function Vp(l){for(var c=-1,m=l==null?0:l.length,S=0,N=[];++c<m;){var F=l[c];F&&(N[S++]=F)}return N}function Ds(){var l=arguments.length;if(!l)return[];for(var c=fe(l-1),m=arguments[0],S=l;S--;)c[S-1]=arguments[S];return Qs(Tt(m)?fi(m):[m],Un(c,1))}var $t=kt(function(l,c){return pr(l)?Mo(l,Un(c,1,pr,!0)):[]}),Ir=kt(function(l,c){var m=gi(c);return pr(m)&&(m=t),pr(l)?Mo(l,Un(c,1,pr,!0),at(m,2)):[]}),Yn=kt(function(l,c){var m=gi(c);return pr(m)&&(m=t),pr(l)?Mo(l,Un(c,1,pr,!0),t,m):[]});function Dr(l,c,m){var S=l==null?0:l.length;return S?(c=m||c===t?1:Nt(c),Yr(l,c<0?0:c,S)):[]}function cs(l,c,m){var S=l==null?0:l.length;return S?(c=m||c===t?1:Nt(c),c=S-c,Yr(l,0,c<0?0:c)):[]}function rc(l,c){return l&&l.length?Jc(l,at(c,3),!0,!0):[]}function fr(l,c){return l&&l.length?Jc(l,at(c,3),!0):[]}function ah(l,c,m,S){var N=l==null?0:l.length;return N?(m&&typeof m!="number"&&pi(l,c,m)&&(m=0,S=N),Lm(l,c,m,S)):[]}function ol(l,c,m){var S=l==null?0:l.length;if(!S)return-1;var N=m==null?0:Nt(m);return N<0&&(N=Xn(S+N,0)),Vl(l,at(c,3),N)}function lh(l,c,m){var S=l==null?0:l.length;if(!S)return-1;var N=S-1;return m!==t&&(N=Nt(m),N=m<0?Xn(S+N,0):Wr(N,S-1)),Vl(l,at(c,3),N,!0)}function Mf(l){var c=l==null?0:l.length;return c?Un(l,1):[]}function uh(l){var c=l==null?0:l.length;return c?Un(l,Te):[]}function Bi(l,c){var m=l==null?0:l.length;return m?(c=c===t?1:Nt(c),Un(l,c)):[]}function Fp(l){for(var c=-1,m=l==null?0:l.length,S={};++c<m;){var N=l[c];S[N[0]]=N[1]}return S}function eu(l){return l&&l.length?l[0]:t}function ba(l,c,m){var S=l==null?0:l.length;if(!S)return-1;var N=m==null?0:Nt(m);return N<0&&(N=Xn(S+N,0)),ca(l,c,N)}function Uf(l){var c=l==null?0:l.length;return c?Yr(l,0,-1):[]}var Bp=kt(function(l){var c=nn(l,Qu);return c.length&&c[0]===l[0]?ff(c):[]}),al=kt(function(l){var c=gi(l),m=nn(l,Qu);return c===gi(m)?c=t:m.pop(),m.length&&m[0]===l[0]?ff(m,at(c,2)):[]}),Vf=kt(function(l){var c=gi(l),m=nn(l,Qu);return c=typeof c=="function"?c:t,c&&m.pop(),m.length&&m[0]===l[0]?ff(m,t,c):[]});function ll(l,c){return l==null?"":Zh.call(l,c)}function gi(l){var c=l==null?0:l.length;return c?l[c-1]:t}function ch(l,c,m){var S=l==null?0:l.length;if(!S)return-1;var N=S;return m!==t&&(N=Nt(m),N=N<0?Xn(S+N,0):Wr(N,S-1)),c===c?k_(l,c,N):Vl(l,d,N,!0)}function qp(l,c){return l&&l.length?mf(l,Nt(c)):t}var Ff=kt(hh);function hh(l,c){return l&&l.length&&c&&c.length?$n(l,c):l}function mi(l,c,m){return l&&l.length&&c&&c.length?$n(l,c,at(m,2)):l}function ul(l,c,m){return l&&l.length&&c&&c.length?$n(l,c,t,m):l}var so=jo(function(l,c){var m=l==null?0:l.length,S=uf(l,c);return hr(l,nn(c,function(N){return An(N,m)?+N:N}).sort(Ep)),S});function qi(l,c){var m=[];if(!(l&&l.length))return m;var S=-1,N=[],F=l.length;for(c=at(c,3);++S<F;){var K=l[S];c(K,S,l)&&(m.push(K),N.push(S))}return hr(l,N),m}function Bf(l){return l==null?l:ef.call(l)}function jp(l,c,m){var S=l==null?0:l.length;return S?(m&&typeof m!="number"&&pi(l,c,m)?(c=0,m=S):(c=c==null?0:Nt(c),m=m===t?S:Nt(m)),Yr(l,c,m)):[]}function $p(l,c){return Ku(l,c)}function B_(l,c,m){return _f(l,c,at(m,2))}function cl(l,c){var m=l==null?0:l.length;if(m){var S=Ku(l,c);if(S<m&&Aa(l[S],c))return S}return-1}function ty(l,c){return Ku(l,c,!0)}function zp(l,c,m){return _f(l,c,at(m,2),!0)}function tu(l,c){var m=l==null?0:l.length;if(m){var S=Ku(l,c,!0)-1;if(Aa(l[S],c))return S}return-1}function Hp(l){return l&&l.length?mp(l):[]}function nu(l,c){return l&&l.length?mp(l,at(c,2)):[]}function ny(l){var c=l==null?0:l.length;return c?Yr(l,1,c):[]}function ry(l,c,m){return l&&l.length?(c=m||c===t?1:Nt(c),Yr(l,0,c<0?0:c)):[]}function Wp(l,c,m){var S=l==null?0:l.length;return S?(c=m||c===t?1:Nt(c),c=S-c,Yr(l,c<0?0:c,S)):[]}function qf(l,c){return l&&l.length?Jc(l,at(c,3),!1,!0):[]}function q_(l,c){return l&&l.length?Jc(l,at(c,3)):[]}var j_=kt(function(l){return wa(Un(l,1,pr,!0))}),iy=kt(function(l){var c=gi(l);return pr(c)&&(c=t),wa(Un(l,1,pr,!0),at(c,2))}),sy=kt(function(l){var c=gi(l);return c=typeof c=="function"?c:t,wa(Un(l,1,pr,!0),t,c)});function ru(l){return l&&l.length?wa(l):[]}function $_(l,c){return l&&l.length?wa(l,at(c,2)):[]}function ic(l,c){return c=typeof c=="function"?c:t,l&&l.length?wa(l,t,c):[]}function jf(l){if(!(l&&l.length))return[];var c=0;return l=bs(l,function(m){if(pr(m))return c=Xn(m.length,c),!0}),Zt(c,function(m){return nn(l,I(m))})}function Pn(l,c){if(!(l&&l.length))return[];var m=jf(l);return c==null?m:nn(m,function(S){return kn(c,t,S)})}var z_=kt(function(l,c){return pr(l)?Mo(l,c):[]}),oy=kt(function(l){return wf(bs(l,pr))}),H_=kt(function(l){var c=gi(l);return pr(c)&&(c=t),wf(bs(l,pr),at(c,2))}),W_=kt(function(l){var c=gi(l);return c=typeof c=="function"?c:t,wf(bs(l,pr),t,c)}),ay=kt(jf);function ly(l,c){return Qc(l||[],c||[],Wl)}function G_(l,c){return Qc(l||[],c||[],Xl)}var Ms=kt(function(l){var c=l.length,m=c>1?l[c-1]:t;return m=typeof m=="function"?(l.pop(),m):t,Pn(l,m)});function $f(l){var c=M(l);return c.__chain__=!0,c}function K_(l,c){return c(l),l}function oo(l,c){return c(l)}var zf=jo(function(l){var c=l.length,m=c?l[0]:0,S=this.__wrapped__,N=function(F){return uf(F,l)};return c>1||this.__actions__.length||!(S instanceof Et)||!An(m)?this.thru(N):(S=S.slice(m,+m+(c?1:0)),S.__actions__.push({func:oo,args:[N],thisArg:t}),new Gr(S,this.__chain__).thru(function(F){return c&&!F.length&&F.push(t),F}))});function iu(){return $f(this)}function Hf(){return new Gr(this.value(),this.__chain__)}function Gp(){this.__values__===t&&(this.__values__=zE(this.value()));var l=this.__index__>=this.__values__.length,c=l?t:this.__values__[this.__index__++];return{done:l,value:c}}function Kp(){return this}function J_(l){for(var c,m=this;m instanceof Po;){var S=ey(m);S.__index__=0,S.__values__=t,c?N.__wrapped__=S:c=S;var N=S;m=m.__wrapped__}return N.__wrapped__=l,c}function Jp(){var l=this.__wrapped__;if(l instanceof Et){var c=l;return this.__actions__.length&&(c=new Et(this)),c=c.reverse(),c.__actions__.push({func:oo,args:[Bf],thisArg:t}),new Gr(c,this.__chain__)}return this.thru(Bf)}function Q_(){return Ju(this.__wrapped__,this.__actions__)}var uy=Sf(function(l,c,m){Kt.call(l,m)?++l[m]:Do(l,m,1)});function cy(l,c,m){var S=Tt(l)?Ml:$c;return m&&pi(l,c,m)&&(c=t),S(l,at(c,3))}function Wf(l,c){var m=Tt(l)?bs:ap;return m(l,at(c,3))}var Gf=Zl(ol),hy=Zl(lh);function Qp(l,c){return Un(Xf(l,c),1)}function fy(l,c){return Un(Xf(l,c),Te)}function Xp(l,c,m){return m=m===t?1:Nt(m),Un(Xf(l,c),m)}function fh(l,c){var m=Tt(l)?ur:Uo;return m(l,at(c,3))}function Kf(l,c){var m=Tt(l)?Dl:Om;return m(l,at(c,3))}var Jf=Sf(function(l,c,m){Kt.call(l,m)?l[m].push(c):Do(l,m,[c])});function dy(l,c,m,S){l=Us(l)?l:ed(l),m=m&&!S?Nt(m):0;var N=l.length;return m<0&&(m=Xn(N+m,0)),gy(l)?m<=N&&l.indexOf(c,m)>-1:!!N&&ca(l,c,m)>-1}var X_=kt(function(l,c,m){var S=-1,N=typeof c=="function",F=Us(l)?fe(l.length):[];return Uo(l,function(K){F[++S]=N?kn(c,K,m):Ns(K,c,m)}),F}),Qf=Sf(function(l,c,m){Do(l,m,c)});function Xf(l,c){var m=Tt(l)?nn:hp;return m(l,at(c,3))}function dh(l,c,m,S){return l==null?[]:(Tt(c)||(c=c==null?[]:[c]),m=S?t:m,Tt(m)||(m=m==null?[]:[m]),Gc(l,c,m))}var Y_=Sf(function(l,c,m){l[m?0:1].push(c)},function(){return[[],[]]});function Yf(l,c,m){var S=Tt(l)?Xs:le,N=arguments.length<3;return S(l,at(c,4),m,N,Uo)}function s(l,c,m){var S=Tt(l)?jh:le,N=arguments.length<3;return S(l,at(c,4),m,N,Om)}function a(l,c){var m=Tt(l)?bs:ap;return m(l,Ye(at(c,3)))}function h(l){var c=Tt(l)?Lo:Xr;return c(l)}function g(l,c,m){(m?pi(l,c,m):c===t)?c=1:c=Nt(c);var S=Tt(l)?Hl:pp;return S(l,c)}function _(l){var c=Tt(l)?Nm:Os;return c(l)}function T(l){if(l==null)return 0;if(Us(l))return gy(l)?Fl(l):l.length;var c=Or(l);return c==Ot||c==mn?l.size:va(l).length}function L(l,c,m){var S=Tt(l)?Cu:gp;return m&&pi(l,c,m)&&(c=t),S(l,at(c,3))}var W=kt(function(l,c){if(l==null)return[];var m=c.length;return m>1&&pi(l,c[0],c[1])?c=[]:m>2&&pi(c[0],c[1],c[2])&&(c=[c[0]]),Gc(l,Un(c,1),[])}),Y=_n||function(){return ut.Date.now()};function de(l,c){if(typeof c!="function")throw new Is(u);return l=Nt(l),function(){if(--l<1)return c.apply(this,arguments)}}function Pe(l,c,m){return c=m?t:c,c=l&&c==null?l.length:c,qo(l,$,t,t,t,t,c)}function Le(l,c){var m;if(typeof c!="function")throw new Is(u);return l=Nt(l),function(){return--l>0&&(m=c.apply(this,arguments)),l<=1&&(c=t),m}}var Ne=kt(function(l,c,m){var S=D;if(m.length){var N=As(m,Ta(Ne));S|=oe}return qo(l,S,c,m,N)}),ze=kt(function(l,c,m){var S=D|H;if(m.length){var N=As(m,Ta(ze));S|=oe}return qo(c,S,l,m,N)});function Je(l,c,m){c=m?t:c;var S=qo(l,X,t,t,t,t,t,c);return S.placeholder=Je.placeholder,S}function Xe(l,c,m){c=m?t:c;var S=qo(l,se,t,t,t,t,t,c);return S.placeholder=Xe.placeholder,S}function Vn(l,c,m){var S,N,F,K,Z,ae,Ie=0,xe=!1,Oe=!1,je=!0;if(typeof l!="function")throw new Is(u);c=zo(c)||0,zn(m)&&(xe=!!m.leading,Oe="maxWait"in m,F=Oe?Xn(zo(m.maxWait)||0,c):F,je="trailing"in m?!!m.trailing:je);function tt(gr){var Ia=S,au=N;return S=N=t,Ie=gr,K=l.apply(au,Ia),K}function pt(gr){return Ie=gr,Z=nc(Ft,c),xe?tt(gr):K}function Dt(gr){var Ia=gr-ae,au=gr-Ie,rT=c-Ia;return Oe?Wr(rT,F-au):rT}function gt(gr){var Ia=gr-ae,au=gr-Ie;return ae===t||Ia>=c||Ia<0||Oe&&au>=F}function Ft(){var gr=Y();if(gt(gr))return zt(gr);Z=nc(Ft,Dt(gr))}function zt(gr){return Z=t,je&&S?tt(gr):(S=N=t,K)}function lo(){Z!==t&&vp(Z),Ie=0,S=ae=N=Z=t}function hs(){return Z===t?K:zt(Y())}function uo(){var gr=Y(),Ia=gt(gr);if(S=arguments,N=this,ae=gr,Ia){if(Z===t)return pt(ae);if(Oe)return vp(Z),Z=nc(Ft,c),tt(ae)}return Z===t&&(Z=nc(Ft,c)),K}return uo.cancel=lo,uo.flush=hs,uo}var ue=kt(function(l,c){return op(l,1,c)}),re=kt(function(l,c,m){return op(l,zo(c)||0,m)});function ce(l){return qo(l,z)}function Me(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new Is(u);var m=function(){var S=arguments,N=c?c.apply(this,S):S[0],F=m.cache;if(F.has(N))return F.get(N);var K=l.apply(this,S);return m.cache=F.set(N,K)||F,K};return m.cache=new(Me.Cache||Cs),m}Me.Cache=Cs;function Ye(l){if(typeof l!="function")throw new Is(u);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}function it(l){return Le(2,l)}var st=Um(function(l,c){c=c.length==1&&Tt(c[0])?nn(c[0],en(at())):nn(Un(c,1),en(at()));var m=c.length;return kt(function(S){for(var N=-1,F=Wr(S.length,m);++N<F;)S[N]=c[N].call(this,S[N]);return kn(l,this,S)})}),ft=kt(function(l,c){var m=As(c,Ta(ft));return qo(l,oe,t,c,m)}),dr=kt(function(l,c){var m=As(c,Ta(dr));return qo(l,me,t,c,m)}),Jt=jo(function(l,c){return qo(l,q,t,t,t,c)});function hl(l,c){if(typeof l!="function")throw new Is(u);return c=c===t?c:Nt(c),kt(l,c)}function Z_(l,c){if(typeof l!="function")throw new Is(u);return c=c==null?0:Xn(Nt(c),0),kt(function(m){var S=m[c],N=Ea(m,0,c);return S&&Qs(N,S),kn(l,this,N)})}function y2(l,c,m){var S=!0,N=!0;if(typeof l!="function")throw new Is(u);return zn(m)&&(S="leading"in m?!!m.leading:S,N="trailing"in m?!!m.trailing:N),Vn(l,c,{leading:S,maxWait:c,trailing:N})}function _2(l){return Pe(l,1)}function v2(l,c){return ft(Ef(c),l)}function w2(){if(!arguments.length)return[];var l=arguments[0];return Tt(l)?l:[l]}function E2(l){return Vi(l,R)}function T2(l,c){return c=typeof c=="function"?c:t,Vi(l,R,c)}function S2(l){return Vi(l,E|R)}function b2(l,c){return c=typeof c=="function"?c:t,Vi(l,E|R,c)}function A2(l,c){return c==null||jc(l,c,Zr(c))}function Aa(l,c){return l===c||l!==l&&c!==c}var I2=xf(tl),C2=xf(function(l,c){return l>=c}),ph=df(function(){return arguments}())?df:function(l){return Zn(l)&&Kt.call(l,"callee")&&!Qh.call(l,"callee")},Tt=fe.isArray,x2=Sn?en(Sn):Dm;function Us(l){return l!=null&&py(l.length)&&!su(l)}function pr(l){return Zn(l)&&Us(l)}function R2(l){return l===!0||l===!1||Zn(l)&&Nr(l)==Ue}var sc=np||c1,k2=fn?en(fn):_a;function N2(l){return Zn(l)&&l.nodeType===1&&!Yp(l)}function P2(l){if(l==null)return!0;if(Us(l)&&(Tt(l)||typeof l=="string"||typeof l.splice=="function"||sc(l)||Zf(l)||ph(l)))return!l.length;var c=Or(l);if(c==Ot||c==mn)return!l.size;if(Sa(l))return!va(l).length;for(var m in l)if(Kt.call(l,m))return!1;return!0}function O2(l,c){return Ps(l,c)}function L2(l,c,m){m=typeof m=="function"?m:t;var S=m?m(l,c):t;return S===t?Ps(l,c,t,m):!!S}function e1(l){if(!Zn(l))return!1;var c=Nr(l);return c==ot||c==rt||typeof l.message=="string"&&typeof l.name=="string"&&!Yp(l)}function D2(l){return typeof l=="number"&&Du(l)}function su(l){if(!zn(l))return!1;var c=Nr(l);return c==It||c==Pt||c==He||c==wo}function BE(l){return typeof l=="number"&&l==Nt(l)}function py(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=he}function zn(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}function Zn(l){return l!=null&&typeof l=="object"}var qE=Dn?en(Dn):Mm;function M2(l,c){return l===c||Hu(l,c,rh(c))}function U2(l,c,m){return m=typeof m=="function"?m:t,Hu(l,c,rh(c),m)}function V2(l){return jE(l)&&l!=+l}function F2(l){if(F_(l))throw new mt(o);return up(l)}function B2(l){return l===null}function q2(l){return l==null}function jE(l){return typeof l=="number"||Zn(l)&&Nr(l)==cn}function Yp(l){if(!Zn(l)||Nr(l)!=_r)return!1;var c=Ys(l);if(c===null)return!0;var m=Kt.call(c,"constructor")&&c.constructor;return typeof m=="function"&&m instanceof m&&Pc.call(m)==Kh}var t1=ci?en(ci):Hc;function j2(l){return BE(l)&&l>=-9007199254740991&&l<=he}var $E=Oi?en(Oi):Vo;function gy(l){return typeof l=="string"||!Tt(l)&&Zn(l)&&Nr(l)==Si}function ao(l){return typeof l=="symbol"||Zn(l)&&Nr(l)==bi}var Zf=la?en(la):Wc;function $2(l){return l===t}function z2(l){return Zn(l)&&Or(l)==Fr}function H2(l){return Zn(l)&&Nr(l)==Cn}var W2=xf(nl),G2=xf(function(l,c){return l<=c});function zE(l){if(!l)return[];if(Us(l))return gy(l)?ss(l):fi(l);if(da&&l[da])return x_(l[da]());var c=Or(l),m=c==Ot?zh:c==mn?Ga:ed;return m(l)}function ou(l){if(!l)return l===0?l:0;if(l=zo(l),l===Te||l===-1/0){var c=l<0?-1:1;return c*ee}return l===l?l:0}function Nt(l){var c=ou(l),m=c%1;return c===c?m?c-m:c:0}function HE(l){return l?ga(Nt(l),0,j):0}function zo(l){if(typeof l=="number")return l;if(ao(l))return Q;if(zn(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=zn(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=Vt(l);var m=Ba.test(l);return m||So.test(l)?Qe(l.slice(2),m?2:8):ii.test(l)?Q:+l}function WE(l){return eo(l,Vs(l))}function K2(l){return l?ga(Nt(l),-9007199254740991,he):l===0?l:0}function ln(l){return l==null?"":Fi(l)}var J2=Xu(function(l,c){if(Sa(c)||Us(c)){eo(c,Zr(c),l);return}for(var m in c)Kt.call(c,m)&&Wl(l,m,c[m])}),GE=Xu(function(l,c){eo(c,Vs(c),l)}),my=Xu(function(l,c,m,S){eo(c,Vs(c),l,S)}),Q2=Xu(function(l,c,m,S){eo(c,Zr(c),l,S)}),X2=jo(uf);function Y2(l,c){var m=Bu(l);return c==null?m:wn(m,c)}var Z2=kt(function(l,c){l=an(l);var m=-1,S=c.length,N=S>2?c[2]:t;for(N&&pi(c[0],c[1],N)&&(S=1);++m<S;)for(var F=c[m],K=Vs(F),Z=-1,ae=K.length;++Z<ae;){var Ie=K[Z],xe=l[Ie];(xe===t||Aa(xe,ko[Ie])&&!Kt.call(l,Ie))&&(l[Ie]=F[Ie])}return l}),ek=kt(function(l){return l.push(t,xp),kn(KE,t,l)});function tk(l,c){return zr(l,at(c,3),ls)}function nk(l,c){return zr(l,at(c,3),el)}function rk(l,c){return l==null?l:cf(l,at(c,3),Vs)}function ik(l,c){return l==null?l:zc(l,at(c,3),Vs)}function sk(l,c){return l&&ls(l,at(c,3))}function ok(l,c){return l&&el(l,at(c,3))}function ak(l){return l==null?[]:zu(l,Zr(l))}function lk(l){return l==null?[]:zu(l,Vs(l))}function n1(l,c,m){var S=l==null?t:ma(l,c);return S===t?m:S}function uk(l,c){return l!=null&&Op(l,c,ks)}function r1(l,c){return l!=null&&Op(l,c,Kl)}var ck=$m(function(l,c,m){c!=null&&typeof c.toString!="function"&&(c=Oc.call(c)),l[c]=m},s1(Fs)),hk=$m(function(l,c,m){c!=null&&typeof c.toString!="function"&&(c=Oc.call(c)),Kt.call(l,c)?l[c].push(m):l[c]=[m]},at),fk=kt(Ns);function Zr(l){return Us(l)?Oo(l):va(l)}function Vs(l){return Us(l)?Oo(l,!0):cp(l)}function dk(l,c){var m={};return c=at(c,3),ls(l,function(S,N,F){Do(m,c(S,N,F),S)}),m}function pk(l,c){var m={};return c=at(c,3),ls(l,function(S,N,F){Do(m,N,c(S,N,F))}),m}var gk=Xu(function(l,c,m){Jl(l,c,m)}),KE=Xu(function(l,c,m,S){Jl(l,c,m,S)}),mk=jo(function(l,c){var m={};if(l==null)return m;var S=!1;c=nn(c,function(F){return F=Bo(F,l),S||(S=F.length>1),F}),eo(l,th(l),m),S&&(m=Vi(m,E|A|R,Rp));for(var N=c.length;N--;)vf(m,c[N]);return m});function yk(l,c){return JE(l,Ye(at(c)))}var _k=jo(function(l,c){return l==null?{}:dp(l,c)});function JE(l,c){if(l==null)return{};var m=nn(th(l),function(S){return[S]});return c=at(c),rl(l,m,function(S,N){return c(S,N[0])})}function vk(l,c,m){c=Bo(c,l);var S=-1,N=c.length;for(N||(N=1,l=t);++S<N;){var F=l==null?t:l[io(c[S])];F===t&&(S=N,F=m),l=su(F)?F.call(l):F}return l}function wk(l,c,m){return l==null?l:Xl(l,c,m)}function Ek(l,c,m,S){return S=typeof S=="function"?S:t,l==null?l:Xl(l,c,m,S)}var QE=Ip(Zr),XE=Ip(Vs);function Tk(l,c,m){var S=Tt(l),N=S||sc(l)||Zf(l);if(c=at(c,4),m==null){var F=l&&l.constructor;N?m=S?new F:[]:zn(l)?m=su(F)?Bu(Ys(l)):{}:m={}}return(N?ur:ls)(l,function(K,Z,ae){return c(m,K,Z,ae)}),m}function Sk(l,c){return l==null?!0:vf(l,c)}function bk(l,c,m){return l==null?l:_p(l,c,Ef(m))}function Ak(l,c,m,S){return S=typeof S=="function"?S:t,l==null?l:_p(l,c,Ef(m),S)}function ed(l){return l==null?[]:Mn(l,Zr(l))}function Ik(l){return l==null?[]:Mn(l,Vs(l))}function Ck(l,c,m){return m===t&&(m=c,c=t),m!==t&&(m=zo(m),m=m===m?m:0),c!==t&&(c=zo(c),c=c===c?c:0),ga(zo(l),c,m)}function xk(l,c,m){return c=ou(c),m===t?(m=c,c=0):m=ou(m),l=zo(l),lp(l,c,m)}function Rk(l,c,m){if(m&&typeof m!="boolean"&&pi(l,c,m)&&(c=m=t),m===t&&(typeof c=="boolean"?(m=c,c=t):typeof l=="boolean"&&(m=l,l=t)),l===t&&c===t?(l=0,c=1):(l=ou(l),c===t?(c=l,l=0):c=ou(c)),l>c){var S=l;l=c,c=S}if(m||l%1||c%1){var N=Uc();return Wr(l+N*(c-l+ht("1e-"+((N+"").length-1))),c)}return Gu(l,c)}var kk=Yl(function(l,c,m){return c=c.toLowerCase(),l+(m?YE(c):c)});function YE(l){return i1(ln(l).toLowerCase())}function ZE(l){return l=ln(l),l&&l.replace(Kn,gm).replace(za,"")}function Nk(l,c,m){l=ln(l),c=Fi(c);var S=l.length;m=m===t?S:ga(Nt(m),0,S);var N=m;return m-=c.length,m>=0&&l.slice(m,N)==c}function Pk(l){return l=ln(l),l&&wr.test(l)?l.replace(or,mm):l}function Ok(l){return l=ln(l),l&&ni.test(l)?l.replace(ys,"\\$&"):l}var Lk=Yl(function(l,c,m){return l+(m?"-":"")+c.toLowerCase()}),Dk=Yl(function(l,c,m){return l+(m?" ":"")+c.toLowerCase()}),Mk=Sp("toLowerCase");function Uk(l,c,m){l=ln(l),c=Nt(c);var S=c?Fl(l):0;if(!c||S>=c)return l;var N=(c-S)/2;return Zc(Ka(N),m)+l+Zc(ql(N),m)}function Vk(l,c,m){l=ln(l),c=Nt(c);var S=c?Fl(l):0;return c&&S<c?l+Zc(c-S,m):l}function Fk(l,c,m){l=ln(l),c=Nt(c);var S=c?Fl(l):0;return c&&S<c?Zc(c-S,m)+l:l}function Bk(l,c,m){return m||c==null?c=0:c&&(c=+c),Am(ln(l).replace(ts,""),c||0)}function qk(l,c,m){return(m?pi(l,c,m):c===t)?c=1:c=Nt(c),Ql(ln(l),c)}function jk(){var l=arguments,c=ln(l[0]);return l.length<3?c:c.replace(l[1],l[2])}var $k=Yl(function(l,c,m){return l+(m?"_":"")+c.toLowerCase()});function zk(l,c,m){return m&&typeof m!="number"&&pi(l,c,m)&&(c=m=t),m=m===t?j:m>>>0,m?(l=ln(l),l&&(typeof c=="string"||c!=null&&!t1(c))&&(c=Fi(c),!c&&Nu(l))?Ea(ss(l),0,m):l.split(c,m)):[]}var Hk=Yl(function(l,c,m){return l+(m?" ":"")+i1(c)});function Wk(l,c,m){return l=ln(l),m=m==null?0:ga(Nt(m),0,l.length),c=Fi(c),l.slice(m,m+c.length)==c}function Gk(l,c,m){var S=M.templateSettings;m&&pi(l,c,m)&&(c=t),l=ln(l),c=my({},c,S,Cp);var N=my({},c.imports,S.imports,Cp),F=Zr(N),K=Mn(N,F),Z,ae,Ie=0,xe=c.interpolate||Gs,Oe="__p += '",je=Nc((c.escape||Gs).source+"|"+xe.source+"|"+(xe===ms?ri:Gs).source+"|"+(c.evaluate||Gs).source+"|$","g"),tt="//# sourceURL="+(Kt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xo+"]")+`
`;l.replace(je,function(gt,Ft,zt,lo,hs,uo){return zt||(zt=lo),Oe+=l.slice(Ie,uo).replace(Ll,ym),Ft&&(Z=!0,Oe+=`' +
__e(`+Ft+`) +
'`),hs&&(ae=!0,Oe+=`';
`+hs+`;
__p += '`),zt&&(Oe+=`' +
((__t = (`+zt+`)) == null ? '' : __t) +
'`),Ie=uo+gt.length,gt}),Oe+=`';
`;var pt=Kt.call(c,"variable")&&c.variable;if(!pt)Oe=`with (obj) {
`+Oe+`
}
`;else if(To.test(pt))throw new mt(f);Oe=(ae?Oe.replace(ti,""):Oe).replace(vr,"$1").replace(Zi,"$1;"),Oe="function("+(pt||"obj")+`) {
`+(pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Oe+`return __p
}`;var Dt=tT(function(){return Gt(F,tt+"return "+Oe).apply(t,K)});if(Dt.source=Oe,e1(Dt))throw Dt;return Dt}function Kk(l){return ln(l).toLowerCase()}function Jk(l){return ln(l).toUpperCase()}function Qk(l,c,m){if(l=ln(l),l&&(m||c===t))return Vt(l);if(!l||!(c=Fi(c)))return l;var S=ss(l),N=ss(c),F=Li(S,N),K=Wa(S,N)+1;return Ea(S,F,K).join("")}function Xk(l,c,m){if(l=ln(l),l&&(m||c===t))return l.slice(0,Wh(l)+1);if(!l||!(c=Fi(c)))return l;var S=ss(l),N=Wa(S,ss(c))+1;return Ea(S,0,N).join("")}function Yk(l,c,m){if(l=ln(l),l&&(m||c===t))return l.replace(ts,"");if(!l||!(c=Fi(c)))return l;var S=ss(l),N=Li(S,ss(c));return Ea(S,N).join("")}function Zk(l,c){var m=C,S=x;if(zn(c)){var N="separator"in c?c.separator:N;m="length"in c?Nt(c.length):m,S="omission"in c?Fi(c.omission):S}l=ln(l);var F=l.length;if(Nu(l)){var K=ss(l);F=K.length}if(m>=F)return l;var Z=m-Fl(S);if(Z<1)return S;var ae=K?Ea(K,0,Z).join(""):l.slice(0,Z);if(N===t)return ae+S;if(K&&(Z+=ae.length-Z),t1(N)){if(l.slice(Z).search(N)){var Ie,xe=ae;for(N.global||(N=Nc(N.source,ln(yn.exec(N))+"g")),N.lastIndex=0;Ie=N.exec(xe);)var Oe=Ie.index;ae=ae.slice(0,Oe===t?Z:Oe)}}else if(l.indexOf(Fi(N),Z)!=Z){var je=ae.lastIndexOf(N);je>-1&&(ae=ae.slice(0,je))}return ae+S}function eN(l){return l=ln(l),l&&gs.test(l)?l.replace(sr,_m):l}var tN=Yl(function(l,c,m){return l+(m?" ":"")+c.toUpperCase()}),i1=Sp("toUpperCase");function eT(l,c,m){return l=ln(l),c=m?t:c,c===t?C_(l)?N_(l):xu(l):l.match(c)||[]}var tT=kt(function(l,c){try{return kn(l,t,c)}catch(m){return e1(m)?m:new mt(m)}}),nN=jo(function(l,c){return ur(c,function(m){m=io(m),Do(l,m,Ne(l[m],l))}),l});function rN(l){var c=l==null?0:l.length,m=at();return l=c?nn(l,function(S){if(typeof S[1]!="function")throw new Is(u);return[m(S[0]),S[1]]}):[],kt(function(S){for(var N=-1;++N<c;){var F=l[N];if(kn(F[0],this,S))return kn(F[1],this,S)}})}function iN(l){return Pm(Vi(l,E))}function s1(l){return function(){return l}}function sN(l,c){return l==null||l!==l?c:l}var oN=If(),aN=If(!0);function Fs(l){return l}function o1(l){return Wu(typeof l=="function"?l:Vi(l,E))}function lN(l){return gf(Vi(l,E))}function uN(l,c){return bn(l,Vi(c,E))}var cN=kt(function(l,c){return function(m){return Ns(m,l,c)}}),hN=kt(function(l,c){return function(m){return Ns(l,m,c)}});function a1(l,c,m){var S=Zr(c),N=zu(c,S);m==null&&!(zn(c)&&(N.length||!S.length))&&(m=c,c=l,l=this,N=zu(c,Zr(c)));var F=!(zn(m)&&"chain"in m)||!!m.chain,K=su(l);return ur(N,function(Z){var ae=c[Z];l[Z]=ae,K&&(l.prototype[Z]=function(){var Ie=this.__chain__;if(F||Ie){var xe=l(this.__wrapped__),Oe=xe.__actions__=fi(this.__actions__);return Oe.push({func:ae,args:arguments,thisArg:l}),xe.__chain__=Ie,xe}return ae.apply(l,Qs([this.value()],arguments))})}),l}function fN(){return ut._===this&&(ut._=Em),this}function l1(){}function dN(l){return l=Nt(l),kt(function(c){return mf(c,l)})}var pN=Cf(nn),gN=Cf(Ml),mN=Cf(Cu);function nT(l){return We(l)?I(io(l)):Nn(l)}function yN(l){return function(c){return l==null?t:ma(l,c)}}var _N=Ap(),vN=Ap(!0);function u1(){return[]}function c1(){return!1}function wN(){return{}}function EN(){return""}function TN(){return!0}function SN(l,c){if(l=Nt(l),l<1||l>he)return[];var m=j,S=Wr(l,j);c=at(c),l-=j;for(var N=Zt(S,c);++m<l;)c(m);return N}function bN(l){return Tt(l)?nn(l,io):ao(l)?[l]:fi(Up(ln(l)))}function AN(l){var c=++Lu;return ln(l)+c}var IN=Yc(function(l,c){return l+c},0),CN=Pr("ceil"),xN=Yc(function(l,c){return l/c},1),RN=Pr("floor");function kN(l){return l&&l.length?Gl(l,Fs,tl):t}function NN(l,c){return l&&l.length?Gl(l,at(c,2),tl):t}function PN(l){return w(l,Fs)}function ON(l,c){return w(l,at(c,2))}function LN(l){return l&&l.length?Gl(l,Fs,nl):t}function DN(l,c){return l&&l.length?Gl(l,at(c,2),nl):t}var MN=Yc(function(l,c){return l*c},1),UN=Pr("round"),VN=Yc(function(l,c){return l-c},0);function FN(l){return l&&l.length?Ve(l,Fs):0}function BN(l,c){return l&&l.length?Ve(l,at(c,2)):0}return M.after=de,M.ary=Pe,M.assign=J2,M.assignIn=GE,M.assignInWith=my,M.assignWith=Q2,M.at=X2,M.before=Le,M.bind=Ne,M.bindAll=nN,M.bindKey=ze,M.castArray=w2,M.chain=$f,M.chunk=Df,M.compact=Vp,M.concat=Ds,M.cond=rN,M.conforms=iN,M.constant=s1,M.countBy=uy,M.create=Y2,M.curry=Je,M.curryRight=Xe,M.debounce=Vn,M.defaults=Z2,M.defaultsDeep=ek,M.defer=ue,M.delay=re,M.difference=$t,M.differenceBy=Ir,M.differenceWith=Yn,M.drop=Dr,M.dropRight=cs,M.dropRightWhile=rc,M.dropWhile=fr,M.fill=ah,M.filter=Wf,M.flatMap=Qp,M.flatMapDeep=fy,M.flatMapDepth=Xp,M.flatten=Mf,M.flattenDeep=uh,M.flattenDepth=Bi,M.flip=ce,M.flow=oN,M.flowRight=aN,M.fromPairs=Fp,M.functions=ak,M.functionsIn=lk,M.groupBy=Jf,M.initial=Uf,M.intersection=Bp,M.intersectionBy=al,M.intersectionWith=Vf,M.invert=ck,M.invertBy=hk,M.invokeMap=X_,M.iteratee=o1,M.keyBy=Qf,M.keys=Zr,M.keysIn=Vs,M.map=Xf,M.mapKeys=dk,M.mapValues=pk,M.matches=lN,M.matchesProperty=uN,M.memoize=Me,M.merge=gk,M.mergeWith=KE,M.method=cN,M.methodOf=hN,M.mixin=a1,M.negate=Ye,M.nthArg=dN,M.omit=mk,M.omitBy=yk,M.once=it,M.orderBy=dh,M.over=pN,M.overArgs=st,M.overEvery=gN,M.overSome=mN,M.partial=ft,M.partialRight=dr,M.partition=Y_,M.pick=_k,M.pickBy=JE,M.property=nT,M.propertyOf=yN,M.pull=Ff,M.pullAll=hh,M.pullAllBy=mi,M.pullAllWith=ul,M.pullAt=so,M.range=_N,M.rangeRight=vN,M.rearg=Jt,M.reject=a,M.remove=qi,M.rest=hl,M.reverse=Bf,M.sampleSize=g,M.set=wk,M.setWith=Ek,M.shuffle=_,M.slice=jp,M.sortBy=W,M.sortedUniq=Hp,M.sortedUniqBy=nu,M.split=zk,M.spread=Z_,M.tail=ny,M.take=ry,M.takeRight=Wp,M.takeRightWhile=qf,M.takeWhile=q_,M.tap=K_,M.throttle=y2,M.thru=oo,M.toArray=zE,M.toPairs=QE,M.toPairsIn=XE,M.toPath=bN,M.toPlainObject=WE,M.transform=Tk,M.unary=_2,M.union=j_,M.unionBy=iy,M.unionWith=sy,M.uniq=ru,M.uniqBy=$_,M.uniqWith=ic,M.unset=Sk,M.unzip=jf,M.unzipWith=Pn,M.update=bk,M.updateWith=Ak,M.values=ed,M.valuesIn=Ik,M.without=z_,M.words=eT,M.wrap=v2,M.xor=oy,M.xorBy=H_,M.xorWith=W_,M.zip=ay,M.zipObject=ly,M.zipObjectDeep=G_,M.zipWith=Ms,M.entries=QE,M.entriesIn=XE,M.extend=GE,M.extendWith=my,a1(M,M),M.add=IN,M.attempt=tT,M.camelCase=kk,M.capitalize=YE,M.ceil=CN,M.clamp=Ck,M.clone=E2,M.cloneDeep=S2,M.cloneDeepWith=b2,M.cloneWith=T2,M.conformsTo=A2,M.deburr=ZE,M.defaultTo=sN,M.divide=xN,M.endsWith=Nk,M.eq=Aa,M.escape=Pk,M.escapeRegExp=Ok,M.every=cy,M.find=Gf,M.findIndex=ol,M.findKey=tk,M.findLast=hy,M.findLastIndex=lh,M.findLastKey=nk,M.floor=RN,M.forEach=fh,M.forEachRight=Kf,M.forIn=rk,M.forInRight=ik,M.forOwn=sk,M.forOwnRight=ok,M.get=n1,M.gt=I2,M.gte=C2,M.has=uk,M.hasIn=r1,M.head=eu,M.identity=Fs,M.includes=dy,M.indexOf=ba,M.inRange=xk,M.invoke=fk,M.isArguments=ph,M.isArray=Tt,M.isArrayBuffer=x2,M.isArrayLike=Us,M.isArrayLikeObject=pr,M.isBoolean=R2,M.isBuffer=sc,M.isDate=k2,M.isElement=N2,M.isEmpty=P2,M.isEqual=O2,M.isEqualWith=L2,M.isError=e1,M.isFinite=D2,M.isFunction=su,M.isInteger=BE,M.isLength=py,M.isMap=qE,M.isMatch=M2,M.isMatchWith=U2,M.isNaN=V2,M.isNative=F2,M.isNil=q2,M.isNull=B2,M.isNumber=jE,M.isObject=zn,M.isObjectLike=Zn,M.isPlainObject=Yp,M.isRegExp=t1,M.isSafeInteger=j2,M.isSet=$E,M.isString=gy,M.isSymbol=ao,M.isTypedArray=Zf,M.isUndefined=$2,M.isWeakMap=z2,M.isWeakSet=H2,M.join=ll,M.kebabCase=Lk,M.last=gi,M.lastIndexOf=ch,M.lowerCase=Dk,M.lowerFirst=Mk,M.lt=W2,M.lte=G2,M.max=kN,M.maxBy=NN,M.mean=PN,M.meanBy=ON,M.min=LN,M.minBy=DN,M.stubArray=u1,M.stubFalse=c1,M.stubObject=wN,M.stubString=EN,M.stubTrue=TN,M.multiply=MN,M.nth=qp,M.noConflict=fN,M.noop=l1,M.now=Y,M.pad=Uk,M.padEnd=Vk,M.padStart=Fk,M.parseInt=Bk,M.random=Rk,M.reduce=Yf,M.reduceRight=s,M.repeat=qk,M.replace=jk,M.result=vk,M.round=UN,M.runInContext=ie,M.sample=h,M.size=T,M.snakeCase=$k,M.some=L,M.sortedIndex=$p,M.sortedIndexBy=B_,M.sortedIndexOf=cl,M.sortedLastIndex=ty,M.sortedLastIndexBy=zp,M.sortedLastIndexOf=tu,M.startCase=Hk,M.startsWith=Wk,M.subtract=VN,M.sum=FN,M.sumBy=BN,M.template=Gk,M.times=SN,M.toFinite=ou,M.toInteger=Nt,M.toLength=HE,M.toLower=Kk,M.toNumber=zo,M.toSafeInteger=K2,M.toString=ln,M.toUpper=Jk,M.trim=Qk,M.trimEnd=Xk,M.trimStart=Yk,M.truncate=Zk,M.unescape=eN,M.uniqueId=AN,M.upperCase=tN,M.upperFirst=i1,M.each=fh,M.eachRight=Kf,M.first=eu,a1(M,function(){var l={};return ls(M,function(c,m){Kt.call(M.prototype,m)||(l[m]=c)}),l}(),{chain:!1}),M.VERSION=r,ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){M[l].placeholder=M}),ur(["drop","take"],function(l,c){Et.prototype[l]=function(m){m=m===t?1:Xn(Nt(m),0);var S=this.__filtered__&&!c?new Et(this):this.clone();return S.__filtered__?S.__takeCount__=Wr(m,S.__takeCount__):S.__views__.push({size:Wr(m,j),type:l+(S.__dir__<0?"Right":"")}),S},Et.prototype[l+"Right"]=function(m){return this.reverse()[l](m).reverse()}}),ur(["filter","map","takeWhile"],function(l,c){var m=c+1,S=m==Se||m==ve;Et.prototype[l]=function(N){var F=this.clone();return F.__iteratees__.push({iteratee:at(N,3),type:m}),F.__filtered__=F.__filtered__||S,F}}),ur(["head","last"],function(l,c){var m="take"+(c?"Right":"");Et.prototype[l]=function(){return this[m](1).value()[0]}}),ur(["initial","tail"],function(l,c){var m="drop"+(c?"":"Right");Et.prototype[l]=function(){return this.__filtered__?new Et(this):this[m](1)}}),Et.prototype.compact=function(){return this.filter(Fs)},Et.prototype.find=function(l){return this.filter(l).head()},Et.prototype.findLast=function(l){return this.reverse().find(l)},Et.prototype.invokeMap=kt(function(l,c){return typeof l=="function"?new Et(this):this.map(function(m){return Ns(m,l,c)})}),Et.prototype.reject=function(l){return this.filter(Ye(at(l)))},Et.prototype.slice=function(l,c){l=Nt(l);var m=this;return m.__filtered__&&(l>0||c<0)?new Et(m):(l<0?m=m.takeRight(-l):l&&(m=m.drop(l)),c!==t&&(c=Nt(c),m=c<0?m.dropRight(-c):m.take(c-l)),m)},Et.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Et.prototype.toArray=function(){return this.take(j)},ls(Et.prototype,function(l,c){var m=/^(?:filter|find|map|reject)|While$/.test(c),S=/^(?:head|last)$/.test(c),N=M[S?"take"+(c=="last"?"Right":""):c],F=S||/^find/.test(c);N&&(M.prototype[c]=function(){var K=this.__wrapped__,Z=S?[1]:arguments,ae=K instanceof Et,Ie=Z[0],xe=ae||Tt(K),Oe=function(Ft){var zt=N.apply(M,Qs([Ft],Z));return S&&je?zt[0]:zt};xe&&m&&typeof Ie=="function"&&Ie.length!=1&&(ae=xe=!1);var je=this.__chain__,tt=!!this.__actions__.length,pt=F&&!je,Dt=ae&&!tt;if(!F&&xe){K=Dt?K:new Et(this);var gt=l.apply(K,Z);return gt.__actions__.push({func:oo,args:[Oe],thisArg:t}),new Gr(gt,je)}return pt&&Dt?l.apply(this,Z):(gt=this.thru(Oe),pt?S?gt.value()[0]:gt.value():gt)})}),ur(["pop","push","shift","sort","splice","unshift"],function(l){var c=ha[l],m=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",S=/^(?:pop|shift)$/.test(l);M.prototype[l]=function(){var N=arguments;if(S&&!this.__chain__){var F=this.value();return c.apply(Tt(F)?F:[],N)}return this[m](function(K){return c.apply(Tt(K)?K:[],N)})}}),ls(Et.prototype,function(l,c){var m=M[c];if(m){var S=m.name+"";Kt.call(Vu,S)||(Vu[S]=[]),Vu[S].push({name:c,func:m})}}),Vu[Zu(t,H).name]=[{name:"wrapper",func:t}],Et.prototype.clone=rf,Et.prototype.reverse=ip,Et.prototype.value=qu,M.prototype.at=zf,M.prototype.chain=iu,M.prototype.commit=Hf,M.prototype.next=Gp,M.prototype.plant=J_,M.prototype.reverse=Jp,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=Q_,M.prototype.first=M.prototype.head,da&&(M.prototype[da]=Kp),M},Pu=P_();Mt?((Mt.exports=Pu)._=Pu,Rt._=Pu):ut._=Pu}).call(dj)}(mg,mg.exports)),mg.exports}var gj=pj();function mj({note:n,setStudyShown:e,setShareShown:t,toggleSidebarCollapsed:r}){const[i,o]=Be.useState(null),u=Be.useCallback(E=>{o(E)},[]),[f,p]=Be.useState(!1),y=Be.useRef(!1),v=gj.throttle(()=>{if(i&&y.current&&n.documentRef){const E=n.export(i.getContents());console.log("Saving content to Firestore:",E),q5(n.documentRef,{content:E},{merge:!0}).then(()=>{y.current=!1}).catch(console.error)}},1e3);return Be.useEffect(()=>{if(i&&n.documentRef){B5(n.documentRef).then(A=>{if(A.exists()){const R=n.import(A.data());R&&(console.log("Document found, loading content:",R),i.setContents(R))}else console.log("No document found, starting with empty editor.")}).catch(console.error);const E=j5(n.documentRef,A=>{var R;if(A.exists()&&y.current===!1){const P=n.import(A.data());if(!f){const O=((R=i.getSelection())==null?void 0:R.index)||0;i.setContents(P,"silent"),i.setSelection(O)}}});return i.on("text-change",(A,R,P)=>{P==="user"&&(y.current=!0,p(!0),v(),setTimeout(()=>p(!1),5e3))}),()=>{E(),i.off("text-change")}}},[i,n.documentRef]),console.log(n.import()),J.jsxs("main",{children:[J.jsx(W7,{note:n,quill:i,setStudyShown:e,setShareShown:t,toggleSidebarCollapsed:r}),J.jsx(pR,{defaultValue:n.import(),ref:u},n.id)]})}function yj({api:n}){const[e,t]=Be.useState(null),[r,i]=Be.useState(null),[o,u]=Be.useState(!1),[f,p]=Be.useState(!1),[y,v]=Be.useState(!1);return Be.useEffect(()=>{r!==null&&e&&e.id!==r?(t(null),n.getNote(r).then(t).catch(console.error)):r===null&&e===null?t(new qv(null,n)):r===null&&e&&e.id!==null&&t(new qv(null,n))},[r]),J.jsxs("div",{className:"note-editor",children:[J.jsx(B7,{note:e,setId:i,api:n,collapsed:f}),e!==null&&o&&J.jsx($7,{note:e,setStudyShown:u}),e!==null&&y&&J.jsx(z7,{note:e,setShareShown:v}),e===null&&J.jsxs("main",{children:[J.jsx("div",{className:"toolbar"}),J.jsx("p",{style:{marginLeft:16},children:"Loading..."})]}),e!==null&&J.jsx(mj,{note:e,setShareShown:v,setStudyShown:u,toggleSidebarCollapsed:()=>p(!f)})]})}function gR(n,e){return function(){return n.apply(e,arguments)}}const{toString:_j}=Object.prototype,{getPrototypeOf:AE}=Object,__=(n=>e=>{const t=_j.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Va=n=>(n=n.toLowerCase(),e=>__(e)===n),v_=n=>e=>typeof e===n,{isArray:Jd}=Array,Wg=v_("undefined");function vj(n){return n!==null&&!Wg(n)&&n.constructor!==null&&!Wg(n.constructor)&&_o(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const mR=Va("ArrayBuffer");function wj(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&mR(n.buffer),e}const Ej=v_("string"),_o=v_("function"),yR=v_("number"),w_=n=>n!==null&&typeof n=="object",Tj=n=>n===!0||n===!1,n0=n=>{if(__(n)!=="object")return!1;const e=AE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Sj=Va("Date"),bj=Va("File"),Aj=Va("Blob"),Ij=Va("FileList"),Cj=n=>w_(n)&&_o(n.pipe),xj=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_o(n.append)&&((e=__(n))==="formdata"||e==="object"&&_o(n.toString)&&n.toString()==="[object FormData]"))},Rj=Va("URLSearchParams"),[kj,Nj,Pj,Oj]=["ReadableStream","Request","Response","Headers"].map(Va),Lj=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Jd(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let f;for(r=0;r<u;r++)f=o[r],e.call(null,n[f],f,n)}}function _R(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const yh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vR=n=>!Wg(n)&&n!==yh;function Yv(){const{caseless:n}=vR(this)&&this||{},e={},t=(r,i)=>{const o=n&&_R(e,i)||i;n0(e[o])&&n0(r)?e[o]=Yv(e[o],r):n0(r)?e[o]=Yv({},r):Jd(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cm(arguments[r],t);return e}const Dj=(n,e,t,{allOwnKeys:r}={})=>(cm(e,(i,o)=>{t&&_o(i)?n[o]=gR(i,t):n[o]=i},{allOwnKeys:r}),n),Mj=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Uj=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Vj=(n,e,t,r)=>{let i,o,u;const f={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=t!==!1&&AE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Fj=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Bj=n=>{if(!n)return null;if(Jd(n))return n;let e=n.length;if(!yR(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},qj=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&AE(Uint8Array)),jj=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},$j=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},zj=Va("HTMLFormElement"),Hj=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Qb=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Wj=Va("RegExp"),wR=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};cm(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},Gj=n=>{wR(n,(e,t)=>{if(_o(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(_o(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Kj=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Jd(n)?r(n):r(String(n).split(e)),t},Jj=()=>{},Qj=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,K1="abcdefghijklmnopqrstuvwxyz",Xb="0123456789",ER={DIGIT:Xb,ALPHA:K1,ALPHA_DIGIT:K1+K1.toUpperCase()+Xb},Xj=(n=16,e=ER.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function Yj(n){return!!(n&&_o(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Zj=n=>{const e=new Array(10),t=(r,i)=>{if(w_(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Jd(r)?[]:{};return cm(r,(u,f)=>{const p=t(u,i+1);!Wg(p)&&(o[f]=p)}),e[i]=void 0,o}}return r};return t(n,0)},e$=Va("AsyncFunction"),t$=n=>n&&(w_(n)||_o(n))&&_o(n.then)&&_o(n.catch),TR=((n,e)=>n?setImmediate:e?((t,r)=>(yh.addEventListener("message",({source:i,data:o})=>{i===yh&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),yh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_o(yh.postMessage)),n$=typeof queueMicrotask<"u"?queueMicrotask.bind(yh):typeof process<"u"&&process.nextTick||TR,ye={isArray:Jd,isArrayBuffer:mR,isBuffer:vj,isFormData:xj,isArrayBufferView:wj,isString:Ej,isNumber:yR,isBoolean:Tj,isObject:w_,isPlainObject:n0,isReadableStream:kj,isRequest:Nj,isResponse:Pj,isHeaders:Oj,isUndefined:Wg,isDate:Sj,isFile:bj,isBlob:Aj,isRegExp:Wj,isFunction:_o,isStream:Cj,isURLSearchParams:Rj,isTypedArray:qj,isFileList:Ij,forEach:cm,merge:Yv,extend:Dj,trim:Lj,stripBOM:Mj,inherits:Uj,toFlatObject:Vj,kindOf:__,kindOfTest:Va,endsWith:Fj,toArray:Bj,forEachEntry:jj,matchAll:$j,isHTMLForm:zj,hasOwnProperty:Qb,hasOwnProp:Qb,reduceDescriptors:wR,freezeMethods:Gj,toObjectSet:Kj,toCamelCase:Hj,noop:Jj,toFiniteNumber:Qj,findKey:_R,global:yh,isContextDefined:vR,ALPHABET:ER,generateString:Xj,isSpecCompliantForm:Yj,toJSONObject:Zj,isAsyncFn:e$,isThenable:t$,setImmediate:TR,asap:n$};function At(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ye.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const SR=At.prototype,bR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{bR[n]={value:n}});Object.defineProperties(At,bR);Object.defineProperty(SR,"isAxiosError",{value:!0});At.from=(n,e,t,r,i,o)=>{const u=Object.create(SR);return ye.toFlatObject(n,u,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),At.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const r$=null;function Zv(n){return ye.isPlainObject(n)||ye.isArray(n)}function AR(n){return ye.endsWith(n,"[]")?n.slice(0,-2):n}function Yb(n,e,t){return n?n.concat(e).map(function(i,o){return i=AR(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function i$(n){return ye.isArray(n)&&!n.some(Zv)}const s$=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function E_(n,e,t){if(!ye.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ye.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,D){return!ye.isUndefined(D[O])});const r=t.metaTokens,i=t.visitor||v,o=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(i))throw new TypeError("visitor must be a function");function y(P){if(P===null)return"";if(ye.isDate(P))return P.toISOString();if(!p&&ye.isBlob(P))throw new At("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(P)||ye.isTypedArray(P)?p&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function v(P,O,D){let H=P;if(P&&!D&&typeof P=="object"){if(ye.endsWith(O,"{}"))O=r?O:O.slice(0,-2),P=JSON.stringify(P);else if(ye.isArray(P)&&i$(P)||(ye.isFileList(P)||ye.endsWith(O,"[]"))&&(H=ye.toArray(P)))return O=AR(O),H.forEach(function(X,se){!(ye.isUndefined(X)||X===null)&&e.append(u===!0?Yb([O],se,o):u===null?O:O+"[]",y(X))}),!1}return Zv(P)?!0:(e.append(Yb(D,O,o),y(P)),!1)}const E=[],A=Object.assign(s$,{defaultVisitor:v,convertValue:y,isVisitable:Zv});function R(P,O){if(!ye.isUndefined(P)){if(E.indexOf(P)!==-1)throw Error("Circular reference detected in "+O.join("."));E.push(P),ye.forEach(P,function(H,te){(!(ye.isUndefined(H)||H===null)&&i.call(e,H,ye.isString(te)?te.trim():te,O,A))===!0&&R(H,O?O.concat(te):[te])}),E.pop()}}if(!ye.isObject(n))throw new TypeError("data must be an object");return R(n),e}function Zb(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function IE(n,e){this._pairs=[],n&&E_(n,this,e)}const IR=IE.prototype;IR.append=function(e,t){this._pairs.push([e,t])};IR.toString=function(e){const t=e?function(r){return e.call(this,r,Zb)}:Zb;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function o$(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function CR(n,e,t){if(!e)return n;const r=t&&t.encode||o$;ye.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=ye.isURLSearchParams(e)?e.toString():new IE(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class eA{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const xR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a$=typeof URLSearchParams<"u"?URLSearchParams:IE,l$=typeof FormData<"u"?FormData:null,u$=typeof Blob<"u"?Blob:null,c$={isBrowser:!0,classes:{URLSearchParams:a$,FormData:l$,Blob:u$},protocols:["http","https","file","blob","url","data"]},CE=typeof window<"u"&&typeof document<"u",ew=typeof navigator=="object"&&navigator||void 0,h$=CE&&(!ew||["ReactNative","NativeScript","NS"].indexOf(ew.product)<0),f$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",d$=CE&&window.location.href||"http://localhost",p$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CE,hasStandardBrowserEnv:h$,hasStandardBrowserWebWorkerEnv:f$,navigator:ew,origin:d$},Symbol.toStringTag,{value:"Module"})),Gi={...p$,...c$};function g$(n,e){return E_(n,new Gi.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Gi.isNode&&ye.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function m$(n){return ye.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function y$(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function RR(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),p=o>=t.length;return u=!u&&ye.isArray(i)?i.length:u,p?(ye.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!f):((!i[u]||!ye.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&ye.isArray(i[u])&&(i[u]=y$(i[u])),!f)}if(ye.isFormData(n)&&ye.isFunction(n.entries)){const t={};return ye.forEachEntry(n,(r,i)=>{e(m$(r),i,t,0)}),t}return null}function _$(n,e,t){if(ye.isString(n))try{return(e||JSON.parse)(n),ye.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const hm={transitional:xR,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=ye.isObject(e);if(o&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return i?JSON.stringify(RR(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return g$(e,this.formSerializer).toString();if((f=ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return E_(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),_$(e)):e}],transformResponse:[function(e){const t=this.transitional||hm.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?At.from(f,At.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gi.classes.FormData,Blob:Gi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],n=>{hm.headers[n]={}});const v$=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w$=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&v$[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},tA=Symbol("internals");function sg(n){return n&&String(n).trim().toLowerCase()}function r0(n){return n===!1||n==null?n:ye.isArray(n)?n.map(r0):String(n)}function E$(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const T$=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function J1(n,e,t,r,i){if(ye.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ye.isString(e)){if(ye.isString(r))return e.indexOf(r)!==-1;if(ye.isRegExp(r))return r.test(e)}}function S$(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function b$(n,e){const t=ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}class js{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(f,p,y){const v=sg(p);if(!v)throw new Error("header name must be a non-empty string");const E=ye.findKey(i,v);(!E||i[E]===void 0||y===!0||y===void 0&&i[E]!==!1)&&(i[E||p]=r0(f))}const u=(f,p)=>ye.forEach(f,(y,v)=>o(y,v,p));if(ye.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(ye.isString(e)&&(e=e.trim())&&!T$(e))u(w$(e),t);else if(ye.isHeaders(e))for(const[f,p]of e.entries())o(p,f,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=sg(e),e){const r=ye.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return E$(i);if(ye.isFunction(t))return t.call(this,i,r);if(ye.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=sg(e),e){const r=ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||J1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=sg(u),u){const f=ye.findKey(r,u);f&&(!t||J1(r,r[f],f,t))&&(delete r[f],i=!0)}}return ye.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||J1(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return ye.forEach(this,(i,o)=>{const u=ye.findKey(r,o);if(u){t[u]=r0(i),delete t[o];return}const f=e?S$(o):String(o).trim();f!==o&&delete t[o],t[f]=r0(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ye.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[tA]=this[tA]={accessors:{}}).accessors,i=this.prototype;function o(u){const f=sg(u);r[f]||(b$(i,u),r[f]=!0)}return ye.isArray(e)?e.forEach(o):o(e),this}}js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(js.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ye.freezeMethods(js);function Q1(n,e){const t=this||hm,r=e||t,i=js.from(r.headers);let o=r.data;return ye.forEach(n,function(f){o=f.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function kR(n){return!!(n&&n.__CANCEL__)}function Qd(n,e,t){At.call(this,n??"canceled",At.ERR_CANCELED,e,t),this.name="CanceledError"}ye.inherits(Qd,At,{__CANCEL__:!0});function NR(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new At("Request failed with status code "+t.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function A$(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function I$(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),v=r[o];u||(u=y),t[i]=p,r[i]=y;let E=o,A=0;for(;E!==i;)A+=t[E++],E=E%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),y-u<e)return;const R=v&&y-v;return R?Math.round(A*1e3/R):void 0}}function C$(n,e){let t=0,r=1e3/e,i,o;const u=(y,v=Date.now())=>{t=v,i=null,o&&(clearTimeout(o),o=null),n.apply(null,y)};return[(...y)=>{const v=Date.now(),E=v-t;E>=r?u(y,v):(i=y,o||(o=setTimeout(()=>{o=null,u(i)},r-E)))},()=>i&&u(i)]}const R0=(n,e,t=3)=>{let r=0;const i=I$(50,250);return C$(o=>{const u=o.loaded,f=o.lengthComputable?o.total:void 0,p=u-r,y=i(p),v=u<=f;r=u;const E={loaded:u,total:f,progress:f?u/f:void 0,bytes:p,rate:y||void 0,estimated:y&&f&&v?(f-u)/y:void 0,event:o,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(E)},t)},nA=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},rA=n=>(...e)=>ye.asap(()=>n(...e)),x$=Gi.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Gi.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Gi.origin),Gi.navigator&&/(msie|trident)/i.test(Gi.navigator.userAgent)):()=>!0,R$=Gi.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];ye.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),ye.isString(r)&&u.push("path="+r),ye.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function N$(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function PR(n,e){return n&&!k$(e)?N$(n,e):e}const iA=n=>n instanceof js?{...n}:n;function Rh(n,e){e=e||{};const t={};function r(y,v,E,A){return ye.isPlainObject(y)&&ye.isPlainObject(v)?ye.merge.call({caseless:A},y,v):ye.isPlainObject(v)?ye.merge({},v):ye.isArray(v)?v.slice():v}function i(y,v,E,A){if(ye.isUndefined(v)){if(!ye.isUndefined(y))return r(void 0,y,E,A)}else return r(y,v,E,A)}function o(y,v){if(!ye.isUndefined(v))return r(void 0,v)}function u(y,v){if(ye.isUndefined(v)){if(!ye.isUndefined(y))return r(void 0,y)}else return r(void 0,v)}function f(y,v,E){if(E in e)return r(y,v);if(E in n)return r(void 0,y)}const p={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(y,v,E)=>i(iA(y),iA(v),E,!0)};return ye.forEach(Object.keys(Object.assign({},n,e)),function(v){const E=p[v]||i,A=E(n[v],e[v],v);ye.isUndefined(A)&&E!==f||(t[v]=A)}),t}const OR=n=>{const e=Rh({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:f}=e;e.headers=u=js.from(u),e.url=CR(PR(e.baseURL,e.url),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(ye.isFormData(t)){if(Gi.hasStandardBrowserEnv||Gi.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[y,...v]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];u.setContentType([y||"multipart/form-data",...v].join("; "))}}if(Gi.hasStandardBrowserEnv&&(r&&ye.isFunction(r)&&(r=r(e)),r||r!==!1&&x$(e.url))){const y=i&&o&&R$.read(o);y&&u.set(i,y)}return e},P$=typeof XMLHttpRequest<"u",O$=P$&&function(n){return new Promise(function(t,r){const i=OR(n);let o=i.data;const u=js.from(i.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:y}=i,v,E,A,R,P;function O(){R&&R(),P&&P(),i.cancelToken&&i.cancelToken.unsubscribe(v),i.signal&&i.signal.removeEventListener("abort",v)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function H(){if(!D)return;const X=js.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),oe={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:X,config:n,request:D};NR(function($){t($),O()},function($){r($),O()},oe),D=null}"onloadend"in D?D.onloadend=H:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(H)},D.onabort=function(){D&&(r(new At("Request aborted",At.ECONNABORTED,n,D)),D=null)},D.onerror=function(){r(new At("Network Error",At.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let se=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const oe=i.transitional||xR;i.timeoutErrorMessage&&(se=i.timeoutErrorMessage),r(new At(se,oe.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,n,D)),D=null},o===void 0&&u.setContentType(null),"setRequestHeader"in D&&ye.forEach(u.toJSON(),function(se,oe){D.setRequestHeader(oe,se)}),ye.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),f&&f!=="json"&&(D.responseType=i.responseType),y&&([A,P]=R0(y,!0),D.addEventListener("progress",A)),p&&D.upload&&([E,R]=R0(p),D.upload.addEventListener("progress",E),D.upload.addEventListener("loadend",R)),(i.cancelToken||i.signal)&&(v=X=>{D&&(r(!X||X.type?new Qd(null,n,D):X),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(v),i.signal&&(i.signal.aborted?v():i.signal.addEventListener("abort",v)));const te=A$(i.url);if(te&&Gi.protocols.indexOf(te)===-1){r(new At("Unsupported protocol "+te+":",At.ERR_BAD_REQUEST,n));return}D.send(o||null)})},L$=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(y){if(!i){i=!0,f();const v=y instanceof Error?y:this.reason;r.abort(v instanceof At?v:new Qd(v instanceof Error?v.message:v))}};let u=e&&setTimeout(()=>{u=null,o(new At(`timeout ${e} of ms exceeded`,At.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(o):y.removeEventListener("abort",o)}),n=null)};n.forEach(y=>y.addEventListener("abort",o));const{signal:p}=r;return p.unsubscribe=()=>ye.asap(f),p}},D$=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},M$=async function*(n,e){for await(const t of U$(n))yield*D$(t,e)},U$=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},sA=(n,e,t,r)=>{const i=M$(n,e);let o=0,u,f=p=>{u||(u=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:y,value:v}=await i.next();if(y){f(),p.close();return}let E=v.byteLength;if(t){let A=o+=E;t(A)}p.enqueue(new Uint8Array(v))}catch(y){throw f(y),y}},cancel(p){return f(p),i.return()}},{highWaterMark:2})},T_=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",LR=T_&&typeof ReadableStream=="function",V$=T_&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),DR=(n,...e)=>{try{return!!n(...e)}catch{return!1}},F$=LR&&DR(()=>{let n=!1;const e=new Request(Gi.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),oA=64*1024,tw=LR&&DR(()=>ye.isReadableStream(new Response("").body)),k0={stream:tw&&(n=>n.body)};T_&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!k0[e]&&(k0[e]=ye.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new At(`Response type '${e}' is not supported`,At.ERR_NOT_SUPPORT,r)})})})(new Response);const B$=async n=>{if(n==null)return 0;if(ye.isBlob(n))return n.size;if(ye.isSpecCompliantForm(n))return(await new Request(Gi.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(n)||ye.isArrayBuffer(n))return n.byteLength;if(ye.isURLSearchParams(n)&&(n=n+""),ye.isString(n))return(await V$(n)).byteLength},q$=async(n,e)=>{const t=ye.toFiniteNumber(n.getContentLength());return t??B$(e)},j$=T_&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:f,onUploadProgress:p,responseType:y,headers:v,withCredentials:E="same-origin",fetchOptions:A}=OR(n);y=y?(y+"").toLowerCase():"text";let R=L$([i,o&&o.toAbortSignal()],u),P;const O=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let D;try{if(p&&F$&&t!=="get"&&t!=="head"&&(D=await q$(v,r))!==0){let oe=new Request(e,{method:"POST",body:r,duplex:"half"}),me;if(ye.isFormData(r)&&(me=oe.headers.get("content-type"))&&v.setContentType(me),oe.body){const[$,q]=nA(D,R0(rA(p)));r=sA(oe.body,oA,$,q)}}ye.isString(E)||(E=E?"include":"omit");const H="credentials"in Request.prototype;P=new Request(e,{...A,signal:R,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:r,duplex:"half",credentials:H?E:void 0});let te=await fetch(P);const X=tw&&(y==="stream"||y==="response");if(tw&&(f||X&&O)){const oe={};["status","statusText","headers"].forEach(z=>{oe[z]=te[z]});const me=ye.toFiniteNumber(te.headers.get("content-length")),[$,q]=f&&nA(me,R0(rA(f),!0))||[];te=new Response(sA(te.body,oA,$,()=>{q&&q(),O&&O()}),oe)}y=y||"text";let se=await k0[ye.findKey(k0,y)||"text"](te,n);return!X&&O&&O(),await new Promise((oe,me)=>{NR(oe,me,{data:se,headers:js.from(te.headers),status:te.status,statusText:te.statusText,config:n,request:P})})}catch(H){throw O&&O(),H&&H.name==="TypeError"&&/fetch/i.test(H.message)?Object.assign(new At("Network Error",At.ERR_NETWORK,n,P),{cause:H.cause||H}):At.from(H,H&&H.code,n,P)}}),nw={http:r$,xhr:O$,fetch:j$};ye.forEach(nw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const aA=n=>`- ${n}`,$$=n=>ye.isFunction(n)||n===null||n===!1,MR={getAdapter:n=>{n=ye.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!$$(t)&&(r=nw[(u=String(t)).toLowerCase()],r===void 0))throw new At(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(aA).join(`
`):" "+aA(o[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:nw};function X1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Qd(null,n)}function lA(n){return X1(n),n.headers=js.from(n.headers),n.data=Q1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),MR.getAdapter(n.adapter||hm.adapter)(n).then(function(r){return X1(n),r.data=Q1.call(n,n.transformResponse,r),r.headers=js.from(r.headers),r},function(r){return kR(r)||(X1(n),r&&r.response&&(r.response.data=Q1.call(n,n.transformResponse,r.response),r.response.headers=js.from(r.response.headers))),Promise.reject(r)})}const UR="1.7.9",S_={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{S_[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const uA={};S_.transitional=function(e,t,r){function i(o,u){return"[Axios v"+UR+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,f)=>{if(e===!1)throw new At(i(u," has been removed"+(t?" in "+t:"")),At.ERR_DEPRECATED);return t&&!uA[u]&&(uA[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,f):!0}};S_.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function z$(n,e,t){if(typeof n!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const f=n[o],p=f===void 0||u(f,o,n);if(p!==!0)throw new At("option "+o+" must be "+p,At.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new At("Unknown option "+o,At.ERR_BAD_OPTION)}}const i0={assertOptions:z$,validators:S_},dl=i0.validators;class wh{constructor(e){this.defaults=e,this.interceptors={request:new eA,response:new eA}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Rh(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&i0.assertOptions(r,{silentJSONParsing:dl.transitional(dl.boolean),forcedJSONParsing:dl.transitional(dl.boolean),clarifyTimeoutError:dl.transitional(dl.boolean)},!1),i!=null&&(ye.isFunction(i)?t.paramsSerializer={serialize:i}:i0.assertOptions(i,{encode:dl.function,serialize:dl.function},!0)),i0.assertOptions(t,{baseUrl:dl.spelling("baseURL"),withXsrfToken:dl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&ye.merge(o.common,o[t.method]);o&&ye.forEach(["delete","get","head","post","put","patch","common"],P=>{delete o[P]}),t.headers=js.concat(u,o);const f=[];let p=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(t)===!1||(p=p&&O.synchronous,f.unshift(O.fulfilled,O.rejected))});const y=[];this.interceptors.response.forEach(function(O){y.push(O.fulfilled,O.rejected)});let v,E=0,A;if(!p){const P=[lA.bind(this),void 0];for(P.unshift.apply(P,f),P.push.apply(P,y),A=P.length,v=Promise.resolve(t);E<A;)v=v.then(P[E++],P[E++]);return v}A=f.length;let R=t;for(E=0;E<A;){const P=f[E++],O=f[E++];try{R=P(R)}catch(D){O.call(this,D);break}}try{v=lA.call(this,R)}catch(P){return Promise.reject(P)}for(E=0,A=y.length;E<A;)v=v.then(y[E++],y[E++]);return v}getUri(e){e=Rh(this.defaults,e);const t=PR(e.baseURL,e.url);return CR(t,e.params,e.paramsSerializer)}}ye.forEach(["delete","get","head","options"],function(e){wh.prototype[e]=function(t,r){return this.request(Rh(r||{},{method:e,url:t,data:(r||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,f){return this.request(Rh(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}wh.prototype[e]=t(),wh.prototype[e+"Form"]=t(!0)});class xE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(f=>{r.subscribe(f),o=f}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,f){r.reason||(r.reason=new Qd(o,u,f),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xE(function(i){e=i}),cancel:e}}}function H$(n){return function(t){return n.apply(null,t)}}function W$(n){return ye.isObject(n)&&n.isAxiosError===!0}const rw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rw).forEach(([n,e])=>{rw[e]=n});function VR(n){const e=new wh(n),t=gR(wh.prototype.request,e);return ye.extend(t,wh.prototype,e,{allOwnKeys:!0}),ye.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return VR(Rh(n,i))},t}const Hn=VR(hm);Hn.Axios=wh;Hn.CanceledError=Qd;Hn.CancelToken=xE;Hn.isCancel=kR;Hn.VERSION=UR;Hn.toFormData=E_;Hn.AxiosError=At;Hn.Cancel=Hn.CanceledError;Hn.all=function(e){return Promise.all(e)};Hn.spread=H$;Hn.isAxiosError=W$;Hn.mergeConfig=Rh;Hn.AxiosHeaders=js;Hn.formToJSON=n=>RR(ye.isHTMLForm(n)?new FormData(n):n);Hn.getAdapter=MR.getAdapter;Hn.HttpStatusCode=rw;Hn.default=Hn;function RE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function FR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G$=FR,BR=new Kg("auth","Firebase",FR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new uw("@firebase/auth");function K$(n,...e){N0.logLevel<=Bt.WARN&&N0.warn(`Auth (${Nh}): ${n}`,...e)}function s0(n,...e){N0.logLevel<=Bt.ERROR&&N0.error(`Auth (${Nh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n,...e){throw NE(n,...e)}function Oa(n,...e){return NE(n,...e)}function kE(n,e,t){const r=Object.assign(Object.assign({},G$()),{[e]:t});return new Kg("auth","Firebase",r).create(e,{appName:n.name})}function Eh(n){return kE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J$(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&kl(n,"argument-error"),kE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function NE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BR.create(n,...e)}function _t(n,e,...t){if(!n)throw NE(e,...t)}function du(n){const e="INTERNAL ASSERTION FAILED: "+n;throw s0(e),new Error(e)}function bu(n,e){n||du(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Q$(){return cA()==="http:"||cA()==="https:"}function cA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q$()||fP()||"connection"in navigator)?navigator.onLine:!0}function Y$(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.shortDelay=e,this.longDelay=t,bu(t>e,"Short delay should be less than long delay!"),this.isMobile=uP()||dP()}get(){return X$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(n,e){bu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;du("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;du("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;du("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=new fm(3e4,6e4);function OE(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xd(n,e,t,r,i={}){return jR(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const f=Jg(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},o);return hP()||(y.referrerPolicy="no-referrer"),qR.fetch()($R(n,n.config.apiHost,t,f),y)})}async function jR(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Z$),e);try{const i=new nz(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Vy(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vy(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Vy(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Vy(n,"user-disabled",u);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kE(n,v,y);kl(n,v)}}catch(i){if(i instanceof Nl)throw i;kl(n,"network-request-failed",{message:String(i)})}}async function tz(n,e,t,r,i={}){const o=await Xd(n,e,t,r,i);return"mfaPendingCredential"in o&&kl(n,"multi-factor-auth-required",{_serverResponse:o}),o}function $R(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?PE(n.config,i):`${n.config.apiScheme}://${i}`}class nz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Oa(this.auth,"network-request-failed")),ez.get())})}}function Vy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Oa(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(n,e){return Xd(n,"POST","/v1/accounts:delete",e)}async function zR(n,e){return Xd(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iz(n,e=!1){const t=Qi(n),r=await t.getIdToken(e),i=LE(r);_t(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ag(Y1(i.auth_time)),issuedAtTime:Ag(Y1(i.iat)),expirationTime:Ag(Y1(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Y1(n){return Number(n)*1e3}function LE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return s0("JWT malformed, contained fewer than 3 sections"),null;try{const i=RA(t);return i?JSON.parse(i):(s0("Failed to decode base64 JWT payload"),null)}catch(i){return s0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hA(n){const e=LE(n);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Nl&&sz(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ag(this.lastLoginAt),this.creationTime=Ag(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Gg(n,zR(t,{idToken:r}));_t(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?HR(o.providerUserInfo):[],f=lz(n.providerData,u),p=n.isAnonymous,y=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),v=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new sw(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function az(n){const e=Qi(n);await P0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HR(n){return n.map(e=>{var{providerId:t}=e,r=RE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(n,e){const t=await jR(n,{},async()=>{const r=Jg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=$R(n,i,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",qR.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cz(n,e){return Xd(n,"POST","/v2/accounts:revokeToken",OE(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_t(e.length!==0,"internal-error");const t=hA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await uz(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new bd;return r&&(_t(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(_t(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(_t(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bd,this.toJSON())}_performRefresh(){return du("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n,e){_t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=RE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Gg(this,this.stsTokenManager.getToken(this.auth,e));return _t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iz(this,e)}reload(){return az(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await P0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fu(this.auth.app))return Promise.reject(Eh(this.auth));const e=await this.getIdToken();return await Gg(this,rz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,f,p,y,v;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,A=(i=t.email)!==null&&i!==void 0?i:void 0,R=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,P=(u=t.photoURL)!==null&&u!==void 0?u:void 0,O=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(y=t.createdAt)!==null&&y!==void 0?y:void 0,te=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:X,emailVerified:se,isAnonymous:oe,providerData:me,stsTokenManager:$}=t;_t(X&&$,e,"internal-error");const q=bd.fromJSON(this.name,$);_t(typeof X=="string",e,"internal-error"),oc(E,e.name),oc(A,e.name),_t(typeof se=="boolean",e,"internal-error"),_t(typeof oe=="boolean",e,"internal-error"),oc(R,e.name),oc(P,e.name),oc(O,e.name),oc(D,e.name),oc(H,e.name),oc(te,e.name);const z=new pu({uid:X,auth:e,email:A,emailVerified:se,displayName:E,isAnonymous:oe,photoURL:P,phoneNumber:R,tenantId:O,stsTokenManager:q,createdAt:H,lastLoginAt:te});return me&&Array.isArray(me)&&(z.providerData=me.map(C=>Object.assign({},C))),D&&(z._redirectEventId=D),z}static async _fromIdTokenResponse(e,t,r=!1){const i=new bd;i.updateFromServerResponse(t);const o=new pu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await P0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];_t(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?HR(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),f=new bd;f.updateFromIdToken(r);const p=new pu({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new sw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Map;function gu(n){bu(n instanceof Function,"Expected a class definition");let e=fA.get(n);return e?(bu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WR.type="NONE";const dA=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n,e,t){return`firebase:${n}:${e}:${t}`}class Ad{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=o0(this.userKey,i.apiKey,o),this.fullPersistenceKey=o0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ad(gu(dA),e,r);const i=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let o=i[0]||gu(dA);const u=o0(r,e.config.apiKey,e.name);let f=null;for(const y of t)try{const v=await y._get(u);if(v){const E=pu._fromJSON(e,v);y!==o&&(f=E),o=y;break}}catch{}const p=i.filter(y=>y._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new Ad(o,e,r):(o=p[0],f&&await o._set(u,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==o)try{await y._remove(u)}catch{}})),new Ad(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YR(e))return"Blackberry";if(ZR(e))return"Webos";if(KR(e))return"Safari";if((e.includes("chrome/")||JR(e))&&!e.includes("edge/"))return"Chrome";if(XR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GR(n=Ji()){return/firefox\//i.test(n)}function KR(n=Ji()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JR(n=Ji()){return/crios\//i.test(n)}function QR(n=Ji()){return/iemobile/i.test(n)}function XR(n=Ji()){return/android/i.test(n)}function YR(n=Ji()){return/blackberry/i.test(n)}function ZR(n=Ji()){return/webos/i.test(n)}function DE(n=Ji()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hz(n=Ji()){var e;return DE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fz(){return pP()&&document.documentMode===10}function e2(n=Ji()){return DE(n)||XR(n)||ZR(n)||YR(n)||/windows phone/i.test(n)||QR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n,e=[]){let t;switch(n){case"Browser":t=pA(Ji());break;case"Worker":t=`${pA(Ji())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Nh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,f)=>{try{const p=e(o);u(p)}catch(p){f(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(n,e={}){return Xd(n,"GET","/v2/passwordPolicy",OE(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=6;class mz{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:gz,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(i=p.containsLowercaseLetter)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gA(this),this.idTokenSubscription=new gA(this),this.beforeStateQueue=new dz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gu(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ad.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zR(this,{idToken:e}),r=await pu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fu(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await P0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fu(this.app))return Promise.reject(Eh(this));const t=e?Qi(e):null;return t&&_t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fu(this.app)?Promise.reject(Eh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fu(this.app)?Promise.reject(Eh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pz(this),t=new mz(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gu(e)||this._popupRedirectResolver;_t(t,this,"argument-error"),this.redirectPersistenceManager=await Ad.create(this,[gu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,i);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&K$(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function b_(n){return Qi(n)}class gA{constructor(e){this.auth=e,this.observer=null,this.addObserver=TP(t=>this.observer=t)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _z(n){ME=n}function vz(n){return ME.loadJS(n)}function wz(){return ME.gapiScript}function Ez(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(n,e){const t=U0(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(c0(o,e??{}))return i;kl(i,"already-initialized")}return t.initialize({options:e})}function Sz(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(gu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bz(n,e,t){const r=b_(n);_t(r._canInitEmulator,r,"emulator-config-failed"),_t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=n2(e),{host:u,port:f}=Az(e),p=f===null?"":`:${f}`;r.config.emulator={url:`${o}//${u}${p}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Iz()}function n2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Az(n){const e=n2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:mA(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:mA(u)}}}function mA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Iz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return du("not implemented")}_getIdTokenResponse(e){return du("not implemented")}_linkToIdToken(e,t){return du("not implemented")}_getReauthenticationResolver(e){return du("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(n,e){return tz(n,"POST","/v1/accounts:signInWithIdp",OE(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz="http://localhost";class kh extends r2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=RE(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new kh(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Id(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Id(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Id(e,t)}buildRequest(){const e={requestUri:Cz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends UE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends dm{constructor(){super("facebook.com")}static credential(e){return kh._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uc.credentialFromTaggedObject(e)}static credentialFromError(e){return uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uc.credential(e.oauthAccessToken)}catch{return null}}}uc.FACEBOOK_SIGN_IN_METHOD="facebook.com";uc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends dm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kh._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hu.credentialFromTaggedObject(e)}static credentialFromError(e){return hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hu.credential(t,r)}catch{return null}}}hu.GOOGLE_SIGN_IN_METHOD="google.com";hu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends dm{constructor(){super("github.com")}static credential(e){return kh._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cc.credentialFromTaggedObject(e)}static credentialFromError(e){return cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cc.credential(e.oauthAccessToken)}catch{return null}}}cc.GITHUB_SIGN_IN_METHOD="github.com";cc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends dm{constructor(){super("twitter.com")}static credential(e,t){return kh._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hc.credentialFromTaggedObject(e)}static credentialFromError(e){return hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return hc.credential(t,r)}catch{return null}}}hc.TWITTER_SIGN_IN_METHOD="twitter.com";hc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await pu._fromIdTokenResponse(e,r,i),u=yA(r);return new jd({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=yA(r);return new jd({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function yA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends Nl{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,O0.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new O0(e,t,r,i)}}function i2(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?O0._fromErrorAndOperation(n,o,e,r):o})}async function xz(n,e,t=!1){const r=await Gg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jd._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(n,e,t=!1){const{auth:r}=n;if(fu(r.app))return Promise.reject(Eh(r));const i="reauthenticate";try{const o=await Gg(n,i2(r,i,e,n),t);_t(o.idToken,r,"internal-error");const u=LE(o.idToken);_t(u,r,"internal-error");const{sub:f}=u;return _t(n.uid===f,r,"user-mismatch"),jd._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&kl(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(n,e,t=!1){if(fu(n.app))return Promise.reject(Eh(n));const r="signIn",i=await i2(n,r,e),o=await jd._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function Nz(n,e,t,r){return Qi(n).onIdTokenChanged(e,t,r)}function Pz(n,e,t){return Qi(n).beforeAuthStateChanged(e,t)}function Oz(n,e,t,r){return Qi(n).onAuthStateChanged(e,t,r)}const L0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(L0,"1"),this.storage.removeItem(L0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=1e3,Dz=10;class o2 extends s2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);fz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Dz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Lz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}o2.type="LOCAL";const Mz=o2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends s2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}a2.type="SESSION";const l2=a2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new A_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const f=Array.from(u).map(async y=>y(t.origin,o)),p=await Uz(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}A_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((f,p)=>{const y=VE("",20);i.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(E){const A=E;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(A.data.response);break;default:clearTimeout(v),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(){return window}function Fz(n){Al().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){return typeof Al().WorkerGlobalScope<"u"&&typeof Al().importScripts=="function"}async function Bz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jz(){return u2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="firebaseLocalStorageDb",$z=1,D0="firebaseLocalStorage",h2="fbase_key";class pm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function I_(n,e){return n.transaction([D0],e?"readwrite":"readonly").objectStore(D0)}function zz(){const n=indexedDB.deleteDatabase(c2);return new pm(n).toPromise()}function ow(){const n=indexedDB.open(c2,$z);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(D0,{keyPath:h2})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(D0)?e(r):(r.close(),await zz(),e(await ow()))})})}async function _A(n,e,t){const r=I_(n,!0).put({[h2]:e,value:t});return new pm(r).toPromise()}async function Hz(n,e){const t=I_(n,!1).get(e),r=await new pm(t).toPromise();return r===void 0?null:r.value}function vA(n,e){const t=I_(n,!0).delete(e);return new pm(t).toPromise()}const Wz=800,Gz=3;class f2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ow(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Gz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=A_._getInstance(jz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Bz(),!this.activeServiceWorker)return;this.sender=new Vz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ow();return await _A(e,L0,"1"),await vA(e,L0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>_A(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Hz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=I_(i,!1).getAll();return new pm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f2.type="LOCAL";const Kz=f2;new fm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n,e){return e?gu(e):(_t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends r2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Id(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Id(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Id(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jz(n){return kz(n.auth,new FE(n),n.bypassAuthState)}function Qz(n){const{auth:e,user:t}=n;return _t(t,e,"internal-error"),Rz(t,new FE(n),n.bypassAuthState)}async function Xz(n){const{auth:e,user:t}=n;return _t(t,e,"internal-error"),xz(t,new FE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jz;case"linkViaPopup":case"linkViaRedirect":return Xz;case"reauthViaPopup":case"reauthViaRedirect":return Qz;default:kl(this.auth,"internal-error")}}resolve(e){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=new fm(2e3,1e4);async function Zz(n,e,t){if(fu(n.app))return Promise.reject(Oa(n,"operation-not-supported-in-this-environment"));const r=b_(n);J$(n,e,UE);const i=d2(r,t);return new _h(r,"signInViaPopup",e,i).executeNotNull()}class _h extends p2{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,_h.currentPopupAction&&_h.currentPopupAction.cancel(),_h.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){bu(this.filter.length===1,"Popup operations only handle one event");const e=VE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Oa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_h.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yz.get())};e()}}_h.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH="pendingRedirect",a0=new Map;class tH extends p2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=a0.get(this.auth._key());if(!e){try{const r=await nH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}a0.set(this.auth._key(),e)}return this.bypassAuthState||a0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nH(n,e){const t=sH(e),r=iH(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function rH(n,e){a0.set(n._key(),e)}function iH(n){return gu(n._redirectPersistence)}function sH(n){return o0(eH,n.config.apiKey,n.name)}async function oH(n,e,t=!1){if(fu(n.app))return Promise.reject(Eh(n));const r=b_(n),i=d2(r,e),u=await new tH(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=10*60*1e3;class lH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!g2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Oa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aH&&this.cachedEventUids.clear(),this.cachedEventUids.has(wA(e))}saveEventToCache(e){this.cachedEventUids.add(wA(e)),this.lastProcessedEventTime=Date.now()}}function wA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function g2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(n,e={}){return Xd(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fH=/^https?/;async function dH(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cH(n);for(const t of e)try{if(pH(t))return}catch{}kl(n,"unauthorized-domain")}function pH(n){const e=iw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!fH.test(t))return!1;if(hH.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=new fm(3e4,6e4);function EA(){const n=Al().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mH(n){return new Promise((e,t)=>{var r,i,o;function u(){EA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EA(),t(Oa(n,"network-request-failed"))},timeout:gH.get()})}if(!((i=(r=Al().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Al().gapi)===null||o===void 0)&&o.load)u();else{const f=Ez("iframefcb");return Al()[f]=()=>{gapi.load?u():t(Oa(n,"network-request-failed"))},vz(`${wz()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw l0=null,e})}let l0=null;function yH(n){return l0=l0||mH(n),l0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new fm(5e3,15e3),vH="__/auth/iframe",wH="emulator/auth/iframe",EH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SH(n){const e=n.config;_t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?PE(e,wH):`https://${n.config.authDomain}/${vH}`,r={apiKey:e.apiKey,appName:n.name,v:Nh},i=TH.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jg(r).slice(1)}`}async function bH(n){const e=await yH(n),t=Al().gapi;return _t(t,n,"internal-error"),e.open({where:document.body,url:SH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=Oa(n,"network-request-failed"),f=Al().setTimeout(()=>{o(u)},_H.get());function p(){Al().clearTimeout(f),i(r)}r.ping(p).then(p,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IH=500,CH=600,xH="_blank",RH="http://localhost";class TA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kH(n,e,t,r=IH,i=CH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},AH),{width:r.toString(),height:i.toString(),top:o,left:u}),y=Ji().toLowerCase();t&&(f=JR(y)?xH:t),GR(y)&&(e=e||RH,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[R,P])=>`${A}${R}=${P},`,"");if(hz(y)&&f!=="_self")return NH(e||"",f),new TA(null);const E=window.open(e||"",f,v);_t(E,n,"popup-blocked");try{E.focus()}catch{}return new TA(E)}function NH(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="__/auth/handler",OH="emulator/auth/handler",LH=encodeURIComponent("fac");async function SA(n,e,t,r,i,o){_t(n.config.authDomain,n,"auth-domain-config-required"),_t(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Nh,eventId:i};if(e instanceof UE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",EP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof dm){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await n._getAppCheckToken(),y=p?`#${LH}=${encodeURIComponent(p)}`:"";return`${DH(n)}?${Jg(f).slice(1)}${y}`}function DH({config:n}){return n.emulator?PE(n,OH):`https://${n.authDomain}/${PH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="webStorageSupport";class MH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l2,this._completeRedirectFn=oH,this._overrideRedirectResult=rH}async _openPopup(e,t,r,i){var o;bu((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await SA(e,t,r,iw(),i);return kH(e,u,VE())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await SA(e,t,r,iw(),i);return Fz(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(bu(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await bH(e),r=new lH(e);return t.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Z1,{type:Z1},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Z1];u!==void 0&&t(!!u),kl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return e2()||KR()||DE()}}const UH=MH;var bA="@firebase/auth",AA="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BH(n){Th(new wc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;_t(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t2(n)},y=new yz(r,i,o,p);return Sz(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Th(new wc("auth-internal",e=>{const t=b_(e.getProvider("auth").getImmediate());return(r=>new VH(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vl(bA,AA,FH(n)),vl(bA,AA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=5*60,jH=OA("authIdTokenMaxAge")||qH;let IA=null;const $H=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>jH)return;const i=t==null?void 0:t.token;IA!==i&&(IA=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zH(n=hw()){const e=U0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Tz(n,{popupRedirectResolver:UH,persistence:[Kz,Mz,l2]}),r=OA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=$H(o.toString());Pz(t,u,()=>u(t.currentUser)),Nz(t,f=>u(f))}}const i=kA("auth");return i&&bz(t,`http://${i}`),t}function HH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_z({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Oa("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",HH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BH("Browser");const og="https://server-212131836065.us-west1.run.app";class WH{constructor(e){Fe(this,"app");Fe(this,"firestore");Fe(this,"storage");this.app=e,this.firestore=b5(e),this.storage=YF(e)}async POST(e,t,r){const i=await Hn.post(og+e,t,{headers:{Authorization:"Bearer "+await this.token,...r}});return i.status!==200?[i.status,null]:[i.status,i.data]}async PUT(e,t,r){const i=await Hn.put(og+e,t,{headers:{Authorization:"Bearer "+await this.token,...r}});return i.status!==200?[i.status,null]:[i.status,i.data]}async DELETE(e,t){const r=await Hn.delete(og+e,{headers:{Authorization:"Bearer "+await this.token,...t}});return r.status!==200?[r.status,null]:[r.status,r.data]}async GET(e,t){const r=await Hn.get(og+e,{headers:{Authorization:"Bearer "+await this.token,...t}});return r.status!==200?[r.status,null]:[r.status,r.data]}get user(){return this.auth.currentUser}get token(){return this.user?this.user.getIdToken():""}get auth(){return zH(this.app)}async signInWithGoogle(){console.log("Signing in with Google...");const e=new hu;e.setCustomParameters({prompt:"select_account"});try{return console.log("Signing in...",this.user),await Zz(this.auth,e),console.log("Signed in!"),!0}catch(t){console.error("Error signing in: ",t)}return!1}signOut(){return this.user?(this.auth.signOut(),!0):!1}async getNotes(e,t){let r="/notes";const i=[];e&&i.push(`q=${encodeURIComponent(e)}`),t&&i.push(`cursor=${t}`),i.length&&(r+="?"+i.join("&"));const[o,u]=await this.GET(r);return o!==200?null:u}async getNote(e){const t=await this.GET(`/notes/${e}`);return t[0]!==200?null:new qv(t[1].data,this)}async saveNote(e){var t,r;if(e.id){const i=(t=e.api.user)==null?void 0:t.uid;if(!i)return null;if(e.owner!==i&&((r=e.permissions.user[i])==null?void 0:r.permission)!=="edit"&&e.permissions.global!=="edit")return alert("You do not have permission to edit this note."),null;if((await this.PUT(`/notes/${e.id}`,e.serialize()))[0]!==200)return null}else{const i=await this.POST("/notes",e.serialize());if(i[0]!==200)return null;e.id=i[1].id}return e}async deleteNote(e){return(await this.DELETE(`/notes/${e}`))[0]===200}async shareNote(e,t,r){const i=await this.POST(`/notes/${e}/share`,{user:t,global:r});return i[0]!==200?null:i[1]}getMediaURL(e){return og+"/media/"+e}async searchNotes(e){return(await this.GET(`/search?q=${encodeURIComponent(e)}`))[1].results}async search(e,t){return(await this.GET(`/notes/${e}/search?q=${encodeURIComponent(t)}`))[1].data}async generateSummary(e,t){const r=await this.POST("/ai/summarize",{id:e,value:t});return r[0]!==200?null:r[1].data}async generateFlashcards(e,t){const r=await this.POST("/ai/flashcards",{id:e,value:t});return r[0]!==200?null:r[1].data}async hasPermission(e,t){var i,o;const r=(i=this.user)==null?void 0:i.uid;if(!r)return!1;try{const u=await this.getNoteById(e);return u?u.owner===r||u.permissions.global===t||((o=u.permissions.user[r])==null?void 0:o.permission)===t:!1}catch(u){return console.error("Error checking permissions:",u),!1}}async getNoteById(e){try{const[t,r]=await this.GET(`/notes/${e}`);return t!==200||!r?null:r}catch(t){return console.error("Error fetching note:",t),null}}}var GH="firebase",KH="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vl(GH,KH,"app");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function JH(n,e,t,r){function i(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function f(v){try{y(r.next(v))}catch(E){u(E)}}function p(v){try{y(r.throw(v))}catch(E){u(E)}}function y(v){v.done?o(v.value):i(v.value).then(f,p)}y((r=r.apply(n,[])).next())})}function QH(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(y){return function(v){return p([y,v])}}function p(y){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=y[0]&2?i.return:y[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,y[1])).done)return o;switch(i=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,i=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(v){y=[6,v],i=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yd=function(){return yd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},yd.apply(this,arguments)},m2=function(n){return{loading:n==null,value:n}},XH=function(){return function(n,e){switch(e.type){case"error":return yd(yd({},n),{error:e.error,loading:!1,value:void 0});case"reset":return m2(e.defaultValue);case"value":return yd(yd({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},YH=function(n){var e=n(),t=Be.useReducer(XH(),m2(e)),r=t[0],i=t[1],o=Be.useCallback(function(){var p=n();i({type:"reset",defaultValue:p})},[n]),u=Be.useCallback(function(p){i({type:"error",error:p})},[]),f=Be.useCallback(function(p){i({type:"value",value:p})},[]);return Be.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:f,value:r.value}},[r.error,r.loading,o,u,f,r.value])},ZH=function(n,e){var t=YH(function(){return n.currentUser}),r=t.error,i=t.loading,o=t.setError,u=t.setValue,f=t.value;return Be.useEffect(function(){var p=Oz(n,function(y){return JH(void 0,void 0,void 0,function(){var v;return QH(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(y)];case 2:return E.sent(),[3,4];case 3:return v=E.sent(),o(v),[3,4];case 4:return u(y),[2]}})})},o);return function(){p()}},[n]),[f,i,r]};function eW({api:n}){const[e,t]=Be.useState(!1),r=()=>{t(i=>!i)};return J.jsxs("div",{className:"container",children:[J.jsxs("div",{className:"left",children:[J.jsx("div",{className:"logo",children:"NoteFlow"}),J.jsxs("div",{className:"title-cont-outer",children:[J.jsx("h2",{children:"Note-taking,"}),J.jsx("div",{className:"title-cont-inner",children:"Enhanced."}),J.jsx("div",{className:"info-icon",children:J.jsx(w7,{onClick:r})}),J.jsx("div",{className:`info-box ${e?"expanded":""}`,children:"NoteFlow is note-taking application that integrates Retrieval Augmented Generation (RAG) to retrieve information from notes faster. Notes are LLM-enhanced for quick summarization and flashcard generation."})]})]}),J.jsx("div",{className:"right",children:J.jsxs("div",{className:"login",children:[J.jsx("h3",{children:"Sign in to start writing better notes."}),J.jsxs("button",{onClick:()=>n.signInWithGoogle(),children:[J.jsx(R7,{className:"g-icon"}),"Sign in with Google"]})]})})]})}const tW={apiKey:"AIzaSyBT8w1img6usS8Bx4LSlFza_DD3-G2RWBk",authDomain:"noteflow-77eb6.firebaseapp.com",projectId:"noteflow-77eb6",storageBucket:"noteflow-77eb6.firebasestorage.app",messagingSenderId:"212131836065",appId:"1:212131836065:web:328e7d473d67a1279fc0e0",measurementId:"G-4BQNZ69GHR"},nW=UA(tW);function rW(){const[n]=Be.useState(new WH(nW)),[e]=ZH(n.auth),[t,r]=Be.useState(!1);return Be.useEffect(()=>{const i=n.auth.onAuthStateChanged(()=>{r(!0),i()})}),console.log("User:",e),!e&&t?J.jsx(eW,{api:n}):e?J.jsx(yj,{api:n}):J.jsx("div",{children:"Loading..."})}eP.createRoot(document.getElementById("root")).render(J.jsx(Be.StrictMode,{children:J.jsx(rW,{})}))});export default iW();
